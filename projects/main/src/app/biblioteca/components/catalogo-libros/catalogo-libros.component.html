<div class="catalogo-libros">
  <h3>Catálogo de libros</h3>
  <div class="filters">
    <input type="text" class="form-control" placeholder="Buscar por título o autor" [(ngModel)]="termino">
    <select class="form-select" [(ngModel)]="estado">
      <option value="todos">Todos</option>
      <option value="disponible">Disponibles</option>
      <option value="prestado">Prestados</option>
      <option value="reservado">Reservados</option>
    </select>
  </div>

  <table class="table table-striped align-middle">
    <thead>
      <tr>
        <th>Título</th>
        <th>Autor</th>
        <th>ISBN</th>
        <th>Categoría</th>
        <th>Estado</th>
        <th class="text-end">Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let libro of librosFiltrados">
        <td>{{ libro.titulo }}</td>
        <td>{{ libro.autor }}</td>
        <td>{{ libro.isbn }}</td>
        <td>{{ libro.categoria }}</td>
        <td>
          <span class="badge" [ngClass]="{
            'bg-success': libro.estado === 'disponible',
            'bg-warning text-dark': libro.estado === 'prestado',
            'bg-info text-dark': libro.estado === 'reservado',
            'bg-danger': libro.estado === 'perdido'
          }">{{ libro.estado | titlecase }}</span>
        </td>
        <td class="text-end">
          <a class="btn btn-link btn-sm" [routerLink]="['/biblioteca/catalogo', libro.id]">Ver detalle</a>
        </td>
      </tr>
      <tr *ngIf="librosFiltrados.length === 0">
        <td colspan="6" class="text-center text-muted">No se encontraron libros con los filtros actuales.</td>
      </tr>
    </tbody>
  </table>
</div>
