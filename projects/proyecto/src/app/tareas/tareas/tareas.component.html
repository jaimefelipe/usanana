<div class="container-fluid mt-4">
  <div class="accordion" id="accordionTareas">
    
    <!-- Tareas Vencidas -->
    <div class="card">
      <div class="card-header" id="headingVencidas">
        <h5 class="mb-0">
          <button class="btn btn-danger btn-block text-left" 
                  type="button" 
                  data-toggle="collapse" 
                  data-target="#collapseVencidas" 
                  aria-expanded="true" 
                  aria-controls="collapseVencidas">
            <i class="fa fa-exclamation-triangle"></i> Tareas Vencidas
          </button>
        </h5>
      </div>
      <div id="collapseVencidas" class="collapse show" aria-labelledby="headingVencidas" data-parent="#accordionTareas">
        <div class="card-body">
          <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center" (dblclick)="editarTarea(tarea)" *ngFor="let tarea of tasksVencidas">
              <div>
                <strong>{{ tarea.Nombre }}</strong> 
                <br>
                <small>Inicio: {{ tarea.Inicio_Planificado }}</small>
              </div>
              <div>
                <span class="badge badge-pill" [ngClass]="getPrioridadBadge(tarea.Prioridad)">{{ getPrioridadText(tarea.Prioridad) }}</span>
                <span class="badge badge-pill" [ngClass]="getEstadoBadge(tarea.Estado)">{{ getEstadoText(tarea.Estado) }}</span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Tareas para Hoy -->
    <div class="card">
      <div class="card-header" id="headingHoy">
        <h5 class="mb-0">
          <button class="btn btn-primary btn-block text-left" 
                  type="button" 
                  data-toggle="collapse" 
                  data-target="#collapseHoy" 
                  aria-expanded="false" 
                  aria-controls="collapseHoy">
            <i class="fa fa-calendar-day"></i> Tareas para Hoy
          </button>
        </h5>
      </div>
      <div id="collapseHoy" class="collapse" aria-labelledby="headingHoy" data-parent="#accordionTareas">
        <div class="card-body">
          <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center" (dblclick)="editarTarea(tarea)" *ngFor="let tarea of tasksHoy">
              <div><strong>{{ tarea.Nombre }}</strong></div>
              <div>
                <span class="badge badge-pill" [ngClass]="getPrioridadBadge(tarea.Prioridad)">{{ getPrioridadText(tarea.Prioridad) }}</span>
                <span class="badge badge-pill" [ngClass]="getEstadoBadge(tarea.Estado)">{{ getEstadoText(tarea.Estado) }}</span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Tareas para Mañana -->
    <div class="card">
      <div class="card-header" id="headingManana">
        <h5 class="mb-0">
          <button class="btn btn-warning btn-block text-left" 
                  type="button" 
                  data-toggle="collapse" 
                  data-target="#collapseManana" 
                  aria-expanded="false" 
                  aria-controls="collapseManana">
            <i class="fa fa-calendar-alt"></i> Tareas para Mañana
          </button>
        </h5>
      </div>
      <div id="collapseManana" class="collapse" aria-labelledby="headingManana" data-parent="#accordionTareas">
        <div class="card-body">
          <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center" (dblclick)="editarTarea(tarea)" *ngFor="let tarea of tasksManana">
              <div><strong>{{ tarea.Nombre }}</strong></div>
              <div>
                <span class="badge badge-pill" [ngClass]="getPrioridadBadge(tarea.Prioridad)">{{ getPrioridadText(tarea.Prioridad) }}</span>
                <span class="badge badge-pill" [ngClass]="getEstadoBadge(tarea.Estado)">{{ getEstadoText(tarea.Estado) }}</span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Tareas Futuras -->
    <div class="card">
      <div class="card-header" id="headingFuturas">
        <h5 class="mb-0">
          <button class="btn btn-success btn-block text-left" 
                  type="button" 
                  data-toggle="collapse" 
                  data-target="#collapseFuturas" 
                  aria-expanded="false" 
                  aria-controls="collapseFuturas">
            <i class="fa fa-calendar-check"></i> Tareas Futuras
          </button>
        </h5>
      </div>
      <div id="collapseFuturas" class="collapse" aria-labelledby="headingFuturas" data-parent="#accordionTareas">
        <div class="card-body">
          <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center" (dblclick)="editarTarea(tarea)" *ngFor="let tarea of tasksFuturas">
              <div><strong>{{ tarea.Nombre }}</strong> - <small>{{ tarea.Inicio_Planificado }}</small></div>
              <div>
                <span class="badge badge-pill" [ngClass]="getPrioridadBadge(tarea.Prioridad)">{{ getPrioridadText(tarea.Prioridad) }}</span>
                <span class="badge badge-pill" [ngClass]="getEstadoBadge(tarea.Estado)">{{ getEstadoText(tarea.Estado) }}</span>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

  </div>
</div>

