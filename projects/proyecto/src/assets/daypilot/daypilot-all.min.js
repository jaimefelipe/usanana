/**
@license
DayPilot Pro for JavaScript 2024.2.5916 (trial)
Copyright (c) 2005 - 2024 Annpoint s.r.o.
https://www.daypilot.org/
Use of this software is subject to license terms.
*/
var DayPilot = {};
if ("undefined" == typeof DayPilot) var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        function e(e) {
            var t = DayPilot.Date.Cache.Ticks;
            if (t[e]) return (DayPilot.Stats.cacheHitsTicks += 1), t[e];
            var n,
                i = new Date(e),
                a = i.getUTCMilliseconds();
            n = 0 === a ? "" : a < 10 ? ".00" + a : a < 100 ? ".0" + a : "." + a;
            var r = i.getUTCSeconds();
            r < 10 && (r = "0" + r);
            var o = i.getUTCMinutes();
            o < 10 && (o = "0" + o);
            var s = i.getUTCHours();
            s < 10 && (s = "0" + s);
            var l = i.getUTCDate();
            l < 10 && (l = "0" + l);
            var d = i.getUTCMonth() + 1;
            d < 10 && (d = "0" + d);
            var c = i.getUTCFullYear();
            if (c <= 0) throw "The minimum year supported is 1.";
            c < 10 ? (c = "000" + c) : c < 100 ? (c = "00" + c) : c < 1e3 && (c = "0" + c);
            var u = c + "-" + d + "-" + l + "T" + s + ":" + o + ":" + r + n;
            return (t[e] = u), u;
        }
        function t(e, t) {
            return !DayPilot.Util.isNullOrUndefined(e) && !DayPilot.Util.isNullOrUndefined(t) && e.toLocaleLowerCase() === t.toLocaleLowerCase();
        }
        function n(e) {
            (e = Math.min(e, 255)), (e = Math.max(e, 0));
            var t = e.toString(16);
            return e < 16 ? "0" + t : t;
        }
        if ("undefined" == typeof DayPilot.$) {
            (DayPilot.$ = function (e) {
                return document.getElementById(e);
            }),
                Object.defineProperty(DayPilot, "isKhtml", {
                    get: function () {
                        return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("KHTML") !== -1;
                    },
                }),
                (DayPilot.browser = {}),
                Object.defineProperty(DayPilot.browser, "ff", {
                    get: function () {
                        return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Firefox") !== -1;
                    },
                }),
                Object.defineProperty(DayPilot.browser, "chrome", {
                    get: function () {
                        return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Chrome") !== -1;
                    },
                }),
                Object.defineProperty(DayPilot.browser, "ie", {
                    get: function () {
                        return !1;
                    },
                }),
                Object.defineProperty(DayPilot.browser, "edge", {
                    get: function () {
                        return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("Edge") !== -1;
                    },
                }),
                Object.defineProperty(DayPilot.browser, "webkit", {
                    get: function () {
                        return "undefined" != typeof navigator && navigator.userAgent && navigator.userAgent.indexOf("WebKit") !== -1;
                    },
                }),
                Object.defineProperty(DayPilot.browser, "android", {
                    get: function () {
                        if ("undefined" == typeof navigator) return !1;
                        var e = navigator.userAgent;
                        return e.indexOf("Mozilla/5.0") > -1 && e.indexOf("Android ") > -1 && e.indexOf("AppleWebKit") > -1 && !(e.indexOf("Chrome") > -1);
                    },
                }),
                Object.defineProperty(DayPilot.browser, "ios", {
                    get: function () {
                        return "undefined" != typeof navigator && (navigator.userAgent.indexOf("iPad") > -1 || navigator.userAgent.indexOf("iPhone") > -1);
                    },
                }),
                Object.defineProperty(DayPilot.browser, "hover", {
                    get: function () {
                        return !window.matchMedia("(any-hover: none)").matches;
                    },
                }),
                (DayPilot.libs = {}),
                (DayPilot.libs.angularjs = "object" == typeof angularjs),
                (DayPilot.touch = {}),
                Object.defineProperty(DayPilot.touch, "start", {
                    get: function () {
                        return window.navigator.msPointerEnabled ? "MSPointerDown" : "touchstart";
                    },
                }),
                Object.defineProperty(DayPilot.touch, "move", {
                    get: function () {
                        return window.navigator.msPointerEnabled ? "MSPointerMove" : "touchmove";
                    },
                }),
                Object.defineProperty(DayPilot.touch, "end", {
                    get: function () {
                        return window.navigator.msPointerEnabled ? "MSPointerUp" : "touchend";
                    },
                }),
                (DayPilot.mo2 = function (e, t) {
                    if ("undefined" != typeof t.offsetX) {
                        var n = { x: t.offsetX + 1, y: t.offsetY + 1 };
                        if (!e) return n;
                        for (var i = t.srcElement; i && i !== e; ) "SPAN" !== i.tagName && ((n.x += i.offsetLeft), i.offsetTop > 0 && (n.y += i.offsetTop - i.scrollTop)), (i = i.offsetParent);
                        return i ? n : null;
                    }
                    if ("undefined" != typeof t.layerX) {
                        var n = { x: t.layerX, y: t.layerY, src: t.target };
                        if (!e) return n;
                        for (var i = t.target; i && "absolute" !== i.style.position && "relative" !== i.style.position; ) (i = i.parentNode), DayPilot.isKhtml && (n.y += i.scrollTop);
                        for (; i && i !== e; ) (n.x += i.offsetLeft), (n.y += i.offsetTop - i.scrollTop), (i = i.offsetParent);
                        return i ? n : null;
                    }
                    return null;
                }),
                (DayPilot.mo3 = function (e, t) {
                    var n,
                        i = DayPilot.page(t);
                    if (i)
                        if (e) {
                            var a = DayPilot.abs(e);
                            if (!a) throw new Error("no abs");
                            n = { x: i.x - a.x, y: i.y - a.y };
                        } else n = { x: i.x, y: i.y };
                    else if (((n = DayPilot.mo2(e, t)), !n)) return null;
                    return (n.shift = t.shiftKey), (n.meta = t.metaKey), (n.ctrl = t.ctrlKey), (n.alt = t.altKey), n;
                }),
                (DayPilot.mc = function (e) {
                    if (e.touches) {
                        var t = e.touches[0];
                        return { x: t.pageX, y: t.pageY };
                    }
                    return e.pageX || e.pageY ? { x: e.pageX, y: e.pageY } : { x: e.clientX + document.documentElement.scrollLeft, y: e.clientY + document.documentElement.scrollTop };
                }),
                (DayPilot.Stats = {}),
                (DayPilot.Stats.eventObjects = 0),
                (DayPilot.Stats.dateObjects = 0),
                (DayPilot.Stats.cacheHitsCtor = 0),
                (DayPilot.Stats.cacheHitsParsing = 0),
                (DayPilot.Stats.cacheHitsTicks = 0),
                (DayPilot.list = function (e, t) {
                    if (e && e.isDayPilotList && !t) return e;
                    var n = DayPilot.isArray(e) || "[object NodeList]" === Object.prototype.toString.call(e),
                        i = !n && !DayPilot.Util.isNullOrUndefined(e),
                        a = [];
                    if (
                        ((a.isDayPilotList = !0),
                        (a.clone = function () {
                            var e = DayPilot.list();
                            return (
                                a.forEach(function (t) {
                                    e.push(t);
                                }),
                                e
                            );
                        }),
                        (a.each = function (e) {
                            if (e) {
                                if (a.forEach) return void a.forEach(e);
                                for (var t = 0; t < this.length; t++) e(a[t], t, a);
                            }
                        }),
                        (a.addProps = function (e) {
                            var t = a.clone();
                            if (e) for (var n in e) t[n] = e[n];
                            return t;
                        }),
                        (a.last = function () {
                            return 0 === a.length ? null : a[a.length - 1];
                        }),
                        (a.first = function () {
                            return 0 === a.length ? null : a[0];
                        }),
                        (a.add = function (e) {
                            var t = a.clone();
                            return t.push(e), t;
                        }),
                        (a.map = function (e) {
                            if ("function" != typeof e) throw "DayPilot.list().map(f): Function expected";
                            var t = DayPilot.list();
                            return (
                                a.forEach(function (n, i, a) {
                                    t.push(e(n, i, a));
                                }),
                                t
                            );
                        }),
                        (a.filter = function (e) {
                            var t = DayPilot.list();
                            if ("function" != typeof e) throw "DayPilot.list().filter(f): Function expected";
                            return (
                                a.forEach(function (n, i, a) {
                                    e(n, i, a) && t.push(n);
                                }),
                                t
                            );
                        }),
                        (a.concat = function (e) {
                            if (!e) return a;
                            for (var t = a.clone(), n = 0; n < e.length; n++) t.push(e[n]);
                            return t;
                        }),
                        a.find ||
                            (a.find = function (e) {
                                if ("function" != typeof e) throw "DayPilot.list().find(f): Function expected";
                                for (var t = 0; t < this.length; t++) if (e(a[t])) return a[t];
                            }),
                        a.findIndex ||
                            (a.findIndex = function (e) {
                                if ("function" != typeof e) throw "DayPilot.list().findIndex(f): Function expected";
                                for (var t = 0; t < this.length; t++) if (e(a[t])) return t;
                                return -1;
                            }),
                        a.some ||
                            (a.some = function (e) {
                                if ("function" != typeof e) throw "DayPilot.list().some(f): Function expected";
                                for (var t = 0; t < this.length; t++) if (e(a[t])) return !0;
                                return !1;
                            }),
                        a.reduce ||
                            (a.reduce = function (e, t) {
                                if ("function" != typeof e) throw "DayPilot.list().reduce(f): Function expected";
                                var n,
                                    i = 0;
                                if ("undefined" != typeof t) n = t;
                                else {
                                    if (((i = 1), 0 === a.length)) throw "DayPilot.list().reduce(f): No initial value and empty list";
                                    n = a[0];
                                }
                                for (var r = i; r < this.length; r++) n = e(n, a[r], r, this);
                                return n;
                            }),
                        (a.isEmpty = function () {
                            return 0 === a.length;
                        }),
                        n)
                    )
                        for (var r = 0; r < e.length; r++) a[r] = e[r];
                    else i && (a[0] = e);
                    return a;
                }),
                (DayPilot.list.for = function (e, t) {
                    for (var n = DayPilot.list(), i = 0; i < e; i++) "function" == typeof t ? n.push(t(i)) : n.push(i);
                    return n;
                }),
                (DayPilot.line = function (e, t, n, i, a) {
                    a = a || {};
                    var r = { x: e, y: t },
                        o = { x: n, y: i, deg: DayPilot.deg(e, t, n, i) },
                        s = !1;
                    if (t < i) {
                        var l = t;
                        (t = i), (i = l), (l = e), (e = n), (n = l), (s = !0);
                    }
                    var d = DayPilot.deg(e, t, n, i),
                        c = { x: e, y: t },
                        u = { x: n, y: i },
                        h = (function () {
                            var a = Math.abs(e - n),
                                r = Math.abs(t - i),
                                o = (e + n) / 2;
                            return o - Math.sqrt(a * a + r * r) / 2;
                        })(),
                        f = (function () {
                            return (t + i) / 2;
                        })(),
                        v = DayPilot.distance(c, u),
                        p = document.createElement("div");
                    p.setAttribute(
                        "style",
                        "width:" +
                            v +
                            "px;height:0px;-moz-transform:rotate(" +
                            d +
                            "deg);-webkit-transform:rotate(" +
                            d +
                            "deg);-ms-transform:rotate(" +
                            d +
                            "deg);transform:rotate(" +
                            d +
                            "deg);position:absolute;top:" +
                            f +
                            "px;left:" +
                            h +
                            "px;"
                    ),
                        a.cssClass && (p.className = a.cssClass);
                    var m = document.createElement("div");
                    m.appendChild(p);
                    var g,
                        y,
                        d,
                        b,
                        w = !!a.arrow;
                    if (w) {
                        var g = o.y - 5,
                            y = o.x - 5,
                            d = d;
                        o.y > r.y && (d -= 180);
                        var b = document.createElement("div");
                        (b.style.borderColor = "black"),
                            (b.style.width = "10px"),
                            (b.style.height = "10px"),
                            (b.style.borderRadius = "10px"),
                            (b.style.position = "absolute"),
                            (b.style.left = y + "px"),
                            (b.style.top = g + "px"),
                            a.cssClass ? (b.className = a.cssClass + "_circle") : (b.style.backgroundColor = "black"),
                            m.appendChild(b);
                    }
                    return m;
                }),
                (DayPilot.deg = function (e, t, n, i) {
                    var a,
                        r = Math.abs(e - n),
                        o = Math.abs(t - i),
                        s = (e + n) / 2,
                        l = (t + i) / 2,
                        d = Math.sqrt(r * r + o * o),
                        c = s - d / 2,
                        u = l;
                    (r = d / 2), (a = Math.abs(s - c)), (o = Math.sqrt(Math.abs(e - c) * Math.abs(e - c) + Math.abs(t - u) * Math.abs(t - u)));
                    var h = (o * o - r * r - a * a) / (2 * r * a);
                    return (180 * Math.acos(h)) / Math.PI;
                }),
                (DayPilot.complete = function (e) {
                    return "complete" === document.readyState
                        ? void e()
                        : (DayPilot.complete.list ||
                              ((DayPilot.complete.list = []),
                              DayPilot.re(document, "readystatechange", function () {
                                  if ("complete" === document.readyState) {
                                      for (var e = 0; e < DayPilot.complete.list.length; e++) {
                                          (0, DayPilot.complete.list[e])();
                                      }
                                      DayPilot.complete.list = [];
                                  }
                              })),
                          void DayPilot.complete.list.push(e));
                }),
                (DayPilot.debounce = function (e, t) {
                    var n;
                    return function () {
                        var i = this,
                            a = arguments,
                            r = function () {
                                (n = null), e.apply(i, a);
                            };
                        clearTimeout(n), (n = setTimeout(r, t));
                    };
                }),
                (DayPilot.page = function (e) {
                    var t = e.changedTouches && e.changedTouches[0] ? e.changedTouches[0] : e;
                    return "undefined" != typeof t.pageX
                        ? { x: t.pageX, y: t.pageY }
                        : "undefined" != typeof e.clientX && document.body && document.documentElement
                        ? { x: e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft, y: e.clientY + document.body.scrollTop + document.documentElement.scrollTop }
                        : null;
                }),
                (DayPilot.rel = function (e, t) {
                    var n = DayPilot.abs(e),
                        i = DayPilot.abs(t);
                    return { x: n.x - i.x, y: n.y - i.y, w: e.offsetWidth, h: e.offsetHeight };
                }),
                (DayPilot.abs = function (e, t) {
                    if (!e) return null;
                    if (e.getBoundingClientRect) {
                        var n = DayPilot.absBoundingClientBased(e);
                        if (t) {
                            var i = DayPilot.absOffsetBased(e, !1),
                                t = DayPilot.absOffsetBased(e, !0);
                            (n.x += t.x - i.x), (n.y += t.y - i.y), (n.w = t.w), (n.h = t.h);
                        }
                        return n;
                    }
                    return DayPilot.absOffsetBased(e, t);
                }),
                (DayPilot.absBoundingClientBased = function (e) {
                    var t = e.getBoundingClientRect();
                    return {
                        x: t.left + window.pageXOffset,
                        y: t.top + window.pageYOffset,
                        w: e.clientWidth,
                        h: e.clientHeight,
                        toString: function () {
                            return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
                        },
                    };
                }),
                (DayPilot.isArray = function (e) {
                    return "[object Array]" === Object.prototype.toString.call(e);
                }),
                (DayPilot.absOffsetBased = function (e, t) {
                    for (
                        var n = {
                            x: e.offsetLeft,
                            y: e.offsetTop,
                            w: e.clientWidth,
                            h: e.clientHeight,
                            toString: function () {
                                return "x:" + this.x + " y:" + this.y + " w:" + this.w + " h:" + this.h;
                            },
                        };
                        DayPilot.op(e);

                    )
                        (e = DayPilot.op(e)),
                            (n.x -= e.scrollLeft),
                            (n.y -= e.scrollTop),
                            t &&
                                (n.x < 0 && ((n.w += n.x), (n.x = 0)),
                                n.y < 0 && ((n.h += n.y), (n.y = 0)),
                                e.scrollLeft > 0 && n.x + n.w > e.clientWidth && (n.w -= n.x + n.w - e.clientWidth),
                                e.scrollTop && n.y + n.h > e.clientHeight && (n.h -= n.y + n.h - e.clientHeight)),
                            (n.x += e.offsetLeft),
                            (n.y += e.offsetTop);
                    var i = DayPilot.pageOffset();
                    return (n.x += i.x), (n.y += i.y), n;
                }),
                (DayPilot.wd = function () {
                    var e = document.documentElement.clientHeight,
                        t = document.documentElement.clientWidth,
                        n = (document.documentElement && document.documentElement.scrollTop) || document.body.scrollTop,
                        i = (document.documentElement && document.documentElement.scrollLeft) || document.body.scrollLeft,
                        a = {};
                    return (a.width = t), (a.height = e), (a.scrollTop = n), (a.scrollLeft = i), a;
                }),
                (DayPilot.op = function (e) {
                    try {
                        return e.offsetParent;
                    } catch (e) {
                        return document.body;
                    }
                }),
                (DayPilot.distance = function (e, t) {
                    return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
                }),
                (DayPilot.doc = function () {
                    var e = document.documentElement;
                    return e && e.clientHeight ? e : document.body;
                }),
                (DayPilot.pageOffset = function () {
                    if ("undefined" != typeof window.pageXOffset) return { x: window.pageXOffset, y: window.pageYOffset };
                    var e = DayPilot.doc();
                    return { x: e.scrollLeft, y: e.scrollTop };
                }),
                (DayPilot.ac = function (e, t) {
                    if (!t) var t = [];
                    for (var n = 0; e.children && n < e.children.length; n++) t.push(e.children[n]), DayPilot.ac(e.children[n], t);
                    return t;
                }),
                (DayPilot.indexOf = function (e, t, n) {
                    if (!e || !e.length) return -1;
                    for (var i = 0; i < e.length; i++)
                        if (n) {
                            if (n(e[i], t)) return i;
                        } else if (e[i] === t) return i;
                    return -1;
                }),
                (DayPilot.contains = function (e, t) {
                    if (2 !== arguments.length) throw new DayPilot.Exception("DayPilot.contains() requires two arguments.");
                    return !!e && ((e === t && !DayPilot.isArray(e)) || DayPilot.indexOf(e, t) !== -1);
                }),
                (DayPilot.rfa = function (e, t) {
                    var n = DayPilot.indexOf(e, t);
                    n !== -1 && e.splice(n, 1);
                }),
                (DayPilot.sheet = function (e) {
                    if (((e = e || window.document), "undefined" == typeof window)) {
                        var t = {};
                        return (t.add = function () {}), (t.commit = function () {}), t;
                    }
                    var n = e.createElement("style");
                    n.setAttribute("type", "text/css"), n.styleSheet || n.appendChild(e.createTextNode("")), (e.head || e.getElementsByTagName("head")[0]).appendChild(n);
                    var i = !!n.styleSheet,
                        t = {};
                    return (
                        (t.rules = []),
                        (t.commit = function () {
                            try {
                                i && (n.styleSheet.cssText = this.rules.join("\n"));
                            } catch (e) {}
                        }),
                        (t.add = function (e, a, r) {
                            if (i) return void this.rules.push(e + "{" + a + "}");
                            if (n.sheet.insertRule) "undefined" == typeof r && (r = n.sheet.cssRules.length), n.sheet.insertRule(e + "{" + a + "}", r);
                            else {
                                if (!n.sheet.addRule) throw "No CSS registration method found";
                                n.sheet.addRule(e, a, r);
                            }
                            return t;
                        }),
                        (t.print = function () {
                            for (var e = n.sheet.cssRules, t = [], i = 0; i < e.length; i++) t.push(e[i].cssText);
                            return t.join("\n");
                        }),
                        t
                    );
                }),
                (DayPilot.Args = function (e) {
                    var t = this;
                    (this.isArgs = !0),
                        (this.preventDefault = function () {
                            e && e.preventDefault(), (t.preventDefault.value = !0);
                        });
                }),
                (DayPilot.Debug = function (e) {
                    var t = this;
                    (this.printToBrowserConsole = !1),
                        (this.enabled = !1),
                        (this.messages = []),
                        (this.target = null),
                        (this.c = null),
                        (this.clear = function () {
                            (this.messages = []), t.c && (t.c.innerHTML = "");
                        }),
                        (this.hide = function () {
                            DayPilot.de(t.c), (t.c = null);
                        }),
                        (this.show = function () {
                            t.c && t.hide();
                            var n = e.nav.top,
                                i = document.createElement("div");
                            (i.style.position = "absolute"),
                                (i.style.top = "0px"),
                                (i.style.bottom = "0px"),
                                (i.style.left = "0px"),
                                (i.style.right = "0px"),
                                (i.style.backgroundColor = "black"),
                                (i.style.color = "#ccc"),
                                (i.style.overflow = "auto"),
                                (i.style.webkitUserSelect = "auto"),
                                (i.style.MozUserSelect = "all"),
                                (i.onclick = function () {
                                    t.hide();
                                });
                            for (var a = 0; a < this.messages.length; a++) {
                                var r = t.messages[a],
                                    o = r.f();
                                i.appendChild(o);
                            }
                            (this.c = i), n.appendChild(i);
                        }),
                        (this.log = function () {
                            if (t.target) {
                                for (var e = [], n = 0; n < arguments.length; n++) {
                                    var i = arguments[n];
                                    e.push(i);
                                }
                                var a = e.join(" ");
                                (t.target.style.whiteSpace = "pre"), (t.target.innerText += a + "\n");
                            }
                        }),
                        (this.message = function (e, t) {
                            if (this.enabled) {
                                var n = {};
                                (n.time = new DayPilot.Date()),
                                    (n.level = t || "debug"),
                                    (n.text = DayPilot.Util.escapeHtml(e)),
                                    (n.f = function () {
                                        var e = document.createElement("div");
                                        switch (((e.innerHTML = n.time + " (" + n.level + "): " + n.text), n.level)) {
                                            case "error":
                                                e.style.color = "red";
                                                break;
                                            case "warning":
                                                e.style.color = "orange";
                                                break;
                                            case "info":
                                                e.style.color = "white";
                                                break;
                                            case "debug":
                                        }
                                        return e;
                                    }),
                                    this.messages.push(n),
                                    this.printToBrowserConsole && "undefined" != typeof console && console.log(n);
                            }
                        });
                }),
                (DayPilot.re = function (e, t, n) {
                    n && e && e.addEventListener(t, n, !1);
                }),
                (DayPilot.rePassive = function (e, t, n) {
                    n && e && e.addEventListener(t, n, { passive: !0 });
                }),
                (DayPilot.reNonPassive = function (e, t, n) {
                    n && e && e.addEventListener(t, n, { passive: !1 });
                }),
                (DayPilot.ue = function (e, t, n) {
                    e.removeEventListener(t, n, !1);
                }),
                (DayPilot.ds = function (e) {
                    return DayPilot.Date.toStringSortable(e);
                }),
                (DayPilot.gs = function (e, t) {
                    return window.getComputedStyle(e, null).getPropertyValue(t) || "";
                }),
                (DayPilot.StyleReader = function (e) {
                    (this.get = function (t) {
                        return e ? DayPilot.gs(e, t) : null;
                    }),
                        (this.getPx = function (e) {
                            var t = this.get(e);
                            if (t) return t.indexOf("px") === -1 ? void 0 : parseInt(t, 10);
                        }),
                        (this.getFont = function () {
                            var e = this.get("font-weight"),
                                t = "italic" === this.get("font-style") ? "italic" : "";
                            return {
                                family: this.get("font-family"),
                                size: this.get("font-size"),
                                style: t + " " + e,
                                asString: function () {
                                    return DayPilot.Util.fontString(this);
                                },
                            };
                        }),
                        (this.getBackColor = function (e) {
                            "undefined" == typeof e && (e = "white");
                            var t = this.get("background-color");
                            return DayPilot.Util.isTransparentColor(t) ? e : t;
                        });
                }),
                (DayPilot.he = function (e) {
                    var t = e.replace(/&/g, "&amp;");
                    return (t = t.replace(/</g, "&lt;")), (t = t.replace(/>/g, "&gt;")), (t = t.replace(/"/g, "&quot;"));
                }),
                (DayPilot.he2 = function (e) {
                    var t = document.createTextNode(e),
                        n = document.createElement("div");
                    return n.appendChild(t), n.innerHTML;
                }),
                (DayPilot.us = function (e) {
                    if (e) {
                        e.setAttribute("unselectable", "on"), (e.style.userSelect = "none"), (e.style.MozUserSelect = "none"), (e.style.KhtmlUserSelect = "none"), (e.style.webkitUserSelect = "none");
                        for (var t = 0; t < e.childNodes.length; t++) 1 === e.childNodes[t].nodeType && DayPilot.us(e.childNodes[t]);
                    }
                }),
                (DayPilot.pu = function (e) {
                    var t,
                        n,
                        i,
                        a = e.attributes;
                    if (a) for (n = a.length, t = 0; t < n; t += 1) a[t] && ((i = a[t].name), "function" == typeof e[i] && (e[i] = null));
                    if ((a = e.childNodes))
                        for (n = a.length, t = 0; t < n; t += 1) {
                            DayPilot.pu(e.childNodes[t]);
                        }
                }),
                (DayPilot.puc = function (e) {
                    var t,
                        n,
                        i = e.childNodes;
                    if (i) {
                        var n = i.length;
                        for (t = 0; t < n; t += 1) DayPilot.pu(e.childNodes[t]);
                    }
                }),
                (DayPilot.de = function (e) {
                    if (e)
                        if (DayPilot.isArray(e)) for (var t = 0; t < e.length; t++) DayPilot.de(e[t]);
                        else e.parentNode && e.parentNode.contains(e) && e.parentNode.removeChild(e);
                }),
                (DayPilot.fade = function (e, t, n) {
                    if (e) {
                        clearTimeout(e.messageTimeout);
                        var i = "none" !== e.style.display,
                            a = t > 0,
                            r = t < 0;
                        if (0 !== t) {
                            if ((a ? (e.status = "in") : r && (e.status = "out"), a && !i)) (e.target = parseFloat(e.style.opacity)), (e.opacity = 0), (e.style.opacity = 0), (e.style.display = "");
                            else if (r && !e.target) e.target = e.style.opacity;
                            else {
                                var o = e.opacity,
                                    s = Math.floor(10 * (o + t)) / 10;
                                a && s > e.target && (s = e.target), r && s < 0 && (s = 0);
                                (e.opacity = s), (e.style.opacity = s);
                            }
                            (a && (e.opacity >= e.target || e.opacity >= 1)) || (r && e.opacity <= 0)
                                ? ((e.target = null), r && ((e.style.opacity = e.target), (e.opacity = e.target), (e.style.display = "none")), n && "function" == typeof n && ((e.status = null), n()))
                                : (e.messageTimeout = setTimeout(function () {
                                      DayPilot.fade(e, t, n);
                                  }, 50));
                        }
                    }
                }),
                (DayPilot.sw = function (e) {
                    return e ? e.offsetWidth - e.clientWidth : 0;
                }),
                (DayPilot.swa = function () {
                    var e = document.createElement("div");
                    (e.style.position = "absolute"), (e.style.top = "-2000px"), (e.style.left = "-2000px"), (e.style.width = "200px"), (e.style.height = "100px"), (e.style.overflow = "auto");
                    var t = document.createElement("div");
                    (t.style.width = "300px"), (t.style.height = "300px"), e.appendChild(t), document.body.appendChild(e);
                    var n = DayPilot.sw(e);
                    return document.body.removeChild(e), n;
                }),
                (DayPilot.sh = function (e) {
                    return e ? e.offsetHeight - e.clientHeight : 0;
                }),
                (DayPilot.guid = function () {
                    var e = function () {
                        return ((65536 * (1 + Math.random())) | 0).toString(16).substring(1);
                    };
                    return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e();
                }),
                (DayPilot.ua = function (e) {
                    if (!DayPilot.isArray(e)) throw new DayPilot.Exception("DayPilot.ua() - array required");
                    var t = [];
                    return (
                        e.forEach(function (e) {
                            DayPilot.contains(t, e) || t.push(e);
                        }),
                        t
                    );
                }),
                (DayPilot.am = function () {
                    return "undefined" == typeof angular ? null : (DayPilot.am.cached || (DayPilot.am.cached = angular.module("daypilot", [])), DayPilot.am.cached);
                }),
                (function () {
                    function e(e, i) {
                        var a = { w: e.offsetWidth, h: e.offsetHeight, x: parseInt(e.style.left), y: parseInt(e.style.top) };
                        (a.height = e.style.height),
                            (a.width = e.style.width),
                            (a.top = e.style.top),
                            (a.left = e.style.left),
                            (a.toString = function () {
                                return "w: " + this.w + " h:" + this.h;
                            });
                        var r = {};
                        if (((r.finished = null), (r.vertical = "center"), (r.horizontal = "center"), i)) for (var o in i) r[o] = i[o];
                        (e.style.visibility = "hidden"), (e.style.display = "");
                        var s = i.animation || "fast",
                            l = t(s);
                        (l.div = e), (l.i = 0), (l.target = a), (l.config = r), n(l);
                    }
                    function t(e) {
                        var t = function () {
                                var e = [];
                                e.time = 10;
                                var t,
                                    n = 0.08;
                                t = 0.1;
                                for (var i = t; i < 1.2; i += n) e.push(i), (t = i);
                                n = 0.03;
                                for (var i = t; i > 0.8; i -= n) e.push(i), (t = i);
                                for (var i = t; i <= 1; i += n) e.push(i), (t = i);
                                return e;
                            },
                            n = function () {
                                var e = [];
                                e.time = 10;
                                var t,
                                    n = 0.04;
                                t = 0.1;
                                for (var i = t; i <= 1; i += n) e.push(i), (t = i);
                                return e;
                            },
                            i = function () {
                                var e = [];
                                e.time = 10;
                                var t,
                                    n = 0.08;
                                t = 0.1;
                                for (var i = t; i <= 1; i += n) e.push(i), (t = i);
                                return e;
                            },
                            a = { fast: i, slow: n, jump: t };
                        return a[e] || (e = "fast"), a[e]();
                    }
                    function n(e) {
                        var t,
                            i = e.div,
                            a = e[e.i],
                            r = a * e.target.h;
                        switch (e.config.vertical) {
                            case "center":
                                t = e.target.y - (r - e.target.h) / 2;
                                break;
                            case "top":
                                t = e.target.y;
                                break;
                            case "bottom":
                                t = e.target.y - (r - e.target.h);
                                break;
                            default:
                                throw "Unexpected 'vertical' value.";
                        }
                        var o,
                            s = a * e.target.w;
                        switch (e.config.horizontal) {
                            case "left":
                                o = e.target.x;
                                break;
                            case "center":
                                o = e.target.x - (s - e.target.w) / 2;
                                break;
                            case "right":
                                o = e.target.x - (s - e.target.w);
                                break;
                            default:
                                throw "Unexpected 'horizontal' value.";
                        }
                        (i.style.height = r + "px"),
                            (i.style.top = t + "px"),
                            (i.style.width = s + "px"),
                            (i.style.left = o + "px"),
                            (i.style.visibility = "visible"),
                            e.i++,
                            e.i < e.length - 1
                                ? setTimeout(
                                      (function (e) {
                                          return function () {
                                              n(e);
                                          };
                                      })(e),
                                      e.time
                                  )
                                : ((i.style.width = e.target.width), (i.style.height = e.target.height), (i.style.top = e.target.top), (i.style.left = e.target.left), "function" == typeof e.config.finished && e.config.finished());
                    }
                    DayPilot.pop = e;
                })(),
                (DayPilot.Util = {}),
                (DayPilot.Util.addClass = function (e, t) {
                    if (t && e)
                        if (DayPilot.isArray(e)) for (var n = 0; n < e.length; n++) DayPilot.Util.addClass(e[n], t);
                        else {
                            if (!e.className) return void (e.className = t);
                            var i = new RegExp("(^|\\s)" + t + "($|\\s)");
                            i.test(e.className) || (e.className = e.className + " " + t);
                        }
                }),
                (DayPilot.Util.normalizeColor = function (e) {
                    function t(e) {
                        return (e = e.replace(/[^\d,]/g, "").split(",")), "#" + ((1 << 24) + (+e[0] << 16) + (+e[1] << 8) + +e[2]).toString(16).slice(1);
                    }
                    return 0 === e.indexOf("rgb") ? t(e) : e;
                }),
                (DayPilot.Util.addClassToString = function (e, t) {
                    return e ? (new RegExp("(^|\\s)" + t + "($|\\s)").test(e) ? e : e + " " + t) : t;
                }),
                (DayPilot.Util.removeClassFromString = function (e, t) {
                    if (!e) return "";
                    var n = new RegExp("(^|\\s)" + t + "($|\\s)");
                    return e
                        .replace(n, " ")
                        .replace(/^\s\s*/, "")
                        .replace(/\s\s*$/, "");
                }),
                (DayPilot.Util.removeClass = function (e, t) {
                    if (e)
                        if (DayPilot.isArray(e)) for (var n = 0; n < e.length; n++) DayPilot.Util.removeClass(e[n], t);
                        else if (e.className) {
                            var i = new RegExp("(^|\\s)" + t + "($|\\s)");
                            e.className = e.className
                                .replace(i, " ")
                                .replace(/^\s\s*/, "")
                                .replace(/\s\s*$/, "");
                        }
                }),
                (DayPilot.Util.props = function (e) {
                    var t = [];
                    for (var n in e) t.push(n), t.push(e[n]);
                    return t.join("-");
                }),
                (DayPilot.Util.propArray = function (e, t, n) {
                    return DayPilot.list(e).map(function (e) {
                        return e[t] ? e[t] : n;
                    });
                }),
                (DayPilot.Util.updatePropsFromArray = function (e, t, n) {
                    for (var i = 0; i < n.length; i++) e[i][t] = n[i];
                }),
                (DayPilot.Util.copyProps = function (e, t, n) {
                    if ((t || (t = {}), !e)) return t;
                    if ("undefined" == typeof n) for (var i in e) e.hasOwnProperty(i) && "undefined" != typeof e[i] && (t[i] = e[i]);
                    else
                        for (var a = 0; a < n.length; a++) {
                            var i = n[a];
                            "undefined" != typeof e[i] && (t[i] = e[i]);
                        }
                    return t;
                }),
                (DayPilot.Util.ownPropsAsArray = function (e) {
                    var t = [];
                    if (!e) return t;
                    for (var n in e)
                        if (e.hasOwnProperty(n)) {
                            var i = {};
                            (i.key = n), (i.val = e[n]), t.push(i);
                        }
                    return t;
                }),
                (DayPilot.Util.firstPropValue = function (e) {
                    for (var t in e) return e[t];
                }),
                (DayPilot.Util.isOnlyProperty = function (e, t) {
                    if (!e) return !1;
                    for (var n in e) if (e.hasOwnProperty(n) && n !== t) return !1;
                    return !0;
                }),
                (DayPilot.Util.createArrayCopy = function (e, t) {
                    if (!DayPilot.isArray(e)) return [];
                    for (var n = [], i = 0; i < e.length; i++) {
                        var a = {};
                        DayPilot.Util.copyProps(e[i], a, t), n.push(a);
                    }
                    return n;
                }),
                (DayPilot.Util.atLeast = function (e, t) {
                    return Math.max(e, t);
                }),
                (DayPilot.Util.atMost = function (e, t) {
                    return Math.min(e, t);
                }),
                (DayPilot.Util.avg = function (e, t) {
                    return (e + t) / 2;
                }),
                (DayPilot.Util.div = function (e, t, n, i, a) {
                    var r = document.createElement("div");
                    return (
                        (t || n || i || a) &&
                            (i < 0 && ((t += i), (i *= -1)),
                            a < 0 && ((n += a), (a *= -1)),
                            (r.style.position = "absolute"),
                            "number" == typeof t ? (r.style.left = t + "px") : "string" == typeof t && (r.style.left = t),
                            "number" == typeof n ? (r.style.top = n + "px") : "string" == typeof n && (r.style.top = n),
                            "number" == typeof i ? (r.style.width = i + "px") : "string" == typeof i && (r.style.width = i),
                            "number" == typeof a ? (r.style.height = a + "px") : "string" == typeof a && (r.style.height = a)),
                        e && e.appendChild(r),
                        r
                    );
                }),
                (DayPilot.Util.overlaps = function (e, t, n, i) {
                    return !(t <= n || e >= i);
                }),
                (DayPilot.Util.isMouseEvent = function (e) {
                    return !!navigator.msPointerEnabled && !!e.pointerType && ("mouse" === e.pointerType || 4 === e.pointerType);
                }),
                (DayPilot.Util.mouseButton = function (e) {
                    var t = {};
                    switch (e.button) {
                        case 0:
                            t.left = !0;
                            break;
                        case 1:
                            t.middle = !0;
                            break;
                        case 2:
                            t.right = !0;
                    }
                    return t;
                }),
                (DayPilot.Util.membersPlain = function (e) {
                    var t = DayPilot.Util.members(e, 2),
                        n = function (e) {
                            for (var t = 0; t < e.length; t++) {
                                var n = e[t],
                                    i = n.name;
                                n.obsolete && (i += " (obsolete)"), n.noCssOnly && (i += " (!cssOnly)"), n.aspnet && (i += " (ASP.NET)"), n.mvc && (i += "(MVC)"), (e[t] = i);
                            }
                        };
                    return n(t.events), n(t.methods), n(t.properties), t;
                }),
                (DayPilot.Util.shouldApply = function (e) {
                    if (!e) return !1;
                    var t = e.toLowerCase();
                    return !(t.indexOf("before") >= 0) && !(t.indexOf("after") >= 0) && "onrowfilter" !== t && "oneventfilter" !== t;
                }),
                (DayPilot.Util.safeApply = function (e, t) {
                    var n = e["$root"]["$$phase"];
                    "$apply" === n || "$digest" === n ? e["$eval"](t) : e["$apply"](t);
                }),
                (DayPilot.Util.members = function (e, t) {
                    var n = DayPilot.list(),
                        i = DayPilot.list(),
                        a = DayPilot.list(),
                        r = e && e.members ? e.members.obsolete : [],
                        o = e && e.members ? e.members.noCssOnly : [],
                        s = e && e.members ? e.members.ignore : [],
                        l =
                            e && e.members && e.members.ignoreFilter
                                ? e.members.ignoreFilter
                                : function () {
                                      return !1;
                                  };
                    for (var d in e)
                        if (0 !== d.indexOf("$") && 0 !== d.indexOf("_") && 0 !== d.indexOf("number") && 0 !== d.indexOf("is") && "v" !== d && !DayPilot.contains(s, d) && !l(d))
                            if (0 !== d.indexOf("on"))
                                if ("function" != typeof e[d])
                                    if ("object" != typeof e[d]) a.push(d);
                                    else {
                                        var c = e[d];
                                        if (0 === t) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c && c.nodeType > 0) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c instanceof DayPilot.Bubble) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c instanceof DayPilot.Date) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c instanceof DayPilot.Menu) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (c instanceof DayPilot.Scheduler) {
                                            a.push(d);
                                            continue;
                                        }
                                        if (DayPilot.isArray(c)) {
                                            a.push(d);
                                            continue;
                                        }
                                        null === c && a.push(d);
                                        var u = null;
                                        "number" == typeof t && (u = t - 1);
                                        for (var h = DayPilot.Util.members(c, u), f = 0; f < h.events.length; f++) n.push(d + "." + h.events[f].name);
                                        for (var f = 0; f < h.methods.length; f++) i.push(d + "." + h.methods[f].name);
                                        for (var f = 0; f < h.properties.length; f++) a.push(d + "." + h.properties[f].name);
                                    }
                                else i.push(d);
                            else n.push(d);
                    n.sort(), i.sort(), a.sort();
                    var v = function (e) {
                        for (var t = 0; t < e.length; t++) {
                            var n = e[t],
                                i = {};
                            (i.name = n),
                                (e[t] = i),
                                DayPilot.contains(r, n) && (i.obsolete = !0),
                                DayPilot.contains(o, n) && (i.noCssOnly = !0),
                                n.indexOf("CallBack") !== -1 && ((i.aspnet = !0), (i.mvc = !0)),
                                n.indexOf("PostBack") !== -1 && (i.aspnet = !0),
                                n.indexOf("Notify") !== -1 && ((i.aspnet = !0), (i.mvc = !0));
                        }
                    };
                    return v(n), v(i), v(a), { events: n, methods: i, properties: a };
                }),
                (DayPilot.Util.replaceCharAt = function (e, t, n) {
                    return e.substr(0, t) + n + e.substr(t + n.length);
                }),
                (DayPilot.Util.evalVariable = function (e, t) {
                    if (((t = t || ["object"]), null === e || "undefined" == typeof e)) return null;
                    if (DayPilot.indexOf(t, typeof e) !== -1) return e;
                    if ("string" != typeof e) throw "Unable to resolve a variable name (not a string).";
                    if (!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)) throw "Invalid variable name: " + e;
                    return eval(e);
                }),
                (DayPilot.Util.evalFunction = function (e) {
                    if (null === e) return null;
                    if ("function" == typeof e) return e;
                    if ("string" != typeof e) throw "Unable to resolve a function (not a string).";
                    if (!/^\(?function/.test(e)) throw "Invalid function string";
                    return (e = "(" + e + ")"), eval(e);
                }),
                (DayPilot.Util.isNullOrUndefined = function (e) {
                    return null === e || "undefined" == typeof e;
                }),
                (DayPilot.Util.log = function (e) {
                    window.console && window.console.log && window.console.log(e);
                }),
                (DayPilot.Util.workerFrom = function (e) {
                    var t = e.toString(),
                        n = t.slice(t.indexOf("{") + 1, t.lastIndexOf("}")),
                        i = new Blob([n]),
                        a = window.URL.createObjectURL(i);
                    return new Worker(a);
                }),
                (DayPilot.Util.dataUriToBlob = function (e) {
                    if ("string" != typeof e) throw "DayPilot.Util.dataUriToBlob(): dataURI string expected";
                    for (var t = e.split(","), n = t[0], i = t[1], a = n.indexOf("base64") !== -1, r = a ? atob : decodeURI, o = n.split(":")[1].split(";")[0], s = r(i), l = new window.Uint8Array(s.length), d = 0; d < s.length; d++)
                        l[d] = s.charCodeAt(d);
                    return new Blob([l], { type: o });
                }),
                (DayPilot.Util.downloadDataUri = function (e, t) {
                    var n = DayPilot.Util.dataUriToBlob(e);
                    DayPilot.Util.downloadBlob(n, t);
                }),
                (DayPilot.Util.downloadBlob = function (e, t) {
                    var t = t || "download";
                    if (window.navigator.msSaveBlob) window.navigator.msSaveBlob(e, t);
                    else {
                        var n = window.URL.createObjectURL(e),
                            i = document.createElement("a");
                        (i.download = t),
                            (i.href = n),
                            (i.style.display = "none"),
                            document.body.appendChild(i),
                            i.click(),
                            setTimeout(function () {
                                document.body.removeChild(i), window.URL.revokeObjectURL(n);
                            });
                    }
                }),
                (DayPilot.Util.monitor = function (e, t, n) {
                    var i = e[t];
                    e[t] = function () {
                        n.apply(e, arguments), i.apply(e, arguments);
                    };
                }),
                (DayPilot.Util.isTransparentColor = function (e) {
                    return "transparent" === e || "rgba(0, 0, 0, 0)" === e;
                }),
                (DayPilot.Util.stripTags = function (e) {
                    if (DayPilot.Util.isNullOrUndefined(e)) return e;
                    if ("string" == typeof e) return e.replace(/<(?:.|\n)*?>/gm, "");
                    throw new DayPilot.Exception("Unable to strip tags from a non-string");
                }),
                (DayPilot.Util.escapeHtml = function (e) {
                    var t = document.createElement("div");
                    return (t.innerText = e), t.innerHTML;
                }),
                (DayPilot.Util.escapeTextHtml = function (e, t) {
                    return DayPilot.Util.isNullOrUndefined(t) ? (DayPilot.Util.isNullOrUndefined(e) ? "" : DayPilot.Util.escapeHtml(e)) : t;
                }),
                (DayPilot.Util.isSameEvent = function (e, t) {
                    return (
                        !(!e || !t) &&
                        ((e = e instanceof DayPilot.Event || e.isEvent ? e.data : e),
                        (t = t instanceof DayPilot.Event || t.isEvent ? t.data : t),
                        e === t ||
                            (!DayPilot.Util.isNullOrUndefined(e.id) && e.id === t.id) ||
                            (!(!DayPilot.Util.isNullOrUndefined(e.id) || DayPilot.Util.isNullOrUndefined(e.recurrentMasterId)) && e.recurrentMasterId === t.recurrentMasterId && new DayPilot.Date(e.start) === new DayPilot.Date(t.start)))
                    );
                }),
                (DayPilot.Util.isReactComponent = function (e) {
                    return e && e.$$typeof === (("function" == typeof Symbol && Symbol.for && Symbol.for("react.element")) || 60103);
                }),
                (DayPilot.Util.isVueComponent = function (e) {
                    return e && "function" == typeof e.render;
                }),
                (DayPilot.Util.fontString = function (e) {
                    return (e.style + " " + e.size + " " + e.family).trim();
                }),
                (DayPilot.Util.fontHeight = function (e) {
                    var t = DayPilot.Util.fontString(e);
                    if ("number" != typeof DayPilot.Util.fontHeight.cache[t]) {
                        var n = document.createElement("div");
                        (n.style.position = "fixed"),
                            (n.style.left = "-2000px;"),
                            (n.style.top = "-2000px"),
                            (n.style.padding = "0px"),
                            (n.style.font = t),
                            (n.innerText = "X"),
                            document.body.appendChild(n),
                            (DayPilot.Util.fontHeight.cache[t] = new DayPilot.StyleReader(n).getPx("height")),
                            document.body.removeChild(n);
                    }
                    return DayPilot.Util.fontHeight.cache[t];
                }),
                (DayPilot.Util.fontHeight.cache = {}),
                (DayPilot.Areas = {}),
                (DayPilot.Areas.attach = function (e, t, n) {
                    var n = n || {},
                        a = n.areas,
                        r =
                            n.allowed ||
                            function () {
                                return !0;
                            },
                        o = n.offsetX || 0;
                    (a = i(t, a)),
                        a &&
                            DayPilot.isArray(a) &&
                            0 !== a.length &&
                            (DayPilot.re(e, "mousemove", function (i) {
                                e.active || e.areasDisabled || !r() || DayPilot.Areas.showAreas(e, t, i, a, { offsetX: o, eventDiv: n.eventDiv });
                            }),
                            DayPilot.re(e, "mouseleave", function (t) {
                                DayPilot.Areas.hideAreas(e, t);
                            }),
                            DayPilot.list(a).forEach(function (i) {
                                if (DayPilot.Areas.isVisible(i)) {
                                    var a = DayPilot.Areas.createArea(e, t, i, { offsetX: o, eventDiv: n.eventDiv });
                                    e.appendChild(a);
                                }
                            }));
                }),
                (DayPilot.Areas.disable = function (e) {
                    (e.areasDisabled = !0),
                        DayPilot.list(e.childNodes)
                            .filter(function (e) {
                                return e.isActiveArea && !e.area.start;
                            })
                            .forEach(function (e) {
                                (e.j = e.style.display), (e.style.display = "none");
                            });
                }),
                (DayPilot.Areas.enable = function (e) {
                    (e.areasDisabled = !1),
                        DayPilot.list(e.childNodes)
                            .filter(function (e) {
                                return e.isActiveArea && !e.area.start;
                            })
                            .forEach(function (e) {
                                e.j ? (e.style.display = e.j) : (e.style.display = "");
                            });
                }),
                (DayPilot.Areas.remove = function (e) {
                    var t = DayPilot.list(e.childNodes).filter(function (e) {
                        return e.isActiveArea;
                    });
                    DayPilot.de(t);
                }),
                (DayPilot.Areas.isVisible = function (e) {
                    var t = e.visibility || e.v || "Visible";
                    return "Visible" === t || ("TouchVisible" === t && !DayPilot.browser.hover);
                }),
                (DayPilot.Areas.copy = function (e) {
                    return DayPilot.isArray(e)
                        ? e.map(function (e) {
                              return DayPilot.Util.copyProps(e, {});
                          })
                        : [];
                }),
                (DayPilot.Areas.resolvePosition = function (e, t, n, i) {
                    var a = DayPilot.Areas.copy(e),
                        r = t;
                    return (
                        a.forEach(function (e) {
                            e.start && (e.left = r.getPixels(new DayPilot.Date(e.start)).left - n), "number" == typeof e.offsetX && (e.left += e.offsetX), e.end && (e.right = n + i - r.getPixels(new DayPilot.Date(e.end)).left);
                        }),
                        a
                    );
                });
            var i = function (e, t) {
                return DayPilot.isArray(t) || ((t = e.areas), t || (e.cache ? (t = e.cache.areas) : e.data && (t = e.data.areas))), t;
            };
            (DayPilot.Areas.showAreas = function (e, t, n, i, a) {
                if (!DayPilot.Global.resizing && !DayPilot.Global.moving && !DayPilot.Global.selecting && !e.active && DayPilot.browser.hover) {
                    if (DayPilot.Areas.all && DayPilot.Areas.all.length > 0)
                        for (var r = 0; r < DayPilot.Areas.all.length; r++) {
                            var o = DayPilot.Areas.all[r];
                            o !== e && DayPilot.Areas.hideAreas(o, n);
                        }
                    if (((e.active = {}), DayPilot.isArray(i) || ((i = t.areas), i || (t.cache ? (i = t.cache.areas) : t.data && (i = t.data.areas))), i && 0 !== i.length && !(e.areas && e.areas.length > 0))) {
                        e.areas = [];
                        for (var r = 0; r < i.length; r++) {
                            var s = i[r];
                            if (!DayPilot.Areas.isVisible(s)) {
                                var l = DayPilot.Areas.createArea(e, t, s, a);
                                e.areas.push(l), e.appendChild(l), DayPilot.Areas.all.push(e);
                            }
                        }
                        e.active.children = DayPilot.ac(e);
                    }
                }
            }),
                (DayPilot.Areas.createArea = function (e, t, n, i) {
                    function a(e, t, n) {
                        var i = {};
                        return (
                            (i.area = e),
                            (i.source = t),
                            (i.originalEvent = n),
                            (i.preventDefault = function () {
                                i.preventDefault.value = !0;
                            }),
                            "function" == typeof e.onClick && e.onClick(i),
                            i
                        );
                    }
                    function r(e, t, n) {
                        DayPilot.Bubble && DayPilot.Bubble.touchPosition(n), e.calendar.bubble && e.calendar.bubble.showEvent(e, !0);
                    }
                    function o(e, t, n, i) {
                        DayPilot.Menu && DayPilot.Menu.touchPosition(i);
                        var a = n.contextMenu || n.menu;
                        if (
                            (a instanceof DayPilot.Menu ||
                                ("string" == typeof a
                                    ? (a = DayPilot.Util.evalVariable(a))
                                    : t.isEvent && t.client.contextMenu()
                                    ? (a = t.client.contextMenu())
                                    : t.isEvent && t.calendar.contextMenu
                                    ? (a = DayPilot.Util.evalVariable(t.calendar.contextMenu))
                                    : t.isRow && t.calendar.contextMenuResource && (a = DayPilot.Util.evalVariable(t.calendar.contextMenuResource))),
                            a && a.show)
                        ) {
                            var r = { type: "area", div: e, e: t, area: n, a: d };
                            a.show(t, { initiator: r });
                        }
                    }
                    function s(e) {
                        return "string" == typeof e && isNaN(e) ? e : "undefined" != typeof e ? e + "px" : void 0;
                    }
                    var i = i || {},
                        l = (i.offsetX || 0, i.eventDiv || e),
                        d = document.createElement("div");
                    (d.isActiveArea = !0), (d.area = n), d.setAttribute("unselectable", "on");
                    var c = n.w || n.width,
                        u = n.h || n.height,
                        h = n.cssClass || n.css || n.className;
                    if (
                        ("undefined" != typeof n.style && d.setAttribute("style", n.style),
                        (d.style.position = "absolute"),
                        (d.style.width = s(c)),
                        (d.style.height = s(u)),
                        (d.style.right = s(n.right)),
                        (d.style.top = s(n.top)),
                        (d.style.left = s(n.left)),
                        (d.style.bottom = s(n.bottom)),
                        "undefined" != typeof n.html || "undefined" != typeof n.text)
                    )
                        d.innerHTML = DayPilot.Util.escapeTextHtml(n.text, n.html);
                    else if (n.icon) {
                        var f = document.createElement("i");
                        (f.className = n.icon), d.appendChild(f);
                    } else if (n.image) {
                        var v = document.createElement("img");
                        (v.src = n.image), d.appendChild(v);
                    } else if (n.symbol) {
                        var p = "http://www.w3.org/2000/svg",
                            m = document.createElementNS(p, "svg");
                        m.setAttribute("width", "100%"), m.setAttribute("height", "100%");
                        var g = document.createElementNS(p, "use");
                        g.setAttribute("href", n.symbol), m.appendChild(g), d.appendChild(m);
                    }
                    if (
                        (h && (d.className = h),
                        n.toolTip && d.setAttribute("title", n.toolTip),
                        n.backColor && (d.style.background = n.backColor),
                        n.background && (d.style.background = n.background),
                        n.fontColor && (d.style.color = n.fontColor),
                        n.padding && ((d.style.padding = n.padding + "px"), (d.style.boxSizing = "border-box")),
                        n.verticalAlignment)
                    )
                        switch (((d.style.display = "flex"), n.verticalAlignment)) {
                            case "center":
                                d.style.alignItems = "center";
                                break;
                            case "top":
                                d.style.alignItems = "flex-start";
                                break;
                            case "bottom":
                                d.style.alignItems = "flex-end";
                        }
                    if (n.horizontalAlignment)
                        switch (((d.style.display = "flex"), n.horizontalAlignment)) {
                            case "right":
                                d.style.justifyContent = "flex-end";
                                break;
                            case "left":
                                d.style.justifyContent = "flex-start";
                                break;
                            case "center":
                                d.style.justifyContent = "center";
                        }
                    if ("ResizeEnd" === n.action || "ResizeStart" === n.action || "Move" === n.action) {
                        if (t.calendar.isCalendar)
                            switch (n.action) {
                                case "ResizeEnd":
                                    (n.cursor = "s-resize"), (n.dpBorder = "bottom");
                                    break;
                                case "ResizeStart":
                                    (n.cursor = "n-resize"), (n.dpBorder = "top");
                                    break;
                                case "Move":
                                    n.cursor = "move";
                            }
                        if (t.calendar.isScheduler || t.calendar.isMonth)
                            switch (n.action) {
                                case "ResizeEnd":
                                    (n.cursor = "e-resize"), (n.dpBorder = "right");
                                    break;
                                case "ResizeStart":
                                    (n.cursor = "w-resize"), (n.dpBorder = "left");
                                    break;
                                case "Move":
                                    n.cursor = "move";
                            }
                        (d.onmousemove = (function (e, t, n) {
                            return function (i) {
                                (t.calendar.internal && t.calendar.internal.dragInProgress && t.calendar.internal.dragInProgress()) || ((i.cancelBubble = !0), (e.style.cursor = n.cursor), n.dpBorder && (e.dpBorder = n.dpBorder));
                            };
                        })(l, t, n)),
                            (d.onmouseout = (function (e, t, n) {
                                return function (t) {
                                    e.style.cursor = "";
                                };
                            })(l, t, n));
                    }
                    if (("ResizeEnd" === n.action || "ResizeStart" === n.action) && t.isEvent && t.calendar.internal.touch) {
                        var y = (function (e, t, n) {
                            return function (i) {
                                i.cancelBubble = !0;
                                var a = t.calendar.internal.touch,
                                    r = i.touches ? i.touches[0] : i,
                                    o = { x: r.pageX, y: r.pageY };
                                (t.calendar.coords = a.relativeCoords(i)),
                                    (a.preventEventTap = !0),
                                    t.calendar.isScheduler ? a.startResizing(e, "ResizeEnd" === n.action ? "right" : "left") : t.calendar.isCalendar && a.startResizing(e, "ResizeEnd" === n.action ? "bottom" : "top", o);
                            };
                        })(l, t, n);
                        DayPilot.rePassive(d, DayPilot.touch.start, y);
                    }
                    if ("ContextMenu" === n.action && t.isEvent && t.calendar.internal.touch) {
                        var y = (function (e, t, n) {
                                return function (i) {
                                    (i.cancelBubble = !0), i.preventDefault(), o(e, t, n, i), (t.calendar.internal.touch.preventEventTap = !0);
                                };
                            })(l, t, n),
                            b = (function (e, t, n) {
                                return function (e) {
                                    (e.cancelBubble = !0), e.preventDefault();
                                };
                            })(l, t, n);
                        DayPilot.reNonPassive(d, DayPilot.touch.start, y), DayPilot.reNonPassive(d, DayPilot.touch.end, b);
                    }
                    if ("Bubble" === n.action && t.isEvent && t.calendar.internal.touch) {
                        var y = (function (e, t, n) {
                                return function (e) {
                                    (e.cancelBubble = !0), e.preventDefault();
                                    var i = a(n, t, e);
                                    if (!i.preventDefault.value) {
                                        r(t, n, e);
                                        (t.calendar.internal.touch.preventEventTap = !0), "function" == typeof n.onClicked && n.onClicked(i);
                                    }
                                };
                            })(l, t, n),
                            b = (function (e, t, n) {
                                return function (e) {
                                    (e.cancelBubble = !0), e.preventDefault();
                                };
                            })(l, t, n);
                        DayPilot.reNonPassive(d, DayPilot.touch.start, y), DayPilot.reNonPassive(d, DayPilot.touch.end, b);
                    }
                    if ("Move" === n.action && t.isEvent && t.calendar.internal.touch) {
                        var y = (function (e, t, n) {
                            return function (n) {
                                n.cancelBubble = !0;
                                var i = t.calendar.internal.touch,
                                    a = n.touches ? n.touches[0] : n,
                                    r = { x: a.pageX, y: a.pageY };
                                (t.calendar.coords = i.relativeCoords(n)), DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.active = !0), (i.preventEventTap = !0), i.startMoving(e, r);
                            };
                        })(l, t, n);
                        DayPilot.rePassive(d, DayPilot.touch.start, y);
                    }
                    if (
                        ("Move" === n.action && t.isRow && t.calendar.internal.touch,
                        "Bubble" === n.action && t.isEvent
                            ? ((d.onmousemove = (function (e, t, n) {
                                  return function (e) {
                                      n.bubble ? n.bubble.showEvent(t, !0) : t.calendar.bubble && t.calendar.bubble.showEvent(t, !0);
                                  };
                              })(e, t, n)),
                              (d.onmouseout = (function (e, t, n) {
                                  return function (e) {
                                      "undefined" != typeof DayPilot.Bubble && (n.bubble ? n.bubble.hideOnMouseOut() : t.calendar.bubble && t.calendar.bubble.hideOnMouseOut());
                                  };
                              })(e, t, n)))
                            : "Bubble" === n.action && t.isRow
                            ? ((d.onmousemove = (function (e, t, n) {
                                  return function (e) {
                                      e.stopPropagation(), n.bubble ? n.bubble.showResource(t, !1, d) : t.calendar.resourceBubble && t.calendar.resourceBubble.showResource(t, !1, d);
                                  };
                              })(e, t, n)),
                              (d.onmouseout = (function (e, t, n) {
                                  return function (e) {
                                      "undefined" != typeof DayPilot.Bubble && (n.bubble ? n.bubble.hideOnMouseOut() : t.calendar.resourceBubble && t.calendar.resourceBubble.hideOnMouseOut());
                                  };
                              })(e, t, n)))
                            : "Bubble" === n.action &&
                              "undefined" != typeof DayPilot.Bubble &&
                              n.bubble instanceof DayPilot.Bubble &&
                              ((d.onmousemove = (function (e, t, n) {
                                  return function (e) {
                                      n.bubble.showHtml(null, d);
                                  };
                              })(e, t, n)),
                              (d.onmouseout = (function (e, t, n) {
                                  return function (e) {
                                      "undefined" != typeof DayPilot.Bubble && n.bubble && n.bubble.hideOnMouseOut();
                                  };
                              })(e, t, n))),
                        "HoverMenu" === n.action &&
                            ((d.onmousemove = (function (e, t, n) {
                                return function (e) {
                                    var i = n.menu;
                                    "string" == typeof i && (i = DayPilot.Util.evalVariable(i)),
                                        i && i.show && (i.visible ? i.source && "undefined" != typeof i.source.id && i.source.id !== t.id && i.show(t) : i.show(t), i.cancelHideTimeout());
                                };
                            })(e, t, n)),
                            (d.onmouseout = (function (e, t, n) {
                                return function (e) {
                                    var t = n.menu;
                                    "string" == typeof t && (t = DayPilot.Util.evalVariable(t)), t && t.hideOnMouseOver && t.delayedHide();
                                };
                            })(e, t, n))),
                        "JavaScript" === n.action)
                    ) {
                        var y = (function (e, t, n) {
                                return function (e) {
                                    if (!DayPilot.Util.isMouseEvent(e)) {
                                        (e.cancelBubble = !0), e.preventDefault();
                                        t.calendar.internal.touch;
                                        DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.start = !0);
                                    }
                                };
                            })(l, t, n),
                            b = (function (e, t, n) {
                                return function (e) {
                                    if (!DayPilot.Util.isMouseEvent(e)) {
                                        (e.cancelBubble = !0), e.preventDefault();
                                        t.calendar.internal.touch;
                                        DayPilot.Global && DayPilot.Global.touch && (DayPilot.Global.touch.start = !1);
                                        var i = n.js;
                                        if (("string" == typeof i && (i = DayPilot.Util.evalFunction(n.js)), "function" == typeof i)) {
                                            var a = n.target || t;
                                            i.call(this, a);
                                        }
                                    }
                                };
                            })(l, t, n);
                        DayPilot.reNonPassive(d, DayPilot.touch.start, y), DayPilot.reNonPassive(d, DayPilot.touch.end, b);
                    }
                    if ("None" === n.action) {
                        var y = (function (e, t, n) {
                            return function (e) {
                                var i = a(n, t, e);
                                "function" == typeof n.onClicked && n.onClicked(i), e.preventDefault(), e.stopPropagation();
                            };
                        })(l, t, n);
                        DayPilot.reNonPassive(d, DayPilot.touch.start, y);
                    }
                    return (
                        (d.onmousedown = (function (e, t, n) {
                            return function (i) {
                                if (("function" == typeof n.onmousedown && n.onmousedown(i), "function" == typeof n.mousedown)) {
                                    var a = {};
                                    (a.area = n), (a.div = e), (a.originalEvent = i), (a.source = t), n.mousedown(a);
                                }
                                if ("Move" === n.action && t.isRow) {
                                    var r = t.$.row;
                                    (0, t.calendar.internal.rowStartMoving)(r);
                                }
                                "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                                    "Move" === n.action && (DayPilot.Global.movingAreaData = n.data),
                                    ("ResizeEnd" !== n.action && "ResizeStart" !== n.action) || (DayPilot.Global.resizingAreaData = n.data),
                                    "Move" === n.action && t.isEvent && t.calendar.internal && t.calendar.internal.startMoving && t.calendar.internal.startMoving(e, i);
                                "Move" !== n.action && "ResizeEnd" !== n.action && "ResizeStart" !== n.action && n.action && "Default" !== n.action && (i.preventDefault(), (i.cancelBubble = !0));
                            };
                        })(e, t, n)),
                        (d.onclick = (function (e, t, n) {
                            return function (i) {
                                var r = a(n, t, i);
                                if (!r.preventDefault.value) {
                                    switch (n.action) {
                                        case "JavaScript":
                                            var s = n.js;
                                            if (("string" == typeof s && (s = DayPilot.Util.evalFunction(n.js)), "function" == typeof s)) {
                                                var l = n.target || t;
                                                s.call(this, l);
                                            }
                                            i.cancelBubble = !0;
                                            break;
                                        case "ContextMenu":
                                            o(e, t, n, i), (i.cancelBubble = !0);
                                            break;
                                        case "CallBack":
                                            alert("callback not implemented yet, id: " + n.id), (i.cancelBubble = !0);
                                            break;
                                        case "None":
                                            i.cancelBubble = !0;
                                    }
                                    "function" == typeof n.onClicked && n.onClicked(r);
                                }
                            };
                        })(e, t, n)),
                        "function" == typeof n.onMouseEnter &&
                            d.addEventListener(
                                "mouseenter",
                                (function (e, t, n) {
                                    return function (e) {
                                        var i = {};
                                        (i.area = n), (i.source = t), (i.originalEvent = e), n.onMouseEnter(i);
                                    };
                                })(e, t, n)
                            ),
                        "function" == typeof n.onMouseLeave &&
                            d.addEventListener(
                                "mouseleave",
                                (function (e, t, n) {
                                    return function (e) {
                                        var i = {};
                                        (i.area = n), (i.source = t), (i.originalEvent = e), n.onMouseLeave(i);
                                    };
                                })(e, t, n)
                            ),
                        d
                    );
                }),
                (DayPilot.Areas.all = []),
                (DayPilot.Areas.hideAreas = function (e, t) {
                    if (e && e && e.active) {
                        var n = e.active,
                            i = e.areas;
                        if (n && n.children && t) {
                            var a = t.toElement || t.relatedTarget;
                            if (~DayPilot.indexOf(n.children, a)) return;
                        }
                        if (!i || 0 === i.length) return void (e.active = null);
                        DayPilot.de(i), (e.active = null), (e.areas = []), DayPilot.rfa(DayPilot.Areas.all, e), (n.children = null);
                    }
                }),
                (DayPilot.Areas.hideAll = function (e) {
                    if (DayPilot.Areas.all && 0 !== DayPilot.Areas.all.length) for (var t = 0; t < DayPilot.Areas.all.length; t++) DayPilot.Areas.hideAreas(DayPilot.Areas.all[t], e);
                }),
                (DayPilot.Action = function (e, t, n, i) {
                    var a = this;
                    (this.calendar = e),
                        (this.isAction = !0),
                        (this.action = t),
                        (this.params = n),
                        (this.data = i),
                        (this.notify = function () {
                            a.calendar.internal.invokeEvent("Immediate", this.action, this.params, this.data);
                        }),
                        (this.auto = function () {
                            a.calendar.internal.invokeEvent("Notify", this.action, this.params, this.data);
                        }),
                        (this.queue = function () {
                            a.calendar.queue.add(this);
                        }),
                        (this.toJSON = function () {
                            var e = {};
                            return (e.name = this.action), (e.params = this.params), (e.data = this.data), e;
                        });
                }),
                (DayPilot.Selection = function (e, t, n, i) {
                    (this.menuType = "selection"),
                        (this.start = new DayPilot.Date(e)),
                        (this.end = new DayPilot.Date(t)),
                        (this.resource = n),
                        (this.root = i),
                        (this.calendar = i),
                        (this.toJSON = function (e) {
                            var t = {};
                            return (t.start = this.start), (t.end = this.end), (t.resource = this.resource), t;
                        });
                }),
                (DayPilot.Link = function (e, t) {
                    (this.isLink = !0),
                        (this.data = e),
                        (this.calendar = t),
                        (this.to = function () {
                            return this.data.to;
                        }),
                        (this.from = function () {
                            return this.data.from;
                        }),
                        (this.type = function () {
                            return this.data.type;
                        }),
                        (this.id = function () {
                            return this.data.id;
                        }),
                        (this.toJSON = function () {
                            var e = {};
                            return (e.from = this.data.from), (e.to = this.data.to), (e.id = this.data.id), (e.type = this.data.type), e;
                        });
                }),
                (DayPilot.Event = function (e, t, n) {
                    var i = this;
                    (this.calendar = t), (this.data = e ? e : {}), (this.part = n ? n : {}), "undefined" == typeof this.data.id && (this.data.id = this.data.value);
                    var a = {},
                        r = ["id", "text", "start", "end", "resource"];
                    (this.isEvent = !0),
                        (DayPilot.Stats.eventObjects += 1),
                        (this.temp = function () {
                            if (a.dirty) return a;
                            for (var e = 0; e < r.length; e++) a[r[e]] = i.data[r[e]];
                            return (a.dirty = !0), a;
                        }),
                        (this.copy = function () {
                            var e = {};
                            return DayPilot.Util.copyProps(i.data, e), e;
                        }),
                        (this.commit = function () {
                            if (a.dirty) {
                                for (var e = 0; e < r.length; e++) i.data[r[e]] = a[r[e]];
                                "function" == typeof i.data.commitCallback && i.data.commitCallback(), (a.dirty = !1);
                            }
                        }),
                        (this.dirty = function () {
                            return a.dirty;
                        }),
                        (this.id = function (e) {
                            return "undefined" == typeof e ? i.data.id : void (this.temp().id = e);
                        }),
                        (this.value = function (e) {
                            return "undefined" == typeof e ? i.id() : void i.id(e);
                        }),
                        (this.text = function (e) {
                            if ("undefined" == typeof e) return i.data.text;
                            this.temp().text = e;
                            var t = DayPilot.Util.escapeHtml(e);
                            this.client.innerHTML(t);
                        }),
                        (this.start = function (e) {
                            return "undefined" == typeof e ? new DayPilot.Date(i.data.start) : void (this.temp().start = new DayPilot.Date(e));
                        }),
                        (this.end = function (e) {
                            return "undefined" == typeof e
                                ? t && t.internal.adjustEndNormalize
                                    ? t.internal.adjustEndNormalize(new DayPilot.Date(i.data.end))
                                    : new DayPilot.Date(i.data.end)
                                : void (this.temp().end = new DayPilot.Date(e));
                        }),
                        (this.duration = function () {
                            return new DayPilot.Duration(this.start(), this.end());
                        }),
                        (this.rawend = function (e) {
                            if ("undefined" == typeof e) return t && t.internal.adjustEndIn ? t.internal.adjustEndIn(new DayPilot.Date(i.data.end)) : new DayPilot.Date(i.data.end);
                            throw new DayPilot.Exception("DayPilot.Event.rawend() is readonly");
                        }),
                        (this.partStart = function () {
                            return new DayPilot.Date(this.part.start);
                        }),
                        (this.partEnd = function () {
                            return new DayPilot.Date(this.part.end);
                        }),
                        (this.row = function () {
                            return this.resource();
                        }),
                        (this.allday = function () {
                            return "undefined" == typeof val ? i.data.allday : void (this.temp().allday = val);
                        }),
                        (this.isAllDay = this.allday),
                        (this.resource = function (e) {
                            return "undefined" == typeof e ? i.data.resource : void (this.temp().resource = e);
                        }),
                        (this.recurrent = function () {
                            return i.data.recurrent;
                        }),
                        (this.recurrentMasterId = function () {
                            return i.data.recurrentMasterId;
                        }),
                        (this.useBox = function () {
                            return this.part.box;
                        }),
                        (this.staticBubbleHTML = function () {
                            return this.bubbleHtml();
                        }),
                        (this.bubbleHtml = function () {
                            return i.cache ? i.cache.bubbleHtml || i.data.bubbleHtml : i.data.bubbleHtml;
                        }),
                        (this.tag = function (e) {
                            if (i.data.tags) return i.data.tags[e];
                            var t = i.data.tag;
                            if (!t) return null;
                            if ("undefined" == typeof e) return i.data.tag;
                            for (var n = i.calendar.tagFields, a = -1, r = 0; r < n.length; r++) e === n[r] && (a = r);
                            if (a === -1) throw "Field name not found.";
                            return t[a];
                        }),
                        (this.client = {}),
                        (this.client.innerHTML = function (e) {
                            if ("undefined" == typeof e) {
                                var t = i.cache || i.data,
                                    n = i.calendar && i.calendar.internal && i.calendar.internal.xssTextHtml;
                                return n ? n(t.text, t.html) : DayPilot.Util.escapeTextHtml(t.text, t.html);
                            }
                            (i.data.html = e), i.cache && (i.cache.html = e);
                        }),
                        (this.client.html = this.client.innerHTML),
                        (this.client.header = function (e) {
                            return "undefined" == typeof e ? i.data.header : void (i.data.header = e);
                        }),
                        (this.client.cssClass = function (e) {
                            return "undefined" == typeof e ? i.data.cssClass : void (i.data.cssClass = e);
                        }),
                        (this.client.toolTip = function (e) {
                            if ("undefined" == typeof e) {
                                var t = null;
                                return (t = i.cache && "undefined" != typeof i.cache.toolTip ? i.cache.toolTip : "undefined" != typeof i.data.toolTip ? i.data.toolTip : i.data.text);
                            }
                            i.data.toolTip = e;
                        }),
                        (this.client.backColor = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.backColor
                                    ? i.cache.backColor
                                    : "undefined" != typeof i.data.backColor
                                    ? i.data.backColor
                                    : i.calendar.eventBackColor
                                : void (i.data.backColor = e);
                        }),
                        (this.client.borderColor = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.borderColor
                                    ? i.cache.borderColor
                                    : "undefined" != typeof i.data.borderColor
                                    ? i.data.borderColor
                                    : i.calendar.eventBorderColor
                                : void (i.data.borderColor = e);
                        }),
                        (this.client.barColor = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.barColor
                                    ? i.cache.barColor
                                    : "undefined" != typeof i.data.barColor
                                    ? i.data.barColor
                                    : i.calendar.durationBarColor
                                : void (i.data.barColor = e);
                        }),
                        (this.client.barVisible = function (e) {
                            return "undefined" == typeof e ? (i.cache && "undefined" != typeof i.cache.barHidden ? !i.cache.barHidden : i.calendar.durationBarVisible && !i.data.barHidden) : void (i.data.barHidden = !e);
                        }),
                        (this.client.contextMenu = function (e) {
                            if ("undefined" == typeof e) {
                                if (i.oContextMenu) return i.oContextMenu;
                                var t = i.cache ? i.cache.contextMenu : i.data.contextMenu;
                                return t ? DayPilot.Util.evalVariable(t) : null;
                            }
                            i.oContextMenu = e;
                        }),
                        (this.client.moveEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.moveDisabled
                                    ? !i.cache.moveDisabled
                                    : "Disabled" !== i.calendar.eventMoveHandling && !i.data.moveDisabled
                                : void (i.data.moveDisabled = !e);
                        }),
                        (this.client.resizeEnabled = function (e) {
                            return "undefined" == typeof e
                                ? "Milestone" !== i.data.type && (i.cache && "undefined" != typeof i.cache.resizeDisabled ? !i.cache.resizeDisabled : "Disabled" !== i.calendar.eventResizeHandling && !i.data.resizeDisabled)
                                : void (i.data.resizeDisabled = !e);
                        }),
                        (this.client.rightClickEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.rightClickDisabled
                                    ? !i.cache.rightClickDisabled
                                    : "Disabled" !== i.calendar.eventRightClickHandling && !i.data.rightClickDisabled
                                : void (i.data.rightClickDisabled = !e);
                        }),
                        (this.client.clickEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.clickDisabled
                                    ? !i.cache.clickDisabled
                                    : "Disabled" !== i.calendar.eventClickHandling && !i.data.clickDisabled
                                : void (i.data.clickDisabled = !e);
                        }),
                        (this.client.deleteEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.deleteDisabled
                                    ? !i.cache.deleteDisabled
                                    : "Disabled" !== i.calendar.eventDeleteHandling && !i.data.deleteDisabled
                                : void (i.data.deleteDisabled = !e);
                        }),
                        (this.client.doubleClickEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.doubleClickDisabled
                                    ? !i.cache.doubleClickDisabled
                                    : "Disabled" !== i.calendar.eventDoubleClickHandling && !i.data.doubleClickDisabled
                                : void (i.data.doubleClickDisabled = !e);
                        }),
                        (this.client.deleteClickEnabled = function (e) {
                            return "undefined" == typeof e
                                ? i.cache && "undefined" != typeof i.cache.deleteDisabled
                                    ? !i.cache.deleteDisabled
                                    : "Disabled" !== i.calendar.eventDeleteHandling && !i.data.deleteDisabled
                                : void (i.data.deleteDisabled = !e);
                        }),
                        (this.toJSON = function (e) {
                            var t = {};
                            if (
                                ((t.value = this.id()),
                                (t.id = this.id()),
                                (t.text = this.text()),
                                (t.start = this.start().toJSON()),
                                (t.end = this.end().toJSON()),
                                (t.resource = this.resource()),
                                (t.isAllDay = !1),
                                (t.recurrentMasterId = this.recurrentMasterId()),
                                (t.join = this.data.join),
                                (t.tag = {}),
                                i.data.tags)
                            )
                                for (var n in i.data.tags) i.data.tags.hasOwnProperty(n) && (t.tag[n] = "" + i.data.tags[n]);
                            else if (i.calendar && i.calendar.tagFields) for (var a = i.calendar.tagFields, r = 0; r < a.length; r++) t.tag[a[r]] = this.tag(a[r]);
                            return t;
                        });
                }),
                (DayPilot.Task = function (e, t) {
                    if (!e) throw "Trying to initialize DayPilot.Task with null data parameter";
                    var n = this,
                        i = null;
                    if (e instanceof DayPilot.Event) (i = e), (this.data = e.data.task);
                    else {
                        if (e instanceof DayPilot.Task) return e;
                        e.isTaskWrapper ? (this.data = e.data) : (this.data = e);
                    }
                    var a = {},
                        r = ["id", "text", "start", "end", "complete", "type"];
                    (this.isTask = !0),
                        (this.calendar = t),
                        (this.temp = function () {
                            if (a.dirty) return a;
                            for (var e = 0; e < r.length; e++) a[r[e]] = n.data[r[e]];
                            return (a.dirty = !0), a;
                        }),
                        (this.copy = function () {
                            var e = {};
                            return DayPilot.Util.copyProps(n.data, e), e;
                        }),
                        (this.commit = function () {
                            if (a.dirty) {
                                for (var e = 0; e < r.length; e++) n.data[r[e]] = a[r[e]];
                                a.dirty = !1;
                            }
                        }),
                        (this.dirty = function () {
                            return a.dirty;
                        }),
                        (this.id = function (e) {
                            return "undefined" == typeof e ? n.data.id : void (this.temp().id = e);
                        }),
                        (this.text = function (e) {
                            if ("undefined" == typeof e) return n.data.text;
                            this.temp().text = e;
                            var t = DayPilot.Util.escapeHtml(e);
                            this.client.innerHTML(t);
                        }),
                        (this.start = function (e) {
                            return "undefined" == typeof e ? new DayPilot.Date(n.data.start) : void (this.temp().start = new DayPilot.Date(e));
                        }),
                        (this.duration = function () {
                            return new DayPilot.Duration(this.start(), this.end());
                        }),
                        (this.end = function (e) {
                            return "undefined" == typeof e ? (t && "Date" === t.eventEndSpec ? new DayPilot.Date(n.data.end).getDatePart().addDays(1) : new DayPilot.Date(n.data.end)) : void (this.temp().end = new DayPilot.Date(e));
                        }),
                        (this.type = function (e) {
                            return "undefined" == typeof e ? (i ? i.data.type || "Task" : n.data.type) : void (this.temp().type = e);
                        }),
                        (this.complete = function (e) {
                            return "undefined" == typeof e ? (n.data.complete ? n.data.complete : 0) : void (this.temp().complete = e);
                        }),
                        (this.children = function () {
                            var e = [];
                            e.add = function (e) {
                                var t = new DayPilot.Task(e);
                                this.data.children || (this.data.children = []), this.children.push(t.data);
                            };
                            for (var n = 0; this.data.children && n < this.data.children.length; n++) e.push(new DayPilot.Task(this.data.children[n], t));
                            return e;
                        }),
                        (this.toJSON = function (e) {
                            var t = {};
                            return (t.id = this.id()), (t.text = this.text()), (t.start = this.start().toJSON()), (t.end = this.end().toJSON()), (t.type = this.type()), (t.tags = {}), DayPilot.Util.copyProps(this.data.tags, t.tags), t;
                        }),
                        (this.row = {});
                    var o = this.row;
                    (o.expanded = function (e) {
                        return "undefined" == typeof e
                            ? !n.data.row || !n.data.row.collapsed
                            : (n.data.row || (n.data.row = {}), !!n.data.row.collapsed != !e && t.internal.rowObjectForTaskData(n.data).toggle(), (n.data.row.collapsed = !e), void 0);
                    }),
                        (o.expand = function () {
                            o.expanded(!0);
                        }),
                        (o.collapse = function () {
                            o.expanded(!1);
                        }),
                        (o.toggle = function () {
                            o.expanded(!o.expanded());
                        });
                }),
                (DayPilot.request = function (e, t, n, i) {
                    var a = DayPilot.createXmlHttp();
                    a &&
                        (a.open("POST", e, !0),
                        a.setRequestHeader("Content-type", "text/plain"),
                        (a.onreadystatechange = function () {
                            if (4 === a.readyState) return 200 !== a.status && 304 !== a.status ? void (i ? i(a) : window.console && console.log("HTTP error " + a.status)) : void t(a);
                        }),
                        4 !== a.readyState && ("object" == typeof n && (n = JSON.stringify(n)), a.send(n)));
                }),
                (DayPilot.ajax = function (e) {
                    if (!e) throw new DayPilot.Exception("Parameter object required.");
                    if ("string" != typeof e.url) throw new DayPilot.Exception("The parameter object must have 'url' property.");
                    var t = DayPilot.createXmlHttp();
                    if (!t) throw new DayPilot.Exception("Unable to create XMLHttpRequest object");
                    var n = "object" == typeof e.data,
                        i = e.data,
                        a = e.method || (e.data ? "POST" : "GET"),
                        r = e.success || function () {},
                        o = e.error || function () {},
                        s = e.url,
                        l = e.contentType || (n ? "application/json" : "text/plain"),
                        d = e.headers || {};
                    t.open(a, s, !0),
                        t.setRequestHeader("Content-type", l),
                        DayPilot.Util.ownPropsAsArray(d).forEach(function (e) {
                            t.setRequestHeader(e.key, e.val);
                        }),
                        (t.onreadystatechange = function () {
                            if (4 === t.readyState)
                                if (200 === t.status || 201 === t.status || 204 === t.status || 304 === t.status) {
                                    var e = {};
                                    (e.request = t), t.responseText && (e.data = JSON.parse(t.responseText)), r(e);
                                } else if (o) {
                                    var e = {};
                                    (e.request = t), o(e);
                                } else window.console && console.log("HTTP error " + t.status);
                        }),
                        4 !== t.readyState && (n && (i = JSON.stringify(i)), t.send(i));
                }),
                (DayPilot.createXmlHttp = function () {
                    return new XMLHttpRequest();
                }),
                (DayPilot.Http = {}),
                (DayPilot.Http.ajax = function (e) {
                    DayPilot.ajax(e);
                }),
                (DayPilot.Http.get = function (e, t) {
                    return (
                        (t = t || {}),
                        new Promise(function (n, i) {
                            var a = {};
                            (a.url = e),
                                (a.method = "GET"),
                                (a.success = function (e) {
                                    n(e);
                                }),
                                (a.error = function (e) {
                                    i(e);
                                }),
                                (a.contentType = t.contentType),
                                (a.headers = t.headers),
                                DayPilot.ajax(a);
                        })
                    );
                }),
                (DayPilot.Http.post = function (e, t, n) {
                    return (
                        (n = n || {}),
                        new Promise(function (i, a) {
                            var r = {};
                            (r.url = e),
                                (r.method = "POST"),
                                (r.data = t),
                                (r.success = function (e) {
                                    i(e);
                                }),
                                (r.error = function (e) {
                                    a(e);
                                }),
                                (r.contentType = n.contentType),
                                (r.headers = n.headers),
                                DayPilot.ajax(r);
                        })
                    );
                }),
                (DayPilot.Http.put = function (e, t, n) {
                    return (
                        (n = n || {}),
                        new Promise(function (i, a) {
                            var r = {};
                            (r.url = e),
                                (r.method = "PUT"),
                                (r.data = t),
                                (r.success = function (e) {
                                    i(e);
                                }),
                                (r.error = function (e) {
                                    a(e);
                                }),
                                (r.contentType = n.contentType),
                                (r.headers = n.headers),
                                DayPilot.ajax(r);
                        })
                    );
                }),
                (DayPilot.Http.delete = function (e, t) {
                    return (
                        (t = t || {}),
                        new Promise(function (n, i) {
                            var a = {};
                            (a.url = e),
                                (a.method = "DELETE"),
                                (a.success = function (e) {
                                    n(e);
                                }),
                                (a.error = function (e) {
                                    i(e);
                                }),
                                (a.contentType = t.contentType),
                                (a.headers = t.headers),
                                DayPilot.ajax(a);
                        })
                    );
                }),
                (DayPilot.Http.patch = function (e, t, n) {
                    return (
                        (n = n || {}),
                        new Promise(function (i, a) {
                            var r = {};
                            (r.url = e),
                                (r.method = "PATCH"),
                                (r.data = t),
                                (r.success = function (e) {
                                    i(e);
                                }),
                                (r.error = function (e) {
                                    a(e);
                                }),
                                (r.contentType = n.contentType),
                                (r.headers = n.headers),
                                DayPilot.ajax(r);
                        })
                    );
                }),
                (DayPilot.Duration = function (e) {
                    var t = this,
                        n = 864e5,
                        i = 36e5,
                        a = 6e4,
                        r = 1e3;
                    if (2 === arguments.length) {
                        var o = arguments[0],
                            s = arguments[1];
                        if (!(o instanceof DayPilot.Date) && "string" != typeof o) throw "DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";
                        if (!(s instanceof DayPilot.Date) && "string" != typeof s) throw "DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";
                        "string" == typeof o && (o = new DayPilot.Date(o)), "string" == typeof s && (s = new DayPilot.Date(s)), (e = s.getTime() - o.getTime());
                    }
                    return (
                        (this.ticks = e || 0),
                        DayPilot.Date.Cache.DurationCtor["" + e]
                            ? DayPilot.Date.Cache.DurationCtor["" + e]
                            : ((DayPilot.Date.Cache.DurationCtor["" + e] = this),
                              (this.toString = function (e) {
                                  if (!e) return t.days() + "." + t.hours() + ":" + t.minutes() + ":" + t.seconds() + "." + t.milliseconds();
                                  var n = t.minutes();
                                  n = (n < 10 ? "0" : "") + n;
                                  var i = e;
                                  return (i = i.replace("mm", n)), (i = i.replace("m", t.minutes())), (i = i.replace("H", t.hours())), (i = i.replace("h", t.hours())), (i = i.replace("d", t.days())), (i = i.replace("s", t.seconds()));
                              }),
                              (this.totalHours = function () {
                                  return t.ticks / i;
                              }),
                              (this.totalDays = function () {
                                  return t.ticks / n;
                              }),
                              (this.totalMinutes = function () {
                                  return t.ticks / a;
                              }),
                              (this.totalSeconds = function () {
                                  return t.ticks / r;
                              }),
                              (this.totalMilliseconds = function () {
                                  return t.ticks;
                              }),
                              (this.days = function () {
                                  return Math.floor(t.totalDays());
                              }),
                              (this.hours = function () {
                                  var e = t.ticks - t.days() * n;
                                  return Math.floor(e / i);
                              }),
                              (this.minutes = function () {
                                  var e = t.ticks - Math.floor(t.totalHours()) * i;
                                  return Math.floor(e / a);
                              }),
                              (this.seconds = function () {
                                  var e = t.ticks - Math.floor(t.totalMinutes()) * a;
                                  return Math.floor(e / r);
                              }),
                              (this.milliseconds = function () {
                                  return t.ticks % r;
                              }),
                              void (this.add = function (e) {
                                  return new DayPilot.Duration(t.ticks + e.ticks);
                              }))
                    );
                }),
                (DayPilot.Duration.ofWeeks = function (e) {
                    return new DayPilot.Duration(1e3 * e * 60 * 60 * 24 * 7);
                }),
                (DayPilot.Duration.ofDays = function (e) {
                    return new DayPilot.Duration(1e3 * e * 60 * 60 * 24);
                }),
                (DayPilot.Duration.ofHours = function (e) {
                    return new DayPilot.Duration(1e3 * e * 60 * 60);
                }),
                (DayPilot.Duration.ofMinutes = function (e) {
                    return new DayPilot.Duration(1e3 * e * 60);
                }),
                (DayPilot.Duration.ofSeconds = function (e) {
                    return new DayPilot.Duration(1e3 * e);
                }),
                (DayPilot.Duration.weeks = function (e) {
                    return DayPilot.Duration.ofWeeks(e);
                }),
                (DayPilot.Duration.days = function (e) {
                    return DayPilot.Duration.ofDays(e);
                }),
                (DayPilot.Duration.hours = function (e) {
                    return DayPilot.Duration.ofHours(e);
                }),
                (DayPilot.Duration.minutes = function (e) {
                    return DayPilot.Duration.ofMinutes(e);
                }),
                (DayPilot.Duration.seconds = function (e) {
                    return DayPilot.Duration.ofSeconds(e);
                }),
                (DayPilot.TimeSpan = function () {
                    throw "Please use DayPilot.Duration class instead of DayPilot.TimeSpan.";
                });
            try {
                DayPilot.TimeSpan.prototype = Object.create(DayPilot.Duration.prototype);
            } catch (e) {}
            (DayPilot.Date = function (t, n) {
                if (t instanceof DayPilot.Date) return t;
                var i;
                DayPilot.Util.isNullOrUndefined(t) && ((i = DayPilot.DateUtil.fromLocal().getTime()), (t = i));
                var a = DayPilot.Date.Cache.Ctor;
                if (a[t]) return (DayPilot.Stats.cacheHitsCtor += 1), a[t];
                var r = !1;
                if ("string" == typeof t) {
                    try {
                        i = DayPilot.DateUtil.fromStringSortable(t, n).getTime();
                    } catch (e) {
                        throw new DayPilot.Exception("DayPilot.Date - Unable to parse ISO8601 date/time string: " + t);
                    }
                    r = !0;
                } else if ("number" == typeof t) {
                    if (isNaN(t)) throw "Cannot create DayPilot.Date from NaN";
                    i = t;
                } else {
                    if (!(t instanceof Date)) throw "Unrecognized parameter: use Date, number or string in ISO 8601 format";
                    i = n ? DayPilot.DateUtil.fromLocal(t).getTime() : t.getTime();
                }
                var o = e(i);
                return a[o]
                    ? a[o]
                    : ((a[o] = this),
                      (a[i] = this),
                      r && o !== t && DayPilot.DateUtil.hasTzSpec(t) && (a[t] = this),
                      Object.defineProperty
                          ? (Object.defineProperty(this, "ticks", {
                                get: function () {
                                    return i;
                                },
                            }),
                            Object.defineProperty(this, "value", { value: o, writable: !1, enumerable: !0 }))
                          : ((this.ticks = i), (this.value = o)),
                      DayPilot.Date.Config.legacyShowD && (this.d = new Date(i)),
                      void (DayPilot.Stats.dateObjects += 1));
            }),
                (DayPilot.Date.Config = {}),
                (DayPilot.Date.Config.legacyShowD = !1),
                (DayPilot.Date.Cache = {}),
                (DayPilot.Date.Cache.Parsing = {}),
                (DayPilot.Date.Cache.Ctor = {}),
                (DayPilot.Date.Cache.Ticks = {}),
                (DayPilot.Date.Cache.DurationCtor = {}),
                (DayPilot.Date.Cache.clear = function () {
                    (DayPilot.Date.Cache.Parsing = {}), (DayPilot.Date.Cache.Ctor = {}), (DayPilot.Date.Cache.Ticks = {}), (DayPilot.Date.Cache.DurationCtor = {});
                }),
                (DayPilot.Date.prototype.addDays = function (e) {
                    return e ? new DayPilot.Date(this.ticks + 24 * e * 60 * 60 * 1e3) : this;
                }),
                (DayPilot.Date.prototype.addHours = function (e) {
                    return e ? this.addTime(60 * e * 60 * 1e3) : this;
                }),
                (DayPilot.Date.prototype.addMilliseconds = function (e) {
                    return e ? this.addTime(e) : this;
                }),
                (DayPilot.Date.prototype.addMinutes = function (e) {
                    return e ? this.addTime(60 * e * 1e3) : this;
                }),
                (DayPilot.Date.prototype.addMonths = function (e) {
                    if (!e) return this;
                    var t = new Date(this.ticks),
                        n = t.getUTCFullYear(),
                        i = t.getUTCMonth() + 1;
                    if (e > 0) {
                        for (; e >= 12; ) (e -= 12), n++;
                        e > 12 - i ? (n++, (i = e - (12 - i))) : (i += e);
                    } else {
                        for (; e <= -12; ) (e += 12), n--;
                        i + e <= 0 ? (n--, (i = 12 + i + e)) : (i += e);
                    }
                    var a = new Date(t.getTime());
                    a.setUTCDate(1), a.setUTCFullYear(n), a.setUTCMonth(i - 1);
                    var r = new DayPilot.Date(a).daysInMonth();
                    return a.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(a);
                }),
                (DayPilot.Date.prototype.addSeconds = function (e) {
                    return e ? this.addTime(1e3 * e) : this;
                }),
                (DayPilot.Date.prototype.addTime = function (e) {
                    return e ? (e instanceof DayPilot.Duration && (e = e.ticks), new DayPilot.Date(this.ticks + e)) : this;
                }),
                (DayPilot.Date.prototype.addYears = function (e) {
                    var t = new Date(this.ticks),
                        n = new Date(this.ticks),
                        i = this.getYear() + e,
                        a = this.getMonth();
                    n.setUTCDate(1), n.setUTCFullYear(i), n.setUTCMonth(a);
                    var r = new DayPilot.Date(n).daysInMonth();
                    return n.setUTCDate(Math.min(r, t.getUTCDate())), new DayPilot.Date(n);
                }),
                (DayPilot.Date.prototype.dayOfWeek = function () {
                    return new Date(this.ticks).getUTCDay();
                }),
                (DayPilot.Date.prototype.dayOfWeekISO = function () {
                    return new Date(this.ticks).getUTCDay() || 7;
                }),
                (DayPilot.Date.prototype.getDayOfWeek = function () {
                    return new Date(this.ticks).getUTCDay();
                }),
                (DayPilot.Date.prototype.getDayOfYear = function () {
                    var e = this.firstDayOfYear();
                    return DayPilot.DateUtil.daysDiff(e, this) + 1;
                }),
                (DayPilot.Date.prototype.daysInMonth = function () {
                    var e = new Date(this.ticks),
                        t = e.getUTCMonth() + 1,
                        n = e.getUTCFullYear(),
                        i = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
                    return 2 !== t ? i[t - 1] : n % 4 !== 0 ? i[1] : n % 100 === 0 && n % 400 !== 0 ? i[1] : i[1] + 1;
                }),
                (DayPilot.Date.prototype.daysInYear = function () {
                    var e = this.getYear();
                    return e % 4 !== 0 ? 365 : e % 100 === 0 && e % 400 !== 0 ? 365 : 366;
                }),
                (DayPilot.Date.prototype.dayOfYear = function () {
                    return Math.ceil((this.getDatePart().getTime() - this.firstDayOfYear().getTime()) / 864e5) + 1;
                }),
                (DayPilot.Date.prototype.equals = function (e) {
                    if (null === e) return !1;
                    if (e instanceof DayPilot.Date) return this === e;
                    throw "The parameter must be a DayPilot.Date object (DayPilot.Date.equals())";
                }),
                (DayPilot.Date.prototype.firstDayOfMonth = function () {
                    var e = new Date();
                    return e.setUTCFullYear(this.getYear(), this.getMonth(), 1), e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), new DayPilot.Date(e);
                }),
                (DayPilot.Date.prototype.firstDayOfYear = function () {
                    var e = this.getYear(),
                        t = new Date();
                    return t.setUTCFullYear(e, 0, 1), t.setUTCHours(0), t.setUTCMinutes(0), t.setUTCSeconds(0), t.setUTCMilliseconds(0), new DayPilot.Date(t);
                }),
                (DayPilot.Date.prototype.firstDayOfWeek = function (e) {
                    var t = this;
                    if (e instanceof DayPilot.Locale) e = e.weekStarts;
                    else if ("string" == typeof e && DayPilot.Locale.find(e)) {
                        var n = DayPilot.Locale.find(e);
                        e = n.weekStarts;
                    } else e = e || 0;
                    for (var i = t.dayOfWeek(); i !== e; ) (t = t.addDays(-1)), (i = t.dayOfWeek());
                    return new DayPilot.Date(t);
                }),
                (DayPilot.Date.prototype.getDay = function () {
                    return new Date(this.ticks).getUTCDate();
                }),
                (DayPilot.Date.prototype.getDatePart = function () {
                    var e = new Date(this.ticks);
                    return e.setUTCHours(0), e.setUTCMinutes(0), e.setUTCSeconds(0), e.setUTCMilliseconds(0), new DayPilot.Date(e);
                }),
                (DayPilot.Date.prototype.getYear = function () {
                    return new Date(this.ticks).getUTCFullYear();
                }),
                (DayPilot.Date.prototype.getHours = function () {
                    return new Date(this.ticks).getUTCHours();
                }),
                (DayPilot.Date.prototype.getMilliseconds = function () {
                    return new Date(this.ticks).getUTCMilliseconds();
                }),
                (DayPilot.Date.prototype.getMinutes = function () {
                    return new Date(this.ticks).getUTCMinutes();
                }),
                (DayPilot.Date.prototype.getMonth = function () {
                    return new Date(this.ticks).getUTCMonth();
                }),
                (DayPilot.Date.prototype.getSeconds = function () {
                    return new Date(this.ticks).getUTCSeconds();
                }),
                (DayPilot.Date.prototype.getTotalTicks = function () {
                    return this.getTime();
                }),
                (DayPilot.Date.prototype.getTime = function () {
                    return this.ticks;
                }),
                (DayPilot.Date.prototype.getTimePart = function () {
                    var e = this.getDatePart();
                    return DayPilot.DateUtil.diff(this, e);
                }),
                (DayPilot.Date.prototype.lastDayOfMonth = function () {
                    var e = new Date(this.firstDayOfMonth().getTime()),
                        t = this.daysInMonth();
                    return e.setUTCDate(t), new DayPilot.Date(e);
                }),
                (DayPilot.Date.prototype.weekNumber = function () {
                    var e = this.firstDayOfYear(),
                        t = (this.getTime() - e.getTime()) / 864e5;
                    return Math.ceil((t + e.dayOfWeek() + 1) / 7);
                }),
                (DayPilot.Date.prototype.weekNumberISO = function () {
                    var e = !1,
                        t = this.dayOfYear(),
                        n = this.firstDayOfYear().dayOfWeek(),
                        i = this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();
                    0 === n && (n = 7), 0 === i && (i = 7);
                    var a = 8 - n;
                    (4 !== n && 4 !== i) || (e = !0);
                    var r = Math.ceil((t - a) / 7),
                        o = r;
                    return a >= 4 && (o += 1), o > 52 && !e && (o = 1), 0 === o && (o = this.firstDayOfYear().addDays(-1).weekNumberISO()), o;
                }),
                (DayPilot.Date.prototype.toDateLocal = function () {
                    var e = new Date(this.ticks),
                        t = new Date();
                    return t.setFullYear(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()), t.setHours(e.getUTCHours()), t.setMinutes(e.getUTCMinutes()), t.setSeconds(e.getUTCSeconds()), t.setMilliseconds(e.getUTCMilliseconds()), t;
                }),
                (DayPilot.Date.prototype.toDate = function () {
                    return new Date(this.ticks);
                }),
                (DayPilot.Date.prototype.toJSON = function () {
                    return this.value;
                }),
                (DayPilot.Date.prototype.toString = function (e, t) {
                    return e ? new r(e, t).print(this) : this.toStringSortable();
                }),
                (DayPilot.Date.prototype.toStringSortable = function () {
                    return e(this.ticks);
                }),
                (DayPilot.Date.parse = function (e, t, n) {
                    return new r(t, n).parse(e);
                });
            var a = 0;
            (DayPilot.Date.today = function () {
                return new DayPilot.Date(DayPilot.DateUtil.localToday(), !0);
            }),
                (DayPilot.Date.now = function () {
                    return new DayPilot.Date();
                }),
                (DayPilot.Date.fromYearMonthDay = function (e, t, n) {
                    (t = t || 1), (n = n || 1);
                    var i = new Date(0);
                    return i.setUTCFullYear(e), i.setUTCMonth(t - 1), i.setUTCDate(n), new DayPilot.Date(i);
                }),
                (DayPilot.DateUtil = {}),
                (DayPilot.DateUtil.fromStringSortable = function (e, t) {
                    var n = function () {
                        return new DayPilot.Exception("Invalid string format (use '2010-12-31' or '2010-12-31T23:50:00'): '" + e + "'");
                    };
                    if (!e) throw new DayPilot.Exception("Can't create DayPilot.Date from an empty string");
                    var i = e.length,
                        a = 10 === i,
                        r = 19 === i,
                        o = i > 19;
                    if (!a && !r && !o) throw n();
                    if (DayPilot.Date.Cache.Parsing[e] && !t) return (DayPilot.Stats.cacheHitsParsing += 1), DayPilot.Date.Cache.Parsing[e];
                    var s = e.substring(0, 4);
                    if (isNaN(s)) throw n();
                    var l = e.substring(5, 7);
                    if (isNaN(l)) throw n();
                    var d = e.substring(8, 10);
                    if (isNaN(d)) throw n();
                    var c = new Date(0);
                    if ((c.setUTCFullYear(s, l - 1, d), a)) return (DayPilot.Date.Cache.Parsing[e] = c), c;
                    var u = e.substring(11, 13);
                    if (isNaN(u)) throw n();
                    var h = e.substring(14, 16);
                    if (isNaN(h)) throw n();
                    var f = e.substring(17, 19);
                    if (isNaN(f)) throw n();
                    if ((c.setUTCHours(u), c.setUTCMinutes(h), c.setUTCSeconds(f), r)) return (DayPilot.Date.Cache.Parsing[e] = c), c;
                    var v = e[19],
                        p = 0;
                    if ("." === v) {
                        var m = parseInt(e.substring(20, 23));
                        if (isNaN(m)) throw n();
                        c.setUTCMilliseconds(m), (p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(23)));
                    } else p = DayPilot.DateUtil.getTzOffsetMinutes(e.substring(19));
                    var g = new DayPilot.Date(c);
                    return t || (g = g.addMinutes(-p)), (c = g.toDate()), (DayPilot.Date.Cache.Parsing[e] = c), c;
                }),
                (DayPilot.DateUtil.getTzOffsetMinutes = function (e) {
                    if (DayPilot.Util.isNullOrUndefined(e) || "" === e) return 0;
                    if ("Z" === e) return 0;
                    var t = e[0],
                        n = parseInt(e.substring(1, 3)),
                        i = parseInt(e.substring(4)),
                        a = 60 * n + i;
                    if ("-" === t) return -a;
                    if ("+" === t) return a;
                    throw "Invalid timezone spec: " + e;
                }),
                (DayPilot.DateUtil.hasTzSpec = function (e) {
                    return !!e.indexOf("+") || !!e.indexOf("-");
                }),
                (DayPilot.DateUtil.daysDiff = function (e, t) {
                    if (
                        ((e && t) ||
                            (function () {
                                throw "two parameters required";
                            })(),
                        (e = new DayPilot.Date(e)),
                        (t = new DayPilot.Date(t)),
                        e.getTime() > t.getTime())
                    )
                        return null;
                    for (var n = 0, i = e.getDatePart(), a = t.getDatePart(); i.getTime() < a.getTime(); ) (i = i.addDays(1)), n++;
                    return n;
                }),
                (DayPilot.DateUtil.daysSpan = function (e, t) {
                    if (
                        ((e && t) ||
                            (function () {
                                throw "two parameters required";
                            })(),
                        (e = new DayPilot.Date(e)),
                        (t = new DayPilot.Date(t)),
                        e.getTime() === t.getTime())
                    )
                        return 0;
                    var n = DayPilot.DateUtil.daysDiff(e, t);
                    return t.getTime() === t.getDatePart().getTime() && n--, n;
                }),
                (DayPilot.DateUtil.diff = function (e, t) {
                    if (!(e && t && e.getTime && t.getTime)) throw "Both compared objects must be Date objects (DayPilot.Date.diff).";
                    return e.getTime() - t.getTime();
                }),
                (DayPilot.DateUtil.fromLocal = function (e) {
                    e || (e = new Date());
                    var t = new Date();
                    return t.setUTCFullYear(e.getFullYear(), e.getMonth(), e.getDate()), t.setUTCHours(e.getHours()), t.setUTCMinutes(e.getMinutes()), t.setUTCSeconds(e.getSeconds()), t.setUTCMilliseconds(e.getMilliseconds()), t;
                }),
                (DayPilot.DateUtil.localToday = function () {
                    var e = new Date();
                    return e.setHours(0), e.setMinutes(0), e.setSeconds(0), e.setMilliseconds(0), e;
                }),
                (DayPilot.DateUtil.hours = function (e, t) {
                    var n = e.getUTCMinutes();
                    n < 10 && (n = "0" + n);
                    var i = e.getUTCHours();
                    if (t) {
                        var a = i < 12,
                            i = i % 12;
                        0 === i && (i = 12);
                        return i + ":" + n + " " + (a ? "AM" : "PM");
                    }
                    return i + ":" + n;
                }),
                (DayPilot.DateUtil.max = function (e, t) {
                    return e.getTime() > t.getTime() ? e : t;
                }),
                (DayPilot.DateUtil.min = function (e, t) {
                    return e.getTime() < t.getTime() ? e : t;
                });
            var r = function (e, n) {
                "string" == typeof n && (n = DayPilot.Locale.find(n));
                var n = n || DayPilot.Locale.US,
                    i = [
                        {
                            seq: "yyyy",
                            expr: "[0-9]{4,4}",
                            str: function (e) {
                                return e.getYear();
                            },
                        },
                        {
                            seq: "yy",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                return e.getYear() % 100;
                            },
                            transform: function (e) {
                                return parseInt(e) + 2e3;
                            },
                        },
                        {
                            seq: "mm",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getMinutes();
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "m",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getMinutes();
                            },
                        },
                        {
                            seq: "HH",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getHours();
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "H",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getHours();
                            },
                        },
                        {
                            seq: "hh",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getHours(),
                                    t = t % 12;
                                0 === t && (t = 12);
                                var n = t;
                                return n < 10 ? "0" + n : n;
                            },
                        },
                        {
                            seq: "h",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                var t = e.getHours(),
                                    t = t % 12;
                                return 0 === t && (t = 12), t;
                            },
                        },
                        {
                            seq: "ss",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getSeconds();
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "s",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getSeconds();
                            },
                        },
                        {
                            seq: "MMMM",
                            expr: "[^\\s0-9]*",
                            str: function (e) {
                                return n.monthNames[e.getMonth()];
                            },
                            transform: function (e) {
                                var i = DayPilot.indexOf(n.monthNames, e, t);
                                return i < 0 ? null : i + 1;
                            },
                        },
                        {
                            seq: "MMM",
                            expr: "[^\\s0-9]*",
                            str: function (e) {
                                return n.monthNamesShort[e.getMonth()];
                            },
                            transform: function (e) {
                                var i = DayPilot.indexOf(n.monthNamesShort, e, t);
                                return i < 0 ? null : i + 1;
                            },
                        },
                        {
                            seq: "MM",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getMonth() + 1;
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "M",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getMonth() + 1;
                            },
                        },
                        {
                            seq: "dddd",
                            expr: "[^\\s0-9]*",
                            str: function (e) {
                                return n.dayNames[e.getDayOfWeek()];
                            },
                        },
                        {
                            seq: "ddd",
                            expr: "[^\\s0-9]*",
                            str: function (e) {
                                return n.dayNamesShort[e.getDayOfWeek()];
                            },
                        },
                        {
                            seq: "dd",
                            expr: "[0-9]{2,2}",
                            str: function (e) {
                                var t = e.getDay();
                                return t < 10 ? "0" + t : t;
                            },
                        },
                        {
                            seq: "%d",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getDay();
                            },
                        },
                        {
                            seq: "d",
                            expr: "[0-9]{1,2}",
                            str: function (e) {
                                return e.getDay();
                            },
                        },
                        {
                            seq: "tt",
                            expr: "(AM|PM|am|pm)",
                            str: function (e) {
                                return e.getHours() < 12 ? "AM" : "PM";
                            },
                            transform: function (e) {
                                return e.toUpperCase();
                            },
                        },
                    ],
                    a = function (e) {
                        return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
                    };
                (this.init = function () {
                    (this.year = this.findSequence("yyyy") || this.findSequence("yy")),
                        (this.month = this.findSequence("MMMM") || this.findSequence("MMM") || this.findSequence("MM") || this.findSequence("M")),
                        (this.day = this.findSequence("dd") || this.findSequence("d")),
                        (this.hours = this.findSequence("HH") || this.findSequence("H")),
                        (this.minutes = this.findSequence("mm") || this.findSequence("m")),
                        (this.seconds = this.findSequence("ss") || this.findSequence("s")),
                        (this.ampm = this.findSequence("tt")),
                        (this.hours12 = this.findSequence("hh") || this.findSequence("h"));
                }),
                    (this.findSequence = function (t) {
                        function n(e) {
                            return parseInt(e);
                        }
                        return e.indexOf(t) === -1
                            ? null
                            : {
                                  findValue: function (r) {
                                      for (var o = a(e), s = null, l = 0; l < i.length; l++) {
                                          var d = (i[l].length, t === i[l].seq),
                                              c = i[l].expr;
                                          d && ((c = "(" + c + ")"), (s = i[l].transform)), (o = o.replace(i[l].seq, c));
                                      }
                                      o = "^" + o + "$";
                                      try {
                                          var u = new RegExp(o),
                                              h = u.exec(r);
                                          return h ? (s = s || n)(h[1]) : null;
                                      } catch (e) {
                                          throw "unable to create regex from: " + o;
                                      }
                                  },
                              };
                    }),
                    (this.print = function (t) {
                        for (
                            var n = function (e) {
                                    for (var t = 0; t < i.length; t++) if (i[t] && i[t].seq === e) return i[t];
                                    return null;
                                },
                                a = e.length <= 0,
                                r = 0,
                                o = [];
                            !a;

                        ) {
                            var s = e.substring(r),
                                l = /%?(.)\1*/.exec(s);
                            if (l && l.length > 0) {
                                var d = l[0],
                                    c = n(d);
                                c ? o.push(c) : o.push(d), (r += d.length), (a = e.length <= r);
                            } else a = !0;
                        }
                        for (var u = 0; u < o.length; u++) {
                            var h = o[u];
                            "string" != typeof h && (o[u] = h.str(t));
                        }
                        return o.join("");
                    }),
                    (this.parse = function (e) {
                        var t = this.year.findValue(e);
                        if (!t) return null;
                        var n = this.month.findValue(e);
                        if (DayPilot.Util.isNullOrUndefined(n)) return null;
                        if (n > 12 || n < 1) return null;
                        var i = this.day.findValue(e),
                            a = DayPilot.Date.fromYearMonthDay(t, n).daysInMonth();
                        if (i < 1 || i > a) return null;
                        var r = this.hours ? this.hours.findValue(e) : 0,
                            o = this.minutes ? this.minutes.findValue(e) : 0,
                            s = this.seconds ? this.seconds.findValue(e) : 0,
                            l = this.ampm ? this.ampm.findValue(e) : null;
                        if (this.ampm && this.hours12) {
                            var d = this.hours12.findValue(e);
                            if (d < 1 || d > 12) return null;
                            r = "PM" === l ? (12 === d ? 12 : d + 12) : 12 === d ? 0 : d;
                        }
                        if (r < 0 || r > 23) return null;
                        if (o < 0 || o > 59) return null;
                        if (s < 0 || s > 59) return null;
                        var c = new Date();
                        return c.setUTCFullYear(t, n - 1, i), c.setUTCHours(r), c.setUTCMinutes(o), c.setUTCSeconds(s), c.setUTCMilliseconds(0), new DayPilot.Date(c);
                    }),
                    this.init();
            };
            (DayPilot.ColorUtil = {}),
                (DayPilot.ColorUtil.hexToRgb = function (e) {
                    if (!/^#[0-9a-f]{6}$/i.test(e)) throw new DayPilot.Exception("Invalid color, only full hex color string accepted, eg. '#ffaaff'.");
                    return (e = e.replace("#", "")), { r: parseInt(e.substring(0, 2), 16), g: parseInt(e.substring(2, 4), 16), b: parseInt(e.substring(4, 6), 16) };
                }),
                (DayPilot.ColorUtil.rgbToHex = function (e) {
                    return "#" + n(e.r) + n(e.g) + n(e.b);
                }),
                (DayPilot.ColorUtil.adjustLuminance = function (e, t) {
                    return { r: e.r + t, g: e.g + t, b: e.b + t };
                }),
                (DayPilot.ColorUtil.darker = function (e, t) {
                    var n = DayPilot.ColorUtil.hexToRgb(e);
                    "number" != typeof t && (t = 1);
                    var i = 17,
                        a = Math.round(t * i),
                        r = DayPilot.ColorUtil.adjustLuminance(n, -a);
                    return DayPilot.ColorUtil.rgbToHex(r);
                }),
                (DayPilot.ColorUtil.lighter = function (e, t) {
                    return "number" != typeof t && (t = 1), DayPilot.ColorUtil.darker(e, -t);
                }),
                (DayPilot.ColorUtil.pl = function (e) {
                    var t = DayPilot.ColorUtil.hexToRgb(e),
                        n = t.r / 255,
                        i = t.g / 255,
                        a = t.b / 255;
                    return Math.sqrt(0.299 * n * n + 0.587 * i * i + 0.114 * a * a);
                }),
                (DayPilot.ColorUtil.contrasting = function (e, t, n) {
                    var i = DayPilot.ColorUtil.pl(e);
                    return (t = t || "#ffffff"), (n = n || "#000000"), i > 0.5 ? n : t;
                }),
                (DayPilot.Canvas = function (e, t, n, i, a) {
                    function r(e, t, n) {
                        for (var i = t.split(" "), a = [], r = i[0], o = 1; o < i.length; o++) {
                            var s = i[o];
                            e.measureText(r + " " + s).width < n ? (r += " " + s) : (a.push(r), (r = s));
                        }
                        return a.push(r), a;
                    }
                    var i = i || 1,
                        s = document.createElement("canvas");
                    (s.width = e * i), (s.height = t * i);
                    var l = s.getContext("2d");
                    l.scale(i, i),
                        (this.defaultFileName = "image.png"),
                        "image/jpeg" === n && ((this.defaultFileName = "image.jpg"), (a = a || 0.92)),
                        (this.groupStart = function (e) {}),
                        (this.groupEnd = function () {}),
                        (this.fillRect = function (e, t) {
                            l.save(), (l.strokeStyle = "rgb(0,0,0,0)"), (l.fillStyle = t), l.fillRect(e.x, e.y, e.w, e.h), l.restore();
                        }),
                        (this.rect = function (e, t) {
                            l.save(), (l.strokeStyle = t), l.beginPath(), l.rect(e.x + 0.5, e.y + 0.5, e.w - 1, e.h - 1), l.stroke(), l.restore();
                        }),
                        (this.diamond = function (e, t) {
                            l.save(),
                                (l.strokeStyle = "rgb(0,0,0,0)"),
                                (l.fillStyle = t),
                                l.beginPath(),
                                l.moveTo(e.x + e.w / 2, e.y + 0.5),
                                l.lineTo(e.x + e.w - 0.5, e.y + e.h / 2),
                                l.lineTo(e.x + e.w / 2, e.y + e.h - 0.5),
                                l.lineTo(e.x + 0.5, e.y + e.h / 2),
                                l.closePath(),
                                l.fill(),
                                l.restore();
                        }),
                        (this.triangle = function (e, t, n) {
                            for (n = n || 0; n < 0; ) n += 360;
                            for (; n >= 360; ) n -= 360;
                            switch ((l.save(), (l.strokeStyle = "rgb(0,0,0,0)"), (l.fillStyle = t), l.beginPath(), n)) {
                                case 0:
                                    l.moveTo(e.x + e.w / 3, e.y + 0.5), l.lineTo(e.x + e.w + 0.5, e.y + e.h / 2), l.lineTo(e.x + e.w / 3, e.y + e.h - 0.5);
                                    break;
                                case 90:
                                    l.moveTo(e.x - 0.5, e.y + e.h / 3), l.lineTo(e.x + e.w + 0.5, e.y + e.h / 3), l.lineTo(e.x + e.w / 2, e.y + e.h + 0.5);
                                    break;
                                case 180:
                                    l.moveTo(e.x + (2 * e.w) / 3, e.y + 0.5), l.lineTo(e.x + (2 * e.w) / 3, e.y + e.h), l.lineTo(e.x, e.y + e.h / 2);
                                    break;
                                case 270:
                                    l.moveTo(e.x + e.w / 2, e.y + e.w / 2 + 0.5), l.lineTo(e.x + e.w - 0.5, e.y + (2 * e.h) / 3), l.lineTo(e.x, e.y + (2 * e.h) / 3);
                                    break;
                                default:
                                    throw new DayPilot.Exception("Unsupported rotation angle");
                            }
                            l.closePath(), l.fill(), l.restore();
                        }),
                        (this.upperLeftCorner = function (e, t) {
                            l.save(), (l.strokeStyle = "rgb(0,0,0,0)"), (l.fillStyle = t), l.beginPath(), l.moveTo(e.x, e.y), l.lineTo(e.x + e.w, e.y), l.lineTo(e.x, e.y + e.h), l.closePath(), l.fill(), l.restore();
                        }),
                        (this.upperRightCorner = function (e, t) {
                            l.save(), (l.strokeStyle = "rgb(0,0,0,0)"), (l.fillStyle = t), l.beginPath(), l.moveTo(e.x, e.y), l.lineTo(e.x + e.w, e.y), l.lineTo(e.x + e.w, e.y + e.h), l.closePath(), l.fill(), l.restore();
                        }),
                        (this.textWidth = function (e, t) {
                            l.save(), (l.font = t.style + " " + t.size + " " + t.family);
                            var n = l.measureText(e).width + 1;
                            return l.restore(), n;
                        }),
                        (this.text = function (e, t, n, i, a, o, s, d) {
                            if (t) {
                                if (("number" == typeof t && (t = "" + t), "string" != typeof t)) throw "String expected, supplied: " + typeof t;
                                (a = a || "left"), (o = o || 0), (i = i || "#000"), (s = s || "top"), l.save();
                                var c = DayPilot.Util.fontHeight(n),
                                    u = DayPilot.browser.ff ? 3 : 0;
                                (u += 0.2 * c),
                                    (u += DayPilot.browser.chrome ? 1 : 0),
                                    l.beginPath(),
                                    l.rect(e.x + 0.5 + o, e.y + 0.5 + o, e.w - 1 - o, e.h - 1 - o),
                                    l.clip(),
                                    (l.fillStyle = i),
                                    (l.font = n.style + " " + n.size + " " + n.family),
                                    (l.textBaseline = "top"),
                                    (l.textAlign = a);
                                var h = e.x;
                                switch (a) {
                                    case "left":
                                        h += o;
                                        break;
                                    case "center":
                                        h += e.w / 2;
                                        break;
                                    case "right":
                                        h += e.w - o;
                                }
                                var f = 1.2 * c,
                                    v = t.split("\n"),
                                    p = [];
                                DayPilot.list(v).forEach(function (t) {
                                    if (d) {
                                        var n = r(l, t, e.w);
                                        DayPilot.list(n).forEach(function (e) {
                                            p.push(e);
                                        });
                                    } else p.push(t);
                                });
                                var m = f - c,
                                    g = f * p.length - m,
                                    y = e.h - 2 * o,
                                    b = e.y + o;
                                switch (s) {
                                    case "top":
                                        b += u;
                                        break;
                                    case "center":
                                        b += (y - g) / 2 + 0.1 * c;
                                        break;
                                    case "bottom":
                                        b += y - g;
                                }
                                for (var w = 0; w < p.length; w++) {
                                    var x = p[w];
                                    l.fillText(x, h, b), (b += f);
                                }
                                l.restore();
                            }
                        }),
                        (this.line = function (e, t, n, i, a) {
                            l.save(), (l.lineWidth = 1), (l.strokeStyle = a), l.beginPath(), l.moveTo(e + 0.5, t + 0.5), l.lineTo(n + 0.5, i + 0.5), l.stroke(), l.restore();
                        }),
                        (this.image = function (e, t) {
                            if (t) {
                                if ("string" == typeof t) {
                                    var n = t,
                                        t = document.createElement("img");
                                    if ((0 !== n.indexOf("data:"), !0))
                                        return (
                                            (t.onload = function () {
                                                l.save(), l.drawImage(t, e.x, e.y), l.restore();
                                            }),
                                            void (t.src = n)
                                        );
                                    t.src = n;
                                }
                                l.save(), l.drawImage(t, e.x, e.y), l.restore();
                            }
                        }),
                        (this.symbol = function (e, t, n) {
                            var i = "http://www.w3.org/2000/svg",
                                a = document.createElementNS(i, "svg"),
                                r = this;
                            n = n || {};
                            var s = n.color;
                            new o(t).k().then(function (t) {
                                if (s) {
                                    var n = document.createElementNS(i, "style");
                                    (n.innerHTML = "svg { color: " + s + "; }"), a.appendChild(n);
                                }
                                a.setAttribute("viewBox", t.getAttribute("viewBox")), a.setAttribute("width", e.w), a.setAttribute("height", e.h);
                                var o = document.createElementNS(i, "g");
                                (o.innerHTML = t.innerHTML), a.appendChild(o);
                                var l = new XMLSerializer().serializeToString(a),
                                    d = "data:image/svg+xml;base64," + btoa(l);
                                r.image(e, d);
                            });
                        }),
                        (this.getWidth = function () {
                            return s.width;
                        }),
                        (this.getHeight = function () {
                            return s.height;
                        }),
                        (this.getElement = function () {
                            return s;
                        }),
                        (this.getSource = function () {
                            return "<img src='" + s.toDataURL(n, a) + "' />";
                        }),
                        (this.getDataUri = function () {
                            return s.toDataURL(n, a);
                        }),
                        (this.getDefaultFileName = function () {
                            return this.defaultFileName;
                        }),
                        (this.getBlob = function () {
                            return s.msToBlob ? s.msToBlob() : DayPilot.Util.dataUriToBlob(this.getDataUri());
                        });
                }),
                (DayPilot.Svg = function (e, t) {
                    function n(e, t) {
                        var n = document.createElementNS(a, "clipPath");
                        n.id = "clip" + DayPilot.guid();
                        var i = document.createElementNS(a, "rect");
                        i.setAttribute("x", 0), i.setAttribute("y", 0), i.setAttribute("width", e), i.setAttribute("height", t), n.appendChild(i), s.defs.appendChild(n);
                        var o = document.createElementNS(a, "g");
                        o.setAttribute("clip-path", "url(#" + n.id + ")"), r.appendChild(o), (r = o);
                    }
                    function i(e, t) {
                        var n = null;
                        if (e) {
                            if ("string" == typeof e) {
                                if (0 === e.indexOf("data:")) {
                                    var i = {};
                                    (i.dataUri = e), t(i);
                                }
                                n = e;
                            } else n = e.src;
                            var e = document.createElement("img");
                            (e.onload = function () {
                                var e = document.createElement("canvas");
                                (e.width = this.naturalWidth), (e.height = this.naturalHeight), e.getContext("2d").drawImage(this, 0, 0);
                                var n = {};
                                (n.dataUri = e.toDataURL("image/png")), t(n);
                            }),
                                (e.src = n);
                        }
                    }
                    var a = "http://www.w3.org/2000/svg",
                        r = document.createElementNS(a, "svg"),
                        s = this;
                    (this.l = r), (this.groups = []), r.outerHTML && r.setAttribute("xmlns", a), r.setAttribute("viewBox", "0 0 " + e + " " + t);
                    var l = document.createElementNS(a, "defs");
                    r.appendChild(l),
                        (s.defs = l),
                        n(e, t),
                        (this.defaultFileName = "image.svg"),
                        (this.groupStart = function (e) {
                            var t = document.createElementNS(a, "g");
                            for (var n in e) t.setAttribute("data-" + n, e[n]);
                            (r = t), this.group && this.groups.push(this.group), (this.group = t);
                        }),
                        (this.groupEnd = function () {
                            if (!this.group) throw new DayPilot.Exception("SVG export = group not open");
                            var e = this.group;
                            (this.group = this.groups.pop()), (r = this.group), r || (r = this.l), r.appendChild(e);
                        }),
                        (this.fillRect = function (e, t) {
                            var n = document.createElementNS(a, "rect");
                            n.setAttribute("x", e.x), n.setAttribute("y", e.y), n.setAttribute("width", e.w), n.setAttribute("height", e.h), n.setAttribute("fill", t), r.appendChild(n);
                        }),
                        (this.diamond = function (e, t) {
                            var n = document.createElementNS(a, "path"),
                                i = "";
                            (i += "M " + (e.x + e.w / 2) + " " + e.y),
                                (i += " "),
                                (i += "L " + (e.x + e.w) + " " + (e.y + e.h / 2)),
                                (i += " "),
                                (i += "L " + (e.x + e.w / 2) + " " + (e.y + e.h)),
                                (i += " "),
                                (i += "L " + e.x + " " + (e.y + e.h / 2)),
                                (i += " Z"),
                                n.setAttribute("d", i),
                                n.setAttribute("fill", t),
                                r.appendChild(n);
                        }),
                        (this.triangle = function (e, t, n) {
                            var i = document.createElementNS(a, "path"),
                                o = "";
                            (o += "M " + (e.x + e.w / 3) + " " + e.y),
                                (o += " "),
                                (o += "L " + (e.x + e.w) + " " + (e.y + e.h / 2)),
                                (o += " "),
                                (o += "L " + (e.x + e.w / 3) + " " + (e.y + e.h)),
                                (o += " Z"),
                                i.setAttribute("d", o),
                                i.setAttribute("fill", t),
                                "number" == typeof n && i.setAttribute("transform", "rotate(" + n + "," + (e.x + e.w / 2) + "," + (e.y + e.h / 2) + ")"),
                                r.appendChild(i);
                        }),
                        (this.upperLeftCorner = function (e, t) {
                            var n = document.createElementNS(a, "path"),
                                i = "";
                            (i += "M " + e.x + " " + e.y),
                                (i += " "),
                                (i += "L " + (e.x + e.w) + " " + e.y),
                                (i += " "),
                                (i += "L " + e.x + " " + (e.y + e.h)),
                                (i += " Z"),
                                n.setAttribute("d", i),
                                n.setAttribute("fill", t),
                                r.appendChild(n);
                        }),
                        (this.upperRightCorner = function (e, t) {
                            var n = document.createElementNS(a, "path"),
                                i = "";
                            (i += "M " + e.x + " " + e.y),
                                (i += " "),
                                (i += "L " + (e.x + e.w) + " " + e.y),
                                (i += " "),
                                (i += "L " + (e.x + e.w) + " " + (e.y + e.h)),
                                (i += " Z"),
                                n.setAttribute("d", i),
                                n.setAttribute("fill", t),
                                r.appendChild(n);
                        }),
                        (this.rect = function (e, t) {
                            if (!(e.w <= 0 || e.h <= 0)) {
                                var n = document.createElementNS(a, "rect");
                                n.setAttribute("x", e.x + 0.5),
                                    n.setAttribute("y", e.y + 0.5),
                                    n.setAttribute("width", e.w - 1),
                                    n.setAttribute("height", e.h - 1),
                                    n.setAttribute("stroke", t),
                                    n.setAttribute("stroke-width", "1"),
                                    n.setAttribute("fill", "transparent"),
                                    r.appendChild(n);
                            }
                        }),
                        (this.text = function (e, t, n, i, o, l, d, c) {
                            function u(e, t, o) {
                                var s = document.createElementNS(a, "text");
                                s.setAttribute("fill", i),
                                    s.setAttribute("font-family", n.family),
                                    s.setAttribute("font-size", n.size),
                                    s.setAttribute("font-style", f),
                                    s.setAttribute("font-weight", v),
                                    s.setAttribute("x", t),
                                    s.setAttribute("y", o),
                                    s.setAttribute("dy", "0.8em"),
                                    s.setAttribute("text-anchor", g),
                                    s.setAttribute("clip-path", "url(#" + y.id + ")");
                                var l = document.createTextNode(e);
                                return s.appendChild(l), r.appendChild(s), s;
                            }
                            function h(e, t) {
                                var n = e.textContent,
                                    i = n.split("\n"),
                                    r = [],
                                    o = document.createElementNS(a, "svg"),
                                    s = e.cloneNode(!0);
                                o.appendChild(s), (o.style.position = "absolute"), (o.style.left = "-10000px"), (o.style.top = "-10000px"), document.body.appendChild(o);
                                for (var l = 0; l < i.length; l++) {
                                    for (var d, c = i[l], u = c.split(/\s+/).reverse(), h = []; (d = u.pop()); ) h.push(d), (s.textContent = h.join(" ")), s.getComputedTextLength() > t && (h.pop(), r.push(h.join(" ")), (h = [d]));
                                    r.push(h.join(" "));
                                }
                                (e.textContent = ""), document.body.removeChild(o);
                                for (var f = e.getAttribute("x") || 0, v = 0; v < r.length; v++) {
                                    var p = document.createElementNS(a, "tspan");
                                    (p.textContent = r[v]), p.setAttribute("x", f), v > 0 && p.setAttribute("dy", w), e.appendChild(p);
                                }
                                return r;
                            }
                            if (t) {
                                if (("number" == typeof t && (t = "" + t), "string" != typeof t)) throw "String expected, supplied: " + typeof t;
                                if (!(e.w < 0)) {
                                    (o = o || "left"), (l = l || 0), (d = d || "top");
                                    var f = n.style;
                                    f.indexOf("italic") !== -1 && (f = "bold");
                                    var v = n.style;
                                    if (n.style) var p = 3;
                                    var m = e.x,
                                        g = "start";
                                    switch (o) {
                                        case "center":
                                            (m += e.w / 2), (g = "middle");
                                            break;
                                        case "right":
                                            (m += e.w), (g = "end");
                                    }
                                    var y = document.createElementNS(a, "clipPath");
                                    y.id = "clip" + DayPilot.guid();
                                    var b = document.createElementNS(a, "rect");
                                    b.setAttribute("x", e.x), b.setAttribute("y", e.y), b.setAttribute("width", e.w), b.setAttribute("height", e.h), y.appendChild(b), s.defs.appendChild(y);
                                    var w = DayPilot.Util.fontHeight(n),
                                        x = 1.1 * w,
                                        k = e.y + l,
                                        C = x - w,
                                        _ = u(t, m + l, k),
                                        D = t.split("\n");
                                    c && e.w > 0 && (D = h(_, e.w - 2 * l));
                                    var T = x * D.length - C,
                                        E = e.h - 2 * l;
                                    switch (d) {
                                        case "top":
                                            k += p;
                                            break;
                                        case "center":
                                            k += (E - T) / 2 + 0.1 * w;
                                            break;
                                        case "bottom":
                                            k += E - T;
                                    }
                                    _.setAttribute("y", k);
                                }
                            }
                        }),
                        (this.line = function (e, t, n, i, o) {
                            var s = document.createElementNS(a, "line");
                            s.setAttribute("x1", e + 0.5), s.setAttribute("y1", t + 0.5), s.setAttribute("x2", n + 0.5), s.setAttribute("y2", i + 0.5), s.setAttribute("stroke", o), r.appendChild(s);
                        }),
                        (this.image = function (e, t) {
                            function n(t) {
                                var n = document.createElementNS(a, "image");
                                n.setAttribute("href", t.dataUri), n.setAttribute("x", e.x), n.setAttribute("y", e.y), n.setAttribute("width", e.w), n.setAttribute("height", e.h), o.appendChild(n);
                            }
                            var o = document.createElementNS(a, "g");
                            r.appendChild(o), i(t, n);
                        }),
                        (this.symbol = function (e, t, n) {
                            var i = "http://www.w3.org/2000/svg",
                                a = document.createElementNS(i, "symbol"),
                                s = this;
                            n = n || {};
                            var l = n.color;
                            new o(t).k().then(function (t) {
                                if (l) {
                                    var n = document.createElementNS(i, "style");
                                    (n.innerHTML = "svg { color: " + l + "; }"), a.appendChild(n);
                                }
                                var o = DayPilot.guid();
                                a.setAttribute("viewBox", t.getAttribute("viewBox")), a.setAttribute("width", e.w), a.setAttribute("height", e.h), a.setAttribute("id", o);
                                var d = document.createElementNS(i, "g");
                                (d.innerHTML = t.innerHTML), a.appendChild(d), s.l.appendChild(a);
                                var c = document.createElementNS(i, "use");
                                c.setAttribute("href", "#" + o), c.setAttribute("x", e.x), c.setAttribute("y", e.y), r.appendChild(c);
                            });
                        }),
                        (this.m = {}),
                        (this.textWidth = function (e, t) {
                            var n = "#" + e + "#" + JSON.stringify(t),
                                i = this.m[n];
                            if ("number" == typeof i) return i;
                            var a = "http://www.w3.org/2000/svg",
                                r = document.createElementNS(a, "svg");
                            (r.style.position = "absolute"), (r.style.left = "-10000px"), (r.style.width = "100px"), r.outerHTML && r.setAttribute("xmlns", a), r.setAttribute("viewBox", "0 0 100 100");
                            var o = document.createElementNS(a, "text");
                            o.setAttribute("font-family", t.family), o.setAttribute("font-size", t.size), o.setAttribute("font-style", t.style), o.setAttribute("x", 0), o.setAttribute("y", 0), o.setAttribute("dy", "1em");
                            var s = document.createTextNode(e);
                            o.appendChild(s), r.appendChild(o), document.body.appendChild(r);
                            var l = o.getComputedTextLength();
                            return (this.m[n] = l), document.body.removeChild(r), l;
                        }),
                        (this.getWidth = function () {
                            return e;
                        }),
                        (this.getHeight = function () {
                            return t;
                        }),
                        (this.getElement = function () {
                            return this.l;
                        }),
                        (this.getSource = function () {
                            if (this.l.outerHTML) return this.l.outerHTML;
                            var e = document.createElement("div"),
                                t = this.l.cloneNode(!0);
                            return e.appendChild(t), e.innerHTML;
                        }),
                        (this.getDataUri = function () {
                            return "data:application/octet-stream," + encodeURIComponent(this.getSource());
                        }),
                        (this.getDefaultFileName = function () {
                            return this.defaultFileName;
                        }),
                        (this.getBlob = function () {
                            return new Blob([this.getSource()]);
                        });
                }),
                (DayPilot.Excel = function () {
                    var e = this,
                        t = null,
                        n = null,
                        i = null,
                        a = {};
                    (a.xmlns = "urn:schemas-microsoft-com:office:spreadsheet"),
                        (a.o = "urn:schemas-microsoft-com:office:office"),
                        (a.x = "urn:schemas-microsoft-com:office:excel"),
                        (a.ss = "urn:schemas-microsoft-com:office:spreadsheet"),
                        (a.html = "http://www.w3.org/TR/REC-html40"),
                        (this.init = function () {
                            (t = document.implementation.createDocument(a.xmlns, "Workbook", null)),
                                t.documentElement.setAttribute("xmlns:o", a.o),
                                t.documentElement.setAttribute("xmlns:x", a.x),
                                t.documentElement.setAttribute("xmlns:ss", a.ss),
                                t.documentElement.setAttribute("xmlns:html", a.html);
                            var r = t.createElement("x:ExcelWorkbook");
                            t.documentElement.appendChild(r), (n = t.createElement("ss:Styles")), t.documentElement.appendChild(n), (i = e.styles.create()), i.setId("Default"), i.setName("Normal");
                        }),
                        (this.worksheets = []),
                        (this.worksheets.create = function (t) {
                            var n = e.el(a.ss, "Worksheet"),
                                i = new r(n);
                            return i.setName(t), this.push(i), i;
                        }),
                        (this.styles = []),
                        (this.styles.create = function (e) {
                            var i = t.createElement("ss:Style");
                            n.appendChild(i);
                            var a = new o(i);
                            return this.push(a), a;
                        }),
                        (this.styles.getDefault = function () {
                            return i;
                        }),
                        (this.el = function (e, n) {
                            var i = t.createElementNS(e, n);
                            return t.documentElement.appendChild(i), i;
                        }),
                        (this.getSource = function () {
                            return '<?xml version="1.0"?>' + new XMLSerializer().serializeToString(t);
                        }),
                        (this.getDataUri = function () {
                            return "data:application/vnd.ms-excel," + encodeURIComponent(this.getSource());
                        }),
                        (this.getElement = function () {
                            return t;
                        }),
                        (this.getDefaultFileName = function () {
                            return "spreadsheet.xls";
                        }),
                        (this.getBlob = function () {
                            return new Blob([this.getSource()]);
                        });
                    var r = function (e) {
                            var n = t.createElement("Table");
                            e.appendChild(n);
                            var i = t.createElement("x:WorksheetOptions");
                            e.appendChild(i),
                                (this.rows = []),
                                (this.setName = function (t) {
                                    e.setAttribute("ss:Name", t);
                                }),
                                (this.cell = function (e, i) {
                                    for (; i >= this.rows.length; ) {
                                        var r = t.createElement("Row");
                                        n.appendChild(r), this.rows.push(new a(r));
                                    }
                                    return this.rows[i].cell(e);
                                }),
                                (this.enableGridlines = function (e) {
                                    var n = DayPilot.list(i.childNodes).find(function (e) {
                                        return "x:DoNotDisplayGridlines" === e.tagName;
                                    });
                                    if (!n && !e) {
                                        var a = t.createElement("x:DoNotDisplayGridlines");
                                        i.appendChild(a);
                                    }
                                    n && e && i.removeChild(n);
                                });
                            var a = function (e) {
                                (this.cells = []),
                                    (this.getElement = function () {
                                        return e;
                                    }),
                                    (this.cell = function (i) {
                                        for (; i >= this.cells.length; ) {
                                            var a = t.createElement("Cell");
                                            e.appendChild(a), this.cells.push(new n(a));
                                        }
                                        return this.cells[i];
                                    });
                                var n = function (e) {
                                    (this.setText = function (n) {
                                        var i = t.createElement("Data");
                                        i.setAttribute("ss:Type", "String");
                                        var a = t.createTextNode(n);
                                        for (i.appendChild(a); e.firstChild; ) e.removeChild(e.firstChild);
                                        return e.appendChild(i), this;
                                    }),
                                        (this.setColspan = function (t) {
                                            return t > 1 ? e.setAttribute("ss:MergeAcross", t - 1) : e.removeAttribute("ss:MergeAcross"), this;
                                        }),
                                        (this.setRowspan = function (t) {
                                            return t > 1 ? e.setAttribute("ss:MergeDown", t - 1) : e.removeAttribute("ss:MergeDown"), this;
                                        }),
                                        (this.setStyle = function (t) {
                                            if (!(t instanceof o)) throw "Invalid argument, Style expected";
                                            return e.setAttribute("ss:StyleID", t.getId()), this;
                                        });
                                };
                            };
                        },
                        o = function (e) {
                            var n = DayPilot.guid();
                            e.setAttribute("ss:ID", n);
                            var i = t.createElement("ss:Alignment");
                            e.appendChild(i);
                            var a = t.createElement("ss:Interior");
                            e.appendChild(a);
                            var r = t.createElement("ss:Borders");
                            e.appendChild(r),
                                (this.setHorizontalAlignment = function (e) {
                                    i.setAttribute("ss:Horizontal", e);
                                }),
                                (this.setVerticalAlignment = function (e) {
                                    i.setAttribute("ss:Vertical", e);
                                }),
                                (this.setBackColor = function (e) {
                                    var t = DayPilot.Util.normalizeColor(e);
                                    a.setAttribute("ss:Color", t), a.setAttribute("ss:Pattern", "Solid");
                                }),
                                (this.setBorderColor = function (e) {
                                    function n(e, n) {
                                        var i = t.createElement("ss:Border");
                                        return i.setAttribute("ss:Position", e), i.setAttribute("ss:LineStyle", "Continuous"), i.setAttribute("ss:Color", DayPilot.Util.normalizeColor(n)), i;
                                    }
                                    this.clearBorders();
                                    var i = n("Left", e);
                                    r.appendChild(i);
                                    var a = n("Right", e);
                                    r.appendChild(a);
                                    var o = n("Top", e);
                                    r.appendChild(o);
                                    var s = n("Bottom", e);
                                    r.appendChild(s);
                                }),
                                (this.clearBorders = function () {
                                    for (; r.firstChild; ) r.removeChild(r.firstChild);
                                }),
                                (this.getId = function () {
                                    return n;
                                }),
                                (this.setId = function (t) {
                                    (n = t), e.setAttribute("ss:ID", n);
                                }),
                                (this.setName = function (t) {
                                    e.setAttribute("ss:Name", t);
                                });
                        };
                    this.init();
                }),
                (DayPilot.Export = function (e) {
                    (this.toElement = function () {
                        return e.getElement();
                    }),
                        (this.dimensions = function () {
                            return { width: e.getWidth(), height: e.getHeight() };
                        }),
                        (this.toHtml = function () {
                            return e.getSource();
                        }),
                        (this.toDataUri = function () {
                            return e.getDataUri();
                        }),
                        (this.toBlob = function () {
                            return e.getBlob();
                        }),
                        (this.print = function (t) {
                            (t = t || {}), (t.orientation = t.orientation || "portrait");
                            var n = document.createElement("iframe");
                            n.setAttribute("width", 0),
                                n.setAttribute("height", 0),
                                n.setAttribute("frameborder", 0),
                                n.setAttribute("src", "about:blank"),
                                (n.onload = function () {
                                    var i = n.contentWindow.document;
                                    if ((i.body.appendChild(e.getElement()), "landscape" === t.orientation)) {
                                        var a = DayPilot.sheet(i);
                                        a.add("@page", "size: landscape;"), a.commit();
                                    }
                                    n.contentWindow.document.execCommand("print", !1, null) || (n.contentWindow.focus(), n.contentWindow.print()),
                                        setTimeout(function () {
                                            document.body.removeChild(n);
                                        }, 10);
                                }),
                                document.body.appendChild(n);
                        }),
                        (this.download = function (t) {
                            var t = t || e.getDefaultFileName(),
                                n = e.getBlob();
                            DayPilot.Util.downloadBlob(n, t);
                        });
                }),
                (DayPilot.Exception = function (e) {
                    return new Error(e);
                }),
                (DayPilot.Locale = function (e, t) {
                    if (
                        ((this.id = e),
                        (this.dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]),
                        (this.dayNamesShort = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"]),
                        (this.monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]),
                        (this.monthNamesShort = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]),
                        (this.datePattern = "M/d/yyyy"),
                        (this.timePattern = "H:mm"),
                        (this.dateTimePattern = "M/d/yyyy H:mm"),
                        (this.timeFormat = "Clock12Hours"),
                        (this.weekStarts = 0),
                        t)
                    )
                        for (var n in t) this[n] = t[n];
                }),
                (DayPilot.Locale.all = {}),
                (DayPilot.Locale.find = function (e) {
                    if (!e) return null;
                    var t = e.toLowerCase();
                    return t.length > 2 && (t = DayPilot.Util.replaceCharAt(t, 2, "-")), DayPilot.Locale.all[t];
                }),
                (DayPilot.Locale.register = function (e) {
                    DayPilot.Locale.all[e.id] = e;
                }),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ca-es", {
                        dayNames: ["diumenge", "dilluns", "dimarts", "dimecres", "dijous", "divendres", "dissabte"],
                        dayNamesShort: ["dg", "dl", "dt", "dc", "dj", "dv", "ds"],
                        monthNames: ["gener", "febrer", "març", "abril", "maig", "juny", "juliol", "agost", "setembre", "octubre", "novembre", "desembre", ""],
                        monthNamesShort: ["gen.", "febr.", "març", "abr.", "maig", "juny", "jul.", "ag.", "set.", "oct.", "nov.", "des.", ""],
                        timePattern: "H:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("cs-cz", {
                        dayNames: ["neděle", "pondělí", "úterý", "středa", "čtvrtek", "pátek", "sobota"],
                        dayNamesShort: ["ne", "po", "út", "st", "čt", "pá", "so"],
                        monthNames: ["leden", "únor", "březen", "duben", "květen", "červen", "červenec", "srpen", "září", "říjen", "listopad", "prosinec", ""],
                        monthNamesShort: ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI", "XII", ""],
                        timePattern: "H:mm",
                        datePattern: "d. M. yyyy",
                        dateTimePattern: "d. M. yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("da-dk", {
                        dayNames: ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"],
                        dayNamesShort: ["sø", "ma", "ti", "on", "to", "fr", "lø"],
                        monthNames: ["januar", "februar", "marts", "april", "maj", "juni", "juli", "august", "september", "oktober", "november", "december", ""],
                        monthNamesShort: ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd-MM-yyyy",
                        dateTimePattern: "dd-MM-yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("de-at", {
                        dayNames: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
                        dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
                        monthNames: ["Jänner", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""],
                        monthNamesShort: ["Jän", "Feb", "Mär", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("de-ch", {
                        dayNames: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
                        dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
                        monthNames: ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""],
                        monthNamesShort: ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("de-de", {
                        dayNames: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
                        dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
                        monthNames: ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""],
                        monthNamesShort: ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("de-lu", {
                        dayNames: ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"],
                        dayNamesShort: ["So", "Mo", "Di", "Mi", "Do", "Fr", "Sa"],
                        monthNames: ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember", ""],
                        monthNamesShort: ["Jan", "Feb", "Mrz", "Apr", "Mai", "Jun", "Jul", "Aug", "Sep", "Okt", "Nov", "Dez", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("en-au", {
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""],
                        timePattern: "h:mm tt",
                        datePattern: "d/MM/yyyy",
                        dateTimePattern: "d/MM/yyyy h:mm tt",
                        timeFormat: "Clock12Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("en-ca", {
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""],
                        timePattern: "h:mm tt",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd h:mm tt",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("en-gb", {
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("en-us", {
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December", ""],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", ""],
                        timePattern: "h:mm tt",
                        datePattern: "M/d/yyyy",
                        dateTimePattern: "M/d/yyyy h:mm tt",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("es-es", {
                        dayNames: ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"],
                        dayNamesShort: ["D", "L", "M", "X", "J", "V", "S"],
                        monthNames: ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", ""],
                        monthNamesShort: ["ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", ""],
                        timePattern: "H:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("es-mx", {
                        dayNames: ["domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado"],
                        dayNamesShort: ["do.", "lu.", "ma.", "mi.", "ju.", "vi.", "sá."],
                        monthNames: ["enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre", ""],
                        monthNamesShort: ["ene.", "feb.", "mar.", "abr.", "may.", "jun.", "jul.", "ago.", "sep.", "oct.", "nov.", "dic.", ""],
                        timePattern: "hh:mm tt",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy hh:mm tt",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("eu-es", {
                        dayNames: ["igandea", "astelehena", "asteartea", "asteazkena", "osteguna", "ostirala", "larunbata"],
                        dayNamesShort: ["ig", "al", "as", "az", "og", "or", "lr"],
                        monthNames: ["urtarrila", "otsaila", "martxoa", "apirila", "maiatza", "ekaina", "uztaila", "abuztua", "iraila", "urria", "azaroa", "abendua", ""],
                        monthNamesShort: ["urt.", "ots.", "mar.", "api.", "mai.", "eka.", "uzt.", "abu.", "ira.", "urr.", "aza.", "abe.", ""],
                        timePattern: "H:mm",
                        datePattern: "yyyy/MM/dd",
                        dateTimePattern: "yyyy/MM/dd H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fi-fi", {
                        dayNames: ["sunnuntai", "maanantai", "tiistai", "keskiviikko", "torstai", "perjantai", "lauantai"],
                        dayNamesShort: ["su", "ma", "ti", "ke", "to", "pe", "la"],
                        monthNames: ["tammikuu", "helmikuu", "maaliskuu", "huhtikuu", "toukokuu", "kesäkuu", "heinäkuu", "elokuu", "syyskuu", "lokakuu", "marraskuu", "joulukuu", ""],
                        monthNamesShort: ["tammi", "helmi", "maalis", "huhti", "touko", "kesä", "heinä", "elo", "syys", "loka", "marras", "joulu", ""],
                        timePattern: "H:mm",
                        datePattern: "d.M.yyyy",
                        dateTimePattern: "d.M.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-be", {
                        dayNames: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
                        dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
                        monthNames: ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
                        monthNamesShort: ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd-MM-yy",
                        dateTimePattern: "dd-MM-yy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-ca", {
                        dayNames: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
                        dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
                        monthNames: ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
                        monthNamesShort: ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
                        timePattern: "HH:mm",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-ch", {
                        dayNames: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
                        dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
                        monthNames: ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
                        monthNamesShort: ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-fr", {
                        dayNames: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
                        dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
                        monthNames: ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
                        monthNamesShort: ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("fr-lu", {
                        dayNames: ["dimanche", "lundi", "mardi", "mercredi", "jeudi", "vendredi", "samedi"],
                        dayNamesShort: ["di", "lu", "ma", "me", "je", "ve", "sa"],
                        monthNames: ["janvier", "février", "mars", "avril", "mai", "juin", "juillet", "août", "septembre", "octobre", "novembre", "décembre", ""],
                        monthNamesShort: ["janv.", "févr.", "mars", "avr.", "mai", "juin", "juil.", "août", "sept.", "oct.", "nov.", "déc.", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("gl-es", {
                        dayNames: ["domingo", "luns", "martes", "mércores", "xoves", "venres", "sábado"],
                        dayNamesShort: ["do", "lu", "ma", "mé", "xo", "ve", "sá"],
                        monthNames: ["xaneiro", "febreiro", "marzo", "abril", "maio", "xuño", "xullo", "agosto", "setembro", "outubro", "novembro", "decembro", ""],
                        monthNamesShort: ["xan", "feb", "mar", "abr", "maio", "xuño", "xul", "ago", "set", "out", "nov", "dec", ""],
                        timePattern: "H:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("it-it", {
                        dayNames: ["domenica", "lunedì", "martedì", "mercoledì", "giovedì", "venerdì", "sabato"],
                        dayNamesShort: ["do", "lu", "ma", "me", "gi", "ve", "sa"],
                        monthNames: ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", ""],
                        monthNamesShort: ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("it-ch", {
                        dayNames: ["domenica", "lunedì", "martedì", "mercoledì", "giovedì", "venerdì", "sabato"],
                        dayNamesShort: ["do", "lu", "ma", "me", "gi", "ve", "sa"],
                        monthNames: ["gennaio", "febbraio", "marzo", "aprile", "maggio", "giugno", "luglio", "agosto", "settembre", "ottobre", "novembre", "dicembre", ""],
                        monthNamesShort: ["gen", "feb", "mar", "apr", "mag", "giu", "lug", "ago", "set", "ott", "nov", "dic", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ja-jp", {
                        dayNames: ["日曜日", "月曜日", "火曜日", "水曜日", "木曜日", "金曜日", "土曜日"],
                        dayNamesShort: ["日", "月", "火", "水", "木", "金", "土"],
                        monthNames: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月", ""],
                        monthNamesShort: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""],
                        timePattern: "H:mm",
                        datePattern: "yyyy/MM/dd",
                        dateTimePattern: "yyyy/MM/dd H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ko-kr", {
                        dayNames: ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"],
                        dayNamesShort: ["일", "월", "화", "수", "목", "금", "토"],
                        monthNames: ["1월", "2월", "3월", "4월", "5월", "6월", "7월", "8월", "9월", "10월", "11월", "12월", ""],
                        monthNamesShort: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""],
                        timePattern: "tt h:mm",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd tt h:mm",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("nb-no", {
                        dayNames: ["søndag", "mandag", "tirsdag", "onsdag", "torsdag", "fredag", "lørdag"],
                        dayNamesShort: ["sø", "ma", "ti", "on", "to", "fr", "lø"],
                        monthNames: ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", ""],
                        monthNamesShort: ["jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("nl-nl", {
                        dayNames: ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"],
                        dayNamesShort: ["zo", "ma", "di", "wo", "do", "vr", "za"],
                        monthNames: ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", ""],
                        monthNamesShort: ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""],
                        timePattern: "HH:mm",
                        datePattern: "d-M-yyyy",
                        dateTimePattern: "d-M-yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("nl-be", {
                        dayNames: ["zondag", "maandag", "dinsdag", "woensdag", "donderdag", "vrijdag", "zaterdag"],
                        dayNamesShort: ["zo", "ma", "di", "wo", "do", "vr", "za"],
                        monthNames: ["januari", "februari", "maart", "april", "mei", "juni", "juli", "augustus", "september", "oktober", "november", "december", ""],
                        monthNamesShort: ["jan", "feb", "mrt", "apr", "mei", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""],
                        timePattern: "H:mm",
                        datePattern: "d/MM/yyyy",
                        dateTimePattern: "d/MM/yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("nn-no", {
                        dayNames: ["søndag", "måndag", "tysdag", "onsdag", "torsdag", "fredag", "laurdag"],
                        dayNamesShort: ["sø", "må", "ty", "on", "to", "fr", "la"],
                        monthNames: ["januar", "februar", "mars", "april", "mai", "juni", "juli", "august", "september", "oktober", "november", "desember", ""],
                        monthNamesShort: ["jan", "feb", "mar", "apr", "mai", "jun", "jul", "aug", "sep", "okt", "nov", "des", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("pt-br", {
                        dayNames: ["domingo", "segunda-feira", "terça-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sábado"],
                        dayNamesShort: ["D", "S", "T", "Q", "Q", "S", "S"],
                        monthNames: ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", ""],
                        monthNamesShort: ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("pl-pl", {
                        dayNames: ["niedziela", "poniedziałek", "wtorek", "środa", "czwartek", "piątek", "sobota"],
                        dayNamesShort: ["N", "Pn", "Wt", "Śr", "Cz", "Pt", "So"],
                        monthNames: ["styczeń", "luty", "marzec", "kwiecień", "maj", "czerwiec", "lipiec", "sierpień", "wrzesień", "październik", "listopad", "grudzień", ""],
                        monthNamesShort: ["sty", "lut", "mar", "kwi", "maj", "cze", "lip", "sie", "wrz", "paź", "lis", "gru", ""],
                        timePattern: "HH:mm",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("pt-pt", {
                        dayNames: ["domingo", "segunda-feira", "terça-feira", "quarta-feira", "quinta-feira", "sexta-feira", "sábado"],
                        dayNamesShort: ["D", "S", "T", "Q", "Q", "S", "S"],
                        monthNames: ["janeiro", "fevereiro", "março", "abril", "maio", "junho", "julho", "agosto", "setembro", "outubro", "novembro", "dezembro", ""],
                        monthNamesShort: ["jan", "fev", "mar", "abr", "mai", "jun", "jul", "ago", "set", "out", "nov", "dez", ""],
                        timePattern: "HH:mm",
                        datePattern: "dd/MM/yyyy",
                        dateTimePattern: "dd/MM/yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 0,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ro-ro", {
                        dayNames: ["duminică", "luni", "marți", "miercuri", "joi", "vineri", "sâmbătă"],
                        dayNamesShort: ["D", "L", "Ma", "Mi", "J", "V", "S"],
                        monthNames: ["ianuarie", "februarie", "martie", "aprilie", "mai", "iunie", "iulie", "august", "septembrie", "octombrie", "noiembrie", "decembrie", ""],
                        monthNamesShort: ["ian.", "feb.", "mar.", "apr.", "mai.", "iun.", "iul.", "aug.", "sep.", "oct.", "nov.", "dec.", ""],
                        timePattern: "H:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("ru-ru", {
                        dayNames: ["воскресенье", "понедельник", "вторник", "среда", "четверг", "пятница", "суббота"],
                        dayNamesShort: ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
                        monthNames: ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь", ""],
                        monthNamesShort: ["янв", "фев", "мар", "апр", "май", "июн", "июл", "авг", "сен", "окт", "ноя", "дек", ""],
                        timePattern: "H:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("sk-sk", {
                        dayNames: ["nedeľa", "pondelok", "utorok", "streda", "štvrtok", "piatok", "sobota"],
                        dayNamesShort: ["ne", "po", "ut", "st", "št", "pi", "so"],
                        monthNames: ["január", "február", "marec", "apríl", "máj", "jún", "júl", "august", "september", "október", "november", "december", ""],
                        monthNamesShort: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12", ""],
                        timePattern: "H:mm",
                        datePattern: "d.M.yyyy",
                        dateTimePattern: "d.M.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("sv-se", {
                        dayNames: ["söndag", "måndag", "tisdag", "onsdag", "torsdag", "fredag", "lördag"],
                        dayNamesShort: ["sö", "må", "ti", "on", "to", "fr", "lö"],
                        monthNames: ["januari", "februari", "mars", "april", "maj", "juni", "juli", "augusti", "september", "oktober", "november", "december", ""],
                        monthNamesShort: ["jan", "feb", "mar", "apr", "maj", "jun", "jul", "aug", "sep", "okt", "nov", "dec", ""],
                        timePattern: "HH:mm",
                        datePattern: "yyyy-MM-dd",
                        dateTimePattern: "yyyy-MM-dd HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("tr-tr", {
                        dayNames: ["Pazar", "Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma", "Cumartesi"],
                        dayNamesShort: ["Pz", "Pt", "Sa", "Ça", "Pe", "Cu", "Ct"],
                        monthNames: ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık", ""],
                        monthNamesShort: ["Oca", "Şub", "Mar", "Nis", "May", "Haz", "Tem", "Ağu", "Eyl", "Eki", "Kas", "Ara", ""],
                        timePattern: "HH:mm",
                        datePattern: "d.M.yyyy",
                        dateTimePattern: "d.M.yyyy HH:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("uk-ua", {
                        dayNames: ["неділя", "понеділок", "вівторок", "середа", "четвер", "п'ятниця", "субота"],
                        dayNamesShort: ["Нд", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"],
                        monthNames: ["січень", "лютий", "березень", "квітень", "травень", "червень", "липень", "серпень", "вересень", "жовтень", "листопад", "грудень", ""],
                        monthNamesShort: ["Січ", "Лют", "Бер", "Кві", "Тра", "Чер", "Лип", "Сер", "Вер", "Жов", "Лис", "Гру", ""],
                        timePattern: "H:mm",
                        datePattern: "dd.MM.yyyy",
                        dateTimePattern: "dd.MM.yyyy H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("zh-cn", {
                        dayNames: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
                        dayNamesShort: ["日", "一", "二", "三", "四", "五", "六"],
                        monthNames: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""],
                        monthNamesShort: ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月", ""],
                        timePattern: "H:mm",
                        datePattern: "yyyy/M/d",
                        dateTimePattern: "yyyy/M/d H:mm",
                        timeFormat: "Clock24Hours",
                        weekStarts: 1,
                    })
                ),
                DayPilot.Locale.register(
                    new DayPilot.Locale("zh-tw", {
                        dayNames: ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"],
                        dayNamesShort: ["日", "一", "二", "三", "四", "五", "六"],
                        monthNames: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""],
                        monthNamesShort: ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月", ""],
                        timePattern: "tt hh:mm",
                        datePattern: "yyyy/M/d",
                        dateTimePattern: "yyyy/M/d tt hh:mm",
                        timeFormat: "Clock12Hours",
                        weekStarts: 0,
                    })
                ),
                (DayPilot.Locale.US = DayPilot.Locale.find("en-us")),
                (DayPilot.Switcher = function (e) {
                    function t(e, t, i) {
                        var a = {};
                        (a.start = e),
                            (a.end = t),
                            (a.day = i),
                            (a.target = n.s.control),
                            (a.preventDefault = function () {
                                this.preventDefault.value = !0;
                            });
                        var r = n.N;
                        (r && r.start === a.start && r.end === a.end && r.day === a.day && r.target === a.target) ||
                            ((n.N = a),
                            ("function" == typeof n.onChange && (n.onChange(a), a.preventDefault.value)) ||
                                ("function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(a), a.preventDefault.value)) ||
                                (n.s.C(n.t), "function" == typeof n.onChanged && n.onChanged(a), "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(a)));
                    }
                    var n = this;
                    (this.n = []),
                        (this.p = []),
                        (this.q = {}),
                        (this.selectedClass = null),
                        (this.s = null),
                        (this.t = DayPilot.Date.today()),
                        (this.onChange = null),
                        (this.onChanged = null),
                        (this.onSelect = null),
                        (this.q.updateMode = function (e) {
                            var t = n.q.control;
                            t && ((t.selectMode = e), t.select(n.t));
                        }),
                        (this.addView = function (e, t) {
                            var i;
                            if ("string" == typeof e) {
                                if (((i = document.getElementById(e)), !i)) throw "Element not found: " + e;
                            } else i = e;
                            var a = i,
                                r = {};
                            return (
                                (r.u = !0),
                                (r.z = a.id),
                                (r.control = a),
                                (r.A = t || {}),
                                (r.B = function () {
                                    a.hide ? a.hide() : a.nav && a.nav.top ? (a.nav.top.style.display = "none") : (a.style.display = "none");
                                }),
                                (r.C = function (e) {
                                    (function () {
                                        return !!a.backendUrl || !("function" != typeof WebForm_DoCallback || !a.uniqueID);
                                    })()
                                        ? a.commandCallBack && a.commandCallBack("navigate", { day: e })
                                        : ((a.startDate = e), a.update());
                                }),
                                (r.D = function () {
                                    n.E(), a.show ? a.show() : a.nav && a.nav.top ? (a.nav.top.style.display = "") : (a.style.display = "");
                                }),
                                (r.F = function () {
                                    if (r.A.navigatorSelectMode) return r.A.navigatorSelectMode;
                                    if (a.isCalendar)
                                        switch (a.viewType) {
                                            case "Day":
                                                return "day";
                                            case "Week":
                                                return "week";
                                            case "WorkWeek":
                                                return "week";
                                            default:
                                                return "day";
                                        }
                                    else if (a.isMonth)
                                        switch (a.viewType) {
                                            case "Month":
                                                return "month";
                                            case "Weeks":
                                                return "week";
                                            default:
                                                return "day";
                                        }
                                    return "day";
                                }),
                                this.n.push(r),
                                r
                            );
                        }),
                        (this.addTrigger = function (e, t) {
                            var i;
                            if ("string" == typeof e) {
                                if (((i = document.getElementById(e)), !i)) throw "Element not found: " + e;
                            } else i = e;
                            var a = this.G(t);
                            a || (a = this.addView(t));
                            var r = {};
                            return (
                                (r.H = !0),
                                (r.I = i),
                                (r.z = i.id),
                                (r.J = a),
                                (r.K = function (e) {
                                    n.show(r), n.L(r), e && (e.preventDefault ? e.preventDefault() : (e.returnValue = !1));
                                }),
                                DayPilot.re(i, "click", r.K),
                                this.p.push(r),
                                r
                            );
                        }),
                        (this.addButton = this.addTrigger),
                        (this.select = function (e) {
                            var t = this.M(e);
                            t ? t.K() : this.p.length > 0 && this.p[0].K();
                        }),
                        (this.M = function (e) {
                            for (var t = 0; t < this.p.length; t++) {
                                var n = this.p[t];
                                if (n.z === e) return n;
                            }
                            return null;
                        }),
                        (this.L = function (e) {
                            if (this.selectedClass) {
                                for (var t = 0; t < this.p.length; t++) {
                                    var n = this.p[t];
                                    DayPilot.Util.removeClass(n.I, this.selectedClass);
                                }
                                DayPilot.Util.addClass(e.I, this.selectedClass);
                            }
                        }),
                        (this.addNavigator = function (e) {
                            (n.q.control = e),
                                (e.timeRangeSelectedHandling = "JavaScript"),
                                (e.onTimeRangeSelected = function () {
                                    var i, a, r;
                                    if (1 === e.api) (i = arguments[0]), (a = arguments[1]), (r = arguments[2]);
                                    else {
                                        var o = arguments[0];
                                        (i = o.start), (a = o.end), (r = o.day);
                                    }
                                    (n.t = r), t(i, a, r);
                                });
                        }),
                        (this.show = function (e) {
                            var i, a;
                            if (e.H) (a = e), (i = a.J);
                            else if (((i = e.u ? e : this.G(e)), this.s === i)) return;
                            if (n.onSelect) {
                                var r = {};
                                (r.source = a ? a.I : null), (r.target = i.control), n.onSelect(r);
                            }
                            (this.s = i), i.D();
                            var o = i.F();
                            n.q.updateMode(o), t(n.q.control.selectionStart, n.q.control.selectionEnd.addDays(1), n.q.control.selectionDay);
                        }),
                        (this.G = function (e) {
                            for (var t = 0; t < this.n.length; t++) if (this.n[t].control === e) return this.n[t];
                            return null;
                        }),
                        (this.E = function () {
                            for (var e = 0; e < this.n.length; e++) this.n[e].B();
                        }),
                        Object.defineProperty(this, "active", {
                            get: function () {
                                return n.s;
                            },
                        }),
                        (this.events = {}),
                        (this.events.load = function (e, t, i) {
                            if (!n.s || !n.s.control) throw "DayPilot.Switcher.events.load(): Active view not found";
                            n.s.control.events.load(e, t, i);
                        }),
                        (this.N = null),
                        (this.O = function () {
                            if (e)
                                for (var t in e)
                                    if ("triggers" === t) {
                                        var i = e.triggers || [];
                                        i.forEach(function (e) {
                                            n.addTrigger(e.id, e.view);
                                        });
                                    } else "navigator" === t ? n.addNavigator(e.navigator) : (n[t] = e[t]);
                        }),
                        this.O();
                }),
                (function () {
                    if (!DayPilot.Global.defaultCss) {
                        var e = DayPilot.sheet();
                        e.add(".bubble_default_main", "cursor: default; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                            e.add(
                                ".bubble_default_main_inner",
                                'border-radius: 5px; padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'
                            ),
                            e.add(".bubble_default_arrow_top", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),
                            e.add(".bubble_default_arrow_bottom", "fill: #eeeeee; stroke: #cccccc; stroke-width: 2;"),
                            e.add(".bubble_default_arrow_left", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),
                            e.add(".bubble_default_arrow_right", "fill: #ffffff; stroke: #cccccc; stroke-width: 1;"),
                            e.add(".calendar_default_main", "border: 1px solid #c0c0c0; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                            e.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after", "box-sizing: content-box;"),
                            e.add(
                                ".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner",
                                "color: #333;background: #f3f3f3;"
                            ),
                            e.add(".calendar_default_colheader_back", "background: #f3f3f3; border-bottom: 1px solid red;"),
                            e.add(".calendar_default_colheader_back_inner", "position: absolute; inset: 0; border-bottom: 1px solid #c0c0c0;"),
                            e.add(".calendar_default_cornerright_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px; border-bottom: 1px solid #c0c0c0;"),
                            e.add(".calendar_default_direction_rtl .calendar_default_cornerright_inner", "border-right: 1px solid #c0c0c0;"),
                            e.add(
                                ".calendar_default_rowheader_inner",
                                "font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; padding: 3px;"
                            ),
                            e.add(".calendar_default_rowheader_simple .calendar_default_rowheader_inner", "font-size: inherit; display: flex; align-items: center; justify-content: center; white-space: nowrap;"),
                            e.add(".calendar_default_direction_rtl .calendar_default_rowheader_inner", "border-right: none;"),
                            e.add(".calendar_default_corner_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),
                            e.add(".calendar_default_direction_rtl .calendar_default_corner_inner", "border-right: none;"),
                            e.add(".calendar_default_rowheader_minutes", "font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),
                            e.add(
                                ".calendar_default_colheader_inner",
                                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0; display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(".calendar_default_cell_inner", "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),
                            e.add(".calendar_default_cell_business .calendar_default_cell_inner", "background: #fff"),
                            e.add(".calendar_default_alldayheader_inner", "text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),
                            e.add(".calendar_default_message", "opacity: 0.9; padding: 10px; color: #ffffff;background: #ffa216;"),
                            e.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner", "color: #333; border: 1px solid #999;"),
                            e.add(".calendar_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 6px;background-color: #9dc8e8;"),
                            e.add(".calendar_default_event_bar_inner", "position: absolute;width: 6px;background-color: #1066a8;"),
                            e.add(
                                ".calendar_default_alldayevent_inner,.calendar_default_event_inner",
                                'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(".calendar_default_selected .calendar_default_event_inner", "background: #ddd;"),
                            e.add(".calendar_default_alldayevent_inner", "position: absolute;top: 0px;bottom: 0px;left: 0px;right: 0px;overflow:hidden;padding: 4px;margin-right: 0px; display: flex; align-items: center;"),
                            e.add(".calendar_default_event_withheader .calendar_default_event_inner", "padding-top: 15px;"),
                            e.add(".calendar_default_event", "cursor: default;"),
                            e.add(".calendar_default_event_inner", "position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 8px;"),
                            e.add(".calendar_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),
                            e.add(".calendar_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"),
                            e.add(
                                ".calendar_default_shadow_forbidden:after",
                                "content:''; position: absolute; top: 5px; left: calc(50% - 10px); border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"
                            ),
                            e.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"),
                            e.add(
                                ".calendar_default_event_delete",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(".calendar_default_event_delete:hover", "opacity: 1;-ms-filter: none;"),
                            e.add(
                                ".calendar_default_scroll_up",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".calendar_default_scroll_down",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"
                            ),
                            e.add(".calendar_default_now", "background-color: red;"),
                            e.add(
                                ".calendar_default_now:before",
                                "content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"
                            ),
                            e.add(
                                ".calendar_default_shadow_top",
                                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".calendar_default_shadow_bottom",
                                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top", "background-color: gray; opacity: 0.2;"),
                            e.add(".calendar_default_loading", "background-color: orange; color: white; padding: 2px;"),
                            e.add(".calendar_default_scroll", "background-color: #f3f3f3;"),
                            e.add(".calendar_default_event_moving_source", "opacity: 0.5;"),
                            e.add(
                                ".calendar_default_colmove_handle",
                                "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(".calendar_default_colheader:hover .calendar_default_colheader_splitter", "background-color: #c0c0c0;"),
                            e.add(".calendar_default_colmove_source", "background-color: black; opacity: 0.5;"),
                            e.add(".calendar_default_colmove_position_before", "box-sizing: border-box; border-left: 2px solid #999999;"),
                            e.add(
                                ".calendar_default_colmove_position_before:before",
                                "content: ''; border-width: 6px; border-color: transparent #999999 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(".calendar_default_colmove_position_after", "box-sizing: border-box; border-right: 2px solid #999999;"),
                            e.add(
                                ".calendar_default_colmove_position_after:before",
                                "content: ''; border-width: 6px; border-color: transparent transparent transparent #999999; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(".calendar_default_colmove_position_child", "box-sizing: border-box; border-bottom: 2px solid #999999;"),
                            e.add(
                                ".calendar_default_colmove_position_child:before",
                                "content: ''; border-width: 6px; border-color: #999999 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"
                            ),
                            e.add(".calendar_default_colmove_position_forbidden", "border-top: 2px solid red;"),
                            e.add(".calendar_default_colheader .calendar_default_colheader_splitter:hover", "background-color: #999999;"),
                            e.add(".calendar_default_block", "background-color: #808080; opacity: 0.5;"),
                            e.add(".calendar_default_block", "background-color: #808080; opacity: 0.5;"),
                            e.add(
                                ".menu_default_main",
                                "user-select:none; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;font-size: 13px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"
                            ),
                            e.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after", "box-sizing: content-box;"),
                            e.add(".menu_default_title", "background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),
                            e.add(".menu_default_main a", "padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),
                            e.add(".menu_default_main.menu_default_withchildren a", "padding: 2px 35px 2px 35px;"),
                            e.add(".menu_default_main a img", "margin-left: 6px;margin-top: 2px;"),
                            e.add(".menu_default_item_text", "display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px; white-space: nowrap;"),
                            e.add(".menu_default_main a:hover", "background-color: #f3f3f3;"),
                            e.add(".menu_default_main div div", "border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),
                            e.add(".menu_default_main a.menu_default_item_disabled", "color: #ccc"),
                            e.add(".menu_default_item_haschildren.menu_default_item_haschildren_active", "background-color: #f3f3f3;"),
                            e.add(
                                ".menu_default_item_haschildren a:before",
                                "content: ''; border-width: 5px; border-color: transparent transparent transparent #666; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 5px;"
                            ),
                            e.add(".menu_default_item_icon", "position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),
                            e.add(".menu_default_item a i", "height: 20px;line-height: 20px;"),
                            e.add(".menu_default_item .menu_default_item_symbol", "width: 18px; height: 18px; color: #999; margin-left: 6px;margin-top: 2px;"),
                            e.add(".menubar_default_main", "border-bottom: 1px solid #ccc; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px; user-select:none;"),
                            e.add(".menubar_default_item", "display: inline-block;  padding: 6px 10px; cursor: default;"),
                            e.add(".menubar_default_item:hover", "background-color: #f2f2f2;"),
                            e.add(".menubar_default_item_active", "background-color: #f2f2f2;"),
                            e.add(".month_default_main", "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;color: #333;"),
                            e.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after", "box-sizing: content-box;"),
                            e.add(".month_default_cell_inner", "border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),
                            e.add(".month_default_cell_business .month_default_cell_inner", "background-color: #fff;"),
                            e.add(".month_default_cell_header", "text-align: right; padding: 4px; box-sizing: border-box;"),
                            e.add(
                                ".month_default_header_inner",
                                "position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3; overflow:hidden; display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(".month_default_message", "padding: 10px;opacity: 0.9; color: #ffffff;background: #ffa216;"),
                            e.add(
                                ".month_default_event_inner",
                                "position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 10px;color: #333;background: #fff;background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);border: 1px solid #999;border-radius: 0px;display: flex; align-items: center;"
                            ),
                            e.add(".month_default_event_continueright .month_default_event_inner", "border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),
                            e.add(".month_default_event_continueleft .month_default_event_inner", "border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),
                            e.add(".month_default_event_bar", "top: 0px;bottom: 0px;left: 0px;width: 6px;"),
                            e.add(".month_default_event_bar_inner", "position: absolute;width: 6px;background-color: #1066a8;"),
                            e.add(".month_default_event_continueleft .month_default_event_bar", "display: none;"),
                            e.add(".month_default_selected .month_default_event_inner", "background: #ddd;"),
                            e.add(".month_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),
                            e.add(".month_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"),
                            e.add(
                                ".month_default_event_delete",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(".month_default_event_delete:hover", "opacity: 1;-ms-filter: none;"),
                            e.add(".month_default_event_timeleft", "color: #ccc; font-size: 11px; display: flex; align-items: center;"),
                            e.add(".month_default_event_timeright", "color: #ccc; font-size: 11px; display: flex; align-items: center; justify-content: end;"),
                            e.add(".month_default_loading", "background-color: orange; color: white; padding: 2px;"),
                            e.add(
                                ".month_default_shadow_forbidden:after",
                                "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"
                            ),
                            e.add(".month_default_shadow_forbidden .month_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"),
                            e.add(".navigator_default_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),
                            e.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after", "box-sizing: content-box;"),
                            e.add(".navigator_default_month", "font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 12px;"),
                            e.add(".navigator_default_day", "color: black;"),
                            e.add(".navigator_default_weekend", "background-color: #f0f0f0;"),
                            e.add(".navigator_default_dayheader", "color: black;"),
                            e.add(".navigator_default_line", "border-bottom: 1px solid #c0c0c0;"),
                            e.add(".navigator_default_dayother", "color: gray;"),
                            e.add(".navigator_default_todaybox", "border: 1px solid red;"),
                            e.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),
                            e.add(".navigator_default_busy", "font-weight: bold;"),
                            e.add(".navigator_default_cell", "text-align: center;"),
                            e.add(".navigator_default_select .navigator_default_cell_box", "background-color: #FFE794; opacity: 0.5;"),
                            e.add(".navigator_default_title", "text-align: center;"),
                            e.add(".navigator_default_titleleft, .navigator_default_titleright", "text-align: center;"),
                            e.add(".navigator_default_dayheader", "text-align: center;"),
                            e.add(".navigator_default_weeknumber", "text-align: center; color: #999;"),
                            e.add(".navigator_default_cell_text", "cursor: pointer;"),
                            e.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after", "box-sizing: content-box;"),
                            e.add(
                                ".scheduler_default_main, .scheduler_default_main svg text",
                                "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
                            ),
                            e.add(".scheduler_default_selected .scheduler_default_event_inner", "background: #ddd;"),
                            e.add(".scheduler_default_timeheader_scroll", "background: #f3f3f3;"),
                            e.add(".scheduler_default_message", "opacity: 0.9; padding: 10px; color: #ffffff; background: #ffa216;"),
                            e.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol", "color: #333;background: #f3f3f3;"),
                            e.add(".scheduler_default_rowheader,.scheduler_default_corner", "color: #333;background: #f3f3f3;"),
                            e.add(
                                ".scheduler_default_rowheader.scheduler_default_rowheader_selected",
                                "background-color: #aaa; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
                            ),
                            e.add(".scheduler_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"),
                            e.add(
                                ".scheduler_default_timeheadergroup_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(".scheduler_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),
                            e.add(".scheduler_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"),
                            e.add(".scheduler_default_divider, .scheduler_default_splitter", "background-color: #c0c0c0;"),
                            e.add(".scheduler_default_divider_horizontal", "background-color: #c0c0c0;"),
                            e.add(".scheduler_default_matrix_vertical_line", "background-color: #eee;"),
                            e.add(".scheduler_default_matrix_vertical_break", "background-color: #999;"),
                            e.add(".scheduler_default_matrix_horizontal_line", "background-color: #eee;"),
                            e.add(".scheduler_default_resourcedivider", "background-color: #c0c0c0;"),
                            e.add(".scheduler_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),
                            e.add(".scheduler_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"),
                            e.add(".scheduler_default_event", "font-size:13px;color:#333;"),
                            e.add(".scheduler_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),
                            e.add(".scheduler_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),
                            e.add(".scheduler_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"),
                            e.add(
                                ".scheduler_default_event_inner",
                                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(".scheduler_default_event_float", "display: flex; align-items: center;"),
                            e.add(".scheduler_default_event_float_inner", "padding:2px 2px 2px 8px; position: relative;"),
                            e.add(
                                ".scheduler_default_event_float_inner:after",
                                'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top: calc(50% - 5px);left:-4px;'
                            ),
                            e.add(".scheduler_default_event_focus", "outline: red 2px solid; z-index: 100; opacity: 0.5;"),
                            e.add(".scheduler_default_columnheader_inner", "font-weight: bold;"),
                            e.add(".scheduler_default_columnheader_splitter", "box-sizing: border-box; border-right: 1px solid #c0c0c0;"),
                            e.add(".scheduler_default_columnheader_splitter:hover", "background-color: #c0c0c0;"),
                            e.add(".scheduler_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),
                            e.add(".scheduler_default_cell", "background-color: #f9f9f9;"),
                            e.add(".scheduler_default_cell.scheduler_default_cell_business", "background-color: #fff;"),
                            e.add(
                                ".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected",
                                "background-color: #ccc; background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent); background-size: 20px 20px;"
                            ),
                            e.add(".scheduler_default_tree_image_no_children", ""),
                            e.add(
                                ".scheduler_default_tree_image_expand",
                                "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
                            ),
                            e.add(
                                ".scheduler_default_tree_image_collapse",
                                "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
                            ),
                            e.add(
                                ".scheduler_default_event_delete",
                                "background: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTInIGhlaWdodD0nMTInIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgMTEuNSAxMS41IE0gMC41IDExLjUgTCAxMS41IDAuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6IzQ2NDY0NjtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=) no-repeat center center; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(".scheduler_default_event_delete:hover", "opacity: 1;"),
                            e.add(
                                ".scheduler_default_rowmove_handle",
                                "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(".scheduler_default_rowmove_source", "background-color: black; opacity: 0.2;"),
                            e.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after", "background-color: #999; height: 2px;"),
                            e.add(".scheduler_default_rowmove_position_child", "margin-left: 20px; background-color: #999999; height: 2px;"),
                            e.add(
                                ".scheduler_default_rowmove_position_child:before",
                                "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23999999' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3Cline x1='12' y1='7' x2='12' y2='17' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='7' y1='12' x2='17' y2='12' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3C/g%3E%3C/svg%3E\");"
                            ),
                            e.add(".scheduler_default_rowmove_position_forbidden", "background-color: #cc0000; height: 2px; margin-left: 20px;"),
                            e.add(
                                ".scheduler_default_rowmove_position_forbidden:before",
                                "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cline x1='8' y1='8' x2='16' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='16' y1='8' x2='8' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Ccircle stroke='%23cc0000' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");"
                            ),
                            e.add(".scheduler_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: #cc0000"),
                            e.add(".scheduler_default_link_vertical", "border-right-style: solid; border-right-color: #cc0000"),
                            e.add(".scheduler_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"),
                            e.add(".scheduler_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                            e.add(".scheduler_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                            e.add(".scheduler_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                            e.add(".scheduler_default_block", "background-color: #808080; opacity: 0.5;"),
                            e.add(
                                ".scheduler_default_main .scheduler_default_event_group",
                                "box-sizing: border-box; font-size:13px; color:#666; padding:2px; overflow:hidden; border:1px solid #ccc; background-color: #fff; display: flex; align-items: center; white-space: nowrap;"
                            ),
                            e.add(".scheduler_default_main .scheduler_default_header_icon", "box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"),
                            e.add(".scheduler_default_header_icon:hover", "background-color: #ccc;"),
                            e.add(".scheduler_default_header_icon_hide:before", "content: '\\00AB';"),
                            e.add(".scheduler_default_header_icon_show:before", "content: '\\00BB';"),
                            e.add(
                                ".scheduler_default_row_new .scheduler_default_rowheader_inner",
                                "padding-left: 10px; color: #666; cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
                            ),
                            e.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover", "background: white; color: white;"),
                            e.add(".scheduler_default_rowheader textarea", "padding: 3px;"),
                            e.add(".scheduler_default_rowheader_scroll", "cursor: default; background: #f3f3f3;"),
                            e.add(
                                ".scheduler_default_shadow_forbidden:after, .scheduler_default_shadow_overlap:after",
                                "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"
                            ),
                            e.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner, .scheduler_default_shadow_overlap .scheduler_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"),
                            e.add(".scheduler_default_shadow_invalid .scheduler_default_shadow_inner", "background-color: #cc4125;"),
                            e.add(".scheduler_default_event_moving_source", "opacity: 0.5;"),
                            e.add(".scheduler_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"),
                            e.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover", "background-color: black;"),
                            e.add(
                                ".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner",
                                "overflow:hidden; background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top", "background-color: gray; opacity: 0.2;"),
                            e.add(".scheduler_default_link_dot", "border-radius: 10px; background-color: #cc0000"),
                            e.add(
                                ".scheduler_default_task_milestone .scheduler_default_event_inner",
                                "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
                            ),
                            e.add(".scheduler_default_event_left", "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),
                            e.add(".scheduler_default_event_right", "white-space: nowrap; color: #666; cursor: default; display: flex; align-items: center;"),
                            e.add(".scheduler_default_main:focus", "outline: none;"),
                            e.add(".scheduler_default_cell_focus", "outline: red 2px solid; outline-offset: -2px; z-index: 100; opacity: 0.5;");
                        e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_top", "border-top: 4px solid red;");
                        e.add(".scheduler_default_cell_focus.scheduler_default_cell_focus_bottom", "border-bottom: 4px solid red;"),
                            e.add(".scheduler_default_selectionrectangle", "background-color: #1066a8; border: 1px solid #000033; opacity: 0.4;"),
                            e.add(".scheduler_default_link_shadow", "border:1px solid black;"),
                            e.add(".scheduler_default_link_shadow_circle", "background-color:black;"),
                            e.add(
                                ".scheduler_default_event_move_left",
                                "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
                            ),
                            e.add(
                                ".scheduler_default_event_move_right",
                                "box-sizing: border-box; padding: 2px; border: 1px solid #ccc; background: #fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee); display: flex; align-items: center;"
                            ),
                            e.add(".scheduler_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),
                            e.add(".scheduler_default_sorticon", "opacity: 0.2;background-position: center center; background-repeat: no-repeat; cursor: pointer;"),
                            e.add(
                                ".scheduler_default_sorticon.scheduler_default_sorticon_asc",
                                "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDEuNSwgMTAgMTAsIDAgMTAiLz48L3N2Zz4=');"
                            ),
                            e.add(
                                ".scheduler_default_sorticon.scheduler_default_sorticon_desc",
                                "background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAiIGhlaWdodD0iMTAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBvbHlnb24gcG9pbnRzPSI1IDguNSwgMCAwLCAxMCAwIi8+PC9zdmc+');"
                            ),
                            e.add(".scheduler_default_sorticon.scheduler_default_sorticon_active", "opacity: 1;"),
                            e.add(".scheduler_default_loading", "background-color: orange; color: white; padding: 2px;"),
                            e.add(".scheduler_default_link_curve", "stroke: #cc0000; fill: none; stroke-width: 2;"),
                            e.add(".scheduler_default_link_curve:hover", "stroke-opacity: 0.5;"),
                            e.add(".scheduler_default_link_curve_dot", "fill: #cc0000;"),
                            e.add(".scheduler_default_link_curve_marker", "fill: #cc0000;"),
                            e.add(".scheduler_default_link_curve_text", "fill: #cc0000;"),
                            e.add(".gantt_default_selected .gantt_default_event_inner", "background: #ddd;"),
                            e.add(".gantt_default_main", "border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                            e.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after", "box-sizing: content-box;"),
                            e.add(".gantt_default_timeheader", "cursor: default;color: #666;"),
                            e.add(".gantt_default_message", "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"),
                            e.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol", "color: #333;background: #f3f3f3;"),
                            e.add(".gantt_default_rowheader,.gantt_default_corner", "color: #333;background: #f3f3f3;"),
                            e.add(
                                ".gantt_default_rowheader.gantt_default_rowheader_selected",
                                "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(".gantt_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 7px;display: flex; align-items: center;"),
                            e.add(
                                ".gantt_default_timeheadergroup_inner",
                                "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"
                            ),
                            e.add(".gantt_default_timeheadercol_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;display: flex; align-items: center; justify-content: center;"),
                            e.add(".gantt_default_timeheader_float", "display: flex; align-items: center; justify-content: center;"),
                            e.add(".gantt_default_divider, .gantt_default_splitter", "background-color: #c0c0c0;"),
                            e.add(".gantt_default_divider_horizontal", "background-color: #c0c0c0;"),
                            e.add(".gantt_default_matrix_vertical_line", "background-color: #eee;"),
                            e.add(".gantt_default_matrix_vertical_break", "background-color: #000;"),
                            e.add(".gantt_default_matrix_horizontal_line", "background-color: #eee;"),
                            e.add(".gantt_default_resourcedivider", "background-color: #c0c0c0;"),
                            e.add(".gantt_default_shadow_inner", "box-sizing: border-box; background-color: #bbbbbb;border: 1px solid #888888;opacity: 0.5;height: 100%;"),
                            e.add(".gantt_default_shadow", "box-shadow: 0 2px 5px rgba(0,0,0,.2);"),
                            e.add(".gantt_default_event", "color:#666;"),
                            e.add(".gantt_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 2px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),
                            e.add(".gantt_default_event_bar", "top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),
                            e.add(".gantt_default_event_bar_inner", "position:absolute;height:4px;background-color:#1066a8;"),
                            e.add(
                                ".gantt_default_event_inner",
                                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(".gantt_default_event_float_inner", "padding:6px 2px 2px 8px;"),
                            e.add(".gantt_default_event_float_inner:after", 'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),
                            e.add(".gantt_default_columnheader_inner", "font-weight: bold;"),
                            e.add(".gantt_default_columnheader_splitter", "background-color: #666;opacity: 0.5;"),
                            e.add(".gantt_default_columnheader_cell_inner", "position: absolute; left: 0px; right: 0px; top: 0px; bottom: 0px; padding: 2px; display: flex; align-items: center;"),
                            e.add(".gantt_default_cell", "background-color: #f9f9f9;"),
                            e.add(".gantt_default_cell.gantt_default_cell_business", "background-color: #fff;"),
                            e.add(
                                ".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected",
                                "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(".gantt_default_tree_image_no_children", ""),
                            e.add(
                                ".gantt_default_tree_image_expand",
                                "background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnPjxwYXRoIGQ9J00gMS41IDAuNSBMIDYuNSA1IEwgMS41IDkuNScgc3R5bGU9J2ZpbGw6bm9uZTtzdHJva2U6Izk5OTk5OTtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLWxpbmVjYXA6YnV0dCcgLz48L3N2Zz4=);"
                            ),
                            e.add(
                                ".gantt_default_tree_image_collapse",
                                "background-image: url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMS41IEwgNSA2LjUgTCA5LjUgMS41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==);"
                            ),
                            e.add(
                                ".gantt_default_event_move_left",
                                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".gantt_default_event_move_right",
                                'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(
                                ".gantt_default_event_delete",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(".gantt_default_event_delete:hover", "opacity: 1;-ms-filter: none;"),
                            e.add(
                                ".gantt_default_rowmove_handle",
                                "background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(".gantt_default_rowmove_source", "background-color: black; opacity: 0.2;"),
                            e.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after", "background-color: #999; height: 2px;"),
                            e.add(".gantt_default_rowmove_position_child", "margin-left: 10px; background-color: #999; height: 2px;"),
                            e.add(".gantt_default_rowmove_position_child:before", "content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),
                            e.add(".gantt_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"),
                            e.add(".gantt_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),
                            e.add(".gantt_default_rowmove_position_child", "margin-left: 20px; background-color: #999999; height: 2px;"),
                            e.add(
                                ".gantt_default_rowmove_position_child:before",
                                "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Ccircle stroke='%23999999' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3Cline x1='12' y1='7' x2='12' y2='17' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='7' y1='12' x2='17' y2='12' stroke='%23999999' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3C/g%3E%3C/svg%3E\");"
                            ),
                            e.add(".gantt_default_rowmove_position_forbidden", "background-color: #cc0000; height: 2px; margin-left: 20px;"),
                            e.add(
                                ".gantt_default_rowmove_position_forbidden:before",
                                "position: absolute; width: 18px; height: 18px; top: -8px; left: -20px; content: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cg stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cline x1='8' y1='8' x2='16' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Cline x1='16' y1='8' x2='8' y2='16' stroke='%23cc0000' stroke-width='2' stroke-linecap='round'%3E%3C/line%3E%3Ccircle stroke='%23cc0000' stroke-width='2' cx='12' cy='12' r='9'%3E%3C/circle%3E%3C/g%3E%3C/svg%3E\");"
                            ),
                            e.add(".gantt_default_task_group .gantt_default_event_inner", "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #0b5394; filter: none; border: 0px none;"),
                            e.add(".gantt_default_task_group.gantt_default_event:before", "content:''; border-color: transparent transparent transparent #0b5394; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event:after",
                                "content:''; border-color: transparent #0b5394 transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"
                            ),
                            e.add(
                                ".gantt_default_task_milestone .gantt_default_event_inner",
                                "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
                            ),
                            e.add(
                                ".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner",
                                "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""
                            ),
                            e.add(".gantt_default_event_left", "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"),
                            e.add(".gantt_default_event_right", "white-space: nowrap; color: #666; cursor: default;  display: flex; align-items: center;"),
                            e.add(".gantt_default_link_horizontal", "border-bottom-style: solid; border-bottom-color: #cc0000;"),
                            e.add(".gantt_default_link_vertical", "border-right-style: solid; border-right-color: #cc0000;"),
                            e.add(".gantt_default_link_arrow_right:before", "content: ''; border-width: 6px; border-color: transparent transparent transparent #cc0000; border-style: solid; width: 0px; height:0px; position: absolute;"),
                            e.add(".gantt_default_link_arrow_left:before", "content: ''; border-width: 6px; border-color: transparent #cc0000 transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                            e.add(".gantt_default_link_arrow_down:before", "content: ''; border-width: 6px; border-color: #cc0000 transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                            e.add(".gantt_default_link_arrow_up:before", "content: ''; border-width: 6px; border-color: transparent transparent #cc0000 transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),
                            e.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner", "background-color: #cc4125;"),
                            e.add(".gantt_default_block", "background-color: gray; opacity: 0.5;"),
                            e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),
                            e.add(".gantt_default_main .gantt_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),
                            e.add(".gantt_default_header_icon:hover", "background-color: #ccc;"),
                            e.add(".gantt_default_header_icon_hide:before", "content: '\\00AB';"),
                            e.add(".gantt_default_header_icon_show:before", "content: '\\00BB';"),
                            e.add(
                                ".gantt_default_row_new .gantt_default_rowheader_inner",
                                "cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
                            ),
                            e.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover", "background: white;"),
                            e.add(".gantt_default_rowheader textarea", "padding: 5px;"),
                            e.add(".gantt_default_rowheader_scroll", "cursor: default; background: #f3f3f3;"),
                            e.add(
                                ".gantt_default_shadow_forbidden:after",
                                "content:''; position: absolute; top: calc(50% - 10px); left: 10px; border-radius: 50%; width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; background-image: url('data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2720%27 height=%2720%27 viewBox=%270 0 20 20%27%3E%3Ccircle cx=%2710%27 cy=%2710%27 r=%279%27 fill=%27%23cc0000aa%27 /%3E%3Cline x1=%275%27 y1=%275%27 x2=%2715%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3Cline x1=%2715%27 y1=%275%27 x2=%275%27 y2=%2715%27 stroke=%27white%27 stroke-width=%271.5%27/%3E%3C/svg%3E'); background-repeat: no-repeat; background-position: center; background-size: contain;"
                            ),
                            e.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner", "border: 1px solid #cc0000; background: #cc4125"),
                            e.add(".gantt_default_event_moving_source", "opacity: 0.5;"),
                            e.add(
                                ".gantt_default_event.gantt_default_event_version .gantt_default_event_inner",
                                "background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before", "border:0;"),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",
                                'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'
                            ),
                            e.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner", "padding-left: 8px;"),
                            e.add(
                                ".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",
                                'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'
                            ),
                            e.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after", "border:0;"),
                            e.add(
                                ".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",
                                'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'
                            ),
                            e.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner", "padding-right: 8px;"),
                            e.add(
                                ".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",
                                'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'
                            ),
                            e.add(".gantt_default_linkpoint", "background-color: white; border: 1px solid gray; border-radius: 5px;"),
                            e.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover", "background-color: black;"),
                            e.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top", "background-color: gray; opacity: 0.2; "),
                            e.add(".gantt_default_selectionrectangle", "background-color: #1066a8; border: 1px solid #000033; opacity: 0.4;"),
                            e.add(".gantt_default_link_shadow", "border:1px solid black;"),
                            e.add(".gantt_default_link_shadow_circle", "background-color:black;"),
                            e.add(".gantt_default_link_hover", "box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),
                            e.add(".gantt_default_link_curve", "stroke: #cc0000; fill: none; stroke-width: 2;"),
                            e.add(".gantt_default_link_curve:hover", "stroke-opacity: 0.5;"),
                            e.add(".gantt_default_link_curve_dot", "fill: #cc0000;"),
                            e.add(".gantt_default_link_curve_marker", "fill: #cc0000;"),
                            e.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after", "box-sizing: content-box;"),
                            e.add(".kanban_default_main", "box-sizing: content-box; border: 1px solid #c0c0c0;font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"),
                            e.add(".kanban_default_selected .kanban_default_event_inner", "background: #ddd;"),
                            e.add(".kanban_default_timeheader", "cursor: default;color: #333;"),
                            e.add(".kanban_default_message", "opacity: 0.9;padding: 10px; color: #ffffff;background: #ffa216;"),
                            e.add(".kanban_default_colheadercell", "color: #333;background: #f3f3f3;"),
                            e.add(".kanban_default_rowheader,.kanban_default_corner", "color: #333;background: #f3f3f3;"),
                            e.add(
                                ".kanban_default_rowheader.kanban_default_rowheader_selected",
                                "background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(".kanban_default_rowheader_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"),
                            e.add(".kanban_default_colheadercell", "text-align: center;"),
                            e.add(".kanban_default_colheadercell_inner", "position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),
                            e.add(".kanban_default_divider, .kanban_default_splitter", "background-color: #c0c0c0;"),
                            e.add(".kanban_default_divider_horizontal", "background-color: #c0c0c0;"),
                            e.add(".kanban_default_matrix_vertical_line", "background-color: #eee;"),
                            e.add(".kanban_default_matrix_vertical_break", "background-color: #000;"),
                            e.add(".kanban_default_matrix_horizontal_line", "background-color: #eee;"),
                            e.add(".kanban_default_rowheaderdivider", "background-color: #c0c0c0;"),
                            e.add(".kanban_default_shadow_inner", "background-color: #666666;opacity: 0.5;height: 100%;"),
                            e.add(".kanban_default_card", "color:#333;"),
                            e.add(".kanban_default_card_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),
                            e.add(
                                ".kanban_default_card_inner",
                                'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'
                            ),
                            e.add(".kanban_default_cell", "background-color: #fff;"),
                            e.add(
                                ".kanban_default_cell.kanban_default_cell_selected",
                                "background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"
                            ),
                            e.add(
                                ".kanban_default_tree_image_no_children",
                                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"
                            ),
                            e.add(
                                ".kanban_default_tree_image_expand",
                                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".kanban_default_tree_image_collapse",
                                "background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"
                            ),
                            e.add(
                                ".kanban_default_card_delete",
                                "background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; cursor: pointer;"
                            ),
                            e.add(".kanban_default_card_delete:hover", "opacity: 1;-ms-filter: none;"),
                            e.add(".kanban_default_rowmove_source", "background-color: black; opacity: 0.2;"),
                            e.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after", "background-color: #999; height: 2px;"),
                            e.add(".kanban_default_rowmove_position_forbidden", "background-color: red; height: 2px; margin-left: 10px;"),
                            e.add(".kanban_default_rowmove_position_forbidden:before", "content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),
                            e.add(".kanban_default_block", "background-color: gray; opacity: 0.5;"),
                            e.add(".kanban_default_main .kanban_default_header_icon", "box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),
                            e.add(".kanban_default_header_icon:hover", "background-color: #ccc;"),
                            e.add(".kanban_default_header_icon_hide:before", "content: '\\00AB';"),
                            e.add(".kanban_default_header_icon_show:before", "content: '\\00BB';"),
                            e.add(
                                ".kanban_default_row_new .kanban_default_rowheader_inner",
                                "cursor: text; background-position: 0px 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"
                            ),
                            e.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover", "background: white;"),
                            e.add(".kanban_default_rowheader textarea", "padding: 3px;"),
                            e.add(".kanban_default_rowheader_scroll", "cursor: default;"),
                            e.add(".kanban_default_card_moving_source", "opacity: 0.5;"),
                            e.add(".kanban_default_card .kanban_default_card_inner", "padding: 5px 5px 5px 10px;"),
                            e.add(".kanban_default_cell", "background-color: #fff;"),
                            e.add(
                                ".kanban_default_rowmove_handle",
                                "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(".kanban_default_card_header", "font-size: 120%; font-weight: bold;"),
                            e.add(".kanban_default_card_bar", "background-color: #cc0000; cursor:move;"),
                            e.add(".kanban_default_cell.kanban_default_collapsed", "background-color: #eee;"),
                            e.add(".kanban_default_swimlane_collapse", "cursor:pointer; border: 1px solid #ccc; text-align:center;"),
                            e.add(".kanban_default_swimlane_collapse:before", "content: '^';"),
                            e.add(".kanban_default_swimlane_expand", "cursor:pointer; border: 1px solid #ccc; text-align:center;"),
                            e.add(".kanban_default_swimlane_expand:before", "content: '>';"),
                            e.add(
                                ".kanban_default_columnmove_handle",
                                "opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"
                            ),
                            e.add(".kanban_default_columnmove_position", "background-color: #333;"),
                            e.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top", "background-color: gray; opacity: 0.2;"),
                            e.add(
                                ".queue_default_main",
                                "min-width: 100px; border: 1px solid #ccc; padding: 5px; min-height: 200px; overflow-y: auto; font-family: -apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif; font-size: 13px;"
                            ),
                            e.add(".queue_default_event_bar", "left: 0px; top: 0px; bottom: 0px; width: 5px; background-color: #1066a8;"),
                            e.add(".queue_default_event_inner", "position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:2px 2px 2px 10px;overflow:hidden;border:1px solid #ccc; display: flex; align-items: center;"),
                            e.add(".queue_default_event_inner", "background:#fff; background: linear-gradient(to bottom, #ffffff 0%, #eeeeee);"),
                            e.add(".queue_default_selected .queue_default_event_inner", "background: #ddd;"),
                            e.add(".queue_default_shadow", "background-color: #ccc;"),
                            e.commit(),
                            (DayPilot.Global.defaultCss = !0);
                    }
                })();
            var o = function (e) {
                    function t() {
                        var t = new URL(e, location.href);
                        return t.origin + t.pathname !== location.origin + location.pathname;
                    }
                    var n = this;
                    (this.k = function () {
                        return t()
                            ? fetch(e)
                                  .then(function (e) {
                                      return e.text();
                                  })
                                  .then(function (e) {
                                      var t = document.createElement("div");
                                      return (
                                          (t.innerHTML = e),
                                          new Promise(function (e, i) {
                                              e(t.querySelector(n.P()));
                                          })
                                      );
                                  })
                            : new Promise(function (e, t) {
                                  e(document.querySelector(n.P()));
                              });
                    }),
                        (this.P = function () {
                            return new URL(e, location.href).hash;
                        });
                },
                s = function (e) {
                    var t = this;
                    (this.id = e),
                        (this.widths = []),
                        (this.titles = []),
                        (this.data = []),
                        (this.height = null),
                        (this.bubble = null),
                        (this.splitterWidth = 3),
                        (this.splitterWidthLast = null),
                        (this.css = {}),
                        (this.css.title = null),
                        (this.css.titleInner = null),
                        (this.css.splitter = null),
                        (this.enabled = !0),
                        (this.blocks = []),
                        (this.drag = {}),
                        (this.updated = function () {}),
                        (this.updating = function () {}),
                        (this.started = function () {});
                    var n = {};
                    (n.splitterWidth = function (e) {
                        var n = e && "number" == typeof t.splitterWidthLast ? t.splitterWidthLast : t.splitterWidth;
                        return t.enabled ? n : 1;
                    }),
                        (this.init = function () {
                            var i;
                            if (!e) throw "error: id not provided";
                            if ("string" == typeof e) i = document.getElementById(e);
                            else {
                                if (!e.appendChild) throw "error: invalid object provided";
                                i = e;
                            }
                            (this.div = i), (this.blocks = []);
                            for (var a = 0; a < this.widths.length; a++) {
                                var r = a === this.widths.length - 1,
                                    o = n.splitterWidth(r),
                                    s = document.createElement("div");
                                (s.style.display = "inline-block"),
                                    null !== t.height ? (s.style.height = t.height + "px") : (s.style.height = "100%"),
                                    (s.style.width = this.widths[a] - o + "px"),
                                    (s.style.overflow = "hidden"),
                                    (s.style.position = "relative"),
                                    s.setAttribute("unselectable", "on"),
                                    (s.className = this.css.title),
                                    i.appendChild(s);
                                var l = this.titles[a],
                                    d = null,
                                    c = [],
                                    u = null,
                                    h = null;
                                "object" == typeof l && ((d = l.html), (c = l.areas), (u = l.cssClass), (h = l.toolTip)),
                                    u && DayPilot.Util.addClass(s, u),
                                    h && (s.title = h),
                                    (function (e, n) {
                                        (n.onmousemove = function (i) {
                                            if (t.bubble) {
                                                var a = {};
                                                (a.calendar = t.calendar),
                                                    (a.type = "RowHeaderColumn"),
                                                    (a.object = e.data),
                                                    (a.staticHTML = e.bubbleHtml),
                                                    (a.div = n),
                                                    (a.toJSON = function () {
                                                        var e = {};
                                                        return (e.uid = t.calendar.uniqueID), (e.type = "RowHeaderColumn"), (e.object = a.object), e;
                                                    }),
                                                    t.bubble.showRowHeaderColumn(a);
                                            }
                                        }),
                                            (n.onmouseout = function (e) {
                                                t.bubble && t.bubble.hideOnMouseOut();
                                            });
                                    })(l, s);
                                var f = document.createElement("div");
                                (f.innerHTML = d), f.setAttribute("unselectable", "on"), (f.className = this.css.titleInner), s.appendChild(f), DayPilot.Areas.attach(s, t.data[a], { areas: c });
                                var v = document.createElement("div");
                                (v.style.display = "inline-block"),
                                    null !== t.height ? (v.style.height = t.height + "px") : (v.style.height = "100%"),
                                    (v.style.width = o + "px"),
                                    (v.style.position = "relative"),
                                    v.appendChild(document.createElement("div")),
                                    t.enabled && (v.style.cursor = "col-resize"),
                                    v.setAttribute("unselectable", "on"),
                                    (v.className = this.css.splitter);
                                var p = {};
                                (p.index = a),
                                    (p.width = this.widths[a]),
                                    (v.data = p),
                                    (v.onmousedown = function (e) {
                                        if ((e.preventDefault(), t.enabled)) {
                                            var n = DayPilot.page(e);
                                            n && ((t.drag.start = n), (t.drag.data = this.data), (t.div.style.cursor = "col-resize"), t.started());
                                        }
                                    }),
                                    i.appendChild(v);
                                var m = {};
                                (m.section = s), (m.handle = v), this.blocks.push(m);
                            }
                            this.registerGlobalHandlers();
                        }),
                        (this.updateWidths = function () {
                            for (var e = 0; e < this.blocks.length; e++) {
                                var t = this.blocks[e],
                                    n = this.widths[e];
                                (t.handle.data.width = n), this.Q(e);
                            }
                        }),
                        (this.Q = function (e) {
                            var t = this.blocks[e],
                                i = this.widths[e],
                                a = e === this.widths.length - 1;
                            t.section.style.width = i - n.splitterWidth(a) + "px";
                        }),
                        (this.totalWidth = function () {
                            for (var e = 0, t = 0; t < this.widths.length; t++) e += this.widths[t];
                            return e;
                        }),
                        (this.gMouseMove = function (e) {
                            if (t.drag.start) {
                                var n = t.drag.data,
                                    i = DayPilot.page(e);
                                if (i) {
                                    var a = i.x - t.drag.start.x,
                                        r = n.index;
                                    (t.widths[r] = Math.max(5, n.width + a)), t.Q(r);
                                    var o = {};
                                    (o.widths = this.widths), (o.index = n.index), t.updating(o);
                                }
                            }
                        }),
                        (this.gMouseUp = function (e) {
                            if (t.drag.start) {
                                (t.drag.start = null), (document.body.style.cursor = ""), (t.div.style.cursor = "");
                                var n = t.drag.data;
                                n.width = t.widths[n.index];
                                var i = {};
                                (i.widths = this.widths), (i.index = n.index), t.updated(i);
                            }
                        }),
                        (this.dispose = function () {
                            DayPilot.list(this.blocks).forEach(function (e) {
                                (e.handle.onmousedown = null), DayPilot.de(e.section), DayPilot.de(e.handle);
                            }),
                                this.unregisterGlobalHandlers();
                        }),
                        (this.registerGlobalHandlers = function () {
                            DayPilot.re(document, "mousemove", this.gMouseMove), DayPilot.re(document, "mouseup", this.gMouseUp);
                        }),
                        (this.unregisterGlobalHandlers = function () {
                            DayPilot.ue(document, "mousemove", this.gMouseMove), DayPilot.ue(document, "mouseup", this.gMouseUp);
                        });
                };
            DayPilot.Splitter = s;
        }
    })(DayPilot),
    (function () {
        "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
    })(),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Bubble || !DayPilot.Bubble.def) {
            var e = {};
            (e.mouseMove = function (t) {
                if ("undefined" != typeof e) {
                    e.mouse = e.mousePosition(t);
                    var n = e.active;
                    if (n && n.R.showPosition) {
                        var i = n.R.showPosition,
                            a = e.mouse;
                        i.clientX !== a.clientX || i.clientY !== a.clientY;
                    }
                }
            }),
                (e.touchPosition = function (e) {
                    if (!e || !e.touches) return null;
                    var t = e.touches[0],
                        n = {};
                    return (n.x = t.pageX), (n.y = t.pageY), (n.clientX = t.clientX), (n.clientY = t.clientY), n;
                }),
                (e.mousePosition = function (e) {
                    var t = DayPilot.mo3(null, e);
                    return e && ((t.clientY = e.clientY), (t.clientX = e.clientX)), t;
                }),
                (DayPilot.Bubble = function (t) {
                    this.v = "2024.2.5916";
                    var n = this,
                        i = {};
                    if (
                        ((this.arrowTopIndent = 6),
                        (this.arrowLeftIndent = 6),
                        (this.hideAfter = 500),
                        (this.loadingText = "Loading..."),
                        (this.animated = !0),
                        (this.animation = "fast"),
                        (this.position = "Above"),
                        (this.hideOnClick = !0),
                        (this.hideOnHover = !1),
                        (this.showAfter = 500),
                        (this.showLoadingLabel = !0),
                        (this.showArrow = !0),
                        (this.zIndex = 10),
                        (this.theme = "bubble_default"),
                        (this.onLoad = null),
                        (this.onBeforeDomAdd = null),
                        (this.onBeforeDomRemove = null),
                        (this.R = function () {}),
                        (this.callBack = function (e) {
                            this.aspnet()
                                ? WebForm_DoCallback(this.uniqueID, JSON.stringify(e), this.updateView, this, this.callbackError, !0)
                                : e.calendar.internal.bubbleCallBack
                                ? e.calendar.internal.bubbleCallBack(e, this)
                                : e.calendar.bubbleCallBack(e, this);
                        }),
                        (this.callbackError = function (e, t) {
                            alert(e);
                        }),
                        (this.updateView = function (t, a) {
                            if (n !== a) throw "Callback object mismatch (internal error)";
                            if (!t) return void n.S();
                            var r = null,
                                o = null,
                                s = null;
                            if (("string" == typeof t ? (o = t) : "object" == typeof t && ((r = t), (o = t.html), (s = t.element)), (e.active = n), n)) {
                                var l = !1,
                                    d = !1;
                                if (i.div) {
                                    if (s) {
                                        i.T.innerHTML = "";
                                        var c = DayPilot.Util.isReactComponent(s),
                                            u = DayPilot.Util.isVueComponent(s);
                                        if (c) {
                                            if (!(n.U.calendar && n.U.calendar.internal.reactRefs().reactDOM)) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            n.W.V(s, i.T), (d = n.W.X());
                                        } else if (u) {
                                            var h = n.Y.U();
                                            if (!h) throw new DayPilot.Exception("Can't reach Vue");
                                            n.Y.Z(s, i.T, r.props);
                                        } else i.T.appendChild(s);
                                        l = !0;
                                    } else o && ((i.T.innerHTML = o), (l = !0));
                                    i.div.domArgs = r;
                                }
                                l &&
                                    (d
                                        ? setTimeout(function () {
                                              n._();
                                          })
                                        : n._());
                            }
                        }),
                        (this.init = function () {}),
                        (this.dispose = function () {}),
                        (this.update = function (e) {
                            DayPilot.Util.copyProps(e, this);
                        }),
                        (this.aspnet = function () {
                            return "undefined" != typeof WebForm_DoCallback;
                        }),
                        (this.showEvent = function (t, n) {
                            var i = new e.CallBackArgs(t.calendar || t.root, "Event", t, t.bubbleHtml ? t.bubbleHtml() : null);
                            n ? this.show(i) : this.showOnMouseOver(i);
                        }),
                        (this.showGroup = function (e) {
                            this.showOnMouseOver(e);
                        }),
                        (this.showCell = function (t, n) {
                            e.cancelShowing();
                            var i = new e.CallBackArgs(t.calendar || t.root, "Cell", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null);
                            (i.div = n), this.showOnMouseOver(i);
                        }),
                        (this.showLink = function (t) {
                            e.cancelShowing();
                            var n = new e.CallBackArgs(t.calendar || t.root, "Cell", t, t.data && t.data.bubbleHtml);
                            this.showOnMouseOver(n);
                        }),
                        (this.showTime = function (t) {
                            var n = new e.CallBackArgs(t.calendar || t.root, "Time", t, t.staticBubbleHTML ? t.staticBubbleHTML() : null);
                            this.showOnMouseOver(n);
                        }),
                        (this.showResource = function (t, n, i) {
                            var a = {};
                            (a.calendar = t.calendar),
                                (a.id = t.id),
                                (a.name = t.name),
                                (a.start = t.start),
                                t.bubbleHtml
                                    ? (a.bubbleHtml = function () {
                                          return t.bubbleHtml;
                                      })
                                    : t.data &&
                                      t.data.bubbleHtml &&
                                      (a.bubbleHtml = function () {
                                          return t.data.bubbleHtml;
                                      }),
                                (a.toJSON = function () {
                                    var e = {};
                                    return (e.id = this.id), e;
                                });
                            var r = new e.CallBackArgs(a.calendar || a.root, "Resource", a, a.bubbleHtml ? a.bubbleHtml() : null);
                            i ? (r.div = i) : (r.div = t.div), n ? (e.cancelHiding(), this.show(r)) : this.showOnMouseOver(r);
                        }),
                        (this.showHtml = function (t, n) {
                            var i = new e.CallBackArgs(null, "Html", null, t);
                            (i.div = n), this.showOnMouseOver(i);
                        }),
                        (this.showRowHeaderColumn = function (e) {
                            this.showOnMouseOver(e);
                        }),
                        (this.hide = function () {
                            e.active === this && DayPilot.Bubble.hide();
                        }),
                        (this.toJSON = function () {
                            return null;
                        }),
                        (this.show = function (t) {
                            if (n.aa(t)) {
                                var a = this.animated;
                                if (((this.R.showPosition = e.mouse), (e.showing = null), !e.mouse))
                                    return void setTimeout(function () {
                                        n.show(t);
                                    }, 100);
                                var r = e.mouse;
                                (r.h = 0), (r.w = 0);
                                var o = this.getDiv(t),
                                    s = n.ba(o),
                                    l = "Above" === s,
                                    d = "Right" === s;
                                if ((l || d) && o) {
                                    var c = 2,
                                        u = DayPilot.abs(o, !0);
                                    if (!u) return;
                                    (r.x = u.x), (r.y = u.y), (r.h = u.h + c), (r.w = u.w);
                                }
                                this.R.mouse = r;
                                var h;
                                try {
                                    h = JSON.stringify(t.object);
                                } catch (e) {
                                    return;
                                }
                                if (!((e.active === this && this.R.sourceId === h) || ("undefined" != typeof DayPilot.Menu && DayPilot.Menu.active))) {
                                    e.hideActive(), (e.active = this), (this.R.sourceId = h);
                                    var f = document.createElement("div");
                                    f.setAttribute("unselectable", "on"),
                                        (f.style.position = "absolute"),
                                        this.showLoadingLabel || (f.style.display = "none"),
                                        (f.className = this.ca("_main")),
                                        (f.style.top = "-3000px"),
                                        (f.style.left = "-3000px"),
                                        (f.style.zIndex = this.zIndex + 1),
                                        a && (f.style.visibility = "hidden"),
                                        this.hideOnClick &&
                                            (f.onclick = function () {
                                                e.hideActive();
                                            }),
                                        (f.onmousemove = function (t) {
                                            n.hideOnHover && e.hideActive(), e.cancelShowing(), e.cancelHiding();
                                            var t = t || window.event;
                                            t.cancelBubble = !0;
                                        }),
                                        (f.oncontextmenu = function () {
                                            return !1;
                                        }),
                                        (f.onmouseleave = function () {
                                            n.delayedHide();
                                        });
                                    var v = this.arrowLeftIndent,
                                        p = this.arrowTopIndent,
                                        m = "http://www.w3.org/2000/svg",
                                        g = document.createElementNS(m, "svg");
                                    g.setAttribute("viewBox", "0 0 12 10"),
                                        g.setAttribute("class", this.ca("_arrow_top")),
                                        (g.style.width = "12px"),
                                        (g.style.height = "10px"),
                                        (g.style.position = "absolute"),
                                        (g.style.top = "0px"),
                                        (g.style.left = v + "px"),
                                        (g.style.display = "none"),
                                        (g.innerHTML = '<polyline points="0 10 6 0 12 10"></polyline>');
                                    var y = document.createElementNS(m, "svg");
                                    y.setAttribute("viewBox", "0 0 12 10"),
                                        y.setAttribute("class", this.ca("_arrow_bottom")),
                                        (y.style.width = "12px"),
                                        (y.style.height = "10px"),
                                        (y.style.position = "absolute"),
                                        (y.style.bottom = "0px"),
                                        (y.style.left = v + "px"),
                                        (y.style.display = "none"),
                                        (y.innerHTML = '<polyline points="0 0 6 10 12 0"></polyline>');
                                    var b = document.createElementNS(m, "svg");
                                    b.setAttribute("viewBox", "0 0 10 12"),
                                        b.setAttribute("class", this.ca("_arrow_left")),
                                        (b.style.width = "10px"),
                                        (b.style.height = "12px"),
                                        (b.style.position = "absolute"),
                                        (b.style.top = p + "px"),
                                        (b.style.left = "0px"),
                                        (b.style.display = "none"),
                                        (b.innerHTML = '<polyline points="10 0 0 6 10 12"></polyline>');
                                    var w = document.createElementNS(m, "svg");
                                    w.setAttribute("viewBox", "0 0 10 12"),
                                        w.setAttribute("class", this.ca("_arrow_right")),
                                        (w.style.width = "10px"),
                                        (w.style.height = "12px"),
                                        (w.style.position = "absolute"),
                                        (w.style.top = p + "px"),
                                        (w.style.right = "0px"),
                                        (w.style.display = "none"),
                                        (w.innerHTML = '<polyline points="0 0 10 6 0 12"></polyline>');
                                    var x = document.createElement("div");
                                    f.appendChild(x),
                                        f.appendChild(g),
                                        f.appendChild(y),
                                        f.appendChild(b),
                                        f.appendChild(w),
                                        (x.className = this.ca("_main_inner")),
                                        (x.innerHTML = this.loadingText),
                                        document.body.appendChild(f),
                                        (i.div = f),
                                        (i.T = x),
                                        (i.da = g),
                                        (i.ea = y),
                                        (i.fa = b),
                                        (i.ga = w),
                                        (n.U = function () {}),
                                        (n.U.calendar = t.calendar),
                                        (n.U.ha = o);
                                    var k = {};
                                    (k.source = t.object),
                                        (k.async = !1),
                                        (k.html = t.staticHTML),
                                        (k.loaded = function () {
                                            this.async && n.ia(k);
                                        }),
                                        this.showLoadingLabel && !a && this._(),
                                        t.staticHTML && "function" != typeof this.onLoad
                                            ? n.ia(k)
                                            : "function" == typeof this.onLoad
                                            ? (this.onLoad(k), k.async || n.ia(k))
                                            : "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd
                                            ? n.ia(k)
                                            : this.ja(t) && this.callBack(t);
                                }
                            }
                        }),
                        (this.aa = function (e) {
                            return !!e.staticHTML || "function" == typeof this.onLoad || "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd || !!this.ja(e);
                        }),
                        (this.ia = function (e) {
                            var t = {};
                            (t.source = e.source), (t.html = e.html), (t.element = null), "function" == typeof n.onDomAdd && n.onDomAdd(t), "function" == typeof n.onBeforeDomAdd && n.onBeforeDomAdd(t), n.updateView(t, n);
                        }),
                        (this.getDiv = function (e) {
                            return e.div ? e.div : "Event" === e.type && e.calendar && e.calendar.internal.findEventDiv ? e.calendar.internal.findEventDiv(e.object) : void 0;
                        }),
                        (this.ca = function (e) {
                            var t = this.theme || this.cssClassPrefix;
                            return t ? t + e : "";
                        }),
                        (this.ba = function (e) {
                            var t = n.position;
                            if (!e) return "Mouse";
                            if (!t) return "Above";
                            if ("eventtop" === t.toLowerCase()) return "Above";
                            if ("above" === t.toLowerCase()) return "Above";
                            if ("mouse" === t.toLowerCase()) return "Mouse";
                            if ("right" === t.toLowerCase()) return "Right";
                            throw new DayPilot.Exception("Unrecognized DayPilot.Bubble.position value: " + t);
                        }),
                        (this._ = function () {
                            var t = this.animated,
                                a = this.R.mouse,
                                r = n.ba(this.U.ha),
                                o = 10,
                                s = 0;
                            if (i.div && a) {
                                if (!a.x || !a.y) return void e.hideActive();
                                var l = i.div,
                                    d = i.T;
                                l.style.display = "";
                                var c = l.offsetHeight;
                                this.showArrow && (c += 9);
                                var u = l.offsetWidth;
                                this.showArrow && (u += 9), (l.style.display = "none");
                                var h = DayPilot.wd(),
                                    f = h.width,
                                    v = h.height,
                                    p = "bottom",
                                    m = "left",
                                    g = this.showArrow;
                                if ("Mouse" === r) {
                                    var y = 0;
                                    if (a.clientY < c + o) {
                                        var b = c + o - a.clientY;
                                        (b = 0), (y = a.y + b + 22), (p = "top");
                                    } else y = a.y - c - 5;
                                    "number" == typeof y && (l.style.top = Math.max(y, 0) + "px");
                                    var w;
                                    if (a.clientX > f - u + o) {
                                        var x = a.clientX - (f - u) + o;
                                        (w = a.x - x), (g = !1);
                                    } else (w = a.x), this.showArrow && (w -= 16);
                                    l.style.left = w + "px";
                                } else if ("Above" === r) {
                                    var k = 2,
                                        y = a.y - c - k,
                                        C = h.scrollTop;
                                    y < C && ((y = a.y + a.h), (p = "top")), "number" == typeof y && (l.style.top = Math.max(y, 0) + "px");
                                    var w = a.x;
                                    a.x + u + o > f && ((w = f - u - o), (m = "right")), (l.style.left = w + "px");
                                } else if ("Right" === r) {
                                    p = "top";
                                    var y = a.y,
                                        w = a.x + a.w;
                                    w + u + o > f && u < a.x && ((w = w - u - a.w), (m = "right"));
                                    var _ = y + c + o - v;
                                    _ > 0 && ((y -= _), (s = _), y < 0 && ((s += y), (y = 0))), (l.style.top = y + "px"), (l.style.left = w + "px");
                                }
                                if (
                                    ((l.style.display = ""),
                                    g &&
                                        ("Above" === r || "Mouse" === r
                                            ? "bottom" === p
                                                ? ((i.da.style.display = "none"), (i.ea.style.display = ""), (d.style.marginTop = "0px"), (d.style.marginBottom = "9px"))
                                                : ((i.da.style.display = ""), (i.ea.style.display = "none"), (d.style.marginTop = "9px"), (d.style.marginBottom = "0px"))
                                            : "left" === m
                                            ? ((i.ga.style.display = "none"), (i.fa.style.display = ""), (i.fa.style.top = this.arrowTopIndent + s + "px"), (d.style.marginRight = "0px"), (d.style.marginLeft = "9px"))
                                            : ((i.ga.style.display = ""), (i.fa.style.display = "none"), (i.ga.style.top = this.arrowTopIndent + s + "px"), (d.style.marginRight = "9px"), (d.style.marginLeft = "0px"))),
                                    t)
                                ) {
                                    l.style.display = "";
                                    var D = {};
                                    (D.color = d.style.color),
                                        (D.overflow = l.style.overflow),
                                        (d.style.color = "transparent"),
                                        (l.style.overflow = "hidden"),
                                        DayPilot.pop(l, {
                                            finished: function () {
                                                (d.style.color = D.color), (l.style.overflow = D.overflow);
                                            },
                                            vertical: p,
                                            horizontal: m,
                                            animation: n.animation,
                                        });
                                }
                            }
                        }),
                        (this.delayedHide = function () {
                            e.showing === this && e.cancelShowing();
                            var t = e.active;
                            if (t === this && (e.cancelHiding(), t.hideAfter > 0)) {
                                var n = t.hideAfter;
                                e.timeoutHide = window.setTimeout(e.hideActive, n);
                            }
                        }),
                        (this.showOnMouseOver = function (t) {
                            e.active === this && e.cancelHiding();
                            var i = function (e) {
                                return function () {
                                    n.show(e);
                                };
                            };
                            clearTimeout(e.timeoutShow), (e.timeoutShow = window.setTimeout(i(t), this.showAfter)), (e.showing = this);
                        }),
                        (this.hideOnMouseOut = function () {
                            this.delayedHide();
                        }),
                        (this.ja = function (e) {
                            return !!e.calendar.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID);
                        }),
                        (this.S = function () {
                            if (i.div) {
                                var e = i.div.domArgs;
                                if (
                                    ((i.div.domArgs = null),
                                    e && ("function" == typeof n.onDomRemove && n.onDomRemove(e), "function" == typeof n.onBeforeDomRemove && n.onBeforeDomRemove(e), "function" == typeof n.onDomAdd || "function" == typeof n.onBeforeDomAdd))
                                ) {
                                    var t = i.T;
                                    if (t) {
                                        var a = DayPilot.Util.isReactComponent(e.element),
                                            r = DayPilot.Util.isVueComponent(e.element);
                                        if (a) {
                                            if (!(n.U.calendar && n.U.calendar.internal.reactRefs().reactDOM)) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            n.W.ka(t);
                                        } else r && n.Y.la(t);
                                    }
                                }
                                document.body.removeChild(i.div), (i.div = null);
                            }
                        }),
                        (this.W = {}),
                        (this.W.V = function (e, t) {
                            var i = n.U.calendar && n.U.calendar.internal.reactRefs().reactDOM;
                            if ("function" == typeof i.createRoot) {
                                var a = t.ma;
                                a || ((a = i.createRoot(t)), (t.ma = a)), a.render(e);
                            } else i.render(e, t);
                        }),
                        (this.W.X = function () {
                            var e = n.U.calendar && n.U.calendar.internal.reactRefs().reactDOM;
                            return e && "function" == typeof e.createRoot;
                        }),
                        (this.W.ka = function (e) {
                            var t = n.U.calendar && n.U.calendar.internal.reactRefs().reactDOM;
                            if ("function" == typeof t.createRoot) {
                                var i = e.ma;
                                setTimeout(function () {
                                    i.unmount();
                                }, 0);
                            } else t.unmountComponentAtNode(e);
                        }),
                        (this.Y = {}),
                        (this.Y.U = function () {
                            var e = n.U.calendar,
                                t = e && e.internal.vueRef;
                            return t && t();
                        }),
                        (this.Y.Z = function (e, t, i) {
                            var a = n.Y.U();
                            if (a && "function" == typeof a.createVNode && "function" == typeof a.render) {
                                var r = a.createVNode(e, i);
                                a.render(r, t);
                            }
                        }),
                        (this.Y.la = function (e) {
                            var t = n.Y.U();
                            "function" == typeof t.render && t.render(null, e);
                        }),
                        t)
                    )
                        for (var a in t) this[a] = t[a];
                    this.init();
                }),
                (DayPilot.Bubble.touchPosition = function (t) {
                    t.touches && (e.mouse = e.touchPosition(t));
                }),
                (e.cancelShowing = function () {
                    (e.showing = null), e.timeoutShow && (window.clearTimeout(e.timeoutShow), (e.timeoutShow = null));
                }),
                (e.cancelHiding = function () {
                    e.timeoutHide && window.clearTimeout(e.timeoutHide);
                }),
                (e.hideActive = function () {
                    e.cancelHiding();
                    var t = e.active;
                    t && t.S(), (e.active = null);
                }),
                (e.CallBackArgs = function (e, t, n, i) {
                    (this.calendar = e),
                        (this.type = t),
                        (this.object = n),
                        (this.staticHTML = i),
                        (this.toJSON = function () {
                            var e = {};
                            return (e.uid = this.calendar.uniqueID), (e.type = this.type), (e.object = n), e;
                        });
                }),
                "undefined" != typeof document && DayPilot.re(document, "mousemove", e.mouseMove),
                (DayPilot.Bubble.hideActive = e.hideActive),
                (DayPilot.Bubble.cancelShowing = e.cancelShowing),
                (DayPilot.Bubble.hide = function (t) {
                    if (((t = t || {}), t.calendar)) {
                        var n = e.active;
                        n && n.U.calendar === t.calendar && DayPilot.Bubble.hide();
                    } else e.hideActive();
                }),
                (DayPilot.Bubble.getActive = function () {
                    return e.active;
                }),
                (DayPilot.Bubble.def = {}),
                "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Calendar || !DayPilot.Calendar.def) {
            var e = 10,
                t = function () {
                    return document.createElement("div");
                },
                n = DayPilot.rePassive,
                i = DayPilot.reNonPassive,
                a = DayPilot.re,
                r = DayPilot.Util.addClass,
                o = DayPilot.Util.removeClass,
                s = DayPilot.Util.isMouseEvent,
                l = DayPilot.Util.copyProps,
                d = DayPilot.Util.isReactComponent,
                c = DayPilot.Util.overlaps,
                u = DayPilot.list,
                h = DayPilot.Global,
                f = DayPilot.de;
            DayPilot.Calendar = function (p, m) {
                this.v = "2024.2.5916";
                var g = !1;
                if ((this instanceof DayPilot.Calendar && !this.na && ((g = !0), (this.na = !0)), !g)) throw new DayPilot.Exception("DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'");
                var y = this;
                (this.uniqueID = null),
                    (this.clientName = p),
                    (this.id = p),
                    (this.isCalendar = !0),
                    (this.allDayEnd = "DateTime"),
                    (this.allDayEventHeight = 34),
                    (this.allDayEventTextWrappingEnabled = !1),
                    (this.allowEventOverlap = !0),
                    (this.allowMultiSelect = !0),
                    (this.api = 2),
                    (this.autoRefreshCommand = "refresh"),
                    (this.autoRefreshEnabled = !1),
                    (this.autoRefreshInterval = 60),
                    (this.autoRefreshMaxCount = 20),
                    (this.autoScroll = "Drag"),
                    (this.backendUrl = null),
                    (this.blockOnCallBack = !1),
                    "function" == typeof DayPilot.Bubble ? (this.bubble = new DayPilot.Bubble()) : (this.bubble = null),
                    (this.cellBubble = null),
                    (this.columnBubble = null),
                    (this.businessBeginsHour = 9),
                    (this.businessEndsHour = 18),
                    (this.cellHeight = 30),
                    (this.cellDuration = 30),
                    (this.clientState = {}),
                    (this.columnMarginLeft = 0),
                    (this.columnMarginRight = 5),
                    (this.columnMoveSameLevelOnly = !1),
                    (this.columnWidth = 200),
                    (this.columnWidthMin = 10),
                    (this.columnWidthSpec = "Auto"),
                    (this.columnsLoadMethod = "GET"),
                    (this.contextMenu = null),
                    (this.contextMenuSelection = null),
                    (this.cornerText = ""),
                    (this.cornerHtml = null),
                    (this.crosshairType = "Header"),
                    (this.cssClass = null),
                    (this.cssClassPrefix = "calendar_default"),
                    (this.dayBeginsHour = 0),
                    (this.dayEndsHour = 24),
                    (this.days = 1),
                    (this.doubleClickTimeout = 300),
                    (this.durationBarVisible = !0),
                    (this.dynamicEventRendering = "Disabled"),
                    (this.dynamicEventRenderingMarginX = 0),
                    (this.dynamicEventRenderingMarginY = 0),
                    (this.eventArrangement = "Cascade"),
                    (this.eventsLoadMethod = "GET"),
                    (this.headerHeight = 30),
                    (this.headerTextWrappingEnabled = !1),
                    (this.headerHeightAutoFit = !1),
                    (this.headerLevels = "Auto"),
                    (this.height = 300),
                    (this.heightSpec = "BusinessHours"),
                    (this.hideFreeCells = !1),
                    (this.hideUntilInit = !0),
                    (this.headerDateFormat = null),
                    (this.hourWidth = 60),
                    (this.initEventEnabled = !1),
                    (this.initScrollPos = null),
                    (this.loadingLabelText = "Loading..."),
                    (this.loadingLabelHtml = null),
                    (this.loadingLabelVisible = !0),
                    (this.locale = "en-us"),
                    (this.messageHideAfter = 5e3),
                    (this.moveBy = "Full"),
                    (this.notifyCommit = "Immediate"),
                    (this.rtl = !1),
                    (this.scale = "CellDuration"),
                    (this.scrollDelayCells = 0),
                    (this.scrollDelayEvents = 10),
                    (this.scrollLabelsVisible = !1),
                    (this.showToolTip = !0),
                    (this.showAllDayEvents = !1),
                    (this.showEventStartEnd = !1),
                    (this.showHeader = !0),
                    (this.showHours = !0),
                    (this.showCurrentTime = !1),
                    (this.showCurrentTimeMode = "Day"),
                    (this.showCurrentTimeOffset = 0),
                    (this.snapToGrid = !0),
                    (this.snapToGridTimeRangeSelecting = !0),
                    (this.snapToGridEventMoving = !0),
                    (this.snapToGridEventResizing = !0),
                    (this.startDate = DayPilot.Date.today()),
                    (this.tapAndHoldTimeout = 300),
                    (this.theme = null),
                    (this.timeFormat = "Auto"),
                    (this.timeHeaderCellDuration = "Auto"),
                    (this.timeRangeSelectingStartEndEnabled = !1),
                    (this.timeRangeSelectingStartEndFormat = "Auto"),
                    (this.eventMovingStartEndEnabled = !1),
                    (this.eventMovingStartEndFormat = "Auto"),
                    (this.eventResizingStartEndEnabled = !1),
                    (this.eventResizingStartEndFormat = "Auto"),
                    (this.useEventBoxes = "Always"),
                    (this.viewType = "Days"),
                    (this.visible = !0),
                    (this.watchWidthChanges = !0),
                    (this.weekStarts = "Auto"),
                    (this.width = null),
                    (this.xssProtection = "Enabled"),
                    (this.columnMoveHandling = "Disabled"),
                    (this.columnResizeHandling = "Disabled"),
                    (this.eventClickHandling = "Enabled"),
                    (this.eventDoubleClickHandling = "Disabled"),
                    (this.eventRightClickHandling = "ContextMenu"),
                    (this.eventDeleteHandling = "Disabled"),
                    (this.eventEditHandling = "Update"),
                    (this.eventHoverHandling = "Bubble"),
                    (this.eventResizeHandling = "Update"),
                    (this.eventMoveHandling = "Update"),
                    (this.eventSelectHandling = "Update"),
                    (this.eventTapAndHoldHandling = "Move"),
                    (this.headerClickHandling = "Enabled"),
                    (this.timeRangeTapAndHoldHandling = "Select"),
                    (this.timeRangeSelectedHandling = "Enabled"),
                    (this.timeRangeClickHandling = "Enabled"),
                    (this.timeRangeDoubleClickHandling = "Disabled"),
                    (this.timeRangeRightClickHandling = "ContextMenu"),
                    (this.onAutoRefresh = null),
                    (this.onColumnFilter = null),
                    (this.onColumnResize = null),
                    (this.onColumnResized = null),
                    (this.onEventFilter = null),
                    (this.onEventClick = null),
                    (this.onEventClicked = null),
                    (this.onEventDelete = null),
                    (this.onEventDeleted = null),
                    (this.onEventEdit = null),
                    (this.onEventEdited = null),
                    (this.onEventMove = null),
                    (this.onEventMoved = null),
                    (this.onEventMoving = null),
                    (this.onEventResize = null),
                    (this.onEventResized = null),
                    (this.onEventResizing = null),
                    (this.onEventSelect = null),
                    (this.onEventSelected = null),
                    (this.onEventRightClick = null),
                    (this.onEventRightClicked = null),
                    (this.onEventDoubleClick = null),
                    (this.onEventDoubleClicked = null),
                    (this.onHeaderClick = null),
                    (this.onHeaderClicked = null),
                    (this.onTimeRangeClick = null),
                    (this.onTimeRangeClicked = null),
                    (this.onTimeRangeRightClick = null),
                    (this.onTimeRangeRightClicked = null),
                    (this.onTimeRangeDoubleClick = null),
                    (this.onTimeRangeDoubleClicked = null),
                    (this.onTimeRangeSelect = null),
                    (this.onTimeRangeSelected = null),
                    (this.onTimeRangeSelecting = null),
                    (this.onAfterRender = null),
                    (this.onAfterEventRender = null),
                    (this.onAfterCellRender = null),
                    (this.onBeforeEventRender = null),
                    (this.onBeforeEventExport = null),
                    (this.onBeforeEventDomAdd = null),
                    (this.onBeforeEventDomRemove = null),
                    (this.onBeforeCellRender = null),
                    (this.onBeforeCellExport = null),
                    (this.onBeforeCornerDomAdd = null),
                    (this.onBeforeCornerDomRemove = null),
                    (this.onBeforeCornerRender = null),
                    (this.onBeforeHeaderRender = null),
                    (this.onBeforeHeaderExport = null),
                    (this.onBeforeTimeHeaderRender = null),
                    (this.oa = !0),
                    (this.pa = e),
                    (this.qa = !0),
                    (this.ra = !0),
                    (this.sa = !0),
                    (this.ta = {}),
                    (this.ta.pixels = {}),
                    (this.ta.events = []),
                    (this.ta.va = null),
                    (this.ta.wa = null),
                    (this.elements = {}),
                    (this.elements.events = []),
                    (this.elements.separators = []),
                    (this.elements.selection = []),
                    (this.elements.cells = {}),
                    (this.elements.crosshair = []),
                    (this.elements.timeHeaders = []),
                    (this.events = {}),
                    (this.events.list = []),
                    (this.nav = {}),
                    (this.xa = 0),
                    (this.ya = !1),
                    (this.za = !1),
                    (this.members = {}),
                    (this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "clientName", "uniqueID"]),
                    (this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "onCallbackError"]),
                    (this.Aa = "javasc"),
                    (this.clearSelection = function () {
                        (h.selecting = null), y.Ba(), (y.Ca = null);
                    }),
                    (this.Ba = function () {
                        y.Ca && (f(y.elements.selection), (y.elements.selection = []), (y.nav.activeSelection = null));
                    }),
                    (this.cleanSelection = this.clearSelection);
                this.Da = function () {
                    (y.ta.va = null), (y.ta.wa = null);
                };
                (this.Ea = function (e, t) {
                    return y.Ga.Fa() ? DayPilot.Util.escapeTextHtml(e, t) : DayPilot.Util.isNullOrUndefined(t) ? (DayPilot.Util.isNullOrUndefined(e) ? "" : e) : t;
                }),
                    (this.Ha = function (e, t, n) {
                        var i = {};
                        (i.action = e), (i.parameters = n), (i.data = t), (i.header = this.Ia());
                        var a = "JSON" + JSON.stringify(i);
                        __doPostBack(y.uniqueID, a);
                    }),
                    (this.Ja = function (e, t, n, i) {
                        if (!this.ja()) return void y.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                        "undefined" == typeof i && (i = "CallBack"), y.Ka({ delay: 100 });
                        var a = {};
                        (a.action = e), (a.type = i), (a.parameters = t), (a.data = n), (a.header = this.Ia());
                        var r = "JSON" + JSON.stringify(a);
                        this.backendUrl ? DayPilot.request(this.backendUrl, this.La, r, this.Ma) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.Na, this.clientName, this.onCallbackError, !0);
                    }),
                    (this.ja = function () {
                        return ("javasc" !== y.Aa && y.Aa.indexOf("DCODE") === -1) || y.devsb;
                    }),
                    (this.Oa = function () {
                        return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
                    }),
                    (this.Ma = function (e) {
                        if ("function" == typeof y.onAjaxError) {
                            var t = {};
                            (t.request = e), y.onAjaxError(t);
                        } else "function" == typeof y.ajaxError && y.ajaxError(e);
                    }),
                    (this.dispose = function () {
                        var e = y;
                        clearInterval(e.Pa),
                            e.ya &&
                                (e.za ||
                                    ((e.za = !0),
                                    e.Qa && e.Qa.disconnect(),
                                    e.Ra(),
                                    e.Sa(),
                                    e.nav.messageClose && (e.nav.messageClose.onclick = null),
                                    e.nav.hourTable && ((e.nav.hourTable.oncontextmenu = null), (e.nav.hourTable.onmousemove = null)),
                                    e.nav.header && (e.nav.header.oncontextmenu = null),
                                    e.nav.corner && (e.nav.corner.oncontextmenu = null),
                                    e.nav.zoom && ((e.nav.zoom.onmousemove = null), (e.nav.zoom.oncontextmenu = null)),
                                    e.nav.scroll && ((e.nav.scroll.onscroll = null), (e.nav.scroll.root = null)),
                                    DayPilot.pu(e.nav.loading),
                                    e.Ta(),
                                    e.Ua(),
                                    e.Va(),
                                    e.Wa(),
                                    (e.nav.select = null),
                                    (e.nav.cornerRight = null),
                                    (e.nav.scrollable = null),
                                    (e.nav.bottomLeft = null),
                                    (e.nav.bottomRight = null),
                                    (e.nav.allday = null),
                                    (e.nav.zoom = null),
                                    (e.nav.loading = null),
                                    (e.nav.events = null),
                                    (e.nav.header = null),
                                    (e.nav.hourTable = null),
                                    (e.nav.scrolltop = null),
                                    (e.nav.scroll = null),
                                    (e.nav.vsph = null),
                                    (e.nav.main = null),
                                    (e.nav.message = null),
                                    (e.nav.messageClose = null),
                                    e.nav.top.removeAttribute("style"),
                                    e.nav.top.removeAttribute("class"),
                                    e.nav.top.removeEventListener("mouseleave", y.Xa),
                                    (e.nav.top.innerHTML = ""),
                                    (e.nav.top.dp = null),
                                    (e.nav.top = null),
                                    DayPilot.ue(window, "resize", e.Ya),
                                    v.Za(e),
                                    "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ calendar: e })),
                                    "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ calendar: e })));
                    }),
                    (this.$a = function () {
                        this.nav.top.dispose = this.dispose;
                    }),
                    (this.La = function (e) {
                        y.Na(e.responseText);
                    }),
                    (this.Ia = function () {
                        var e = {};
                        return (
                            (e.v = this.v),
                            (e.control = "dpc"),
                            (e.id = this.id),
                            (e.clientState = y.clientState),
                            (e.columns = this._a()),
                            (e.days = y.days),
                            (e.startDate = y.startDate),
                            (e.cellDuration = y.cellDuration),
                            (e.cssClassPrefix = y.cssClassPrefix),
                            (e.heightSpec = y.heightSpec),
                            (e.businessBeginsHour = y.businessBeginsHour),
                            (e.businessEndsHour = y.businessEndsHour),
                            (e.viewType = y.viewType),
                            (e.dayBeginsHour = y.dayBeginsHour),
                            (e.dayEndsHour = y.dayEndsHour),
                            (e.headerLevels = y.headerLevels),
                            (e.eventHeaderVisible = y.eventHeaderVisible),
                            (e.timeFormat = y.timeFormat),
                            (e.timeHeaderCellDuration = y.timeHeaderCellDuration),
                            (e.locale = y.locale),
                            (e.scrollY = y.scrollPos),
                            (e.showAllDayEvents = y.showAllDayEvents),
                            (e.tagFields = y.tagFields),
                            (e.weekStarts = y.weekStarts),
                            (e.selected = y.multiselect.events()),
                            (e.hashes = y.hashes),
                            e
                        );
                    }),
                    (this.ab = function () {
                        y.bb(), y.cb(), (y.db = null);
                    }),
                    (this._a = function () {
                        var e = [];
                        if (((e.ignoreToJSON = !0), !this.eb)) return e;
                        for (var t = 0; t < this.eb.length; t++) {
                            var n = this.eb[t],
                                i = this.fb(n);
                            e.push(i);
                        }
                        return e;
                    }),
                    (this.fb = function (e) {
                        var t = {};
                        return (t.Value = e.id), (t.Name = e.name), (t.ToolTip = e.toolTip), (t.Date = e.start), (t.Children = this.gb(e.children)), t;
                    }),
                    (this.gb = function (e) {
                        var t = [];
                        if (((t.ignoreToJSON = !0), !e)) return t;
                        for (var n = 0; n < e.length; n++) t.push(this.fb(e[n]));
                        return t;
                    }),
                    (this.Na = function (e, t) {
                        var e = JSON.parse(e);
                        if (e.BubbleGuid) {
                            var n = e.BubbleGuid,
                                i = this.bubbles[n];
                            return delete this.bubbles[n], y.hb(), void ("undefined" != typeof e.Result.BubbleHTML && i.updateView(e.Result.BubbleHTML, i));
                        }
                        if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);
                        if (("undefined" != typeof e.ClientState && (y.clientState = e.ClientState), "None" === e.UpdateType)) return y.hb(), y.ib(e.CallBackData, !0), void (e.Message && y.message(e.Message));
                        if ((y.Da(), e.VsUpdate)) {
                            var a = document.createElement("input");
                            (a.type = "hidden"), (a.name = y.id + "_vsupdate"), (a.id = a.name), (a.value = e.VsUpdate), (y.nav.vsph.innerHTML = ""), y.nav.vsph.appendChild(a);
                        }
                        if (
                            (y.Sa(),
                            y.multiselect.clear(!0),
                            (y.multiselect.jb = e.SelectedEvents),
                            "undefined" != typeof e.TagFields && (y.tagFields = e.TagFields),
                            "undefined" != typeof e.SortDirections && (y.sortDirections = e.SortDirections),
                            "Full" === e.UpdateType &&
                                ((y.colors = e.Colors),
                                (y.palette = e.Palette),
                                (y.dirtyColors = e.DirtyColors),
                                (y.cellProperties = e.CellProperties),
                                (y.cellConfig = e.CellConfig),
                                y.kb() === y.columns ? (y.columns = e.Columns) : (y.columns.list = e.Columns),
                                (y.days = e.Days),
                                (y.startDate = new DayPilot.Date(e.StartDate).getDatePart()),
                                (y.cellDuration = e.CellDuration),
                                (y.heightSpec = e.HeightSpec ? e.HeightSpec : y.heightSpec),
                                (y.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : y.businessBeginsHour),
                                (y.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : y.businessEndsHour),
                                (y.viewType = e.ViewType),
                                (y.headerLevels = e.HeaderLevels),
                                (y.backColor = e.BackColor ? e.BackColor : y.backColor),
                                (y.nonBusinessBackColor = e.NonBusinessBackColor ? e.NonBusinessBackColor : y.nonBusinessBackColor),
                                (y.eventHeaderVisible = e.EventHeaderVisible ? e.EventHeaderVisible : y.eventHeaderVisible),
                                (y.timeFormat = e.TimeFormat ? e.TimeFormat : y.timeFormat),
                                (y.timeHeaderCellDuration = "undefined" != typeof e.TimeHeaderCellDuration ? e.TimeHeaderCellDuration : y.timeHeaderCellDuration),
                                (y.locale = e.Locale ? e.Locale : y.locale),
                                (y.dayBeginsHour = "undefined" != typeof e.DayBeginsHour ? e.DayBeginsHour : y.dayBeginsHour),
                                (y.dayEndsHour = "undefined" != typeof e.DayEndsHour ? e.DayEndsHour : y.dayEndsHour),
                                (y.cornerHtml = e.CornerHTML),
                                (y.hours = e.Hours),
                                y.lb(),
                                y.mb()),
                            e.Hashes)
                        )
                            for (var r in e.Hashes) y.hashes[r] = e.Hashes[r];
                        if (
                            (y.nb(e.Events),
                            y.ob(),
                            ("Full" === e.UpdateType || y.hideFreeCells) &&
                                (y.pb(), y.qb(), y.rb(), y.sb(), y.tb(), y.ub(), y.vb(), y.wb(), y.clearSelection(), y.xb(), "undefined" != typeof e.ScrollY ? y.scrollToY(e.ScrollY) : y.scrollToY(y.initScrollPos)),
                            y.yb(),
                            y.D(),
                            y.zb(),
                            y.Ab(),
                            "Parent100Pct" === y.heightSpec && y.Bb(),
                            "HoldForever" !== y.timeRangeSelectedHandling && y.clearSelection(),
                            y.Cb(),
                            y.todo && y.todo.del)
                        ) {
                            var o = y.todo.del;
                            o.parentNode.removeChild(o), (y.todo.del = null);
                        }
                        y.ib(e.CallBackData, !0), y.hb(), y.Db(), e.Message && y.message(e.Message);
                    }),
                    (this.ib = function (e, t) {
                        var n = function (e, t) {
                            return function () {
                                if (y.Eb()) {
                                    if ("function" == typeof y.onAfterRender) {
                                        var n = {};
                                        (n.isCallBack = t), (n.data = e), y.onAfterRender(n);
                                    }
                                } else y.afterRender && y.afterRender(e, t);
                            };
                        };
                        window.setTimeout(n(e, t), 0);
                    }),
                    (this.Fb = function (e, n) {
                        var i = y.nav.events,
                            a = i.rows[0].cells.length,
                            r = y.Gb(y.coords.x);
                        r < 0 && (r = 0), r >= a && (r = a - 1), y.rtl && (r = y.Hb.length - r - 1);
                        var o = i.rows[0].cells[r],
                            s = 0,
                            l = 0,
                            d = 0;
                        if ("undefined" != typeof e.duration) {
                            var c = e.duration;
                            (d = Math.floor((y.coords.y - s + y.cellHeight / 2) / y.cellHeight) * y.cellHeight + s), (l = (c * y.cellHeight) / (60 * C.Ib())), (l = Math.max(l, y.cellHeight));
                        } else {
                            var u = e.event;
                            (l = u.part.height), (d = u.part.top);
                        }
                        var h = t();
                        h.setAttribute("unselectable", "on"),
                            (h.style.position = "absolute"),
                            (h.style.width = "100%"),
                            (h.style.height = l + "px"),
                            (h.style.left = "0px"),
                            (h.style.top = d + "px"),
                            (h.style.zIndex = y.pa),
                            (h.exclude = !0),
                            (h.style.marginLeft = y.columnMarginLeft + "px"),
                            (h.style.marginRight = y.columnMarginRight + "px");
                        var f = t();
                        return h.appendChild(f), (h.className = y.ca("_shadow")), (f.className = this.ca("_shadow_inner")), o.events.appendChild(h), h;
                    }),
                    (this.Jb = function () {
                        return this.Kb() / 36e5;
                    }),
                    (this.Lb = function () {
                        return this.businessBeginsHour > this.businessEndsHour ? 24 - this.businessBeginsHour + this.businessEndsHour : this.businessEndsHour - this.businessBeginsHour;
                    }),
                    (this.Mb = function () {
                        return "Resources" === y.viewType && y.days > 1 ? 24 * y.days : this.dayBeginsHour >= this.dayEndsHour ? 24 - this.dayBeginsHour + this.dayEndsHour : this.dayEndsHour - this.dayBeginsHour;
                    }),
                    (this.Kb = function (e) {
                        var t = 0;
                        if ("BusinessHoursNoScroll" === this.heightSpec) t = this.Lb();
                        else if (this.hideFreeCells && !e) {
                            var n = ((this.Nb - 1) * C.Ib()) / this.cellHeight,
                                i = Math.ceil(n / 60),
                                a = this.businessBeginsHour > this.businessEndsHour ? this.businessEndsHour + 24 : this.businessEndsHour;
                            t = Math.max(this.dayBeginsHour + i, a) - this.Ob();
                        } else t = this.Mb();
                        return 60 * t * 60 * 1e3;
                    }),
                    (this.message = function (e, n) {
                        if (null !== e && y.ya) {
                            var i,
                                a = {};
                            "object" == typeof arguments[1] ? ((a = arguments[1]), (i = a.delay)) : (i = n);
                            var o = "";
                            (o = a.rawHtml ? e : DayPilot.Util.escapeHtml(e)), (i = i || this.messageHideAfter || 2e3);
                            var s,
                                l = this.Pb(),
                                d = this.showHours ? this.hourWidth : 0,
                                c = DayPilot.sw(y.Qb());
                            if (y.rtl) {
                                var u = d;
                                (d = c), (c = u);
                            }
                            if (this.nav.message) (s = y.nav.message), (this.nav.message.style.top = l + "px");
                            else {
                                (s = t()),
                                    (s.style.position = "absolute"),
                                    (s.style.left = d + "px"),
                                    (s.style.top = l + "px"),
                                    (s.style.right = "0px"),
                                    (s.style.display = "none"),
                                    (s.onmousemove = function () {
                                        s.messageTimeout && !s.status && clearTimeout(s.messageTimeout);
                                    }),
                                    (s.onmouseout = function () {
                                        "none" !== y.nav.message.style.display && (s.messageTimeout = setTimeout(y.Rb, 500));
                                    });
                                var h = t();
                                (h.onclick = function () {
                                    y.nav.message.style.display = "none";
                                }),
                                    (h.className = this.ca("_message")),
                                    s.appendChild(h);
                                var f = t();
                                (f.style.position = "absolute"),
                                    (f.className = this.ca("_message_close")),
                                    (f.onclick = function () {
                                        y.nav.message.style.display = "none";
                                    }),
                                    s.appendChild(f),
                                    this.nav.top.insertBefore(s, this.nav.loading),
                                    (this.nav.message = s),
                                    (this.nav.messageClose = f);
                            }
                            this.nav.cornerRight ? (this.nav.message.style.right = c + "px") : (this.nav.message.style.right = "0px");
                            var v = function () {
                                if (y.nav.message) {
                                    var e = y.nav.message.firstChild;
                                    (e.className = y.ca("_message")), a.cssClass && r(e, a.cssClass), (e.innerHTML = o);
                                    var t = function () {
                                        s.messageTimeout = setTimeout(y.Rb, i);
                                    };
                                    DayPilot.fade(y.nav.message, 0.2, t);
                                }
                            };
                            clearTimeout(s.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(y.nav.message, -0.2, v) : v();
                        }
                    }),
                    (this.message.show = function (e) {
                        y.message(e);
                    }),
                    (this.message.hide = function () {
                        y.Rb();
                    }),
                    (this.Rb = function () {
                        var e = function () {
                            y.nav.message.style.display = "none";
                        };
                        DayPilot.fade(y.nav.message, -0.2, e);
                    }),
                    (this.sb = function () {
                        this.nav.message && (this.nav.message.style.top = this.Pb() + "px");
                    }),
                    (this.Sb = function () {
                        return this.Kb() / (6e4 * C.Ib());
                    }),
                    (this.eventClickPostBack = function (e, t) {
                        this.Ha("EventClick", t, e);
                    }),
                    (this.eventClickCallBack = function (e, t) {
                        this.Ja("EventClick", e, t);
                    }),
                    (this.Tb = function (e) {
                        var t = this,
                            e = e || window.event,
                            n = e.ctrlKey,
                            i = e.metaKey;
                        if (("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" === y.eventDoubleClickHandling)) return void y.Ub(t, e);
                        if (y.timeouts) {
                            for (var a in y.timeouts) window.clearTimeout(y.timeouts[a]);
                            y.timeouts = [];
                        } else y.timeouts = [];
                        var r = function (e, t, n, i) {
                            return function () {
                                y.Ub(e, i);
                            };
                        };
                        y.timeouts.push(window.setTimeout(r(this, n, i, e), y.doubleClickTimeout));
                    }),
                    (this.Ub = function (e, t) {
                        var n = e.event;
                        if (n.client.clickEnabled()) {
                            var i = t.ctrlKey,
                                a = t.metaKey,
                                r = t.shiftKey;
                            if (y.Eb()) {
                                var o = {};
                                if (
                                    ((o.e = n),
                                    (o.control = y),
                                    (o.ctrl = i),
                                    (o.meta = a),
                                    (o.shift = r),
                                    (o.originalEvent = t),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof y.onEventClick && (y.onEventClick(o), o.preventDefault.value))
                                )
                                    return;
                                switch (y.eventClickHandling) {
                                    case "PostBack":
                                        y.eventClickPostBack(n);
                                        break;
                                    case "CallBack":
                                        y.eventClickCallBack(n);
                                        break;
                                    case "Edit":
                                        y.Vb(e);
                                        break;
                                    case "Select":
                                        y.Wb(e, n, i, a);
                                        break;
                                    case "Bubble":
                                        y.bubble && y.bubble.showEvent(n);
                                        break;
                                    case "ContextMenu":
                                        var s = n.client.contextMenu();
                                        s ? s.show(n) : y.contextMenu && y.contextMenu.show(n);
                                }
                                "function" == typeof y.onEventClicked && y.onEventClicked(o);
                            } else
                                switch (y.eventClickHandling) {
                                    case "PostBack":
                                        y.eventClickPostBack(n);
                                        break;
                                    case "CallBack":
                                        y.eventClickCallBack(n);
                                        break;
                                    case "JavaScript":
                                        y.onEventClick(n);
                                        break;
                                    case "Edit":
                                        y.Vb(e);
                                        break;
                                    case "Select":
                                        y.Wb(e, n, i, a);
                                        break;
                                    case "Bubble":
                                        y.bubble && y.bubble.showEvent(n);
                                        break;
                                    case "ContextMenu":
                                        var s = n.client.contextMenu();
                                        s ? s.show(n) : y.contextMenu && y.contextMenu.show(n);
                                }
                        }
                    }),
                    (this.eventDoubleClickPostBack = function (e, t) {
                        this.Ha("EventDoubleClick", t, e);
                    }),
                    (this.eventDoubleClickCallBack = function (e, t) {
                        this.Ja("EventDoubleClick", e, t);
                    }),
                    (this.Xb = function (e) {
                        if (("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), y.timeouts)) {
                            for (var t in y.timeouts) window.clearTimeout(y.timeouts[t]);
                            y.timeouts = null;
                        }
                        var n = this.event,
                            e = e || window.event;
                        if (y.Eb()) {
                            var i = {};
                            if (
                                ((i.e = n),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof y.onEventDoubleClick && (y.onEventDoubleClick(i), i.preventDefault.value))
                            )
                                return;
                            switch (y.eventDoubleClickHandling) {
                                case "PostBack":
                                    y.eventDoubleClickPostBack(n);
                                    break;
                                case "CallBack":
                                    y.eventDoubleClickCallBack(n);
                                    break;
                                case "Edit":
                                    n.allday() || y.Vb(this);
                                    break;
                                case "Select":
                                    n.allday() || y.Wb(this, n, e.ctrlKey);
                                    break;
                                case "Bubble":
                                    y.bubble && y.bubble.showEvent(n);
                            }
                            "function" == typeof y.onEventDoubleClicked && y.onEventDoubleClicked(i);
                        } else
                            switch (y.eventDoubleClickHandling) {
                                case "PostBack":
                                    y.eventDoubleClickPostBack(n);
                                    break;
                                case "CallBack":
                                    y.eventDoubleClickCallBack(n);
                                    break;
                                case "JavaScript":
                                    y.onEventDoubleClick(n);
                                    break;
                                case "Edit":
                                    n.allday() || y.Vb(this);
                                    break;
                                case "Select":
                                    n.allday() || y.Wb(this, n, e.ctrlKey);
                                    break;
                                case "Bubble":
                                    y.bubble && y.bubble.showEvent(n);
                            }
                    }),
                    (this.eventRightClickPostBack = function (e, t) {
                        this.Ha("EventRightClick", t, e);
                    }),
                    (this.eventRightClickCallBack = function (e, t) {
                        this.Ja("EventRightClick", e, t);
                    }),
                    (this.Yb = function (e) {
                        var t = this.event;
                        if ((e.stopPropagation && e.stopPropagation(), !t.client.rightClickEnabled())) return !1;
                        if (y.Eb()) {
                            var n = {};
                            if (
                                ((n.e = t),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof y.onEventRightClick && (y.onEventRightClick(n), n.preventDefault.value))
                            )
                                return !1;
                            switch (y.eventRightClickHandling) {
                                case "PostBack":
                                    y.eventRightClickPostBack(t);
                                    break;
                                case "CallBack":
                                    y.eventRightClickCallBack(t);
                                    break;
                                case "ContextMenu":
                                    var i = t.client.contextMenu();
                                    i ? i.show(t) : y.contextMenu && y.contextMenu.show(this.event);
                                    break;
                                case "Bubble":
                                    y.bubble && y.bubble.showEvent(t);
                            }
                            "function" == typeof y.onEventRightClicked && y.onEventRightClicked(n);
                        } else
                            switch (y.eventRightClickHandling) {
                                case "PostBack":
                                    y.eventRightClickPostBack(t);
                                    break;
                                case "CallBack":
                                    y.eventRightClickCallBack(t);
                                    break;
                                case "JavaScript":
                                    y.onEventRightClick(t);
                                    break;
                                case "ContextMenu":
                                    var i = t.client.contextMenu();
                                    i ? i.show(t) : y.contextMenu && y.contextMenu.show(this.event);
                                    break;
                                case "Bubble":
                                    y.bubble && y.bubble.showEvent(t);
                            }
                        return e.preventDefault && e.preventDefault(), !1;
                    }),
                    (this.Zb = function (e) {
                        return new DayPilot.Column(e, y);
                    }),
                    (this.headerClickPostBack = function (e, t) {
                        this.Ha("HeaderClick", t, e);
                    }),
                    (this.headerClickCallBack = function (e, t) {
                        this.Ja("HeaderClick", e, t);
                    }),
                    (this.$b = function (e) {
                        var t = this.data,
                            n = y.Zb(t, y);
                        if (y.Eb()) {
                            var i = {};
                            if (
                                ((i.header = {}),
                                (i.header.id = t.id),
                                (i.header.name = t.name),
                                (i.header.start = t.start),
                                (i.column = n),
                                (i.originalEvent = e),
                                (i.shift = e.shiftKey),
                                (i.ctrl = e.ctrlKey),
                                (i.meta = e.metaKey),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof y.onHeaderClick && (y.onHeaderClick(i), i.preventDefault.value))
                            )
                                return;
                            switch (y.headerClickHandling) {
                                case "PostBack":
                                    y.headerClickPostBack(n);
                                    break;
                                case "CallBack":
                                    y.headerClickCallBack(n);
                            }
                            "function" == typeof y.onHeaderClicked && y.onHeaderClicked(i);
                        } else
                            switch (y.headerClickHandling) {
                                case "PostBack":
                                    y.headerClickPostBack(n);
                                    break;
                                case "CallBack":
                                    y.headerClickCallBack(n);
                                    break;
                                case "JavaScript":
                                    y.onHeaderClick(n);
                            }
                    }),
                    (this._b = function (e) {
                        var t = this,
                            n = t.firstChild;
                        if ("undefined" != typeof DayPilot.Bubble && y.columnBubble)
                            if ("Resources" === y.viewType) {
                                var i = {};
                                (i.calendar = y),
                                    (i.start = this.data.start),
                                    (i.name = this.data.name),
                                    (i.id = this.data.id),
                                    (i.toJSON = function () {
                                        var e = {};
                                        return (e.id = this.id), (e.start = this.start), (e.name = this.name), e;
                                    }),
                                    y.columnBubble.showResource(i, !1, t);
                            } else {
                                var a = new DayPilot.Date(this.data.start),
                                    r = a.addDays(1),
                                    o = {};
                                (o.calendar = y),
                                    (o.start = a),
                                    (o.end = r),
                                    (o.toJSON = function () {
                                        var e = {};
                                        return (e.start = this.start), (e.end = this.end), e;
                                    }),
                                    y.columnBubble.showTime(o, !1, t);
                            }
                        if (!n.active) {
                            var s = t.data,
                                l = y.Zb(s);
                            (l.areas = t.data.areas), DayPilot.Areas.showAreas(n, l);
                        }
                        "undefined" != typeof b && b.s && b.bc(e, t);
                    }),
                    (this.cc = function (e) {
                        "undefined" != typeof DayPilot.Bubble && y.columnBubble && y.columnBubble.hideOnMouseOut(), DayPilot.Areas.hideAreas(this.firstChild, e);
                    }),
                    (this.eventDeletePostBack = function (e, t) {
                        this.Ha("EventDelete", t, e);
                    }),
                    (this.eventDeleteCallBack = function (e, t) {
                        this.Ja("EventDelete", e, t);
                    }),
                    (this.dc = function (e) {
                        var t;
                        if (((t = e && e.isEvent ? e : e.parentNode.parentNode.event), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), y.Eb())) {
                            var n = {};
                            if (
                                ((n.e = t),
                                (n.control = y),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof y.onEventDelete && (y.onEventDelete(n), n.preventDefault.value))
                            )
                                return;
                            switch (y.eventDeleteHandling) {
                                case "PostBack":
                                    y.eventDeletePostBack(t);
                                    break;
                                case "CallBack":
                                    y.eventDeleteCallBack(t);
                                    break;
                                case "Update":
                                    y.events.remove(t);
                            }
                            "function" == typeof y.onEventDeleted && y.onEventDeleted(n);
                        } else
                            switch (y.eventDeleteHandling) {
                                case "PostBack":
                                    y.eventDeletePostBack(t);
                                    break;
                                case "CallBack":
                                    y.eventDeleteCallBack(t);
                                    break;
                                case "JavaScript":
                                    y.onEventDelete(t);
                            }
                    }),
                    (this.eventResizePostBack = function (e, t, n, i) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var a = {};
                        (a.e = e), (a.newStart = t), (a.newEnd = n), this.Ha("EventResize", i, a);
                    }),
                    (this.eventResizeCallBack = function (e, t, n, i) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var a = {};
                        (a.e = e), (a.newStart = t), (a.newEnd = n), this.Ja("EventResize", a, i);
                    }),
                    (this.ec = function (e, t, n, i) {
                        if ("PostBack" === e) y.postBack2(t, n, i);
                        else if ("CallBack" === e) y.Ja(t, n, i, "CallBack");
                        else if ("Immediate" === e) y.Ja(t, n, i, "Notify");
                        else if ("Queue" === e) y.queue.add(new DayPilot.Action(this, t, n, i));
                        else {
                            if ("Notify" !== e) throw new DayPilot.Exception("Invalid event invocation type");
                            "Notify" === C.fc() ? y.Ja(t, n, i, "Notify") : y.queue.add(new DayPilot.Action(y, t, n, i));
                        }
                    }),
                    (this.Ob = function (e) {
                        if ("Resources" === y.viewType && y.days > 1) return 0;
                        if ("BusinessHoursNoScroll" === this.heightSpec) return this.businessBeginsHour;
                        if (this.hideFreeCells && !e) {
                            var t = (this.gc * C.Ib()) / this.cellHeight,
                                n = Math.floor(t / 60);
                            return (n = Math.max(0, n)), Math.min(this.dayBeginsHour + n, this.businessBeginsHour);
                        }
                        return this.dayBeginsHour;
                    }),
                    (this.visibleStart = function () {
                        if ("Resources" === y.viewType) {
                            if (y.Hb.isEmpty()) return DayPilot.Date.today();
                            var e = u(y.Hb).map(function (e) {
                                    return e.start.getTime();
                                }),
                                t = Math.min.apply(null, e);
                            return new DayPilot.Date(t);
                        }
                        return this.Hb[0].start;
                    }),
                    (this.visibleEnd = function () {
                        if ("Resources" === y.viewType) {
                            if (y.Hb.isEmpty()) return DayPilot.Date.today().addDays(y.days);
                            var e = u(y.Hb).map(function (e) {
                                    return e.start.getTime();
                                }),
                                t = Math.max.apply(null, e);
                            return new DayPilot.Date(t).addDays(y.days);
                        }
                        var n = this.Hb,
                            t = n.length - 1;
                        return n[t].start.addDays(1);
                    }),
                    (this.Eb = function () {
                        return 2 === y.api;
                    }),
                    (this.hc = function (e, t) {
                        var n = y.Hb[e.part.dayIndex].start,
                            i = Math.floor(t / y.cellHeight);
                        (y.snapToGrid && y.snapToGridEventResizing) || (i = t / y.cellHeight);
                        var a = Math.floor(i * C.Ib()),
                            r = 60 * a * 1e3,
                            o = 60 * y.Ob() * 60 * 1e3;
                        return n.addTime(r + o);
                    }),
                    (this.ic = function (e, t) {
                        var n = Math.floor(t / y.cellHeight);
                        (y.snapToGrid && y.snapToGridEventResizing) || (n = t / y.cellHeight);
                        var i = Math.floor(n * C.Ib()),
                            a = 60 * i * 1e3,
                            r = 60 * y.Ob() * 60 * 1e3;
                        return y.Hb[e.part.dayIndex].start.addTime(a + r);
                    }),
                    (this.jc = function (e, t, n, i) {
                        if ("Disabled" !== this.eventResizeHandling) {
                            var a, r;
                            if (("top" === i ? ((a = y.hc(e, n)), (r = e.end())) : "bottom" === i && ((a = e.start()), (r = y.ic(e, n + t))), y.Eb())) {
                                var o = {},
                                    s = function () {
                                        if (((o.loaded = function () {}), y.kc(), !o.preventDefault.value)) {
                                            switch (y.eventResizeHandling) {
                                                case "PostBack":
                                                    y.eventResizePostBack(e, a, r);
                                                    break;
                                                case "CallBack":
                                                    y.eventResizeCallBack(e, a, r);
                                                    break;
                                                case "Notify":
                                                    y.eventResizeNotify(e, a, r);
                                                    break;
                                                case "Update":
                                                    e.start(a), e.end(r), y.events.update(e);
                                            }
                                            "function" == typeof y.onEventResized && y.onEventResized(o);
                                        }
                                    };
                                if (
                                    ((o.e = e),
                                    (o.control = y),
                                    (o.newStart = a),
                                    (o.newEnd = r),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    (o.async = !1),
                                    (o.hideShadow = function () {
                                        y.kc();
                                    }),
                                    (o.loaded = function () {
                                        s();
                                    }),
                                    "function" == typeof y.onEventResize && (y.onEventResize(o), o.preventDefault.value))
                                )
                                    return void y.kc();
                                o.async || s();
                            } else
                                switch ((y.kc(), y.eventResizeHandling)) {
                                    case "PostBack":
                                        y.eventResizePostBack(e, a, r);
                                        break;
                                    case "CallBack":
                                        y.eventResizeCallBack(e, a, r);
                                        break;
                                    case "JavaScript":
                                        y.onEventResize(e, a, r);
                                        break;
                                    case "Notify":
                                        y.eventResizeNotify(e, a, r);
                                }
                        }
                    }),
                    (this.eventResizeNotify = function (e, t, n, i) {
                        var a = new DayPilot.Event(e.copy(), this);
                        e.start(t), e.end(n), e.commit(), y.update(), this.lc("Notify", a, t, n, i);
                    }),
                    (this.lc = function (e, t, n, i, a) {
                        var r = {};
                        (r.e = t), (r.newStart = n), (r.newEnd = i), this.ec(e, "EventResize", r, a);
                    }),
                    (this.eventMovePostBack = function (e, t, n, i, a) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var r = {};
                        (r.e = e), (r.newStart = t), (r.newEnd = n), (r.newResource = i), this.Ha("EventMove", a, r);
                    }),
                    (this.eventMoveCallBack = function (e, t, n, i, a) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var r = {};
                        (r.e = e), (r.newStart = t), (r.newEnd = n), (r.newResource = i), this.Ja("EventMove", r, a);
                    }),
                    (this.nc = function (e, t, n) {
                        var i = 0,
                            a = Math.floor((n - i) / y.cellHeight),
                            r = y.snapToGrid && y.snapToGridEventMoving;
                        r || (a = n / y.cellHeight);
                        var o = C.Ib(),
                            s = a * o * 60 * 1e3,
                            l = e.start(),
                            d = e.end(),
                            c = new Date();
                        l instanceof DayPilot.Date && (l = l.toDate()), c.setTime(Date.UTC(l.getUTCFullYear(), l.getUTCMonth(), l.getUTCDate()));
                        var u = "Never" !== y.useEventBoxes ? l.getTime() - (c.getTime() + 3600 * l.getUTCHours() * 1e3 + Math.floor(l.getUTCMinutes() / o) * o * 60 * 1e3) : 0;
                        r || (u = 0);
                        var h = d.getTime() - l.getTime(),
                            f = 3600 * y.Ob() * 1e3;
                        "undefined" == typeof t && (t = e.part.dayIndex);
                        var v = this.Hb[t],
                            p = v.start.getTime(),
                            m = new Date();
                        m.setTime(p + s + u + f);
                        var g = new DayPilot.Date(m);
                        return { start: g, end: g.addTime(h), resource: v.id };
                    }),
                    (this.oc = function (e, t, n, i, a) {
                        if ("Disabled" !== y.eventMoveHandling) {
                            var r = y.nc(e, t, n),
                                o = r.start,
                                s = r.end,
                                l = r.resource,
                                d = !!a;
                            if (y.Eb()) {
                                var c = {},
                                    u = function () {
                                        if (((c.loaded = function () {}), y.pc(), !c.preventDefault.value)) {
                                            switch (y.eventMoveHandling) {
                                                case "PostBack":
                                                    y.eventMovePostBack(e, o, s, l);
                                                    break;
                                                case "CallBack":
                                                    y.eventMoveCallBack(e, o, s, l);
                                                    break;
                                                case "Notify":
                                                    y.eventMoveNotify(e, o, s, l);
                                                    break;
                                                case "Update":
                                                    e.start(o), e.end(s), e.resource(l), d ? (e.commit(), y.events.add(e)) : y.events.update(e), y.qc();
                                            }
                                            "function" == typeof y.onEventMoved && y.onEventMoved(c);
                                        }
                                    };
                                if (
                                    ((c.e = e),
                                    (c.control = y),
                                    (c.newStart = r.start),
                                    (c.newEnd = r.end),
                                    (c.newResource = r.resource),
                                    (c.external = d),
                                    (c.areaData = h.movingAreaData),
                                    (c.ctrl = !1),
                                    i && (c.ctrl = i.ctrlKey),
                                    (c.shift = !1),
                                    i && (c.shift = i.shiftKey),
                                    (c.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    (c.async = !1),
                                    (c.hideShadow = function () {
                                        y.pc();
                                    }),
                                    (c.loaded = function () {
                                        u();
                                    }),
                                    "function" == typeof y.onEventMove && (y.onEventMove(c), c.preventDefault.value))
                                )
                                    return void y.pc();
                                c.async || u();
                            } else
                                switch ((y.pc(), y.eventMoveHandling)) {
                                    case "PostBack":
                                        y.eventMovePostBack(e, o, s, l);
                                        break;
                                    case "CallBack":
                                        y.eventMoveCallBack(e, o, s, l);
                                        break;
                                    case "JavaScript":
                                        y.onEventMove(e, o, s, l, d, !!i && i.ctrlKey, !!i && i.shiftKey);
                                        break;
                                    case "Notify":
                                        y.eventMoveNotify(e, o, s, l, null);
                                }
                        }
                    }),
                    (this.eventMoveNotify = function (e, t, n, i, a) {
                        var r = new DayPilot.Event(e.copy(), this);
                        e.start(t), e.end(n), e.resource(i), e.commit(), y.update(), this.rc("Notify", r, t, n, i, a);
                    }),
                    (this.rc = function (e, t, n, i, a, r) {
                        var o = {};
                        (o.e = t), (o.newStart = n), (o.newEnd = i), (o.newResource = a), this.ec(e, "EventMove", o, r);
                    }),
                    (this.qc = function () {
                        if (y.todo && y.todo.del) {
                            var e = y.todo.del;
                            e.parentNode.removeChild(e), (y.todo.del = null);
                        }
                    }),
                    (this.sc = function (e, t) {
                        var n = y.tc(t),
                            i = {};
                        (i.args = e), (i.guid = n), y.Ja("Bubble", i);
                    }),
                    (this.tc = function (e) {
                        var t = DayPilot.guid();
                        return this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t;
                    }),
                    (this.eventMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.command = t), this.Ha("EventMenuClick", n, i);
                    }),
                    (this.eventMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.command = t), this.Ja("EventMenuClick", i, n);
                    }),
                    (this.uc = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                y.eventMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                y.eventMenuClickCallBack(t, e);
                        }
                    }),
                    (this.timeRangeMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e), (i.command = t), this.Ha("TimeRangeMenuClick", n, i);
                    }),
                    (this.timeRangeMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e), (i.command = t), this.Ja("TimeRangeMenuClick", i, n);
                    }),
                    (this.vc = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                y.timeRangeMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                y.timeRangeMenuClickCallBack(t, e);
                        }
                    }),
                    (this.timeRangeSelectedPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.resource = n), this.Ha("TimeRangeSelected", i, a);
                    }),
                    (this.timeRangeSelectedCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.resource = n), this.Ja("TimeRangeSelected", a, i);
                    }),
                    (this.wc = function (e, t, n, i) {
                        (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t)), (i = i || "click");
                        var a = n;
                        if (y.Eb()) {
                            var r = {};
                            if (
                                ((r.start = e),
                                (r.end = t),
                                (r.resource = a),
                                (r.control = y),
                                (r.origin = i),
                                (r.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (r.toJSON = function () {
                                    return l(r, {}, ["start", "end", "resource"]);
                                }),
                                "function" == typeof y.onTimeRangeSelect && (y.onTimeRangeSelect(r), r.preventDefault.value))
                            )
                                return;
                            switch (y.timeRangeSelectedHandling) {
                                case "PostBack":
                                    y.timeRangeSelectedPostBack(e, t, a);
                                    break;
                                case "CallBack":
                                    y.timeRangeSelectedCallBack(e, t, a);
                            }
                            "function" == typeof y.onTimeRangeSelected && y.onTimeRangeSelected(r);
                        } else
                            switch (y.timeRangeSelectedHandling) {
                                case "PostBack":
                                    y.timeRangeSelectedPostBack(e, t, n);
                                    break;
                                case "CallBack":
                                    y.timeRangeSelectedCallBack(e, t, n);
                                    break;
                                case "JavaScript":
                                    y.onTimeRangeSelected(e, t, n);
                            }
                    }),
                    (this.timeRangeDoubleClickPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.resource = n), this.Ha("TimeRangeDoubleClick", i, a);
                    }),
                    (this.timeRangeDoubleClickCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.resource = n), this.Ja("TimeRangeDoubleClick", a, i);
                    }),
                    (this.xc = function (e, t, n) {
                        if (y.Eb()) {
                            var i = n,
                                a = {};
                            (a.start = e),
                                (a.end = t),
                                (a.resource = i),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                ("function" == typeof y.onTimeRangeClick && (y.onTimeRangeClick(a), a.preventDefault.value)) || ("function" == typeof y.onTimeRangeClicked && y.onTimeRangeClicked(a));
                        }
                    }),
                    (this.yc = function (e, t, n) {
                        if (y.Eb()) {
                            var i = n,
                                a = {};
                            if (
                                ((a.start = e),
                                (a.end = t),
                                (a.resource = i),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof y.onTimeRangeDoubleClick && (y.onTimeRangeDoubleClick(a), a.preventDefault.value))
                            )
                                return;
                            switch (y.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    y.timeRangeDoubleClickPostBack(e, t, i);
                                    break;
                                case "CallBack":
                                    y.timeRangeDoubleClickCallBack(e, t, i);
                            }
                            "function" == typeof y.onTimeRangeDoubleClicked && y.onTimeRangeDoubleClicked(a);
                        } else
                            switch (y.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    y.timeRangeDoubleClickPostBack(e, t, n);
                                    break;
                                case "CallBack":
                                    y.timeRangeDoubleClickCallBack(e, t, n);
                                    break;
                                case "JavaScript":
                                    y.onTimeRangeDoubleClick(e, t, n);
                            }
                    }),
                    (this.eventEditPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.newText = t), this.Ha("EventEdit", n, i);
                    }),
                    (this.eventEditCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.newText = t), this.Ja("EventEdit", i, n);
                    }),
                    (this.zc = function (e, t) {
                        if (y.Eb()) {
                            var n = {};
                            if (
                                ((n.control = y),
                                (n.e = e),
                                (n.newText = t),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof y.onEventEdit && (y.onEventEdit(n), n.preventDefault.value))
                            )
                                return;
                            switch (y.eventEditHandling) {
                                case "PostBack":
                                    y.eventEditPostBack(e, n.newText);
                                    break;
                                case "CallBack":
                                    y.eventEditCallBack(e, n.newText);
                                    break;
                                case "Update":
                                    e.text(n.newText), y.events.update(e);
                            }
                            if ("function" == typeof y.onEventEdited && (y.onEventEdited(n), n.preventDefault.value)) return;
                        } else
                            switch (y.eventEditHandling) {
                                case "PostBack":
                                    y.eventEditPostBack(e, t);
                                    break;
                                case "CallBack":
                                    y.eventEditCallBack(e, t);
                                    break;
                                case "JavaScript":
                                    y.onEventEdit(e, t);
                            }
                    }),
                    (this.eventSelectPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.Ha("EventSelect", n, i);
                    }),
                    (this.eventSelectCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.Ja("EventSelect", i, n);
                    }),
                    (this.Ac = function (e, t, n, i) {
                        var a = y.multiselect,
                            r = a.isSelected(t);
                        if (n || i || !r || 1 !== a.Bc.length)
                            if (y.Eb()) {
                                a.previous = a.events();
                                var o = {};
                                if (
                                    ((o.e = t),
                                    (o.selected = a.isSelected(t)),
                                    (o.ctrl = n),
                                    (o.meta = i),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof y.onEventSelect && (y.onEventSelect(o), o.preventDefault.value))
                                )
                                    return;
                                switch (y.eventSelectHandling) {
                                    case "PostBack":
                                        y.eventSelectPostBack(t, s);
                                        break;
                                    case "CallBack":
                                        "undefined" != typeof WebForm_InitCallback && ((window.Cc = ""), (window.Dc = []), WebForm_InitCallback()), y.eventSelectCallBack(t, s);
                                        break;
                                    case "Update":
                                        a.Ec(e, n);
                                }
                                "function" == typeof y.onEventSelected && ((o.change = a.isSelected(t) ? "selected" : "deselected"), (o.selected = a.isSelected(t)), y.onEventSelected(o));
                            } else {
                                (a.previous = a.events()), a.Ec(e, n);
                                var s = a.isSelected(t) ? "selected" : "deselected";
                                switch (y.eventSelectHandling) {
                                    case "PostBack":
                                        y.eventSelectPostBack(t, s);
                                        break;
                                    case "CallBack":
                                        "undefined" != typeof WebForm_InitCallback && ((window.Cc = ""), (window.Dc = []), WebForm_InitCallback()), y.eventSelectCallBack(t, s);
                                        break;
                                    case "JavaScript":
                                        y.onEventSelect(t, s);
                                }
                            }
                    }),
                    (this.commandCallBack = function (e, t) {
                        this.Ra();
                        var n = {};
                        (n.command = e), this.Ja("Command", n, t);
                    }),
                    (this.Fc = function (e) {
                        if (!k.active && !k.using && (clearTimeout(v.selectedTimeout), !h.selecting)) {
                            if (v.editing) return void v.editing.blur();
                            if (!((y.Ca && "Disabled" !== y.timeRangeDoubleClickHandling && y.Gc(y.coords)) || "Disabled" === y.timeRangeSelectedHandling)) {
                                if (DayPilot.Util.mouseButton(e).left) {
                                    h.selecting = { calendar: y, start: y.coords };
                                    var t = h.selecting;
                                    (t.start.time = y.Hc(y.coords.x, y.coords.y)), (t.start.columnIndex = y.Gb(y.coords.x)), (t.start.column = y.Hb[t.start.columnIndex]), y.Ic(), y.Jc();
                                }
                            }
                        }
                    }),
                    (this.Jc = function (e) {
                        var n = e || h.selecting;
                        n &&
                            !(function () {
                                var e = y.timeRangeSelectingStartEndFormat;
                                "Auto" === e && (e = "Clock24Hours" === C.Kc() ? "H:mm" : "h:mm tt");
                                var i = n.start.column,
                                    a = n.start.columnIndex,
                                    o = {};
                                (o.anchor = n.anchor),
                                    (o.start = n.startTime),
                                    (o.end = n.endTime),
                                    (o.duration = new DayPilot.Duration(o.start, o.end)),
                                    (o.resource = i.id),
                                    (o.allowed = !0),
                                    (o.html = null),
                                    (o.cssClass = null),
                                    (o.top = {}),
                                    (o.top.width = null),
                                    (o.top.space = 5),
                                    (o.top.html = o.start.toString(e, C.Lc())),
                                    (o.top.enabled = y.timeRangeSelectingStartEndEnabled),
                                    (o.bottom = {}),
                                    (o.bottom.width = null),
                                    (o.bottom.space = 5),
                                    (o.bottom.html = o.end.toString(e, C.Lc())),
                                    (o.bottom.enabled = y.timeRangeSelectingStartEndEnabled);
                                var s = h.selecting && h.selecting.args;
                                if (!s || s.start !== o.start || s.end !== o.end || s.resource != o.resource) {
                                    if (!y.allowEventOverlap) {
                                        var l = { id: null, start: o.start, end: o.end, resource: o.resource };
                                        y.events.Mc(l) && (o.allowed = !1);
                                    }
                                    y.Nc(o.start, o.end, o.resource) && (o.allowed = !1), "function" == typeof y.onTimeRangeSelecting && o.allowed && y.onTimeRangeSelecting(o), h.selecting && (h.selecting.args = o);
                                    var d = y.Oc(o.start, i.start),
                                        c = y.Oc(o.end, i.start),
                                        u = d.boxTop - y.Pc(),
                                        f = c.boxBottom - y.Pc();
                                    (y.snapToGrid && y.snapToGridTimeRangeSelecting) || ((u = d.top - y.Pc()), (f = c.top - y.Pc()));
                                    var v = f - u,
                                        p = (function () {
                                            if (y.nav.activeSelection) return y.nav.activeSelection;
                                            var e = t();
                                            e.setAttribute("unselectable", "on"), (e.style.zIndex = y.pa), (e.style.position = "absolute"), (e.style.left = "0px"), (e.style.right = "0px");
                                            (e.style.left = y.columnMarginLeft + "px"),
                                                (e.style.right = y.columnMarginRight + "px"),
                                                (e.onclick = function (e) {
                                                    if ("Disabled" !== y.timeRangeClickHandling) {
                                                        var t = y.getSelection();
                                                        t && y.xc(t.start, t.end, t.resource);
                                                    }
                                                }),
                                                (e.ondblclick = function (e) {
                                                    if ("Disabled" !== y.timeRangeDoubleClickHandling) {
                                                        clearTimeout(y.Qc);
                                                        var t = y.getSelection();
                                                        t && y.yc(t.start, t.end, t.resource);
                                                    }
                                                });
                                            var n = t();
                                            return (
                                                n.setAttribute("unselectable", "on"),
                                                (n.className = y.ca("_shadow_inner")),
                                                e.appendChild(n),
                                                y.nav.events.rows[0].cells[a].selection.appendChild(e),
                                                y.elements.selection.push(e),
                                                (y.nav.activeSelection = e),
                                                e
                                            );
                                        })();
                                    (p.className = y.ca("_shadow")), (p.firstChild.innerHTML = ""), (p.style.top = u + "px"), (p.style.height = v + "px"), p.remove(), y.nav.events.rows[0].cells[a].selection.appendChild(p);
                                    var m = p.firstChild;
                                    o.html && (m.innerHTML = o.html), o.cssClass && r(p, o.cssClass), o.allowed || r(p, y.ca("_shadow_forbidden")), y.Rc(p, a, o);
                                }
                            })();
                    }),
                    (this.pc = function () {
                        y.Sc(v.movingShadow), (v.movingShadow = null);
                    }),
                    (this.kc = function () {
                        y.Sc(v.resizingShadow), (v.resizingShadow = null);
                    }),
                    (this.Sc = function (e) {
                        f(e), f(y.nav.indicatorTop), f(y.nav.indicatorBottom);
                    }),
                    (this.Rc = function (e, n, i) {
                        var a = y.nav.events.rows[0].cells,
                            r = a[n].events,
                            o = n === a.length - 1;
                        if ((f(y.nav.indicatorTop), f(y.nav.indicatorBottom), i.top.enabled)) {
                            var s = t();
                            (s.style.zIndex = y.pa),
                                (s.style.position = "absolute"),
                                (s.style.top = e.offsetTop + "px"),
                                o ? (s.style.right = "0px") : (s.style.left = e.offsetWidth + i.top.space + "px"),
                                i.top.width ? (s.style.width = i.top.width + "px") : (s.style.whiteSpace = "nowrap"),
                                i.top.html && (s.innerHTML = i.top.html),
                                (s.className = y.ca("_shadow_top")),
                                r.appendChild(s),
                                y.elements.selection.push(s),
                                (y.nav.indicatorTop = s);
                        }
                        if (i.bottom.enabled) {
                            var l = t();
                            (l.style.zIndex = y.pa),
                                (l.style.position = "absolute"),
                                (l.style.top = e.offsetTop + e.offsetHeight + "px"),
                                o ? (l.style.right = "0px") : (l.style.left = e.offsetWidth + i.bottom.space + "px"),
                                i.bottom.width ? (l.style.width = i.bottom.width + "px") : (l.style.whiteSpace = "nowrap"),
                                i.bottom.html && (l.innerHTML = i.bottom.html),
                                (l.className = y.ca("_shadow_bottom")),
                                r.appendChild(l);
                            var d = l.offsetHeight;
                            (l.style.top = e.offsetTop + e.offsetHeight - d + "px"), y.elements.selection.push(l), (y.nav.indicatorBottom = l);
                        }
                    }),
                    (this.Tc = function (e) {
                        "undefined" != typeof DayPilot.Bubble && y.cellBubble && y.cellBubble.hideOnMouseOut();
                    }),
                    (this.Uc = function (e) {
                        if ("undefined" != typeof v && !k.active && !k.using) {
                            if ("undefined" != typeof DayPilot.Bubble && y.cellBubble) {
                                var t = {};
                                (t.calendar = y),
                                    (t.start = this.start),
                                    (t.end = this.end),
                                    (t.resource = this.resource),
                                    (t.toJSON = function () {
                                        var e = {};
                                        return (e.start = this.start), (e.end = this.end), (e.resource = this.resource), e;
                                    }),
                                    y.cellBubble.showCell(t, this);
                            }
                            "undefined" != typeof w && w.s && w.Vc(t, e);
                        }
                    }),
                    (this.getSelection = function () {
                        if (!y.Ca) return null;
                        var e = y.Ca;
                        return new DayPilot.Selection(e.startTime, e.endTime, e.start.column.id, y);
                    }),
                    (this.Wc = function (e) {}),
                    (this.Xc = function (e) {
                        if ("Fixed" === y.columnWidthSpec || y.qa) {
                            if (!y.nav.bottomLeft) return;
                            (y.nav.bottomLeft.scrollTop = y.nav.bottomRight.scrollTop), y.nav.upperRight && (y.nav.upperRight.scrollLeft = y.nav.bottomRight.scrollLeft), (y.nav.scrollLayer.scrollLeft = y.nav.bottomRight.scrollLeft);
                        }
                        var t = y.Yc();
                        (y.scrollPos = t.scrollTop),
                            (y.Zc = t.clientHeight),
                            (y.nav.scrollpos.value = y.scrollPos),
                            y.Cb(),
                            y.Da(),
                            "Progressive" === y.dynamicEventRendering &&
                                (clearTimeout(y.$c),
                                0 === y.scrollDelayEvents
                                    ? y._c()
                                    : (y.$c = setTimeout(function () {
                                          y._c();
                                      }, y.scrollDelayEvents))),
                            "Fixed" === y.columnWidthSpec &&
                                (clearTimeout(y.ad),
                                0 === y.scrollDelayCells
                                    ? y.bd()
                                    : (y.ad = setTimeout(function () {
                                          y.bd();
                                      }, y.scrollDelayCells)));
                    }),
                    (this.Cb = function () {
                        if (this.scrollLabelsVisible && this.cd) {
                            if (this.nav && this.nav.main && this.nav.main.rows && this.nav.main.rows.length > 0 && this.nav.main.rows[0].cells.length > 0) {
                                for (var e = this.Hb, t = this.showHours ? this.hourWidth : 0, n = (this.nav.scroll.clientWidth - t) / e.length, i = 1, a = 0; a < this.nav.scrollUp.length; a++) {
                                    var r = this.nav.scrollUp[a],
                                        o = this.nav.scrollDown[a],
                                        s = Math.floor(t + a * n + n / 2 - 5 + i);
                                    s < 0 && (s = 0), (s -= y.nav.bottomRight.scrollLeft), r && r.style && (r.style.left = s + "px"), o && o.style && (o.style.left = s + "px");
                                }
                                for (var l = this.Pc(), a = 0; a < this.nav.scrollUp.length; a++) {
                                    var d = this.nav.scrollUp[a],
                                        c = this.nav.scrollDown[a],
                                        u = this.cd[a].minEnd - l,
                                        h = this.cd[a].maxStart - l;
                                    d &&
                                        c &&
                                        (u <= y.scrollPos && parseInt(d.style.left) >= y.hourWidth ? ((d.style.top = this.Pb() + "px"), (d.style.display = "")) : (d.style.display = "none"),
                                        h >= y.scrollPos + y.Zc && parseInt(c.style.left) >= y.hourWidth ? ((c.style.top = this.Pb() + this.Zc - 10 + "px"), (c.style.display = "")) : (c.style.display = "none"));
                                }
                            }
                        }
                    }),
                    (this.dd = function (e) {
                        var t = e.parentNode,
                            n = 0,
                            i = e.offsetTop,
                            a = e.parentNode.offsetWidth,
                            r = e.offsetHeight;
                        e.event.allday() && ((n = e.offsetLeft), (a = e.offsetWidth));
                        var o = document.createElement("textarea");
                        (o.style.boxSizing = "border-box"), (o.style.position = "absolute"), (o.style.width = a + "px"), (o.style.height = r + "px");
                        var s = DayPilot.gs(e, "fontFamily");
                        s || (s = DayPilot.gs(e, "font-family")), (o.style.fontFamily = s);
                        var l = DayPilot.gs(e, "fontSize");
                        return (
                            l || (l = DayPilot.gs(e, "font-size")),
                            (o.style.fontSize = l),
                            (o.style.left = n + "px"),
                            (o.style.top = i + "px"),
                            (o.style.border = "1px solid black"),
                            (o.style.padding = "0px"),
                            (o.style.marginTop = "0px"),
                            (o.style.backgroundColor = "white"),
                            (o.value = (e.event.text() || "").trim()),
                            (o.event = e.event),
                            t.appendChild(o),
                            o
                        );
                    }),
                    (this.Wb = function (e, t, n, i) {
                        y.Ac(e, t, n, i);
                    }),
                    (this.zoom = {}),
                    (this.zoom.active = -1),
                    (this.zoom.setActive = function (e) {
                        var t;
                        if ("number" == typeof e) t = y.zoomLevels[e];
                        else {
                            if ("string" != typeof e) throw new DayPilot.Exception("Unexpected parameter type (string or number required): " + typeof e);
                            var n = y.zoom.ed(e);
                            t = y.zoomLevels[n];
                        }
                        if (!t) throw new DayPilot.Exception("Zoom level not found: " + e + " (" + typeof e + ")");
                        if (e !== y.zoom.active) {
                            var i = y.zoom.fd();
                            y.zoom.gd(e), y.ya && y.update(), i && y.scrollToHour(i);
                        }
                    }),
                    (this.zoom.ed = function (e) {
                        return u(y.zoomLevels).findIndex(function (t) {
                            return t.id === e;
                        });
                    }),
                    (this.zoom.fd = function () {
                        var e = y.hd();
                        if (!e) return null;
                        var t = e.pixels.top;
                        return y.jd(t);
                    }),
                    (this.zoom.gd = function (e) {
                        var t = y.zoomLevels.length - 1;
                        e > t && (e = t), e < 0 && (e = 0), (y.zoom.active = e);
                        var n = y.zoomLevels[e],
                            i = {};
                        return (
                            (i.level = n),
                            DayPilot.Util.ownPropsAsArray(n.properties).forEach(function (e) {
                                if (0 !== e.key.indexOf("on")) return "function" == typeof e.val ? void (y[e.key] = e.val(i)) : void (y[e.key] = e.val);
                            }),
                            i
                        );
                    }),
                    (this.multiselect = {}),
                    (this.multiselect.jb = []),
                    (this.multiselect.Bc = []),
                    (this.multiselect.kd = []),
                    (this.multiselect.ld = []),
                    (this.multiselect.md = function () {
                        var e = y.multiselect;
                        return JSON.stringify(e.events());
                    }),
                    (this.multiselect.events = function () {
                        var e = y.multiselect,
                            t = [];
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.Bc.length; n++) t.push(e.Bc[n]);
                        return t;
                    }),
                    (this.multiselect.nd = function () {
                        y.nav.select.value = y.multiselect.md();
                    }),
                    (this.multiselect.Ec = function (e, t) {
                        var n = y.multiselect;
                        if (n.isSelected(e.event))
                            if (y.allowMultiSelect)
                                if (t) n.remove(e.event, !0);
                                else {
                                    var i = n.Bc.length;
                                    n.clear(!0), i > 1 && n.add(e.event, !0);
                                }
                            else n.clear(!0);
                        else y.allowMultiSelect && t ? n.add(e.event, !0) : (n.clear(!0), n.add(e.event, !0));
                        n.redraw(), n.nd();
                    }),
                    (this.multiselect.od = function (e) {
                        var t = y.multiselect;
                        return t.pd(e, t.jb);
                    }),
                    (this.multiselect.qd = function () {
                        for (var e = y.multiselect, t = [], n = 0; n < e.Bc.length; n++) {
                            var i = e.Bc[n];
                            t.push(i.value());
                        }
                        alert(t.join("\n"));
                    }),
                    (this.multiselect.add = function (e, t) {
                        var n = y.multiselect;
                        n.rd(e) === -1 && n.Bc.push(e), n.nd(), t || n.redraw();
                    }),
                    (this.multiselect.remove = function (e, t) {
                        var n = y.multiselect,
                            i = n.rd(e);
                        i !== -1 && n.Bc.splice(i, 1), n.nd(), t || n.redraw();
                    }),
                    (this.multiselect.clear = function (e) {
                        var t = y.multiselect;
                        (t.Bc = []), t.nd(), e || t.redraw();
                    }),
                    (this.multiselect.redraw = function () {
                        for (var e = y.multiselect, t = 0; t < y.elements.events.length; t++) {
                            var n = y.elements.events[t];
                            e.isSelected(n.event) ? e.sd(n) : e.td(n);
                        }
                    }),
                    (this.multiselect.sd = function (e) {
                        var t = y.multiselect,
                            n = y.ca("_selected");
                        r(t.ud(e), n), t.kd.push(e);
                    }),
                    (this.multiselect.ud = function (e) {
                        return e;
                    }),
                    (this.multiselect.vd = function () {
                        for (var e = y.multiselect, t = 0; t < e.kd.length; t++) {
                            var n = e.kd[t];
                            e.td(n, !0);
                        }
                        e.kd = [];
                    }),
                    (this.multiselect.td = function (e, t) {
                        var n = y.multiselect,
                            i = y.ca("_selected");
                        if ((o(n.ud(e), i), !t)) {
                            var a = DayPilot.indexOf(n.kd, e);
                            a !== -1 && n.kd.splice(a, 1);
                        }
                    }),
                    (this.multiselect.isSelected = function (e) {
                        return y.multiselect.pd(e, y.multiselect.Bc);
                    }),
                    (this.multiselect.rd = function (e) {
                        for (var t = e.data, n = 0; n < y.multiselect.Bc.length; n++) {
                            var i = y.multiselect.Bc[n];
                            if (y.xd(i.data, t)) return n;
                        }
                        return -1;
                    }),
                    (this.multiselect.pd = function (e, t) {
                        if (!t) return !1;
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (y.xd(e, i)) return !0;
                        }
                        return !1;
                    }),
                    (this.Vb = function (e) {
                        if (v.editing) return void v.editing.blur();
                        var t = this.dd(e);
                        (v.editing = t),
                            a(t, DayPilot.touch.start, function (e) {
                                e.stopPropagation();
                            }),
                            (t.onblur = function () {
                                if (e.event) {
                                    var n = e.event.text(),
                                        i = t.value;
                                    (v.editing = null), (t.onblur = null), f(t), n !== i && ((e.style.display = "none"), y.zc(e.event, i));
                                }
                            }),
                            (t.onkeypress = function (e) {
                                if (13 === (window.event ? event.keyCode : e.keyCode)) return this.onblur(), e.preventDefault(), !1;
                            }),
                            (t.onkeyup = function (e) {
                                return 27 === (window.event ? event.keyCode : e.keyCode) && ((t.onblur = null), t.parentNode && t.parentNode.removeChild(t), (v.editing = !1)), !0;
                            }),
                            t.select(),
                            t.focus();
                    }),
                    (this.yd = function () {
                        return "Resources" !== y.viewType && (!y.kb() || !y.ja());
                    }),
                    (this.kb = function () {
                        return DayPilot.isArray(y.columns) ? y.columns : y.columns.list;
                    }),
                    (this.columns = {}),
                    (this.columns.list = []),
                    (this.columns.filter = function (e) {
                        (y.zd.params = e), y.ya && y.Ad();
                    }),
                    (this.columns.find = function (e, t) {
                        var n = "Resources" === y.viewType;
                        e = new DayPilot.Date(e);
                        var i = y.Hb.find(function (i) {
                            var a = !n || i.id === t,
                                r = "Resources" === y.viewType ? y.days : 1,
                                o = i.start.addDays(r);
                            return !!(a && i.start <= e && e < o);
                        });
                        return i ? y.Zb(i, y) : null;
                    }),
                    (this.columns.load = function (e, t, n) {
                        if (!e) throw new DayPilot.Exception("columns.load(): 'url' parameter required");
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception), (t.request = e.request), "function" == typeof n && n(t);
                            },
                            a = function (e) {
                                var n,
                                    a = e.request;
                                try {
                                    n = JSON.parse(a.responseText);
                                } catch (e) {
                                    var r = {};
                                    return (r.exception = e), void i(r);
                                }
                                if (DayPilot.isArray(n)) {
                                    var o = {};
                                    if (
                                        ((o.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (o.data = n),
                                        "function" == typeof t && t(o),
                                        o.preventDefault.value)
                                    )
                                        return;
                                    (y.columns.list = n), y.ya && y.update();
                                }
                            };
                        y.columnsLoadMethod && "POST" === y.columnsLoadMethod.toUpperCase() ? DayPilot.ajax({ method: "POST", url: e, success: a, error: i }) : DayPilot.ajax({ method: "GET", url: e, success: a, error: i });
                    }),
                    (this.lb = function () {
                        var e = y.yd();
                        if (((y.Bd = 0), e)) {
                            var t = this.Cd();
                            this.Hb = this.Dd(t);
                        } else (this.eb = this.Dd(this.kb() || [])), (this.Hb = this.Ed(C.Fd(), !0));
                    }),
                    (this.Gd = function () {
                        return y.Hb.find(function (e) {
                            return "number" == typeof e.width;
                        });
                    }),
                    (this.Hd = function () {
                        var e = this.startDate.getDatePart(),
                            t = this.days;
                        switch (this.viewType) {
                            case "Day":
                                t = 1;
                                break;
                            case "Week":
                                (t = 7), (e = e.firstDayOfWeek(C.Id()));
                                break;
                            case "WorkWeek":
                                for (t = 5, e = e.firstDayOfWeek(C.Id()); 1 !== e.dayOfWeek(); ) e = e.addDays(1);
                        }
                        var n = e.addDays(t),
                            i = {};
                        return (i.start = e), (i.end = n), (i.days = t), i;
                    }),
                    (this.Cd = function () {
                        for (var e = [], t = this.Hd(), n = t.start, i = t.days, a = 0; a < i; a++) {
                            var r = {};
                            r.start = n.addDays(a);
                            var o = C.Lc().datePattern;
                            y.headerDateFormat && (o = y.headerDateFormat), (r.name = r.start.toString(o, C.Lc())), (r.html = r.name), e.push(r);
                        }
                        return e;
                    }),
                    (this.zd = {}),
                    (this.Bd = 0),
                    (this.Jd = function () {
                        if (!y.yd()) {
                            "function" == typeof y.onColumnFilter && (y.nb(null, { preLoadOnly: !0 }), this.Kd(y.Hb), (this.Hb = this.Ed(C.Fd(), !0)));
                            y.Gd() && y.Ld();
                        }
                    }),
                    (this.Kd = function (e) {
                        e &&
                            e.forEach(function (e) {
                                y.Md(e);
                            });
                    }),
                    (this.Md = function (e) {
                        var t = e.data,
                            n = !t.children || 0 === t.children.length;
                        if ("function" == typeof y.onColumnFilter && y.zd.params)
                            if (n) {
                                var i = e.parent,
                                    a = {};
                                (a.visible = !0), (a.column = y.Zb(e, y)), (a.filter = y.zd.params), (a.filterParam = a.filter), y.onColumnFilter(a), a.visible ? i && i.Nd() : (e.hidden = !0);
                            } else e.hidden = !0;
                        y.Kd(e.children);
                    }),
                    (this.Od = function (e, t) {
                        var n = {};
                        (n.id = e.id),
                            (n.start = new DayPilot.Date(e.start || y.startDate).getDatePart()),
                            (n.name = e.name),
                            (n.html = e.html || e.name),
                            (n.toolTip = e.toolTip),
                            (n.backColor = e.backColor),
                            (n.areas = e.areas),
                            (n.level = t ? t.level + 1 : 0),
                            (n.parent = t),
                            (n.data = e),
                            (n.width = e.width);
                        !e.children || 0 === e.children.length;
                        return (
                            (y.Bd = Math.max(y.Bd, n.level)),
                            (n.Nd = function () {
                                (n.hidden = !1), n.parent && n.parent.Nd();
                            }),
                            (n.Pd = function (e, t) {
                                var n = [];
                                if (e <= 1) return this.hidden || n.push(this), n;
                                if (!this.children || 0 === this.children.length) return t ? this.hidden || n.push(this) : n.push("empty"), n;
                                for (var i = 0; i < this.children.length; i++) for (var a = this.children[i], r = a.Pd(e - 1, t), o = 0; o < r.length; o++) n.push(r[o]);
                                return n;
                            }),
                            (n.Qd = function (e) {
                                var t = 0;
                                if (!this.children || this.children.length <= 0 || e <= 1) {
                                    return !this.hidden ? 1 : 0;
                                }
                                for (var n = 0; n < this.children.length; n++) t += this.children[n].Qd(e - 1);
                                return t;
                            }),
                            (n.Rd = function (e) {
                                for (var t = 0; t < this.blocks.length; t++) {
                                    var n = this.blocks[t];
                                    if (n.Sd(e.part.top, e.part.height)) return n.events.push(e), (n.min = Math.min(n.min, e.part.top)), (n.max = Math.max(n.max, e.part.top + e.part.height)), t;
                                }
                                var n = [];
                                return (
                                    (n.lines = []),
                                    (n.events = []),
                                    (n.Sd = function (e, t) {
                                        return !(e + t - 1 < this.min || e > this.max - 1);
                                    }),
                                    (n.Td = function (e) {
                                        for (var t = 0; t < this.lines.length; t++) {
                                            var n = this.lines[t];
                                            if (n.Ud(e.part.top, e.part.height)) return n.push(e), t;
                                        }
                                        var n = [];
                                        return (
                                            (n.Ud = function (e, t) {
                                                for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                                                    var r = this[a];
                                                    if (!(n < r.part.top || e > r.part.top + r.part.height - 1)) return !1;
                                                }
                                                return !0;
                                            }),
                                            n.push(e),
                                            this.lines.push(n),
                                            this.lines.length - 1
                                        );
                                    }),
                                    n.events.push(e),
                                    (n.min = e.part.top),
                                    (n.max = e.part.top + e.part.height),
                                    this.blocks.push(n),
                                    this.blocks.length - 1
                                );
                            }),
                            (n.Td = function (e) {
                                for (var t = 0; t < this.lines.length; t++) {
                                    var n = this.lines[t];
                                    if (n.Ud(e.part.top, e.part.height)) return n.push(e), t;
                                }
                                var n = [];
                                return (
                                    (n.Ud = function (e, t) {
                                        for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                                            var r = this[a];
                                            if (!(n < r.part.top || e > r.part.top + r.part.height - 1)) return !1;
                                        }
                                        return !0;
                                    }),
                                    n.push(e),
                                    this.lines.push(n),
                                    this.lines.length - 1
                                );
                            }),
                            (n.Ob = function () {
                                return n.start.addHours(y.Ob(!0));
                            }),
                            (n.Vd = function () {
                                var e = y.Kb(!0);
                                return n.Ob().addTime(e);
                            }),
                            e.children && (n.children = this.Dd(e.children, n)),
                            n
                        );
                    }),
                    (this.Dd = function (e, t) {
                        var n = u();
                        return (
                            u(e).forEach(function (e) {
                                var i = y.Od(e, t);
                                n.push(i);
                            }),
                            n
                        );
                    }),
                    (this.Ed = function (e, t) {
                        for (var n = this.yd() ? this.Hb : this.eb, i = u(), a = 0; a < n.length; a++) for (var r = n[a].Pd(e, t), o = 0; o < r.length; o++) i.push(r[o]);
                        return i;
                    }),
                    (this.selectTimeRange = function (e, t, n, i) {
                        if (e && t) {
                            (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
                            var a = y.Wd(e, n, !0),
                                r = y.Wd(t, n);
                            if (a && r && a.data.x === r.data.x) {
                                var o = {};
                                (o.start = {}),
                                    (o.start.columnIndex = a.data.x),
                                    (o.start.column = y.Hb[a.data.x]),
                                    (o.start.time = e),
                                    (o.end = {}),
                                    (o.end.time = t),
                                    y.Xd(o),
                                    y.Jc(o),
                                    i ||
                                        setTimeout(function () {
                                            y.wc(e, t, n, "api");
                                        }, 0);
                            }
                        }
                    }),
                    (y.Wd = function (e, t, n) {
                        var i = y.Hb,
                            a = y.nav.main,
                            r = "Resources" === y.viewType,
                            o = i.find(function (n) {
                                var i = !r || n.id === t,
                                    a = n.Ob() <= e && e < n.Vd();
                                return i && a;
                            });
                        if (o) {
                            var s = i.indexOf(o),
                                l = (function () {
                                    for (var t = 0; t < y.Sb(); t++) {
                                        var i = a.rows[t].cells[s];
                                        if (i) {
                                            var r = i.data,
                                                o = r.start <= e && e <= r.end;
                                            if ((n && (o = r.start <= e && e < r.end), o)) return i;
                                        }
                                    }
                                    return null;
                                })();
                            return l ? l : void 0;
                        }
                    }),
                    (this.Yd = {});
                var b = this.Yd;
                (b.Zd = function (e) {
                    var i = e.div.firstChild,
                        a = t(),
                        r = a.style;
                    (r.position = "absolute"),
                        (r.left = "2px"),
                        (r.top = "2px"),
                        (r.bottom = "2px"),
                        (r.width = "15px"),
                        (r.opacity = "0.5"),
                        (r.cursor = "move"),
                        (r.display = "none"),
                        (a.className = y.ca("_colmove_handle")),
                        n(i, "mouseenter", function (e) {
                            b.s || w.s || (r.display = "");
                        }),
                        n(i, "mouseleave", function (e) {
                            r.display = "none";
                        }),
                        (a.onmousedown = function (t) {
                            b.$d(t, e);
                        }),
                        i.$ || (i.$ = {}),
                        (i.$._d = function () {
                            r.display = "none";
                        }),
                        (i.$.ae = function () {
                            r.display = "";
                        }),
                        i.appendChild(a);
                }),
                    (b.$d = function (e, t) {
                        var n = y.nav.header,
                            i = {};
                        (i.be = t), (i.ce = n.style.cursor);
                        var a = t.div;
                        (b.s = i), (h.colMoving = b), a.$ && a.$.ee && a.$.ee(), r(a, y.ca("_colmove_source")), (n.style.cursor = "move");
                    }),
                    (b.fe = function (e) {
                        var t = [],
                            n = e.parent;
                        return n && (t.push(n.data), (t = t.concat(b.fe(n)))), t;
                    }),
                    (b.ge = function () {
                        function e() {
                            o(b.s.be.div, y.ca("_colmove_source")), t && (t.style.cursor = n.ce), a && a.remove(), (b.s = null);
                        }
                        if (!b.s.target) return void e();
                        var t = y.nav.header,
                            n = b.s,
                            i = n.position,
                            a = n.div,
                            r = b.s.be.column,
                            s = r.data,
                            l = r.parent,
                            d = n.target,
                            c = d.data,
                            u = d.parent,
                            h = u ? u.data.children : y.kb(),
                            f = l ? l.data.children : y.kb();
                        if (b.fe(d).includes(s)) return void e();
                        if (c === s) return void e();
                        if ("forbidden" === i) return void e();
                        var v = {};
                        if (
                            ((v.source = y.Zb(r)),
                            (v.target = y.Zb(d)),
                            (v.position = i),
                            (v.preventDefault = function () {
                                v.preventDefault.value = !0;
                            }),
                            "function" == typeof y.onColumnMove && (y.onColumnMove(v), v.preventDefault.value))
                        )
                            return void e();
                        if (C.ie("Update")) {
                            DayPilot.rfa(f, s);
                            var p = h.indexOf(c);
                            if ("child" === i) {
                                var m = c.children || [];
                                m.push(s), (c.children = m);
                            } else "before" === i ? h.splice(p, 0, s) : "after" === i && h.splice(p + 1, 0, s);
                            y.Ad();
                        }
                        "function" == typeof y.onColumnMoved && y.onColumnMoved(v), e();
                    }),
                    (b.bc = function (e, n) {
                        var i,
                            a = 12,
                            r = 12,
                            o = n.data,
                            s = y.columnMoveSameLevelOnly,
                            l = b.s.div,
                            d = b.s.be.column;
                        l ? (i = l.style) : ((l = t()), (i = l.style), (i.position = "absolute"), (i.width = "12px"), (i.height = "12px"), (i.top = "0px"), (b.s.div = l));
                        var c = n.getBoundingClientRect(),
                            u = c.width,
                            h = c.height,
                            f = DayPilot.mo3(n, e),
                            v = o.children || [],
                            p = v.length,
                            m = 0 === p ? 0.25 : 0.5,
                            g = null,
                            w = b.fe(n.data);
                        l.className = "";
                        var x = !1;
                        d === o && (x = !0),
                            s && (m = 0.5),
                            w.includes(d.data) ? (g = "forbidden") : x ? (g = "forbidden") : f.x < u * m ? (g = "before") : f.x > u * (1 - m) ? (g = "after") : 0 == p && (g = "child"),
                            s && d.level !== o.level && (g = "forbidden");
                        var k = {};
                        (k.position = g),
                            (k.source = y.Zb(d)),
                            (k.target = y.Zb(n.data)),
                            "function" == typeof y.onColumnMoving && y.onColumnMoving(k),
                            (g = k.position),
                            "forbidden" === g
                                ? ((i.left = 0.5 * u - 6 + "px"), (i.top = h / 2 - 2 + "px"), (l.className = y.ca("_colmove_position_forbidden")))
                                : "before" === g
                                ? ((i.left = "0px"), (i.top = 0.5 * h - 6 + "px"), (l.className = y.ca("_colmove_position_before")))
                                : "after" === g
                                ? ((i.left = u - a - 1 + "px"), (i.top = 0.5 * h - 6 + "px"), (l.className = y.ca("_colmove_position_after")))
                                : "child" === g && ((i.left = 0.5 * u - 6 + "px"), (i.top = h - r - 1 + "px"), (l.className = y.ca("_colmove_position_child"))),
                            l.parentNode !== n && (l.remove(), n.appendChild(l)),
                            (b.s.target = o),
                            (b.s.position = g);
                    }),
                    (this.je = {});
                var w = this.je;
                (w.ke = function (e) {
                    var i = e.div.firstChild,
                        a = t(),
                        r = a.style;
                    (r.position = "absolute"),
                        (r.right = "0px"),
                        (r.top = "0px"),
                        (r.bottom = "0px"),
                        (r.width = "4px"),
                        (r.cursor = "e-resize"),
                        (r.display = "none"),
                        (a.className = y.ca("_colheader_splitter")),
                        n(i, "mouseenter", function (e) {
                            b.s || w.s || (r.display = "");
                        }),
                        n(i, "mouseleave", function (e) {
                            w.s || (r.display = "none");
                        }),
                        (a.onmousedown = function (t) {
                            w.le(t, e);
                        }),
                        i.$ || (i.$ = {}),
                        (i.$.ee = function () {
                            r.display = "none";
                        }),
                        i.appendChild(a);
                }),
                    (w.le = function (e, t) {
                        var n = DayPilot.mo3(y.nav.header, e),
                            i = t.column,
                            a = t.div.firstChild,
                            r = {};
                        if (((r.me = n.x), (r.be = t), (r.ne = t.x), (r.oe = t.column), a.$ && a.$._d && a.$._d(), t.y !== C.Fd() - 1)) {
                            var o = i.Pd(C.Fd() - t.y, !0),
                                s = o[o.length - 1];
                            s && (r.ne = y.Hb.indexOf(s));
                        }
                        (w.s = r), (h.colResizing = w);
                    }),
                    (w.Vc = function (e, t) {
                        function n() {
                            for (var e = 0, t = h + 1; t < a.length; t++) e += a[t].width || _;
                            return e;
                        }
                        function i() {
                            for (var e = n(), t = 0, i = h + 1; i < a.length; i++) {
                                var r = a[i],
                                    o = r.width || _,
                                    s = o / e;
                                (r.width = o - g * s), r.width < 1 && ((t += 1 - r.width), (r.width = 1));
                            }
                            (x -= t), (b += t), (f = b * p);
                        }
                        var a = y.Hb,
                            r = DayPilot.mo3(y.nav.header, t),
                            o = w.s.oe,
                            s = r.x - w.s.me,
                            l = w.s.be.y,
                            d = l !== C.Fd() - 1,
                            c = "Fixed" === y.columnWidthSpec,
                            u = y.columnWidthMin,
                            h = w.s.ne,
                            f = 0,
                            v = y.nav.main.clientWidth,
                            p = v / 100,
                            m = u / p,
                            g = s / p,
                            b = 0,
                            x = 0;
                        if (d) {
                            var k = o.Pd(C.Fd() - l, !0),
                                _ = c ? y.columnWidth : 100 / a.length,
                                D = k.reduce(function (e, t) {
                                    return e + (t.width || _);
                                }, 0),
                                T = c ? D + s : D + g,
                                E = T / D,
                                S = 0;
                            if (
                                (k.forEach(function (e, t) {
                                    var n = t === k.length - 1,
                                        i = e.width || _,
                                        a = i * E,
                                        r = Math.round(a);
                                    c && ((S += a - r), (a = r)), a < u && ((f += a - u), (a = u)), (e.width = a), n && (e.width += S);
                                }),
                                !c)
                            ) {
                                i();
                                var A = x,
                                    H = k.reduce(function (e, t) {
                                        return e + t.width || _;
                                    }, 0);
                                k.forEach(function (e) {
                                    var t = e.width || _,
                                        n = t / H;
                                    e.width = t + A * n;
                                });
                            }
                        } else {
                            var M = y.pe()[h].width,
                                o = a[h];
                            c ? ((x = M + s), x < u && ((f = x - u), (x = u))) : ((x = o.width + g), x < m && ((b = x - m), (g = m - o.width), (x = m)), (x = Math.max(x, 1)), i()), (o.width = x);
                        }
                        (w.s.me = r.x - f), y.Ld(), y.Da(), w.qe();
                    }),
                    (w.se = function () {
                        var e = y.Hb,
                            t = w.s.be.div.firstChild,
                            n = w.s.oe;
                        t.$ && t.$.ae && t.$.ae(), (w.s = null);
                        var i = {};
                        return (
                            (i.column = y.Zb(n)),
                            (i.newWidth = n.width),
                            (i.preventDefault = function () {
                                i.preventDefault.value = !0;
                            }),
                            "function" == typeof y.onColumnResize && y.onColumnResize(i),
                            i.preventDefault.value
                                ? void y.update()
                                : (C.te("Update") &&
                                      e.forEach(function (e) {
                                          e.data.width = e.width;
                                      }),
                                  void ("function" == typeof y.onColumnResized && y.onColumnResized(i)))
                        );
                    }),
                    (w.qe = function () {
                        var e = y.pe(),
                            t = "Fixed" === y.columnWidthSpec,
                            n = y.nav.header,
                            i = y.nav.main,
                            a = y.nav.events,
                            r = y.nav.unifiedCornerRight;
                        n.rows.forEach(function (e, t) {
                            if (t !== C.Fd() - 1) {
                                var n = y.ve(t);
                                e.cells.forEach(function (e, t) {
                                    var i = n[t];
                                    (e.style.left = i.left + i.unit), (e.style.width = i.width + i.unit);
                                });
                            }
                        });
                        for (var o = C.Fd() - 1, s = 0; s < y.Hb.length; s++) {
                            var l = e[s],
                                d = n.rows[o].cells[s];
                            (d.style.left = l.left + l.unit), (d.style.width = l.width + l.unit), t && (d.firstChild.style.width = l.width + l.unit);
                        }
                        if (
                            (i.rows.forEach(function (n) {
                                n.cells.forEach(function (n, i) {
                                    var a = e[i].width + e[i].unit,
                                        r = e[i].left + e[i].unit;
                                    n.style.width !== a && ((n.style.width = a), t && (n.firstChild.style.width = a)), n.style.left !== r && (n.style.left = r);
                                });
                            }),
                            a.rows[0].cells.forEach(function (n, i) {
                                var a = e[i].width + e[i].unit,
                                    r = e[i].left + e[i].unit;
                                n.style.width !== a && ((n.style.width = a), t && (n.firstChild.style.width = a)), n.style.left !== r && (n.style.left = r);
                            }),
                            t)
                        ) {
                            var c = e[e.length - 1],
                                u = c.left + c.width;
                            (r.style.left = u + "px"), (i.style.width = u + "px");
                        }
                    }),
                    (this.Ld = function () {
                        if ("Fixed" !== y.columnWidthSpec) {
                            var e = y.Hb,
                                t = 100 / e.length,
                                n = e.reduce(function (e, n) {
                                    return e + (n.width || t);
                                }, 0),
                                i = n / 100;
                            e.forEach(function (n, a) {
                                var r = (e.length - 1, n.width || t);
                                n.width = r / i;
                            });
                        }
                    }),
                    (this.Ab = function () {
                        if (this.showAllDayEvents) {
                            var e = this.nav.header;
                            if (e) {
                                e.style.display = "none";
                                for (var n = this.Hb.length, i = 0; i < this.we.lines.length; i++)
                                    for (var s = this.we.lines[i], l = 0; l < s.length; l++) {
                                        var c = s[l],
                                            u = c.cache || c.data,
                                            h = t();
                                        (h.style.position = "absolute"),
                                            y.rtl ? (h.style.right = (100 * c.part.colStart) / n + "%") : (h.style.left = (100 * c.part.colStart) / n + "%"),
                                            (h.style.width = (100 * c.part.colWidth) / n + "%"),
                                            (h.style.height = C.xe() + "px"),
                                            (h.style.top = C.Fd() * C.ye() + i * C.xe() + "px");
                                        var f = t();
                                        (f.event = c),
                                            f.setAttribute("unselectable", "on"),
                                            (f.style.position = "absolute"),
                                            (f.style.inset = "2px"),
                                            (f.className = this.ca("_alldayevent")),
                                            y.allDayEventTextWrappingEnabled || (f.style.whiteSpace = "nowrap"),
                                            u.cssClass && r(f, u.cssClass),
                                            (f.style.textAlign = "left"),
                                            (f.style.lineHeight = "1.2"),
                                            c.client.clickEnabled() && (f.onclick = this.Tb),
                                            c.client.doubleClickEnabled() && (f.ondblclick = this.Xb),
                                            c.client.clickEnabled() || c.client.doubleClickEnabled() ? (f.style.cursor = "pointer") : (f.style.cursor = "default"),
                                            a(f, "contextmenu", this.Yb),
                                            (f.onmousemove = function (e) {
                                                var t = this,
                                                    n = t.event,
                                                    i = n.cache || n.data;
                                                if (!t.active) {
                                                    var a = [];
                                                    n.client.deleteEnabled() &&
                                                        a.push({
                                                            action: "JavaScript",
                                                            v: "Hover",
                                                            w: 17,
                                                            h: 17,
                                                            top: 3,
                                                            right: 3,
                                                            css: y.ca("_event_delete"),
                                                            js: function (e) {
                                                                y.dc(e);
                                                            },
                                                        });
                                                    var o = i.areas;
                                                    o && o.length > 0 && (a = a.concat(o)), DayPilot.Areas.showAreas(t, n, null, a), r(t, y.ca("_alldayevent_hover"));
                                                }
                                                "undefined" != typeof DayPilot.Bubble && y.bubble && "Disabled" !== y.eventHoverHandling && y.bubble.showEvent(this.event);
                                            }),
                                            (f.onmouseout = function (e) {
                                                o(this, y.ca("_alldayevent_hover")), DayPilot.Areas.hideAreas(this, e), y.bubble && y.bubble.hideOnMouseOut();
                                            }),
                                            this.showToolTip && !this.bubble && f.setAttribute("title", c.client.toolTip());
                                        var v = c.start().getTime() === c.part.start.getTime(),
                                            p = c.end().getTime() === c.part.end.getTime(),
                                            m = u.backColor,
                                            g = t();
                                        if (
                                            (g.setAttribute("unselectable", "on"),
                                            (g.className = this.ca("_alldayevent_inner")),
                                            m && (g.style.background = m),
                                            u.fontColor && (g.style.color = u.fontColor),
                                            "darker" === u.borderColor && u.backColor ? (g.style.borderColor = DayPilot.ColorUtil.darker(u.backColor, 2)) : (g.style.borderColor = u.borderColor),
                                            y.rtl
                                                ? (v || r(f, this.ca("_alldayevent_continueright")), p || r(f, this.ca("_alldayevent_continueleft")))
                                                : (v || r(f, this.ca("_alldayevent_continueleft")), p || r(f, this.ca("_alldayevent_continueright"))),
                                            f.appendChild(g),
                                            DayPilot.isArray(u.areas) &&
                                                u.areas
                                                    .filter(function (e) {
                                                        return DayPilot.Areas.isVisible(e);
                                                    })
                                                    .forEach(function (e) {
                                                        var t = DayPilot.Areas.createArea(f, c, e);
                                                        f.appendChild(t);
                                                    }),
                                            y.Eb())
                                        ) {
                                            if ("function" == typeof y.onAfterEventRender) {
                                                var b = {};
                                                (b.e = f.event), (b.div = f), y.onAfterEventRender(b);
                                            }
                                        } else y.afterEventRender && y.afterEventRender(f.event, f);
                                        !(function () {
                                            var e = {};
                                            if (((e.control = y), (e.e = c), (e.element = null), (f.domArgs = e), "function" == typeof y.onBeforeEventDomAdd && y.onBeforeEventDomAdd(e), e.element)) {
                                                var t = g;
                                                if (t) {
                                                    e.ze = t;
                                                    d(e.element) ? (y.W.Ae(), y.W.V(e.element, t)) : t.appendChild(e.element);
                                                }
                                            } else g.innerHTML = c.client.innerHTML();
                                        })(),
                                            h.appendChild(f),
                                            this.nav.allday.appendChild(h),
                                            this.elements.events.push(f);
                                    }
                                e.style.display = "";
                            }
                        }
                    }),
                    (this.Sa = function (e) {
                        if ((y.multiselect.vd(), this.elements.events))
                            for (var t = 0; t < this.elements.events.length; t++) {
                                var n = this.elements.events[t],
                                    i = n.event;
                                (i && e && !i.allday()) || y.Be(n);
                            }
                        this.elements.events = [];
                    }),
                    (this.Be = function (e) {
                        var t = e.event,
                            n = e.domArgs;
                        if (((e.domArgs = null), n && "function" == typeof y.onBeforeEventDomRemove && y.onBeforeEventDomRemove(n), n && "function" == typeof y.onBeforeEventDomAdd && y.W.reactDOM)) {
                            var i = n && n.ze;
                            if (i) {
                                d(n.element) && (y.W.Ae(), y.W.ka(i));
                            }
                        }
                        if (
                            (t && ((t.div = null), (t.root = null), (t.rendered = !1)),
                            (e.onclick = null),
                            (e.onclickSave = null),
                            (e.ondblclick = null),
                            (e.oncontextmenu = null),
                            (e.onmouseover = null),
                            (e.onmouseout = null),
                            (e.onmousemove = null),
                            (e.onmousedown = null),
                            e.firstChild && e.firstChild.firstChild && e.firstChild.firstChild.tagName && "IMG" === e.firstChild.firstChild.tagName.toUpperCase())
                        ) {
                            var a = e.firstChild.firstChild;
                            (a.onmousedown = null), (a.onmousemove = null), (a.onclick = null);
                        }
                        e !== h.moving && ((e.helper = null), (e.event = null)), f(e);
                    }),
                    (this.Ce = function (e) {
                        if (e.isAllDay()) return !0;
                        var t = y.De(e.part.dayIndex),
                            n = this.hd(),
                            i = n.pixels.left,
                            a = n.pixels.right,
                            r = n.pixels.top,
                            o = n.pixels.bottom,
                            s = (e.part.width / 100) * t.width,
                            l = (t.width * e.part.left) / 100 + t.left,
                            d = l + s,
                            c = e.part.top - this.Pc(),
                            u = c + e.part.height,
                            h = a <= l || i >= d,
                            f = o <= c || r >= u;
                        return !h && !f;
                    }),
                    (this.hd = function () {
                        if (y.ta.va) return y.ta.va;
                        var e = y.Yc();
                        if (!e) return null;
                        var t = {},
                            n = y.rtl ? -e.scrollLeft : e.scrollLeft,
                            i = e.scrollTop,
                            a = {};
                        (a.left = n), (a.right = n + e.clientWidth), (a.top = i), (a.bottom = i + e.clientHeight), (a.width = e.scrollWidth);
                        var r = y.dynamicEventRenderingMarginX;
                        r && ((a.left -= r), (a.right += r), a.left < 0 && (a.left = 0), a.right > a.width && (a.right = a.width));
                        var o = y.dynamicEventRenderingMarginY;
                        if (o) {
                            (a.top -= o), (a.bottom += o);
                            var s = y.Ee();
                            a.top < 0 && (a.top = 0), a.bottom > s && (a.bottom = s);
                        }
                        for (var l = y.pe(), d = null, c = null, u = 0; u < l.length; u++) {
                            var h = l[u],
                                f = h.left + h.width;
                            if ((null === d && f > a.left && (d = u), null !== d && null === c && (f >= a.right || u === l.length - 1))) {
                                c = u;
                                break;
                            }
                        }
                        var v = Math.floor(a.top / y.cellHeight);
                        v = DayPilot.Util.atLeast(0, v);
                        var p = Math.ceil(a.bottom / y.cellHeight);
                        return (p = DayPilot.Util.atMost(y.Sb() - 1, p)), (t.xStart = d), (t.xEnd = c), (t.yStart = v), (t.yEnd = p), (t.pixels = a), (y.ta.va = t), t;
                    }),
                    (this.De = function (e) {
                        return y.ta.wa || (y.ta.wa = y.pe()), y.ta.wa[e];
                    }),
                    (this.Fe = function (e) {
                        var o = this.nav.events,
                            s = e.cache || e.data;
                        if (!e.rendered) {
                            var l = y.multiselect.od(e),
                                c = y.Ce(e),
                                u = "Progressive" === y.dynamicEventRendering && "Fixed" === y.columnWidthSpec;
                            if (l || !u || c) {
                                var h = t();
                                h.setAttribute("unselectable", "on"),
                                    (h.style.MozUserSelect = "none"),
                                    (h.style.KhtmlUserSelect = "none"),
                                    (h.style.WebkitUserSelect = "none"),
                                    (h.style.position = "absolute"),
                                    (h.className = this.ca("_event")),
                                    (h.style.left = e.part.left + "%"),
                                    (h.style.top = e.part.top - this.Pc() + "px"),
                                    (h.style.width = e.part.width + "%"),
                                    (h.style.height = Math.max(e.part.height, 2) + "px"),
                                    (h.style.overflow = "hidden"),
                                    (h.isFirst = e.part.start.getTime() === e.start().getTime()),
                                    (h.isLast = e.part.end.getTime() === e.end().getTime()),
                                    e.client.clickEnabled() && (h.onclick = this.Tb),
                                    e.client.doubleClickEnabled() && (h.ondblclick = this.Xb),
                                    a(h, "contextmenu", this.Yb),
                                    (h.onmousemove = this.Ge),
                                    (h.onmouseout = this.He),
                                    (h.onmousedown = this.Ie),
                                    i(h, DayPilot.touch.start, this.Je.onEventTouchStart),
                                    n(h, DayPilot.touch.move, this.Je.onEventTouchMove),
                                    n(h, DayPilot.touch.end, this.Je.onEventTouchEnd),
                                    s.cssClass && r(h, s.cssClass),
                                    this.showToolTip && !this.bubble && h.setAttribute("title", e.client.toolTip());
                                var f = t();
                                if (
                                    (f.setAttribute("unselectable", "on"),
                                    (f.className = y.ca("_event_inner")),
                                    s.fontColor && (f.style.color = s.fontColor),
                                    s.backColor && (f.style.background = s.backColor),
                                    s.borderColor && ("darker" === s.borderColor && s.backColor ? (f.style.borderColor = DayPilot.ColorUtil.darker(s.backColor, 2)) : (f.style.borderColor = s.borderColor)),
                                    s.backgroundImage && ((f.style.backgroundImage = "url(" + s.backgroundImage + ")"), s.backgroundRepeat && (f.style.backgroundRepeat = s.backgroundRepeat)),
                                    h.appendChild(f),
                                    e.client.barVisible())
                                ) {
                                    var v = e.part.height - 2,
                                        p = (100 * e.part.barTop) / v,
                                        m = Math.ceil((100 * e.part.barHeight) / v),
                                        g = t();
                                    g.setAttribute("unselectable", "on"), (g.className = this.ca("_event_bar")), (g.style.position = "absolute"), s.barBackColor && (g.style.backgroundColor = s.barBackColor);
                                    var b = t();
                                    b.setAttribute("unselectable", "on"),
                                        (b.className = this.ca("_event_bar_inner")),
                                        (b.style.top = p + "%"),
                                        0 < m && m <= 1 ? (b.style.height = "1px") : (b.style.height = m + "%"),
                                        s.barColor && (b.style.backgroundColor = s.barColor),
                                        g.appendChild(b),
                                        h.appendChild(g);
                                }
                                var w = s.areas ? DayPilot.Areas.copy(s.areas) : [],
                                    x = y.Hb[e.part.dayIndex];
                                if (
                                    (w.forEach(function (t) {
                                        t.start && (t.top = y.Oc(new DayPilot.Date(t.start), x.start).top - e.part.top - y.Pc()), t.end && (t.bottom = e.part.top + e.part.height - y.Oc(new DayPilot.Date(t.end), x.start).top - y.Pc());
                                    }),
                                    e.client.deleteEnabled() &&
                                        w.push({
                                            action: "JavaScript",
                                            v: "Hover",
                                            w: 17,
                                            h: 17,
                                            top: 2,
                                            right: 2,
                                            css: y.ca("_event_delete"),
                                            js: function (e) {
                                                y.dc(e);
                                            },
                                        }),
                                    DayPilot.Areas.attach(h, e, { areas: w }),
                                    (function () {
                                        var t = {};
                                        if (((t.control = y), (t.e = e), (t.element = null), (h.domArgs = t), "function" == typeof y.onBeforeEventDomAdd && y.onBeforeEventDomAdd(t), t.element)) {
                                            var n = f;
                                            if (n) {
                                                t.ze = n;
                                                d(t.element) ? (y.W.Ae(), y.W.V(t.element, n)) : n.appendChild(t.element);
                                            }
                                        } else f.innerHTML = e.client.innerHTML();
                                    })(),
                                    o.rows[0].cells[e.part.dayIndex])
                                ) {
                                    if ((o.rows[0].cells[e.part.dayIndex].events.appendChild(h), y.Ke(h), (h.event = e), y.multiselect.od(e) && y.multiselect.add(h.event, !0), (e.rendered = !0), y.Eb())) {
                                        if ("function" == typeof y.onAfterEventRender) {
                                            var k = {};
                                            (k.e = h.event), (k.div = h), y.onAfterEventRender(k);
                                        }
                                    } else y.afterEventRender && y.afterEventRender(h.event, h);
                                    y.elements.events.push(h);
                                }
                            }
                        }
                    }),
                    (this.Ke = function (e) {
                        for (var t = e && e.childNodes ? e.childNodes.length : 0, n = 0; n < t; n++)
                            try {
                                var i = e.childNodes[n];
                                1 === i.nodeType && (i.setAttribute("unselectable", "on"), this.Ke(i));
                            } catch (e) {}
                    }),
                    (this.zb = function () {
                        for (var e = new Date(), t = 0; t < this.Hb.length; t++) {
                            var n = this.Hb[t];
                            if (n.blocks)
                                for (var i = 0; i < n.blocks.length; i++)
                                    for (var a = n.blocks[i], r = 0; r < a.lines.length; r++)
                                        for (var o = a.lines[r], s = 0; s < o.length; s++) {
                                            var l = o[s];
                                            if (((l.part.width = 100 / a.lines.length), (l.part.left = l.part.width * r), "Cascade" === this.eventArrangement)) {
                                                var d = r === a.lines.length - 1;
                                                d || (l.part.width = 1.5 * l.part.width);
                                            }
                                            "Full" === this.eventArrangement && ((l.part.left = l.part.left / 2), (l.part.width = 100 - l.part.left)), l.allday() || this.Fe(l);
                                        }
                        }
                        this.multiselect.redraw();
                        var c = new Date();
                        c.getTime() - e.getTime();
                    }),
                    (this._c = function () {
                        y.elements.events.forEach(function (e) {
                            e.event && !y.Ce(e.event) && y.Be(e);
                        }),
                            y.ta.Le.forEach(function (e) {
                                y.Fe(e);
                            }),
                            (y.elements.events = y.elements.events.filter(function (e) {
                                return !!e.event;
                            }));
                    }),
                    (this.bd = function () {
                        if (y.Hb && 0 !== y.Hb.length) {
                            for (var e = y.hd(), t = e.xStart; t <= e.xEnd; t++) for (var n = e.yStart; n <= e.yEnd; n++) y.Me(t, n);
                            y.Ne();
                        }
                    }),
                    (y.Ne = function () {
                        for (var e = y.hd(), t = this.Sb(), n = y.Hb.length, i = 0; i < n; i++) {
                            var a = !0;
                            e.xStart <= i && i <= e.xEnd && (a = !1);
                            for (var r = 0; r < t; r++) {
                                var o = !0;
                                e.yStart <= r && r <= e.yEnd && (o = !1);
                                var s = y.elements.cells[i + "_" + r];
                                s && (o || a) && (s.remove(), (y.elements.cells[i + "_" + r] = null));
                            }
                        }
                    }),
                    (this.Oe = function () {
                        this.multiselect.Bc = [];
                        for (var e = 0; e < this.Hb.length; e++)
                            for (var t = this.Hb[e], n = 0; n < t.lines.length; n++)
                                for (var i = t.lines[n], a = 0; a < i.length; a++) {
                                    var r = i[a];
                                    (r.part.width = 100 / t.lines.length), (r.part.left = r.Width * n), r.allday() || this.Fe(r);
                                }
                    }),
                    (this.ca = function (e) {
                        var t = this.theme || this.cssClassPrefix;
                        return t ? t + e : "";
                    }),
                    (this.Pe = function () {
                        switch (y.Aa) {
                            case "aspnet":
                                if (!this.Oa()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                                break;
                            case "netmvc":
                                if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                                break;
                            case "javaxx":
                                if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
                        }
                    }),
                    (this.D = function () {
                        "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible");
                    }),
                    (this.Qe = function () {
                        var e = this.Pb() + this.Re();
                        return y.debug.message("Getting totalHeight, headerHeight: " + this.Pb() + " scrollable: " + this.Re()), e < 0 ? 0 : e;
                    }),
                    (this.Xa = function () {
                        y.ab();
                    }),
                    (this.Se = function () {
                        var e = this.nav.top;
                        (e.dp = this),
                            (e.innerHTML = ""),
                            (e.style.MozUserSelect = "none"),
                            (e.style.KhtmlUserSelect = "none"),
                            (e.style.WebkitUserSelect = "none"),
                            (e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
                            (e.style.WebkitTouchCallout = "none"),
                            (e.style.position = "relative"),
                            this.width && (e.style.width = this.width),
                            this.rtl && (e.style.direction = "rtl"),
                            "Parent100Pct" === this.heightSpec ? (e.style.height = "100%") : (e.style.height = this.Qe() + "px"),
                            this.hideUntilInit && (e.style.visibility = "hidden"),
                            this.visible || (e.style.display = "none"),
                            e.addEventListener("mouseleave", y.Xa);
                        var n = t();
                        if (((this.nav.scroll = n), (n.style.height = this.Re() + "px"), (n.style.position = "relative"), this.showHeader)) {
                            var i = this.Te();
                            e.appendChild(i);
                        }
                        (n.style.zoom = 1), (n.style.position = "absolute"), (n.style.left = "0px"), (n.style.right = "0px"), (n.style.top = this.Pb() + "px"), (n.className = y.ca("_scroll"));
                        var a = this.Ue();
                        (this.nav.scrollable = a.firstChild),
                            n.appendChild(a),
                            e.appendChild(this.nav.scroll),
                            (this.nav.vsph = t()),
                            (this.nav.vsph.style.display = "none"),
                            this.nav.top.appendChild(this.nav.vsph),
                            (this.nav.scrollpos = document.createElement("input")),
                            (this.nav.scrollpos.type = "hidden"),
                            (this.nav.scrollpos.id = y.id + "_scrollpos"),
                            (this.nav.scrollpos.name = this.nav.scrollpos.id),
                            e.appendChild(this.nav.scrollpos),
                            (this.nav.select = document.createElement("input")),
                            (this.nav.select.type = "hidden"),
                            (this.nav.select.id = y.id + "_select"),
                            (this.nav.select.name = this.nav.select.id),
                            (this.nav.select.value = null),
                            e.appendChild(this.nav.select),
                            (this.nav.scrollLayer = t()),
                            (this.nav.scrollLayer.style.position = "absolute"),
                            (this.nav.scrollLayer.style.top = "0px"),
                            (this.nav.scrollLayer.style.left = "0px"),
                            e.appendChild(this.nav.scrollLayer),
                            (this.nav.scrollUp = []),
                            (this.nav.scrollDown = []);
                        var r = t();
                        (r.style.position = "absolute"),
                            (r.style.top = "0px"),
                            (r.style.left = this.hourWidth + 5 + "px"),
                            (r.className = y.ca("_loading")),
                            (r.innerHTML = y.Ea(this.loadingLabelText, this.loadingLabelHtml)),
                            (r.style.display = "none"),
                            (this.nav.loading = r),
                            e.appendChild(r);
                    }),
                    (this.Ve = function () {
                        for (var e = "Fixed" === this.columnWidthSpec, t = this.nav.header && this.nav.header.rows[this.nav.header.rows.length - 1], n = this.nav.events.rows[0], i = 0; i < y.Hb.length; i++) {
                            var a = t && t.cells[i],
                                r = n.cells[i],
                                o = a && a.firstChild,
                                s = y.Hb[i];
                            if (e) {
                                var l = s.width ? s.width : y.columnWidth;
                                o && (o.style.width = l + "px"), r && (r.style.width = l + "px");
                            } else y.ra || (o && (o.style.width = null), r && (r.style.width = null));
                        }
                    }),
                    (this.Qb = function () {
                        return this.qa ? y.nav.bottomRight : y.nav.scroll;
                    }),
                    (this.xb = function () {
                        var e = "Fixed" === this.columnWidthSpec;
                        if (!e) {
                            var t = y.Qb();
                            "Fixed" === this.heightSpec
                                ? (t.style.overflowY = "scroll")
                                : "BusinessHours" === this.heightSpec && this.Jb() <= this.businessEndsHour - this.businessBeginsHour
                                ? (t.style.overflow = "hidden")
                                : "Full" !== this.heightSpec && "BusinessHoursNoScroll" !== this.heightSpec
                                ? (t.style.overflow = "auto")
                                : (t.style.overflow = "hidden");
                        }
                        if (e) {
                            var n = 0,
                                i = y.We();
                            i > y.Yc().clientWidth && (n = DayPilot.sw(y.nav.bottomRight)),
                                y.nav.headerParent && (y.nav.headerParent.style.width = i + n + "px"),
                                (y.nav.main.style.width = i + "px"),
                                (y.nav.events.style.width = i + "px"),
                                (y.nav.crosshair.style.width = i + "px");
                        } else y.nav.headerParent && (y.nav.headerParent.style.width = "100%"), (y.nav.main.style.width = "100%"), (y.nav.events.style.width = "100%"), (y.nav.crosshair.style.width = "100%");
                        this.Ve();
                    }),
                    (this.ub = function () {
                        this.sa ? this.Ta() : DayPilot.pu(this.nav.hourTable),
                            this.nav.hoursPlaceholder && ((this.nav.hoursPlaceholder.innerHTML = ""), (this.nav.hourTable = this.Xe()), this.nav.hoursPlaceholder.appendChild(this.nav.hourTable));
                    }),
                    (this.Ta = function () {
                        if (this.nav.hourTable) {
                            y.elements.timeHeaders.forEach(function (e) {
                                var t = e.domArgs;
                                if (((e.domArgs = null), "function" == typeof y.onBeforeTimeHeaderDomRemove && y.onBeforeTimeHeaderDomRemove(t), "function" == typeof y.onBeforeTimeHeaderDomAdd && y.W.reactDOM)) {
                                    var n = t && t.ze;
                                    if (n) {
                                        d(t.element) && (y.W.Ae(), y.W.ka(n));
                                    }
                                }
                            });
                            for (var e = 0; e < this.nav.hourTable.rows.length; e++) {
                                var t = this.nav.hourTable.rows[e],
                                    n = t.cells[0].firstChild;
                                (n.data = null), (n.onmousemove = null), (n.onmouseout = null);
                            }
                            y.elements.timeHeaders = [];
                        }
                    }),
                    (this.Ue = function () {
                        var e = t();
                        (e.style.zoom = 1),
                            (e.style.position = "relative"),
                            (e.onmousemove = this.Ye),
                            (e.oncontextmenu = this.Ze),
                            i(e, DayPilot.touch.start, this.Je.$e),
                            i(e, DayPilot.touch.move, this.Je._e),
                            i(e, DayPilot.touch.end, this.Je.af),
                            a(e, "contextmenu", function (e) {
                                var e = e || window.event;
                                e.preventDefault ? e.preventDefault() : (e.returnValue = !1);
                            }),
                            navigator.msPointerEnabled && ((e.style.msTouchAction = "none"), (e.style.touchAction = "none")),
                            (e.daypilotMainD = !0),
                            (e.calendar = this);
                        var n = null,
                            r = null;
                        if (this.showHours) {
                            var o = t();
                            (o.style.cssFloat = "left"),
                                y.rtl && (o.style.cssFloat = "right"),
                                (o.style.width = this.hourWidth + "px"),
                                (o.style.height = this.Re() + "px"),
                                (o.style.overflow = "hidden"),
                                (o.style.position = "relative"),
                                e.appendChild(o),
                                (n = o);
                            var s = 30,
                                l = y.Ee() + s;
                            (r = t()), (r.style.height = l + "px"), o.appendChild(r);
                        }
                        var d = t();
                        (d.style.height = this.Re() + "px"),
                            this.showHours && (y.rtl ? (d.style.marginRight = this.hourWidth + "px") : (d.style.marginLeft = this.hourWidth + "px")),
                            (d.style.position = "relative"),
                            (d.style.overflow = "auto"),
                            e.appendChild(d),
                            r && ((this.nav.hourTable = this.Xe()), r.appendChild(this.nav.hourTable));
                        var c = t();
                        (c.style.height = "0px"), (c.style.position = "relative"), c.appendChild(this.bf());
                        var u = t();
                        return (
                            (u.style.position = "absolute"),
                            (u.style.top = "0px"),
                            (u.style.left = "0px"),
                            (u.style.width = "100%"),
                            (u.style.height = "0px"),
                            c.appendChild(u),
                            (this.nav.crosshair = u),
                            c.appendChild(this.cf()),
                            d.appendChild(c),
                            (this.nav.grid = c),
                            (this.nav.zoom = e),
                            (this.nav.bottomLeft = n),
                            (this.nav.bottomRight = d),
                            (this.nav.hoursPlaceholder = r),
                            e
                        );
                    }),
                    (this.bf = function () {
                        if (y.ra) {
                            var e = t();
                            return (y.nav.main = e), e;
                        }
                        var n = document.createElement("table");
                        return (
                            (n.cellPadding = "0"),
                            (n.cellSpacing = "0"),
                            (n.border = "0"),
                            "Fixed" === this.columnWidthSpec || (n.style.width = "100%"),
                            (n.style.border = "0px none"),
                            (n.style.margin = "0px"),
                            (n.style.tableLayout = "fixed"),
                            (this.nav.main = n),
                            n
                        );
                    }),
                    (this.df = function () {
                        return "Fixed" === this.columnWidthSpec ? y.We() + "px" : "100%";
                    }),
                    (this.We = function () {
                        for (var e = 0, t = 0; t < y.Hb.length; t++) {
                            var n = y.Hb[t];
                            e += n.width ? n.width : y.columnWidth;
                        }
                        return e;
                    }),
                    (this.cf = function () {
                        if (y.ra) {
                            var e = t();
                            return (e.style.userSelect = "none"), (e.style.position = "absolute"), (e.style.left = "0px"), (e.style.right = "0px"), (e.style.top = "0px"), (e.style.height = "0px"), (y.nav.events = e), e;
                        }
                        var n = document.createElement("table");
                        (n.style.position = "absolute"),
                            (n.style.top = "0px"),
                            (n.cellPadding = "0"),
                            (n.cellSpacing = "0"),
                            (n.border = "0"),
                            (n.style.width = y.df()),
                            (n.style.border = "0px none"),
                            (n.style.margin = "0px"),
                            (n.style.tableLayout = "fixed"),
                            (this.nav.events = n);
                        for (var i = this.Hb, a = i.length, r = n.insertRow(-1), o = 0; o < a; o++) {
                            var s = r.insertCell(-1);
                            (s.style.padding = "0px"), (s.style.border = "0px none"), (s.style.height = "0px"), (s.style.overflow = "visible"), y.rtl || (s.style.textAlign = "left"), y.ef(s);
                        }
                        return n;
                    }),
                    (this.gf = function () {
                        var e = document.createElement("table");
                        (e.cellSpacing = "0"),
                            (e.cellPadding = "0"),
                            (e.border = "0"),
                            (e.style.margin = "0px"),
                            (e.style.border = "0px none"),
                            (e.style.width = this.hourWidth + "px"),
                            (e.oncontextmenu = function () {
                                return !1;
                            }),
                            (e.onmousemove = function () {
                                y.bb();
                            });
                        for (var t = y.hf(), n = 0; n < t; n++) this.if(e, n);
                        return e;
                    }),
                    (this.Xe = function () {
                        var e = t();
                        (e.style.width = this.hourWidth + "px"),
                            (e.style.position = "relative"),
                            (e.oncontextmenu = function () {
                                return !1;
                            }),
                            (e.onmousemove = function () {
                                y.bb();
                            }),
                            (e.rows = []);
                        for (var n = y.hf(), i = 0; i < n; i++) this.jf(e, i);
                        return e;
                    }),
                    (this.hf = function () {
                        return this.Kb() / (60 * C.kf() * 1e3);
                    }),
                    (this.lf = function () {
                        var e = C.Ib();
                        return (60 * this.cellHeight) / e / (60 / C.kf());
                    }),
                    (this.mf = function () {
                        return (this.Ob() - this.Ob(!0)) * (60 / C.Ib());
                    }),
                    (this.nf = function () {
                        return this.Ob() - this.Ob(!0);
                    }),
                    (this.Pc = function () {
                        return this.mf() * this.cellHeight;
                    }),
                    (this.if = function (e, n) {
                        var i = y.lf(),
                            a = e.insertRow(-1);
                        a.style.height = i + "px";
                        var r = a.insertCell(-1);
                        (r.valign = "bottom"), r.setAttribute("unselectable", "on"), (r.style.padding = "0px"), (r.style.border = "0px none");
                        var o = t();
                        (o.className = this.ca("_rowheader")), (o.style.position = "relative"), (o.style.width = this.hourWidth + "px"), (o.style.height = i + "px"), (o.style.overflow = "hidden"), o.setAttribute("unselectable", "on");
                        var s = t();
                        (s.className = this.ca("_rowheader_inner")), s.setAttribute("unselectable", "on");
                        var l = y.of(n),
                            c = l.html,
                            u = l.data;
                        u && ((o.data = u), (o.onmousemove = y.pf), (o.onmouseout = y.qf));
                        var h = null,
                            f = {};
                        if (((f.header = u), "function" == typeof y.onBeforeTimeHeaderDomAdd && ((f.element = null), y.onBeforeTimeHeaderDomAdd(f), (h = f.element)), (o.domArgs = f), h)) {
                            var v = s;
                            f.ze = v;
                            d(h) ? (y.W.Ae(), y.W.V(h, v)) : v.appendChild(h);
                        } else s.innerHTML = c;
                        o.appendChild(s), y.elements.timeHeaders.push(o), r.appendChild(o);
                    }),
                    (this.jf = function (e, n) {
                        var i = y.lf(),
                            a = t();
                        (a.style.position = "absolute"), (a.style.top = n * i + "px"), (a.style.height = i + "px"), (e.rows[n] = a);
                        var r = t();
                        a.appendChild(r), (a.cells = [r]);
                        var o = t();
                        (o.className = this.ca("_rowheader")),
                            (o.style.position = "relative"),
                            (o.style.width = this.hourWidth + "px"),
                            (o.style.height = i + "px"),
                            (o.style.overflow = "hidden"),
                            o.setAttribute("unselectable", "on"),
                            60 !== C.kf() && o.classList.add(this.ca("_rowheader_simple"));
                        var s = t();
                        (s.className = this.ca("_rowheader_inner")), s.setAttribute("unselectable", "on");
                        var l = y.of(n),
                            c = l.html,
                            u = l.data;
                        u && ((o.data = u), (o.onmousemove = y.pf), (o.onmouseout = y.qf), u.cssClass && DayPilot.Util.addClass(o, u.cssClass));
                        var h = null,
                            f = {};
                        if (((f.header = u), "function" == typeof y.onBeforeTimeHeaderDomAdd && ((f.element = null), y.onBeforeTimeHeaderDomAdd(f), (h = f.element)), (o.domArgs = f), h)) {
                            var v = s;
                            f.ze = v;
                            d(h) ? (y.W.Ae(), y.W.V(h, v)) : v.appendChild(h);
                        } else s.innerHTML = c;
                        if ((o.appendChild(s), u && u.areas)) {
                            var p = {};
                            (p.time = u.time), (p.date = u.date), DayPilot.Areas.attach(o, p, { areas: u.areas });
                        }
                        y.elements.timeHeaders.push(o), r.appendChild(o), e.appendChild(a);
                    }),
                    (this.of = function (e) {
                        var n, i;
                        if (this.hours) {
                            var a = e + this.nf();
                            (i = this.hours[a]), (n = i.html);
                        }
                        var r,
                            o = C.kf(),
                            s = this.startDate.addMinutes(o * e + 60 * this.Ob()),
                            l = s.getHours(),
                            d = l < 12;
                        if (((r = "Clock12Hours" === this.Ga.Kc() ? (d ? "AM" : "PM") : "00"), !n)) {
                            var c = t();
                            c.setAttribute("unselectable", "on"), "Clock12Hours" === this.Ga.Kc() && ((l %= 12), 0 === l && (l = 12));
                            var u = C.kf();
                            if ((60 !== u && (u <= 120 ? (l += ":" + s.toString("mm")) : (l = u < 1440 ? s.toString("ddd M/d h:mm tt") : s.toString("ddd M/d"))), (c.innerHTML = l), 60 === u)) {
                                var h = document.createElement("span");
                                h.setAttribute("unselectable", "on"), (h.className = this.ca("_rowheader_minutes")), (h.innerHTML = r), c.appendChild(h);
                            }
                            n = c.outerHTML;
                        }
                        var f = {};
                        (f.header = {}),
                            (f.header.hours = s.getHours()),
                            (f.header.minutes = s.getMinutes()),
                            (f.header.start = s.toString("HH:mm")),
                            (f.header.text = null),
                            (f.header.html = n),
                            (f.header.areas = i ? i.areas : null),
                            (f.header.time = new DayPilot.Duration(s.getTimePart())),
                            (f.header.cssClass = null),
                            (f.header.date = null),
                            "Resources" === y.viewType && (f.header.date = s),
                            "function" == typeof y.onBeforeTimeHeaderRender && (y.onBeforeTimeHeaderRender(f), null !== f.header.html && (n = f.header.html)),
                            (i = f.header);
                        var v = {};
                        return (v.start = s), (v.hour = l), (v.html = n), (v.data = i), (v.sup = r), f.header.text && (v.text = f.header.text), v;
                    }),
                    (this.pf = function (e) {
                        y.bb();
                        var t = this;
                        t.active || DayPilot.Areas.showAreas(t, t.data);
                    }),
                    (this.qf = function (e) {
                        DayPilot.Areas.hideAreas(this, e);
                    }),
                    (this.Re = function () {
                        switch (this.heightSpec) {
                            case "Fixed":
                                return this.height;
                            case "Parent100Pct":
                                return this.height;
                            case "Full":
                                return this.Ee();
                            case "BusinessHours":
                            case "BusinessHoursNoScroll":
                                if ("Resources" === y.viewType && y.days > 1) return y.Ee();
                                return (this.Lb() * this.cellHeight * 60) / C.Ib();
                            default:
                                throw new DayPilot.Exception("DayPilot.Calendar: Unexpected 'heightSpec' value.");
                        }
                    }),
                    (this.Ee = function () {
                        return (y.Kb() * this.cellHeight) / (6e4 * C.Ib());
                    }),
                    (this.Pb = function () {
                        if (!this.showHeader) return 0;
                        var e = C.Fd() * C.ye();
                        return this.showAllDayEvents && C.rf() ? e + C.rf() : e;
                    }),
                    (this.qb = function () {
                        if (this.headerHeightAutoFit) {
                            for (var e = 0, t = 0; t < this.nav.header.rows.length; t++)
                                for (var n = this.nav.header.rows[t], i = 0; i < n.cells.length; i++) {
                                    var a = n.cells[i],
                                        r = a.firstChild,
                                        o = r.firstChild,
                                        s = r.style.height;
                                    (r.style.height = "auto"), (o.style.position = "static");
                                    var l = r.offsetHeight;
                                    (r.style.height = s), (o.style.position = ""), (e = Math.max(e, l));
                                }
                            e > this.headerHeight && ((this.ta.headerHeight = e), this.ob(), this.pb());
                        }
                    }),
                    (this.sf = function () {
                        var e = this.qa ? y.nav.bottomRight : y.nav.scroll;
                        return DayPilot.sw(e) > 0;
                    }),
                    (this.Te = function () {
                        var e = t(),
                            n = "Fixed" === this.columnWidthSpec;
                        n || (e.style.overflow = "auto"), (e.style.position = "absolute"), (e.style.left = "0px"), (e.style.right = "0px");
                        var i = t();
                        (i.style.position = "relative"), (i.style.zoom = "1");
                        var a = null,
                            n = "Fixed" === this.columnWidthSpec;
                        if (n || this.qa) {
                            var r = t();
                            if (((r.style.cssFloat = "left"), y.rtl && (r.style.cssFloat = "right"), (r.style.width = this.hourWidth + "px"), this.showHours)) {
                                var o = this.tf();
                                (this.nav.corner = o), r.appendChild(o), i.appendChild(r), (this.nav.upperLeft = r);
                            }
                            var s = t();
                            this.showHours && (y.rtl ? (s.style.marginRight = this.hourWidth + "px") : (s.style.marginLeft = this.hourWidth + "px")),
                                (s.style.position = "relative"),
                                (s.style.overflow = "hidden"),
                                (s.style.height = this.Pb() + "px"),
                                (s.className = y.ca("_colheader_back")),
                                (s.onmousemove = function (e) {
                                    var t = this;
                                    "undefined" != typeof w && w.s && w.Vc(t, e);
                                }),
                                i.appendChild(s),
                                (this.nav.upperRight = s);
                            var l = t();
                            (l.className = y.ca("_colheader_back_inner")), s.appendChild(l), (a = t()), (a.style.position = "relative"), s.appendChild(a);
                        } else {
                            var d = document.createElement("table");
                            (d.cellPadding = "0"), (d.cellSpacing = "0"), (d.border = "0"), (d.style.margin = "0px"), (d.style.width = "100%"), (d.style.borderCollapse = "separate"), (d.style.border = "0px none");
                            var c = d.insertRow(-1);
                            if (((this.nav.fullHeader = d), this.showHours)) {
                                var u = c.insertCell(-1);
                                (u.style.padding = "0px"), (u.style.border = "0px none");
                                var o = this.tf();
                                u.appendChild(o), (this.nav.corner = o);
                            }
                            (u = c.insertCell(-1)),
                                (u.style.width = "100%"),
                                (u.valign = "top"),
                                (u.style.position = "relative"),
                                (u.style.padding = "0px"),
                                (u.style.border = "0px none"),
                                (a = t()),
                                (a.style.position = "relative"),
                                (a.style.height = this.Pb() + "px"),
                                (a.style.overflow = "hidden"),
                                u.appendChild(a),
                                (this.nav.mid = a),
                                i.appendChild(d);
                        }
                        (this.nav.headerParent = a),
                            (this.nav.headerParent.onmousemove = function (e) {
                                e.insideMainD = !0;
                            }),
                            this.uf();
                        var h = this.sf(),
                            n = "Fixed" === this.columnWidthSpec;
                        return h && !n && this.vf(), e.appendChild(i), e;
                    }),
                    (this.uf = function () {
                        if (((this.nav.unifiedCornerRight = null), y.ra)) (this.nav.header = t()), (this.nav.header.style.position = "relative");
                        else {
                            (this.nav.header = document.createElement("table")), (this.nav.header.style.margin = "0px"), (this.nav.header.cellPadding = "0"), (this.nav.header.cellSpacing = "0");
                            "Fixed" === this.columnWidthSpec || (this.nav.header.width = "100%"),
                                (this.nav.header.style.tableLayout = "fixed"),
                                (this.nav.header.oncontextmenu = function () {
                                    return !1;
                                });
                        }
                        this.nav.header.setAttribute("dp-id", "header"),
                            this.nav.headerParent.appendChild(this.nav.header),
                            (this.nav.header.onmousemove = function () {
                                y.bb();
                            }),
                            this.nav.allday && f(this.nav.allday);
                        var e = t();
                        (e.style.position = "absolute"),
                            (e.style.top = "0px"),
                            (e.style.height = "0px"),
                            e.setAttribute("dp-id", "allday"),
                            "Fixed" === this.columnWidthSpec ? (e.style.width = this.Hb.length * this.columnWidth + "px") : ((e.style.left = "0px"), (e.style.right = "0px")),
                            (this.nav.allday = e),
                            this.nav.headerParent.appendChild(e);
                    }),
                    (this.vf = function () {
                        if (this.nav.fullHeader) {
                            var e = this.nav.fullHeader.rows[0],
                                n = e.insertCell(-1);
                            (n.style.padding = "0px"), (n.style.verticalAlign = "top"), n.setAttribute("unselectable", "on");
                            var i = t();
                            i.setAttribute("unselectable", "on"), (i.className = this.ca("_cornerright")), (i.style.overflow = "hidden"), (i.style.position = "relative"), (i.style.width = "16px"), (i.style.height = this.Pb() + "px");
                            var a = t();
                            (a.className = this.ca("_cornerright_inner")), i.appendChild(a), n.appendChild(i), (this.nav.cornerRight = i);
                        }
                    }),
                    (this.tf = function () {
                        var e = t();
                        (e.style.position = "relative"),
                            (e.className = this.ca("_corner")),
                            (e.style.width = this.hourWidth + "px"),
                            (e.style.height = this.Pb() + "px"),
                            (e.style.overflow = "hidden"),
                            (e.oncontextmenu = function () {
                                return !1;
                            });
                        var n = t();
                        (n.className = this.ca("_corner_inner")), n.setAttribute("unselectable", "on"), e.appendChild(n);
                        var i = t();
                        return (
                            (i.style.position = "absolute"),
                            (i.style.padding = "2px"),
                            (i.style.top = "0px"),
                            (i.style.left = "1px"),
                            (i.style.backgroundColor = "#FF6600"),
                            (i.style.color = "white"),
                            (i.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
                            i.setAttribute("unselectable", "on"),
                            DayPilot.Util.isNullOrUndefined(undefined) && e.appendChild(i),
                            e
                        );
                    }),
                    (this.Wa = function () {
                        if (y.nav.corner && y.nav.corner.firstChild) {
                            var e = y.nav.corner.firstChild,
                                t = e.domArgs;
                            if (((e.domArgs = null), t && ("function" == typeof y.onBeforeCornerDomRemove && y.onBeforeCornerDomRemove(t), "function" == typeof y.onBeforeCornerDomAdd && y.W.reactDOM && e))) {
                                d(t.element) && (y.W.Ae(), y.W.ka(e));
                            }
                        }
                    }),
                    (this.Ua = function () {
                        var e = this.nav.main;
                        (e.root = null), (e.onmouseup = null);
                        for (var t = 0; t < e.rows.length; t++) {
                            var n = e.rows[t];
                            if (n)
                                for (var i = 0; i < n.cells.length; i++) {
                                    var a = n.cells[i];
                                    a && ((a.root = null), (a.onmousedown = null), (a.onmousemove = null), (a.onmouseout = null), (a.onmouseup = null), (a.onclick = null), (a.ondblclick = null), (a.oncontextmenu = null));
                                }
                        }
                        this.sa || DayPilot.pu(e);
                    }),
                    (this.rb = function () {
                        for (var e = 0; this.nav.scrollUp && e < this.nav.scrollUp.length; e++) this.nav.scrollLayer.removeChild(this.nav.scrollUp[e]);
                        for (var e = 0; this.nav.scrollDown && e < this.nav.scrollDown.length; e++) this.nav.scrollLayer.removeChild(this.nav.scrollDown[e]);
                        (this.nav.scrollUp = []), (this.nav.scrollDown = []);
                    }),
                    (this.ef = function (e) {
                        var n = t();
                        (n.style.marginRight = y.columnMarginRight + "px"), (n.style.marginLeft = y.columnMarginLeft + "px"), (n.style.position = "relative"), (n.style.height = "1px"), (n.style.marginTop = "-1px"), (e.events = n);
                        var i = t();
                        (i.style.position = "relative"), (i.style.height = "1px"), (i.style.marginTop = "-1px"), (e.separators = i);
                        var a = t();
                        (a.style.position = "relative"), (a.style.height = "1px"), (a.style.marginTop = "-1px"), (e.selection = a), e.appendChild(i), e.appendChild(a), e.appendChild(n);
                    }),
                    (this.tb = function () {
                        y.ra ? y.wf() : y.xf();
                    }),
                    (this.yf = function () {
                        if (this.scrollLabelsVisible)
                            for (var e = this.Hb, n = this.showHours ? this.hourWidth : 0, i = (this.nav.scroll.clientWidth - n) / e.length, a = 0; a < e.length; a++) {
                                var r = t();
                                (r.style.position = "absolute"), (r.style.top = "0px"), (r.style.left = n + 2 + a * i + i / 2 + "px"), (r.style.display = "none");
                                var o = t();
                                (o.style.height = "10px"), (o.style.width = "10px"), (o.className = this.ca("_scroll_up")), r.appendChild(o), this.nav.scrollLayer.appendChild(r), this.nav.scrollUp.push(r);
                                var s = t();
                                (s.style.position = "absolute"), (s.style.top = "0px"), (s.style.left = n + 2 + a * i + i / 2 + "px"), (s.style.display = "none");
                                var o = t();
                                (o.style.height = "10px"), (o.style.width = "10px"), (o.className = this.ca("_scroll_down")), s.appendChild(o), this.nav.scrollLayer.appendChild(s), this.nav.scrollDown.push(s);
                            }
                    }),
                    (this.zf = function () {
                        var e = this.nav.events;
                        (e.innerHTML = ""),
                            (e.rows = [{ cells: [] }]),
                            y.pe().forEach(function (n, i) {
                                var a = t();
                                (a.style.height = "1px"),
                                    (a.style.overflow = "visible"),
                                    (a.style.position = "absolute"),
                                    (a.style.left = n.left + n.unit),
                                    (a.style.right = n.left + n.unit),
                                    (a.style.width = n.width + n.unit),
                                    y.ef(a),
                                    e.appendChild(a),
                                    e.rows[0].cells.push(a);
                            });
                    }),
                    (this.pe = function () {
                        function e(e) {
                            return DayPilot.browser.edge ? Math.floor(100 * e) / 100 : e;
                        }
                        var t = y.Gd(),
                            n = y.Hb,
                            i = "Fixed" === this.columnWidthSpec,
                            a = 0;
                        return DayPilot.list.for(n.length, function (r) {
                            var o = {},
                                s = 0,
                                l = "";
                            return i ? ((l = "px"), (s = n[r].width ? n[r].width : y.columnWidth)) : ((l = "%"), (s = t ? n[r].width : e(100 / n.length))), (o.left = a), (o.width = s), (o.unit = l), (a += s), o;
                        });
                    }),
                    (this.wf = function () {
                        var e = this.nav.main,
                            t = this.nav.scrollable,
                            n = this.Sb(),
                            i = y.Hb;
                        !(function () {
                            (y.elements.cells = {}), (e.innerHTML = ""), (e.rows = []);
                        })(),
                            (t.daypilotMainD = !0),
                            (t.calendar = this),
                            y.yf(),
                            y.zf();
                        for (var a = 0; a < n; a++) {
                            e.rows.push({ cells: [] });
                            for (var r = 0; r < i.length; r++) y.Me(r, a);
                        }
                        e.style.height = n * y.cellHeight + "px";
                    }),
                    (y.Af = function (e, t) {
                        var n = {},
                            i = y.De(e),
                            a = t * y.cellHeight;
                        return (n.left = i.left), (n.width = i.width), (n.right = n.left + n.width), (n.top = a), (n.height = y.cellHeight), (n.bottom = n.top + n.height), n;
                    }),
                    (y.Me = function (e, n) {
                        var i = "Fixed" === y.columnWidthSpec;
                        if (!y.elements.cells[e + "_" + n]) {
                            if (i) {
                                var o = y.Af(e, n),
                                    s = y.hd(),
                                    d = s.pixels.right <= o.left || s.pixels.left >= o.right,
                                    c = s.pixels.bottom <= o.top || s.pixels.top >= o.bottom;
                                if (!(!d && !c)) return;
                            }
                            var f = y.De(e),
                                v = 60 * C.Ib() * 1e3,
                                p = n * y.cellHeight,
                                m = y.Hb[e],
                                g = t();
                            (g.style.position = "absolute"),
                                (g.style.left = f.left + f.unit),
                                (g.style.right = f.left + f.unit),
                                (g.style.width = f.width + f.unit),
                                (g.style.top = p + "px"),
                                (g.start = m.start.addTime(n * v).addHours(y.Ob())),
                                (g.end = g.start.addTime(v)),
                                (g.resource = m.id),
                                (g.data = {}),
                                (g.data.x = e),
                                (g.data.y = n),
                                (g.data.start = g.start),
                                (g.data.end = g.end),
                                (g.data.resource = g.resource),
                                (g.data.calendar = y),
                                y.cellProperties || (y.cellProperties = {});
                            var b = {};
                            (b.resource = g.resource), (b.start = g.start), (b.end = g.end), (b.x = e), (b.y = n);
                            var w = e + "_" + n,
                                x = ["cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled"];
                            if (((b.properties = y.cellProperties[w]), !y.cellProperties[w])) {
                                var k = (b.properties = {});
                                (k.cssClass = null), (k.html = null), (k.text = null), (k.backImage = null), (k.backRepeat = null), (k.backColor = null), (k.business = y.Bf(g.start, g.end)), (k.fontColor = null), (y.cellProperties[w] = k);
                            }
                            if ("function" == typeof y.onBeforeCellRender) {
                                var _ = {};
                                (_.cell = b), y.onBeforeCellRender(_), l(_.cell, _.cell.properties, x);
                            }
                            var D,
                                T = y.Cf(e, n);
                            (g.root = y),
                                g.setAttribute("unselectable", "on"),
                                (D = t()),
                                (D.className = y.ca("_cell")),
                                (D.style.position = "relative"),
                                (D.style.height = y.cellHeight + "px"),
                                (D.style.overflow = "hidden"),
                                D.setAttribute("unselectable", "on");
                            var E = t();
                            (E.className = y.ca("_cell_inner")),
                                D.appendChild(E),
                                g.appendChild(D),
                                (g.onmousedown = y.Fc),
                                (g.onmousemove = y.Uc),
                                (g.onmouseout = y.Tc),
                                a(g, DayPilot.touch.end, y.Je.Df),
                                (g.oncontextmenu = function () {
                                    if (!y.Gc(y.coords)) {
                                        var e = (h.selecting = {});
                                        (e.start = y.coords),
                                            (e.start.time = y.Hc(y.coords.x, y.coords.y)),
                                            (e.start.columnIndex = y.Gb(y.coords.x)),
                                            (e.start.column = y.Hb[e.start.columnIndex]),
                                            y.Ic(),
                                            (y.Ca = e),
                                            (h.selecting = null),
                                            y.Jc(e);
                                    }
                                    return "Disabled" === y.timeRangeRightClickHandling, !1;
                                });
                            var S = y.Ef(e, n);
                            D = g.firstChild;
                            "Fixed" === y.columnWidthSpec && (m.width ? (D.style.width = m.width + "px") : (D.style.width = y.columnWidth + "px")), S && (D.firstChild.style.background = S);
                            (T ? T.business : y.Bf(g.start, g.end)) && r(D, y.ca("_cell_business"));
                            var A = D.firstChild;
                            if (
                                (A && (A.innerHTML = ""),
                                (D.style.backgroundImage = ""),
                                (D.style.backgroundRepeat = ""),
                                T &&
                                    (T.html ? (A.innerHTML = T.html) : T.text && (y.Ga.Fa() ? (A.innerText = T.text) : (A.innerHTML = T.text)),
                                    T.cssClass && r(D, T.cssClass),
                                    T.backImage && (D.style.backgroundImage = "url('" + T.backImage + "')"),
                                    T.backRepeat && (D.style.backgroundRepeat = T.backRepeat),
                                    T.fontColor && (D.style.color = T.fontColor),
                                    T.areas))
                            ) {
                                var H = {};
                                (H.start = g.start), (H.end = g.end), (H.resource = g.resource);
                                var M = u(T.areas).filter(function (e) {
                                    return !(e.end && new DayPilot.Date(e.end) <= g.start) && !(e.start && new DayPilot.Date(e.start) >= g.end);
                                });
                                M.forEach(function (e) {
                                    if (e.start || e.end) {
                                        if (e.start) {
                                            var t = new DayPilot.Date(e.start).getTime() - g.start.getTime();
                                            e.top = y.Ff(t);
                                        }
                                        if (e.end) {
                                            var n = new DayPilot.Date(e.end).getTime() - g.start.getTime();
                                            e.height = y.Ff(n) - e.top;
                                        }
                                    }
                                }),
                                    DayPilot.Areas.attach(D, H, { areas: M });
                            }
                            if ((y.nav.main.appendChild(g), (y.nav.main.rows[n].cells[e] = g), (y.elements.cells[e + "_" + n] = g), "function" == typeof y.onAfterCellRender)) {
                                var _ = {};
                                (_.cell = l(b, {}, ["start", "end", "resource"])), (_.div = D), y.onAfterCellRender(_);
                            }
                        }
                    }),
                    (this.xf = function () {
                        var e = C.Ib(),
                            n = this.nav.main,
                            i = 60 * e * 1e3,
                            o = this.Sb(),
                            s = (this.nf() * (60 / e), y.Hb),
                            d = 0;
                        for (n && ((d = y.Yc().scrollTop), this.Ua()), this.nav.scrollable.daypilotMainD = !0, this.nav.scrollable.calendar = this; n && n.rows && n.rows.length > 0; ) this.sa || DayPilot.pu(n.rows[0]), n.deleteRow(0);
                        if (((this.Gf = !0), this.scrollLabelsVisible))
                            for (var s = this.Hb, c = this.showHours ? this.hourWidth : 0, f = (this.nav.scroll.clientWidth - c) / s.length, v = 0; v < s.length; v++) {
                                var p = t();
                                (p.style.position = "absolute"), (p.style.top = "0px"), (p.style.left = c + 2 + v * f + f / 2 + "px"), (p.style.display = "none");
                                var m = t();
                                (m.style.height = "10px"), (m.style.width = "10px"), (m.className = this.ca("_scroll_up")), p.appendChild(m), this.nav.scrollLayer.appendChild(p), this.nav.scrollUp.push(p);
                                var g = t();
                                (g.style.position = "absolute"), (g.style.top = "0px"), (g.style.left = c + 2 + v * f + f / 2 + "px"), (g.style.display = "none");
                                var m = t();
                                (m.style.height = "10px"), (m.style.width = "10px"), (m.className = this.ca("_scroll_down")), g.appendChild(m), this.nav.scrollLayer.appendChild(g), this.nav.scrollDown.push(g);
                            }
                        var b = s.length;
                        if (this.oa) {
                            for (var w = this.nav.events; w && w.rows && w.rows.length > 0; ) this.sa || DayPilot.pu(w.rows[0]), w.deleteRow(0);
                            for (var x = w.insertRow(-1), k = 0; k < b; k++) {
                                var _ = x.insertCell(-1);
                                (_.style.padding = "0px"), (_.style.border = "0px none"), (_.style.height = "1px"), (_.style.overflow = "visible");
                                var D = "Fixed" === this.columnWidthSpec;
                                D && (s[k].width ? (_.style.width = s[k].width + "px") : (_.style.width = this.columnWidth + "px")), y.rtl || (_.style.textAlign = "left"), y.ef(_);
                            }
                        }
                        for (var v = 0; v < o; v++) {
                            var x = n.insertRow(-1),
                                T = v;
                            (x.style.MozUserSelect = "none"), (x.style.KhtmlUserSelect = "none"), (x.style.WebkitUserSelect = "none");
                            for (var k = 0; k < b; k++) {
                                var E = this.Hb[k],
                                    _ = x.insertCell(-1);
                                (_.start = E.start.addTime(T * i).addHours(this.Ob())), (_.end = _.start.addTime(i)), (_.resource = E.id), this.cellProperties || (this.cellProperties = {});
                                var S = {};
                                (S.resource = _.resource), (S.start = _.start), (S.end = _.end);
                                var A = k + "_" + T;
                                if (
                                    ((S.cssClass = null),
                                    (S.html = null),
                                    (S.backImage = null),
                                    (S.backRepeat = null),
                                    (S.backColor = null),
                                    (S.business = this.Bf(_.start, _.end)),
                                    this.cellProperties[A] && l(this.cellProperties[A], S, ["cssClass", "html", "backImage", "backRepeat", "backColor", "business", "areas", "disabled"]),
                                    "function" == typeof this.onBeforeCellRender)
                                ) {
                                    var H = {};
                                    (H.cell = S), this.onBeforeCellRender(H);
                                }
                                this.cellProperties[A] = S;
                                var M,
                                    R = y.Cf(k, T);
                                (_.root = this),
                                    _.setAttribute("unselectable", "on"),
                                    (M = t()),
                                    (M.className = y.ca("_cell")),
                                    (M.style.position = "relative"),
                                    (M.style.height = y.cellHeight + "px"),
                                    (M.style.overflow = "hidden"),
                                    M.setAttribute("unselectable", "on");
                                var B = t();
                                (B.className = y.ca("_cell_inner")),
                                    M.appendChild(B),
                                    _.appendChild(M),
                                    (_.onmousedown = this.Fc),
                                    (_.onmousemove = this.Uc),
                                    (_.onmouseout = this.Tc),
                                    a(_, DayPilot.touch.end, this.Je.Df),
                                    (_.oncontextmenu = function () {
                                        if (!y.Gc(y.coords)) {
                                            var e = (h.selecting = {});
                                            (e.start = y.coords),
                                                (e.start.time = y.Hc(y.coords.x, y.coords.y)),
                                                (e.start.columnIndex = y.Gb(y.coords.x)),
                                                (e.start.column = y.Hb[e.start.columnIndex]),
                                                y.Ic(),
                                                (y.Ca = e),
                                                (h.selecting = null),
                                                y.Jc(e);
                                        }
                                        return "Disabled" === y.timeRangeRightClickHandling, !1;
                                    });
                                var P = y.Ef(k, T);
                                M = _.firstChild;
                                var D = "Fixed" === this.columnWidthSpec;
                                D && (E.width ? (M.style.width = E.width + "px") : (M.style.width = this.columnWidth + "px")), P && (M.firstChild.style.background = P);
                                (R ? R.business : this.Bf(_.start, _.end)) && r(M, y.ca("_cell_business"));
                                var N = M.firstChild;
                                if (
                                    (N && (N.innerHTML = ""),
                                    (M.style.backgroundImage = ""),
                                    (M.style.backgroundRepeat = ""),
                                    R &&
                                        (R.html && (N.innerHTML = R.html),
                                        R.cssClass && r(M, R.cssClass),
                                        R.backImage && (M.style.backgroundImage = "url('" + R.backImage + "')"),
                                        R.backRepeat && (M.style.backgroundRepeat = R.backRepeat),
                                        R.areas))
                                ) {
                                    var I = {};
                                    (I.start = _.start), (I.end = _.end), (I.resource = _.resource);
                                    var L = u(R.areas).filter(function (e) {
                                        return !(e.end && new DayPilot.Date(e.end) <= _.start) && !(e.start && new DayPilot.Date(e.start) >= _.end);
                                    });
                                    L.forEach(function (e) {
                                        if (e.start || e.end) {
                                            if (e.start) {
                                                var t = new DayPilot.Date(e.start).getTime() - _.start.getTime();
                                                e.top = y.Ff(t);
                                            }
                                            if (e.end) {
                                                var n = new DayPilot.Date(e.end).getTime() - _.start.getTime();
                                                e.height = y.Ff(n) - e.top;
                                            }
                                        }
                                    }),
                                        DayPilot.Areas.attach(M, I, { areas: L });
                                }
                            }
                        }
                        (n.onmouseup = this.Wc), (n.root = this), (n.style.height = o * y.cellHeight + "px"), (y.nav.scrollable.style.display = ""), (y.Yc().scrollTop = d);
                    }),
                    (this.Ze = function (e) {
                        if (!k.detected) {
                            var t = y.getSelection();
                            if (t) {
                                var n = {};
                                if (
                                    ((n.start = t.start),
                                    (n.end = t.end),
                                    (n.resource = t.resource),
                                    (n.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof y.onTimeRangeRightClick && (y.onTimeRangeRightClick(n), n.preventDefault.value))
                                )
                                    return !1;
                                "ContextMenu" === y.timeRangeRightClickHandling && y.contextMenuSelection && y.contextMenuSelection.show(y.getSelection()), "function" == typeof y.onTimeRangeRightClicked && y.onTimeRangeRightClicked(n);
                            }
                        }
                    }),
                    (this.Bf = function (e, t) {
                        var n = C.Ib();
                        if (n <= 1440 && !y.businessWeekends && (0 === e.dayOfWeek() || 6 === e.dayOfWeek())) return !1;
                        if (n < 720) {
                            var i = e.getHours();
                            (i += e.getMinutes() / 60), (i += e.getSeconds() / 3600), (i += e.getMilliseconds() / 36e5);
                            var a = this.businessBeginsHour,
                                r = this.businessEndsHour;
                            if ((0 === r && (r = 24), a === r)) return !1;
                            if (!(a < r)) return i < r || i >= a;
                            if (i < a) return !1;
                            if (r >= 24) return !0;
                            if (i >= r) return !1;
                        }
                        return !0;
                    }),
                    (this.Ye = function (e) {
                        (e = e || window.event), (e.insideMainD = !0), window.event && window.event.srcElement && (window.event.srcElement.inside = !0);
                        for (var t = 0; t < v.Hf.length; t++) {
                            var n = v.Hf[t];
                            n !== y && n.ab && n.ab();
                        }
                        v.activeCalendar = this;
                        var i = y.nav.main;
                        y.coords = DayPilot.mo3(i, e);
                        var a = DayPilot.mc(e),
                            s = y.crosshairType && "Disabled" !== y.crosshairType;
                        if ((h.moving || h.resizing || h.selecting ? y.bb() : s && y.If(), h.resizing)) y.Jf(a);
                        else if (h.moving) {
                            if (!h.moving.helper) return f(v.movingShadow), void (v.movingShadow = null);
                            if (!v.movingShadow) {
                                var l = 3;
                                if (!(DayPilot.distance(a, v.Kf) > l)) return;
                                (v.movingShadow = y.Fb(h.moving, !0)), (v.movingShadow.style.width = v.movingShadow.parentNode.offsetWidth + 1 + "px");
                            }
                            var d = v.movingShadow;
                            if (!y.coords) return;
                            r(h.moving, y.ca("_event_moving_source"));
                            var c = y.cellHeight,
                                u = y.snapToGrid && y.snapToGridEventMoving,
                                p = 0,
                                m = v.moveOffsetY;
                            m || (m = c / 2), "Top" === this.moveBy && (m = 0);
                            var g = Math.floor((y.coords.y - m - p + c / 2) / c) * c + p;
                            u || (g = y.coords.y - m), g < p && (g = p);
                            var b = y.nav.main,
                                w = y.ra ? y.Sb() * y.cellHeight : b.clientHeight,
                                x = parseInt(d.style.height);
                            g + x > w && (g = w - x);
                            var k = y.Gb(y.coords.x);
                            k < 0 && (k = 0), k >= y.Hb.length && (k = y.Hb.length - 1);
                            var _ = h.moving.event,
                                D = y.nc(_, k, g),
                                T = y.eventMovingStartEndFormat;
                            "Auto" === T && (T = "Clock24Hours" === C.Kc() ? "H:mm" : "h:mm tt");
                            var E = {};
                            (E.e = _),
                                (E.start = D.start),
                                (E.end = D.end),
                                (E.resource = D.resource),
                                (E.html = null),
                                (E.cssClass = null),
                                (E.allowed = !0),
                                (E.areaData = h.movingAreaData),
                                (E.top = {}),
                                (E.top.width = null),
                                (E.top.space = 5),
                                (E.top.html = E.start.toString(T, C.Lc())),
                                (E.top.enabled = y.eventMovingStartEndEnabled),
                                (E.bottom = {}),
                                (E.bottom.width = null),
                                (E.bottom.space = 5),
                                (E.bottom.html = E.end.toString(T, C.Lc())),
                                (E.bottom.enabled = y.eventMovingStartEndEnabled),
                                (E.external = !!v.drag),
                                (function () {
                                    var e = y.db;
                                    if (!(e && e.start.getTime() === D.start.getTime() && e.end.getTime() === D.end.getTime() && e.resource === D.resource)) {
                                        if (((d.className = y.ca("_shadow")), (d.firstChild.innerHTML = ""), (y.db = E), (d.args = E), !y.allowEventOverlap)) {
                                            var t = { id: _.id(), start: E.start, end: E.end, resource: E.resource };
                                            y.events.Mc(t) && (r(d, y.ca("_shadow_forbidden")), (E.allowed = !1));
                                        }
                                        if (
                                            (y.Nc(E.start, E.end, E.resource) && (r(d, y.ca("_shadow_forbidden")), (E.allowed = !1)),
                                            o(d, y.ca("_shadow_forbidden")),
                                            "function" == typeof y.onEventMoving && E.allowed && y.onEventMoving(E),
                                            h.moving)
                                        ) {
                                            if ((E.html && (d.firstChild.innerHTML = E.html), E.cssClass && r(d, E.cssClass), E.allowed || r(d, y.ca("_shadow_forbidden")), (d.style.top = g + "px"), !u)) {
                                                var n = D.end.getTime() - D.start.getTime(),
                                                    i = y.Ff(n);
                                                d.style.height = i + "px";
                                            }
                                            var a = y.nav.events;
                                            k < a.rows[0].cells.length && k >= 0 && d.column !== k && ((d.column = k), v.moveShadow(a.rows[0].cells[k]));
                                            var s = k,
                                                l = d;
                                            y.Rc(l, s, E);
                                        }
                                    }
                                })();
                        } else if (h.selecting) {
                            var S = h.selecting;
                            if (((S.origin = "drag"), y.Ic(), S.last && S.last.startTime === S.startTime && S.last.endTime === S.endTime)) return;
                            (S.last = { startTime: S.startTime, endTime: S.endTime }), y.Jc();
                        }
                        if (v.drag) {
                            if ((v.gShadow && document.body.removeChild(v.gShadow), (v.gShadow = null), !v.movingShadow && y.coords)) {
                                var d = y.Fb(v.drag, !1);
                                if (d) {
                                    v.movingShadow = d;
                                    var A = DayPilot.Date.today(),
                                        H = { id: v.drag.id, start: A, end: A.addSeconds(v.drag.duration), text: v.drag.text },
                                        M = v.drag.Lf,
                                        R = v.drag.Mf,
                                        B = R || M;
                                    if (B) {
                                        var P = ["duration", "element", "remove", "id", "text"];
                                        B === M && P.push("data");
                                        for (var N in B) DayPilot.contains(P, N) || (H[N] = B[N]);
                                    }
                                    var I = new DayPilot.Event(H, y);
                                    (I.external = !0), (h.moving = {}), (h.moving.event = I), (h.moving.helper = {});
                                }
                            }
                            e.cancelBubble = !0;
                        }
                        y.Nf(y.coords);
                    }),
                    (this.getCoords = function () {
                        if (!y.coords) return null;
                        var e = y.coords,
                            t = {};
                        (t.x = Math.floor(e.x)), (t.y = Math.floor(e.y));
                        var n = y.Gb(e.x);
                        n < 0 && (n = 0), n >= y.Hb.length && (n = y.Hb.length - 1);
                        var i = y.Hb[n];
                        t.column = y.Zb(i);
                        var a = y.jd(t.y),
                            r = i.start.addHours(a);
                        return (t.time = r), t;
                    }),
                    (this.Of = function (e) {
                        v.movingShadow.offsetTop, h.moving.event, v.movingShadow.column;
                    }),
                    (this.Nc = function (e, t, n) {
                        return y.Pf(e, t, n).some(function (e) {
                            return e.disabled;
                        });
                    }),
                    (this.Ic = function () {
                        var e = h.selecting;
                        (e.end = y.coords), (e.end.time = y.Hc(e.start.x, e.end.y)), (e.end.column = y.Hb[y.Gb(e.end.x)]), y.Xd(e);
                    }),
                    (this.Xd = function (e) {
                        var t, n, i;
                        y.snapToGrid && y.snapToGridTimeRangeSelecting
                            ? e.end.time < e.start.time
                                ? ((t = y.Qf(e.end.time, e.start.column.start)), (n = y.Rf(e.start.time, e.start.column.start)), (i = e.endTime))
                                : ((t = y.Qf(e.start.time, e.start.column.start)), (n = y.Rf(e.end.time, e.start.column.start)), (i = e.startTime))
                            : e.end.time < e.start.time
                            ? ((t = e.end.time), (n = e.start.time), (i = e.endTime))
                            : ((t = e.start.time), (n = e.end.time), (i = e.startTime)),
                            (e.startTime = t),
                            (e.endTime = n),
                            (e.anchor = i);
                    }),
                    (this.Gc = function (e) {
                        var t = y.Ca;
                        if (!t) return !1;
                        var n = t.start,
                            i = t.end,
                            a = y.Hc(e.x, e.y),
                            r = y.Hb[y.Gb(e.x)];
                        return a >= n.time && a < i.time && r === n.column;
                    }),
                    (this.Pf = function (e, t, n) {
                        for (var i = [], a = 60 * C.Ib() * 1e3, r = 0; r < y.Hb.length; r++)
                            for (var o = y.Hb[r], s = 0; s < y.Sb(); s++) {
                                var l = r + "_" + s,
                                    d = y.cellProperties[l],
                                    u = o.start.addTime(s * a).addHours(y.Ob()),
                                    h = u.addTime(a),
                                    f = !n || n === o.id;
                                f && c(e, t, u, h) && d && i.push(d);
                            }
                        return i;
                    }),
                    (this.Jf = function (e) {
                        if (!h.resizing.event) return (h.resizing = null), f(v.resizingShadow), void (v.resizingShadow = null);
                        v.resizingShadow || (v.resizingShadow = y.Fb(h.resizing, !1));
                        var t = h.resizing.event.calendar.cellHeight,
                            n = 0,
                            i = e.y - v.Kf.y,
                            a = h.resizing.event,
                            o = a.start(),
                            s = a.end(),
                            l = null,
                            d = y.snapToGrid && y.snapToGridEventResizing;
                        if ("bottom" === h.resizing.dpBorder) {
                            var c = Math.floor((v.Sf + v.Tf + i + t / 2) / t) * t - v.Tf + n;
                            d || (c = v.Sf + i), c < t && (c = t);
                            var u = y.ra ? y.Sb() * y.cellHeight : y.nav.main.clientHeight;
                            v.Tf + c > u && (c = u - v.Tf), (v.resizingShadow.style.height = c + "px"), (s = y.ic(a, v.Tf + c)), (l = o);
                        } else if ("top" === h.resizing.dpBorder) {
                            var p = Math.floor((v.Tf + i - n + t / 2) / t) * t + n;
                            d || (p = v.Tf + i), p < n && (p = n), p > v.Tf + v.Sf - t && (p = v.Tf + v.Sf - t);
                            var c = v.Sf - (p - v.Tf);
                            c < t ? (c = t) : (v.resizingShadow.style.top = p + "px"), (v.resizingShadow.style.height = c + "px"), (o = y.hc(a, p)), (l = s);
                        }
                        var m = v.resizingShadow,
                            g = y.eventResizingStartEndFormat;
                        "Auto" === g && (g = "Clock24Hours" === C.Kc() ? "H:mm" : "h:mm tt");
                        var b = {};
                        if (
                            ((b.e = a),
                            (b.start = o),
                            (b.end = s),
                            (b.resource = a.resource()),
                            (b.allowed = !0),
                            (b.html = null),
                            (b.cssClass = null),
                            (b.anchor = l),
                            (b.top = {}),
                            (b.top.width = null),
                            (b.top.space = 5),
                            (b.top.html = b.start.toString(g, C.Lc())),
                            (b.top.enabled = y.eventResizingStartEndEnabled),
                            (b.bottom = {}),
                            (b.bottom.width = null),
                            (b.bottom.space = 5),
                            (b.bottom.html = b.end.toString(g, C.Lc())),
                            (b.bottom.enabled = y.eventResizingStartEndEnabled),
                            (m.args = b),
                            (m.firstChild.innerHTML = ""),
                            (m.className = y.ca("_shadow")),
                            !y.allowEventOverlap)
                        ) {
                            var w = { id: a.id(), start: b.start, end: b.end, resource: b.resource };
                            y.events.Mc(w) && (r(m, y.ca("_shadow_forbidden")), (b.allowed = !1));
                        }
                        y.Nc(b.start, b.end, b.resource) && (r(m, y.ca("_shadow_forbidden")), (b.allowed = !1)),
                            "function" == typeof y.onEventResizing && b.allowed && y.onEventResizing(b),
                            b.html && (m.firstChild.innerHTML = b.html),
                            b.cssClass && r(m, b.cssClass),
                            b.allowed || r(m, y.ca("_shadow_forbidden"));
                        var x = a.part.dayIndex,
                            k = m;
                        y.Rc(k, x, b);
                    }),
                    (this.temp = {}),
                    (this.temp.getPosition = function () {
                        var e = y.Vf.Uf();
                        if (!e) return null;
                        var t = y.Hb[e.x],
                            n = {};
                        return (n.resource = t.id), (n.start = new DayPilot.Date(t.start).addHours(y.Ob(!0)).addMinutes(e.y * C.Ib())), (n.end = n.start.addMinutes(C.Ib())), n;
                    }),
                    (this.Vf = {}),
                    (this.Vf.Uf = function () {
                        var e = {};
                        if (((e.x = 0), (e.y = 0), !y.coords)) return null;
                        e.x = y.Gb(y.coords.x);
                        var t = 0,
                            n = Math.floor((y.coords.y - t) / y.cellHeight);
                        return (e.y = DayPilot.Util.atLeast(0, n)), e.x < 0 ? null : e;
                    }),
                    (this.Vf.col = function (e, t) {
                        var n = {};
                        if (((n.left = 0), (n.width = 0), !e)) return null;
                        if (!e.rows) return null;
                        if (0 === e.rows.length) return null;
                        if (0 == e.rows[0].cells.length) return null;
                        var i = e.rows[0].cells[t];
                        if (!i) return null;
                        var a = DayPilot.abs(e),
                            r = DayPilot.abs(i);
                        return (n.left = r.x - a.x), (n.width = i.offsetWidth), n;
                    }),
                    (this.If = function () {
                        var e = y.nav.hourTable;
                        this.bb(), this.elements.crosshair || (this.elements.crosshair = []);
                        var n = this.Vf.Uf();
                        if (n) {
                            var i = n.x;
                            if (null !== i) {
                                var a = Math.floor((n.y / (60 / C.Ib())) * (60 / C.kf()));
                                if (!(a < 0)) {
                                    if (e) {
                                        if (a >= e.rows.length) return;
                                        var r = t();
                                        (r.style.position = "absolute"),
                                            (r.style.left = "0px"),
                                            (r.style.right = "0px"),
                                            (r.style.top = "0px"),
                                            (r.style.bottom = "0px"),
                                            (r.className = y.ca("_crosshair_left")),
                                            e.rows[a].cells[0].firstChild.appendChild(r),
                                            this.elements.crosshair.push(r);
                                    }
                                    if (this.nav.header) {
                                        var o = t();
                                        (o.style.position = "absolute"), (o.style.left = "0px"), (o.style.right = "0px"), (o.style.top = "0px"), (o.style.bottom = "0px"), (o.className = y.ca("_crosshair_top"));
                                        var s = this.nav.header.rows[C.Fd() - 1];
                                        s.cells[i] && (s.cells[i].firstChild.appendChild(o), this.elements.crosshair.push(o));
                                    }
                                    if ("Header" !== this.crosshairType) {
                                        var l = this.nav.crosshair,
                                            d = 0,
                                            c = Math.floor((y.coords.y - d) / y.cellHeight) * y.cellHeight + d,
                                            u = y.cellHeight,
                                            h = t();
                                        (h.style.position = "absolute"),
                                            (h.style.left = "0px"),
                                            (h.style.right = "0px"),
                                            (h.style.top = c + "px"),
                                            (h.style.height = u + "px"),
                                            (h.style.pointerEvents = "none"),
                                            (h.className = y.ca("_crosshair_horizontal")),
                                            (h.onmousedown = this.Wf),
                                            l.appendChild(h),
                                            this.elements.crosshair.push(h);
                                        var f = i,
                                            v = this.Vf.col(this.nav.main, f);
                                        if (((u = y.Ee()), v)) {
                                            var p = t();
                                            (p.style.position = "absolute"),
                                                (p.style.left = v.left + "px"),
                                                (p.style.width = v.width + "px"),
                                                (p.style.top = "0px"),
                                                (p.style.height = u + "px"),
                                                (p.style.pointerEvents = "none"),
                                                (p.className = y.ca("_crosshair_vertical")),
                                                (p.onmousedown = this.Wf),
                                                l.appendChild(p),
                                                this.elements.crosshair.push(p);
                                        }
                                    }
                                }
                            }
                        }
                    }),
                    (this.Wf = function (e) {
                        var t = y.nav.main;
                        y.bb(), (y.coords = DayPilot.mo3(t, e));
                        var n = y.Vf.Uf(),
                            i = 0,
                            a = n.x,
                            r = t.rows[n.y + i].cells[a];
                        y.Fc.apply(r, [e]);
                    }),
                    (this.bb = function () {
                        if (this.elements.crosshair && 0 !== this.elements.crosshair.length) {
                            for (var e = 0; e < this.elements.crosshair.length; e++) {
                                var t = this.elements.crosshair[e];
                                t && t.parentNode && t.parentNode.removeChild(t);
                            }
                            this.elements.crosshair = [];
                        }
                    }),
                    (this.mb = function () {
                        if (this.cellConfig) {
                            var e = this.cellConfig;
                            if (e.vertical) for (var t = 0; t < e.x; t++) for (var n = this.cellProperties[t + "_0"], i = 1; i < e.y; i++) this.cellProperties[t + "_" + i] = n;
                            if (e.horizontal) for (var i = 0; i < e.y; i++) for (var n = this.cellProperties["0_" + i], t = 1; t < e.x; t++) this.cellProperties[t + "_" + i] = n;
                            if (e["default"]) for (var n = e["default"], i = 0; i < e.y; i++) for (var t = 0; t < e.x; t++) this.cellProperties[t + "_" + i] || (this.cellProperties[t + "_" + i] = n);
                        }
                    }),
                    (this.Cf = function (e, t) {
                        return this.cellProperties ? this.cellProperties[e + "_" + t] : null;
                    }),
                    (this.Xf = function (e, t) {
                        var n = e + "_" + t;
                        return !(!this.cellProperties || !this.cellProperties[n]) && this.cellProperties[n].business;
                    }),
                    (this.Ef = function (e, t) {
                        var n = e + "_" + t;
                        return this.cellProperties && this.cellProperties[n] ? this.cellProperties[n].backColor : null;
                    }),
                    (this.Va = function () {
                        var e = this.nav.header;
                        if (e && e.rows)
                            for (var t = 0; t < e.rows.length; t++)
                                for (var n = e.rows[t], i = 0; i < n.cells.length; i++) {
                                    var a = n.cells[i];
                                    (a.onclick = null), (a.onmousemove = null), (a.onmouseout = null);
                                    var r = a,
                                        o = r.domArgs;
                                    if (((r.domArgs = null), "function" == typeof y.onBeforeHeaderDomRemove && y.onBeforeHeaderDomRemove(o), "function" == typeof y.onBeforeHeaderDomAdd && y.W.reactDOM)) {
                                        var s = o && o.ze;
                                        if (s) {
                                            var l = d(o.element);
                                            l && (y.W.Ae(), y.W.ka(s));
                                        }
                                    }
                                }
                        e && (this.sa || DayPilot.pu(e), (e.innerHTML = ""), (e.rows = []));
                    }),
                    (this.ve = function (e) {
                        var t = e + 1,
                            n = t === C.Fd(),
                            i = this.Ed(t),
                            a = 0,
                            r = 0,
                            o = y.pe(),
                            s = [],
                            l = "Fixed" === this.columnWidthSpec,
                            d = l ? "px" : "%";
                        if (!n)
                            for (var c = 0; c < i.length; c++) {
                                var u = i[c],
                                    h = (o[c], !!u.Pd),
                                    f = h ? u.Qd(C.Fd() - t + 1) : 1,
                                    v = 0;
                                DayPilot.list.for(f, function () {
                                    (v += o[a].width), (a += 1);
                                }),
                                    s.push({ left: r, width: v, unit: d }),
                                    (r += v);
                            }
                        return s;
                    }),
                    (this.Yf = function (e) {
                        function n(n) {
                            var i = a[n],
                                o = c[n];
                            if (o) {
                                var v = {};
                                (v.header = {}), (v.header.cssClass = null), (v.column = y.Zb(i, y));
                                var p = null;
                                y.Eb() &&
                                    "function" == typeof y.onBeforeHeaderRender &&
                                    (l(i, v.header, ["id", "start", "name", "html", "backColor", "toolTip", "areas", "children"]), y.onBeforeHeaderRender(v), l(v.header, i, ["html", "backColor", "toolTip", "areas", "cssClass"]));
                                var m = !!i.Pd,
                                    g = o.width,
                                    x = o.left;
                                s || ((x = f[n].left), (g = f[n].width));
                                var k = t();
                                (k.style.position = "absolute"),
                                    (k.style.top = u + "px"),
                                    (k.style.left = x + o.unit),
                                    (k.style.right = x + o.unit),
                                    (k.style.width = g + o.unit),
                                    (k.data = i),
                                    h.push(k),
                                    m && ((k.onclick = y.$b), (k.onmousemove = y._b), (k.onmouseout = y.cc), i.toolTip && (k.title = i.toolTip)),
                                    (k.style.overflow = "hidden"),
                                    (k.style.height = C.ye() + "px");
                                var _ = t();
                                _.setAttribute("unselectable", "on"),
                                    (_.style.userSelect = "none"),
                                    (_.style.position = "relative"),
                                    (_.style.height = C.ye() + "px"),
                                    (_.className = y.ca("_colheader")),
                                    i.cssClass && DayPilot.Util.addClass(_, i.cssClass),
                                    y.headerTextWrappingEnabled || (_.style.whiteSpace = "nowrap");
                                var D = t();
                                if (
                                    ((D.className = y.ca("_colheader_inner")),
                                    i.backColor && (D.style.background = i.backColor),
                                    _.appendChild(D),
                                    k.appendChild(_),
                                    C.je() &&
                                        "undefined" != typeof w &&
                                        w.ke &&
                                        !(function () {
                                            var t = {};
                                            (t.column = r[n]), (t.x = n), (t.y = e), (t.div = k), w.ke(t);
                                        })(),
                                    C.Yd() &&
                                        m &&
                                        "undefined" != typeof b &&
                                        b.Zd &&
                                        !(function () {
                                            var t = {};
                                            (t.column = r[n]), (t.x = n), (t.y = e), (t.div = k), b.Zd(t);
                                        })(),
                                    y.Zf(_, i),
                                    "function" == typeof y.onBeforeHeaderDomAdd && ((v.element = null), y.onBeforeHeaderDomAdd(v), (p = v.element)),
                                    (k.domArgs = v),
                                    p)
                                ) {
                                    var T = D;
                                    v.ze = T;
                                    d(p) ? (y.W.Ae(), y.W.V(p, T)) : T.appendChild(p);
                                } else m && (_.firstChild.innerHTML = i.html || "");
                                y.nav.header.appendChild(k);
                            }
                        }
                        var i = e + 1,
                            a = this.Ed(i),
                            r = this.Ed(i, !0),
                            o = a.length,
                            s = i === C.Fd(),
                            c = y.pe(),
                            u = e * C.ye(),
                            h = [];
                        y.nav.header.rows.push({ cells: h });
                        for (var f = y.ve(e), v = 0; v < o; v++) n(v);
                    }),
                    (this.$f = function (e, n) {
                        for (var i = n ? this.nav.header.insertRow(-1) : this.nav.header.rows[e - 1], a = this.Ed(e), r = a.length, o = e === C.Fd(), s = 0; s < r; s++) {
                            var d = a[s];
                            if (y.Eb() && "function" == typeof y.onBeforeHeaderRender) {
                                var c = {};
                                (c.header = {}), l(d, c.header, ["id", "start", "name", "html", "backColor", "toolTip", "areas", "children"]), this.onBeforeHeaderRender(c), l(c.header, d, ["html", "backColor", "toolTip", "areas"]);
                            }
                            var u = !!d.Pd,
                                h = n ? i.insertCell(-1) : i.cells[s];
                            if (((h.data = d), o));
                            else {
                                var f = 1;
                                u && (f = d.Qd(C.Fd() - e + 1)), (h.colSpan = f);
                            }
                            u && ((h.onclick = this.$b), (h.onmousemove = this._b), (h.onmouseout = this.cc), d.toolTip && (h.title = d.toolTip)),
                                (h.style.overflow = "hidden"),
                                (h.style.padding = "0px"),
                                (h.style.border = "0px none"),
                                (h.style.height = C.ye() + "px");
                            var v = n ? t() : h.firstChild;
                            if (n) {
                                v.setAttribute("unselectable", "on"),
                                    (v.style.MozUserSelect = "none"),
                                    (v.style.KhtmlUserSelect = "none"),
                                    (v.style.WebkitUserSelect = "none"),
                                    (v.style.position = "relative"),
                                    (v.style.height = C.ye() + "px"),
                                    (v.className = y.ca("_colheader"));
                                var p = t();
                                (p.className = y.ca("_colheader_inner")), d.backColor && (p.style.background = d.backColor), v.appendChild(p), h.appendChild(v);
                            } else v.style.height = C.ye() + "px";
                            this.Zf(v, d), u && (v.firstChild.innerHTML = d.html);
                        }
                    }),
                    (this.Zf = function (e, t) {
                        for (var n = [], i = 0; i < e.childNodes.length; i++) {
                            var a = e.childNodes[i];
                            a.isActiveArea && n.push(a);
                        }
                        for (var i = 0; i < n.length; i++) {
                            var a = n[i];
                            f(a);
                        }
                        if (t.areas)
                            for (var r = t.areas, i = 0; i < r.length; i++) {
                                var o = r[i];
                                if (DayPilot.Areas.isVisible(o)) {
                                    var s = y.Zb(t),
                                        l = DayPilot.Areas.createArea(e, s, o);
                                    e.appendChild(l);
                                }
                            }
                    }),
                    (this.pb = function () {
                        y.ra ? y._f() : y.ag();
                    }),
                    (this._f = function () {
                        var e = y.nav.header;
                        if ((y.Va(), this.showHeader)) {
                            var n = this.Ed(C.Fd(), !0),
                                i = n.length;
                            this.bg = !0;
                            var a = y.nav.corner;
                            if (a) {
                                this.sa || DayPilot.pu(a.firstChild);
                                var r = {};
                                r.html = y.Ea(y.cornerText, y.cornerHtml);
                                var o = null;
                                if ((y.Wa(), "function" == typeof y.onBeforeCornerRender && y.onBeforeCornerRender(r), "function" == typeof y.onBeforeCornerDomAdd && ((r.element = null), y.onBeforeCornerDomAdd(r), (o = r.element)), o)) {
                                    var s = a.firstChild;
                                    s.domArgs = r;
                                    d(o) ? (y.W.Ae(), y.W.V(o, s)) : s.appendChild(o);
                                } else a.firstChild.innerHTML = r.html || "";
                            }
                            for (var l = 0; l < C.Fd(); l++) this.Yf(l);
                            if (this.showAllDayEvents) {
                                var c = [];
                                y.nav.header.rows.push({ cells: c });
                                for (var u = y.pe(), h = C.Fd() * C.ye(), f = 0; f < i; f++) {
                                    var v = n[f],
                                        p = u[f],
                                        m = t();
                                    (m.data = v),
                                        (m.style.overflow = "hidden"),
                                        (m.style.position = "absolute"),
                                        (m.style.left = p.left + p.unit),
                                        (m.style.right = p.left + p.unit),
                                        (m.style.width = p.width + p.unit),
                                        (m.style.top = h + "px");
                                    var g = t();
                                    g.setAttribute("unselectable", "on"),
                                        (g.style.userSelect = "none"),
                                        (g.style.overflow = "hidden"),
                                        (g.style.position = "relative"),
                                        (g.style.height = C.rf() + "px"),
                                        (g.className = this.ca("_alldayheader"));
                                    var b = t();
                                    (b.className = this.ca("_alldayheader_inner")), g.appendChild(b), m.appendChild(g), (g.style.height = C.rf() + "px"), c.push(m), e.appendChild(m);
                                }
                            }
                        }
                    }),
                    (this.ag = function () {
                        if (this.showHeader) {
                            var e = this.nav.header,
                                n = !0,
                                i = this.Ed(C.Fd(), !0),
                                a = i.length;
                            for (f(this.nav.header), this.uf(); this.bg && e && e.rows && e.rows.length > 0; ) this.sa || DayPilot.pu(e.rows[0]), e.deleteRow(0);
                            this.bg = !0;
                            var r = y.nav.corner;
                            if (r) {
                                this.sa || DayPilot.pu(r.firstChild);
                                var o = {};
                                (o.html = y.Ea(y.cornerText, y.cornerHtml)), "function" == typeof y.onBeforeCornerRender && y.onBeforeCornerRender(o), (r.firstChild.innerHTML = o.html ? o.html : "");
                            }
                            for (var s = 0; s < C.Fd(); s++) this.$f(s + 1, n);
                            if (this.showAllDayEvents)
                                for (var l = this.nav.header.insertRow(-1), s = 0; s < a; s++) {
                                    var d = i[s],
                                        c = l.insertCell(-1);
                                    (c.data = d), (c.style.padding = "0px"), (c.style.border = "0px none"), (c.style.overflow = "hidden");
                                    var u = t();
                                    u.setAttribute("unselectable", "on"),
                                        (u.style.MozUserSelect = "none"),
                                        (u.style.KhtmlUserSelect = "none"),
                                        (u.style.WebkitUserSelect = "none"),
                                        (u.style.overflow = "hidden"),
                                        (u.style.position = "relative"),
                                        (u.style.height = C.rf() + "px"),
                                        (u.className = this.ca("_alldayheader"));
                                    var h = t();
                                    (h.className = this.ca("_alldayheader_inner")), u.appendChild(h), c.appendChild(u), (u.style.height = C.rf() + "px");
                                }
                        }
                    }),
                    (this.loadingStart = function (e) {
                        this.Ka(e);
                    }),
                    (this.loadingStop = function () {
                        this.hb(!0);
                    }),
                    (this.Ka = function (e) {
                        e = e || {};
                        var t = e.delay || 0,
                            n = y.Ea(e.text || this.loadingLabelText, this.loadingLabelHtml),
                            i = "undefined" != typeof e.block ? e.block : y.blockOnCallBack;
                        this.callbackTimeout && window.clearTimeout(this.callbackTimeout);
                        var a = function () {
                            (y.loadingLabelVisible || e.text) && y.nav.loading && ((y.nav.loading.innerHTML = n), (y.nav.loading.style.top = y.Pb() + 5 + "px"), (y.nav.loading.style.display = "")), i && x.D();
                        };
                        0 === t ? a() : (y.cg = window.setTimeout(a, t));
                    }),
                    (this.hb = function (e) {
                        this.callbackTimeout && window.clearTimeout(this.callbackTimeout), (this.nav.loading.style.display = "none"), (e || y.blockOnCallBack) && x.B();
                    }),
                    (this.dg = function (e) {
                        var t = y.Ob(!0);
                        return e < t && (e += 24), (e - t) * (60 / C.Ib()) * y.cellHeight;
                    }),
                    (this.jd = function (e) {
                        var t = y.Ob(!0);
                        return e / (60 / C.Ib()) / y.cellHeight + t;
                    }),
                    (this.eg = function () {
                        var e = this.Yc(),
                            t = this.initScrollPos;
                        if (!t) {
                            var n = this.businessBeginsHour;
                            t = y.dg(n);
                        }
                        (e.root = this), (e.onscroll = this.Xc), y.Da(), 0 === e.scrollTop ? C.Ib() <= 720 && (e.scrollTop = t - this.Pc()) : this.Xc();
                    }),
                    (this.fg = function () {
                        var e = y.nav.top;
                        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
                    }),
                    (this.gg = function () {
                        var e = y.fg;
                        return e()
                            ? void y.hg()
                            : void (
                                  y.Pa ||
                                  (y.Pa = setInterval(function () {
                                      e() && (clearInterval(y.Pa), y.eg(), y.wb(), y.hg());
                                  }, 100))
                              );
                    }),
                    (this.scrollToY = function (e) {
                        this.Yc().scrollTop = e;
                    }),
                    (this.scrollToHour = function (e) {
                        var t = y.dg(e);
                        this.Yc().scrollTop = t - this.Pc();
                    }),
                    (this.Yc = function () {
                        return "Fixed" === this.columnWidthSpec || this.qa ? this.nav.bottomRight : this.nav.scroll;
                    }),
                    (this.onCallbackError = function (e, t) {
                        alert("Error!\r\nResult: " + e + "\r\nContext:" + t);
                    }),
                    (this.wb = function () {
                        if (y.showHeader) {
                            var e = this.sf(),
                                n = !!this.nav.cornerRight;
                            if (this.qa) {
                                this.nav.unifiedCornerRight && f(this.nav.unifiedCornerRight);
                                var i = (y.Yc(), y.nav.main.getBoundingClientRect().width),
                                    a = y.df();
                                if ("100%" !== a && parseInt(a) < i) return;
                                var r,
                                    o = DayPilot.sw(this.nav.bottomRight),
                                    s = "calc(100% - " + o + "px)";
                                y.ra
                                    ? ((r = t()),
                                      (r.style.position = "absolute"),
                                      (r.style.left = s),
                                      (r.style.right = s),
                                      (r.style.height = y.Pb() + "px"),
                                      y.nav.headerParent.appendChild(r),
                                      (y.nav.unifiedCornerRight = r),
                                      (y.nav.header.style.width = s),
                                      y.nav.allday && (y.nav.allday.style.width = s))
                                    : ((this.nav.unifiedCornerRight = this.nav.header.rows[0].insertCell(-1)), (r = this.nav.unifiedCornerRight), (r.rowSpan = this.nav.header.rows.length)),
                                    (r.style.width = o + "px");
                                var l = t();
                                (l.className = y.ca("_cornerright")), l.setAttribute("unselectable", "on"), (l.style.overflow = "hidden"), (l.style.height = this.Pb() + "px"), (l.style.position = "relative");
                                var d = t();
                                (d.className = y.ca("_cornerright_inner")), l.appendChild(d), r.appendChild(l);
                                return void (!("Fixed" === this.columnWidthSpec) && this.nav.allday && (y.rtl ? (this.nav.allday.style.left = o + "px") : (this.nav.allday.style.right = o + "px")));
                            }
                            if (e !== n)
                                if (e) this.vf();
                                else {
                                    if (this.nav.fullHeader && 3 === this.nav.fullHeader.rows[0].cells.length) {
                                        var r = this.nav.fullHeader.rows[0].cells[2];
                                        r.parentNode && r.parentNode.removeChild(r);
                                    }
                                    this.nav.cornerRight = null;
                                }
                            var c = this.nav.cornerRight;
                            if (c) {
                                var s = DayPilot.sw(y.Qb());
                                return c && (c.style.width = s + "px"), s;
                            }
                        }
                    }),
                    (this.Db = function (e) {
                        if ((e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.xa >= this.autoRefreshMaxCount))) {
                            this.Ra();
                            var t = this.autoRefreshInterval;
                            if (!t || t < 10) throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");
                            this.autoRefreshTimeout = window.setTimeout(function () {
                                y.ig();
                            }, 1e3 * this.autoRefreshInterval);
                        }
                    }),
                    (this.Ra = function () {
                        this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout);
                    }),
                    (this.ig = function () {
                        if (!(h.resizing || h.moving || v.drag || h.selecting)) {
                            var e = !1;
                            if ("function" == typeof this.onAutoRefresh) {
                                var t = {};
                                (t.i = this.xa),
                                    (t.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    y.onAutoRefresh(t),
                                    t.preventDefault.value && (e = !0);
                            }
                            !e && this.ja() && this.commandCallBack(this.autoRefreshCommand), this.xa++;
                        }
                        this.xa < this.autoRefreshMaxCount &&
                            (this.autoRefreshTimeout = window.setTimeout(function () {
                                y.ig();
                            }, 1e3 * this.autoRefreshInterval));
                    }),
                    (this.Ya = function () {
                        y.Bb();
                    }),
                    (this.Bb = function () {
                        y.nav.top && (y.vb(), "Parent100Pct" === y.heightSpec && y.setHeight(parseInt(y.nav.top.clientHeight, 10)), y.wb(), y.Cb(), y.Da());
                    }),
                    (this.jg = null),
                    (this.kg = null),
                    (y.Qa = null),
                    (this.hg = function () {
                        var e = function () {
                            y.watchWidthChanges && (y.Bb(), y.Xc());
                        };
                        if (y.watchWidthChanges) {
                            if ("function" == typeof ResizeObserver) {
                                if (y.Qa) return;
                                var t = new ResizeObserver(DayPilot.debounce(e, 50));
                                return t.observe(y.nav.top), void (y.Qa = t);
                            }
                            if (!y.kg) {
                                var n = function () {
                                    return y.nav && y.nav.top
                                        ? y.jg
                                            ? (y.jg.width !== y.nav.top.offsetWidth && ((y.jg.changed = !0), (y.jg.counter = 0), (y.jg.width = y.nav.top.offsetWidth)),
                                              y.jg.changed && (y.jg.counter += 1),
                                              void (y.jg.changed && y.jg.counter > 0 && ((y.jg.changed = !1), e())))
                                            : ((y.jg = {}), (y.jg.counter = 0), (y.jg.changed = !1), void (y.jg.width = y.nav.top.offsetWidth))
                                        : void clearInterval(y.kg);
                                };
                                (this.kg = setInterval(n, 200)), n();
                            }
                        }
                    }),
                    (this.lg = function () {
                        v.mg || ((v.mg = !0), a(document, "mousemove", v.ng), a(document, "mouseup", v.og), i(document, DayPilot.touch.move, v.pg), a(document, DayPilot.touch.end, v.qg)), a(window, "resize", this.Ya);
                    }),
                    (this.Ie = function (e) {
                        if (!k.active && !k.using) {
                            e = e || window.event;
                            var t = DayPilot.Util.mouseButton(e);
                            if (v.editing) return void v.editing.blur();
                            if (("undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), ("n-resize" !== this.style.cursor && "s-resize" !== this.style.cursor) || !t.left)) {
                                if (("move" === this.style.cursor || ("Full" === y.moveBy && this.event.client.moveEnabled())) && t.left) {
                                    h.moving = this;
                                    var n = (h.moving.helper = {}),
                                        i = y.Hb[this.event.part.dayIndex];
                                    (n.oldColumn = i.id), (v.Kf = DayPilot.mc(e)), (v.Tf = this.offsetTop);
                                    var a = this.event,
                                        r = DayPilot.mo3(this, e);
                                    if (r) {
                                        v.moveOffsetY = r.y;
                                        var o = y.snapToGrid && y.snapToGridEventMoving;
                                        if (!o && a.part.box) {
                                            var s = y.Oc(a.part.start, i.start),
                                                l = s.top - s.boxTop;
                                            v.moveOffsetY = r.y - l;
                                        }
                                    } else v.moveOffsetY = 0;
                                    y.nav.top.style.cursor = this.style.cursor;
                                }
                            } else (h.resizing = this), (v.Kf = DayPilot.mc(e)), (v.Sf = this.offsetHeight), (v.Tf = this.offsetTop), (y.nav.top.style.cursor = this.style.cursor);
                            return !1;
                        }
                    }),
                    (this.rg = function (e) {
                        var t = this.ta.events,
                            n = this.events.list[e],
                            i = {};
                        for (var a in n) i[a] = n[a];
                        if (y.showEventStartEnd) {
                            var r = n.start.getDatePart().getTime() === n.end.getDatePart().getTime(),
                                o = r ? C.Lc().timePattern : C.Lc().dateTimePattern,
                                s = n.start.toString(o),
                                l = n.end.toString(o);
                            i.html = y.Ea(i.text) + " (" + s + " - " + l + ")";
                        }
                        if ("function" == typeof this.onBeforeEventRender) {
                            var d = {};
                            (d.e = i), (d.data = i), (d.control = y), this.onBeforeEventRender(d);
                        }
                        t[e] = i;
                    }),
                    (this.sg = function () {
                        return !!(h.moving || h.resizing || h.selecting || v.drag);
                    }),
                    (this.dragInProgress = function () {
                        return y.sg();
                    }),
                    (this.tg = {});
                var x = this.tg;
                (x.ug = function () {
                    if (!y.nav.overlay) {
                        var e = document.createElement("div");
                        (e.style.position = "absolute"), (e.style.left = "0px"), (e.style.right = "0px"), (e.style.top = "0px"), (e.style.bottom = "0px"), (e.className = y.ca("_block")), y.nav.top.appendChild(e), (y.nav.overlay = e);
                    }
                }),
                    (x.D = function () {
                        x.ug(), (y.nav.overlay.style.display = "");
                    }),
                    (x.B = function () {
                        y.nav.overlay && (y.nav.overlay.style.display = "none");
                    }),
                    (this.vg = null),
                    (this.Nf = function (e) {
                        function t(e, t) {
                            return 1 - e / t;
                        }
                        var n = y.sg(),
                            i = "Always" === y.autoScroll,
                            a = "Drag" === y.autoScroll && n;
                        if (i || a) {
                            var r = y.nav.bottomRight;
                            (e.x -= r.scrollLeft), (e.y -= r.scrollTop);
                            var o = r.clientWidth,
                                s = r.clientHeight,
                                l = 30,
                                d = e.x < l ? e.x : 0,
                                c = o - e.x < l ? o - e.x : 0,
                                u = e.y < l ? e.y : 0,
                                h = s - e.y < l ? s - e.y : 0,
                                f = 0,
                                v = 0,
                                p = 50;
                            d && (f = -50 * t(d, l)), c && (f = p * t(c, l)), u && (v = (-50 * t(u, l)) / 2), h && (v = (p * t(u, l)) / 2), f || v ? y.wg(f, v) : y.cb();
                        }
                    }),
                    (this.wg = function (e, t) {
                        this.cb(), this.xg(e, t);
                    }),
                    (this.yg = function (e) {
                        if (!e) return !1;
                        var t = y.nav.bottomRight,
                            n = t.scrollWidth,
                            i = t.scrollLeft,
                            a = t.clientWidth,
                            r = i + a;
                        return !(e < 0 && i <= 0) && !(e > 0 && r >= n) && ((t.scrollLeft += e), (y.coords.x += e), y.zg(), !0);
                    }),
                    (this.Ag = function (e) {
                        if (!e) return !1;
                        var t = y.nav.bottomRight,
                            n = t.scrollHeight,
                            i = t.scrollTop,
                            a = t.clientHeight,
                            r = i + a;
                        return !(e < 0 && i <= 0) && !(e > 0 && r >= n) && ((t.scrollTop += e), (y.coords.y += e), y.zg(), !0);
                    }),
                    (this.zg = function () {}),
                    (this.xg = function (e, t) {
                        if (this.yg(e) || this.Ag(t)) {
                            var n = function (e, t) {
                                return function () {
                                    y.xg(e, t);
                                };
                            };
                            this.Bg = window.setTimeout(n(e, t), 200);
                        }
                    }),
                    (this.cb = function () {
                        y.Bg && (window.clearTimeout(y.Bg), (y.Bg = null));
                    }),
                    (this.Je = {});
                var k = y.Je;
                (k.active = !1),
                    (k.start = null),
                    (k.timeout = null),
                    (k.startcell = null),
                    (k.relativeCoords = function (e) {
                        return k.Cg(e);
                    }),
                    (k.startResizing = function (e, t, n) {
                        k.le(e, t, n);
                    }),
                    (k.startMoving = function (e, t) {
                        k.$d(e, t);
                    }),
                    (this.Je.Uf = function (e) {
                        var t, n;
                        e.touches ? ((t = e.touches[0].pageX), (n = e.touches[0].pageY)) : ((t = e.pageX), (n = e.pageY));
                        var i = DayPilot.abs(y.nav.main),
                            a = { x: t - i.x, y: n - i.y },
                            r = y.nav.main.clientWidth / y.Hb.length,
                            o = Math.floor(a.y / y.cellHeight);
                        return (
                            (o = DayPilot.Util.atLeast(0, o)),
                            (o = DayPilot.Util.atMost(y.Sb() - 1, o)),
                            {
                                pageX: t,
                                pageY: n,
                                x: Math.floor(a.x / r),
                                y: o,
                                toString: function () {
                                    return "x: " + this.x + " y:" + this.y;
                                },
                            }
                        );
                    }),
                    (this.Je.Dg = function (e) {
                        (k.startcell = e), y.clearSelection(), (y.coords = e), (h.selecting = { calendar: y, start: e });
                        var t = h.selecting;
                        (t.start.time = y.Hc(e.x, e.y)), (t.start.columnIndex = y.Gb(e.x)), (t.start.column = y.Hb[t.start.columnIndex]), y.Ic(), y.Jc();
                    }),
                    (this.Je.Eg = function (e) {
                        y.coords = e;
                        var t = h.selecting,
                            n = (y.Gb(t.start.x), Math.floor(y.coords.y / y.cellHeight));
                        (n = DayPilot.Util.atLeast(0, n)), (t.origin = "drag"), y.Ic(), (t.last && t.last.startTime === t.startTime && t.last.endTime === t.endTime) || ((t.last = { startTime: t.startTime, endTime: t.endTime }), y.Jc());
                    }),
                    (this.Je.detected = !1),
                    (this.Je.$e = function (e) {
                        if (!s(e)) {
                            var t = k.Cg(e);
                            if (((y.coords = t), !(t.x < 0 || ((k.start = !0), (k.detected = !0), k.active || e.touches.length > 1)))) {
                                (k.using = !0), (k.startCoords = t);
                                var n = y.tapAndHoldTimeout;
                                k.timeout = window.setTimeout(function () {
                                    switch ((e.preventDefault(), (k.active = !0), (k.start = !1), y.timeRangeTapAndHoldHandling)) {
                                        case "Select":
                                            k.Dg(t);
                                            break;
                                        case "ContextMenu":
                                            k.Dg(t), (k.active = !1), y.contextMenuSelection && y.contextMenuSelection.show(y.getSelection());
                                    }
                                }, n);
                            }
                        }
                    }),
                    (this.Je.Fg = function (e) {}),
                    (this.Je.Df = function (e) {
                        if (!k.active)
                            return (
                                window.clearTimeout(k.timeout),
                                void (
                                    k.start &&
                                    !(function (e) {
                                        if ("Disabled" !== y.timeRangeSelectedHandling) {
                                            if (!y.Gc(y.coords)) {
                                                var t = (h.selecting = {});
                                                (t.start = y.coords),
                                                    (t.start.time = y.Hc(y.coords.x, y.coords.y)),
                                                    (t.start.columnIndex = y.Gb(y.coords.x)),
                                                    (t.start.column = y.Hb[t.start.columnIndex]),
                                                    y.Ic(),
                                                    (y.Ca = t),
                                                    (h.selecting = null),
                                                    y.Jc(t);
                                            }
                                            var n = y.getSelection();
                                            (n.toString = function () {
                                                return "start: " + this.start + "\nend: " + this.end;
                                            }),
                                                setTimeout(function () {
                                                    y.wc(n.start, n.end, n.resource);
                                                }, 10);
                                        }
                                    })(this)
                                )
                            );
                        e.preventDefault(), e.stopPropagation(), (k.startcell = null), (k.start = !1);
                        var t = h.selecting;
                        (h.selecting = null), (y.Ca = t);
                        var n = y.getSelection();
                        (n.toString = function () {
                            return "start: " + this.start + "\nend: " + this.end;
                        }),
                            y.wc(n.start, n.end, n.resource),
                            window.setTimeout(function () {
                                k.active = !1;
                            }, 500);
                    }),
                    (this.Je.$d = function (e, t) {
                        (h.moving = e), ((h.moving.helper = {}).oldColumn = y.Hb[e.event.part.dayIndex].id), (v.Kf = t), (v.Tf = this.offsetTop);
                        var n = DayPilot.abs(e);
                        (v.moveOffsetY = t.y - n.y), v.movingShadow || ((v.movingShadow = y.Fb(h.moving, !0)), (v.movingShadow.style.width = v.movingShadow.parentNode.offsetWidth + 1 + "px"));
                    }),
                    (this.Je.le = function (e, t, n) {
                        (h.resizing = e), (e.dpBorder = t), (v.Kf = n), (v.Sf = e.offsetHeight), (v.Tf = e.offsetTop);
                    }),
                    (this.Je.Gg = function (e) {
                        y.Jf(e);
                    }),
                    (this.Je.Hg = function () {
                        var e = y.coords,
                            t = y.cellHeight,
                            n = 0,
                            i = v.moveOffsetY;
                        i || (i = t / 2);
                        var a = Math.floor((e.y - i - n + t / 2) / t) * t + n;
                        a < n && (a = n);
                        var r = (y.nav.main, y.Ee()),
                            o = parseInt(v.movingShadow.style.height);
                        a + o > r && (a = r - o), (v.movingShadow.style.top = a + "px"), (v.movingShadow.allowed = !0);
                        var s = y.Gb(y.coords.x);
                        s < 0 && (s = 0);
                        var l = y.nav.events;
                        s < l.rows[0].cells.length && s >= 0 && v.movingShadow.column !== s && ((v.movingShadow.column = s), v.moveShadow(l.rows[0].cells[s]));
                    }),
                    (this.Je.onEventTouchStart = function (e) {
                        if (!k.active && !s(e)) {
                            e.stopPropagation(), (k.preventEventTap = !1), (k.using = !0), (k.startCoords = k.Uf(e));
                            var t = this,
                                n = e.touches ? e.touches[0].pageX : e.pageX,
                                i = e.touches ? e.touches[0].pageY : e.pageY,
                                a = { x: n, y: i, div: this };
                            y.coords = k.Cg(e);
                            var r = y.tapAndHoldTimeout;
                            k.timeout = window.setTimeout(function () {
                                var n = t.event;
                                switch (((k.active = !0), y.eventTapAndHoldHandling)) {
                                    case "Move":
                                        n.client.moveEnabled() && k.$d(t, a);
                                        break;
                                    case "ContextMenu":
                                        var i = n.client.contextMenu();
                                        DayPilot.Menu && DayPilot.Menu.touchPosition(e), i ? i.show(n) : y.contextMenu && y.contextMenu.show(n);
                                }
                            }, r);
                        }
                    }),
                    (this.Je._e = function (e) {
                        if (!s(e)) {
                            if (((k.start = !1), k.timeout)) {
                                var t = k.Uf(e);
                                t && k.startCoords && ((t.pageX === k.startCoords.pageX && t.pageY === k.startCoords.pageY) || window.clearTimeout(y.Je.timeout));
                            }
                            if (h.moving && v.movingShadow) return e.preventDefault(), (y.coords = k.Cg(e)), void k.Hg();
                            if (h.resizing) {
                                e.preventDefault();
                                var n = e.touches ? e.touches[0] : e,
                                    t = { x: n.pageX, y: n.pageY };
                                return void k.Gg(t);
                            }
                            if (k.startcell) {
                                if ((e.preventDefault(), !k.active)) return void window.clearTimeout(k.timeout);
                                var t = k.Cg(e);
                                k.Eg(t);
                            }
                            k.preventEventTap = !0;
                        }
                    }),
                    (this.Je.Cg = function (e) {
                        var t = y.nav.main,
                            n = e.touches ? e.touches[0].pageX : e.pageX,
                            i = e.touches ? e.touches[0].pageY : e.pageY,
                            a = DayPilot.abs(t);
                        return {
                            x: n - a.x,
                            y: i - a.y,
                            toString: function () {
                                return "x: " + this.x + ", y:" + this.y;
                            },
                        };
                    }),
                    (this.Je.af = function (e) {
                        if (!s(e))
                            if (h.moving) {
                                (k.active = !1), e.preventDefault(), e.stopPropagation();
                                var t = v.movingShadow.offsetTop,
                                    n = h.moving.event,
                                    i = n.calendar;
                                i.Sc(v.movingShadow);
                                var a = v.movingShadow.column,
                                    r = v.movingShadow;
                                if ((o(h.moving, i.ca("_event_moving_source")), (h.moving = null), (v.movingShadow = null), !r.allowed)) return void i.pc();
                                n.calendar.oc(n, a, t, e, v.drag);
                            } else if (k.startcell) {
                                if (!k.active) return void window.clearTimeout(k.timeout);
                                e.preventDefault(), (k.startcell = null);
                                var l = i.getSelection();
                                (l.toString = function () {
                                    return "start: " + this.start + "\nend: " + this.end;
                                }),
                                    i.wc(l.start, l.end, l.resource),
                                    window.setTimeout(function () {
                                        k.active = !1;
                                    }, 500);
                            }
                    }),
                    (this.Je.onEventTouchMove = function (e) {
                        k.preventEventTap = !0;
                    }),
                    (this.Je.onEventTouchEnd = function (e) {
                        if (!s(e)) {
                            if (!k.active) {
                                if (k.preventEventTap) return;
                                return window.clearTimeout(k.timeout), void y.Ub(this, e);
                            }
                            return (k.active = !1), k.timeout ? void window.clearTimeout(k.timeout) : void 0;
                        }
                    }),
                    (this.Ge = function (e) {
                        var t = 5,
                            n = 10,
                            i = "Top" === y.moveBy;
                        if ("undefined" != typeof v) {
                            var a = DayPilot.mo3(this, e);
                            if (a) {
                                y.eventOffset = a;
                                var o = this;
                                if ((o.active || r(o, y.ca("_event_hover")), !h.resizing && !h.moving)) {
                                    var s = this.isFirst,
                                        l = this.isLast;
                                    if (
                                        "Disabled" !== y.moveBy &&
                                        "None" !== y.moveBy &&
                                        (!i && a.x <= n && this.event.client.moveEnabled()
                                            ? s
                                                ? (this.style.cursor = "move")
                                                : (this.style.cursor = "not-allowed")
                                            : !i && a.y <= t && this.event.client.resizeEnabled()
                                            ? s
                                                ? ((this.style.cursor = "n-resize"), (this.dpBorder = "top"))
                                                : (this.style.cursor = "not-allowed")
                                            : i && a.y <= n && this.event.client.moveEnabled()
                                            ? (this.style.cursor = "move")
                                            : this.offsetHeight - a.y <= t && this.event.client.resizeEnabled()
                                            ? l
                                                ? ((this.style.cursor = "s-resize"), (this.dpBorder = "bottom"))
                                                : (this.style.cursor = "not-allowed")
                                            : h.resizing || h.moving || (this.event.client.clickEnabled() ? (this.style.cursor = "pointer") : (this.style.cursor = "default")),
                                        "undefined" != typeof DayPilot.Bubble && y.bubble && "Disabled" !== y.eventHoverHandling && ("default" === this.style.cursor || "pointer" === this.style.cursor))
                                    ) {
                                        (this.Ig && a.x === this.Ig.x && a.y === this.Ig.y) || ((this.Ig = a), y.bubble.showEvent(this.event));
                                    }
                                }
                            }
                        }
                    }),
                    (this.He = function (e) {
                        o(this, y.ca("_event_hover")), y.bubble && y.bubble.hideOnMouseOut(), DayPilot.Areas.hideAreas(this, e);
                    }),
                    (this.Jg = null),
                    (this.yb = function () {
                        if (this.showCurrentTime) {
                            this.Kg();
                            var e = new DayPilot.Date().addMinutes(y.showCurrentTimeOffset);
                            if ("Full" === y.showCurrentTimeMode) this.Lg(e);
                            else {
                                if ("Day" !== y.showCurrentTimeMode) throw new DayPilot.Exception("Invalid DayPilot.Calendar.showCurrentTimeMode value: " + y.showCurrentTimeMode);
                                this.Mg(e);
                            }
                            if (this.nav.events && !this.Jg) {
                                this.Jg = setTimeout(function () {
                                    (y.Jg = null), y.yb();
                                }, 3e4);
                            }
                        }
                    }),
                    (this.Kg = function () {
                        f(y.elements.separators), (y.elements.separators = []);
                    }),
                    (this.Mg = function (e) {
                        var n = e.getTime(),
                            i = y.nav.events;
                        if (i)
                            for (var a = 0; a < y.Hb.length; a++) {
                                var r = y.Hb[a],
                                    o = y.Kb(!0),
                                    s = new DayPilot.Date(r.start).addHours(this.Ob(!0)),
                                    l = s.getTime(),
                                    d = s.addTime(o),
                                    c = d.getTime();
                                if (l <= n && n <= c) {
                                    var u = this.Oc(e, r.start).top - 1 - y.Pc(),
                                        h = i.rows[0].cells[a],
                                        f = h.separators,
                                        v = t();
                                    (v.style.position = "absolute"),
                                        (v.style.top = u + "px"),
                                        (v.style.height = "1px"),
                                        (v.style.left = "0px"),
                                        (v.style.right = "0px"),
                                        (v.className = y.ca("_now")),
                                        f.insertBefore(v, f.firstChild),
                                        y.elements.separators.push(v);
                                }
                            }
                    }),
                    (this.Lg = function (e) {
                        var n = e.getTime();
                        if (y.nav.events) {
                            var i = y.Hb[0];
                            if (i)
                                for (var a = i.start.getDatePart().addTime(e.getTimePart()), r = this.Oc(a, i.start).top - 1, o = 0; o < y.Hb.length; o++) {
                                    var i = y.Hb[o],
                                        s = y.Kb(!0),
                                        l = new DayPilot.Date(i.start).addHours(this.Ob(!0)),
                                        d = l.getTime(),
                                        c = l.addTime(s),
                                        u = c.getTime();
                                    if (d <= n && n <= u) {
                                        var h = t();
                                        return (
                                            (h.style.position = "absolute"),
                                            (h.style.top = r + "px"),
                                            (h.style.height = "1px"),
                                            (h.style.left = "0px"),
                                            (h.style.right = "0px"),
                                            (h.className = y.ca("_now")),
                                            y.nav.events.appendChild(h),
                                            void y.elements.separators.push(h)
                                        );
                                    }
                                }
                        }
                    }),
                    (this.nb = function (e, t) {
                        if ((e ? (this.events.list = e) : (e = this.events.list), e)) {
                            var n = t && t.preloadOnly;
                            (this.we = {}), (this.we.events = []), (this.we.lines = []);
                            var i = e.length,
                                a = this.Kb(!0);
                            (this.ta.pixels = {}), (this.ta.Le = []);
                            var r = [];
                            (this.cd = []), (this.gc = 1e4), (this.Nb = 0), (this.startDate = new DayPilot.Date(this.startDate));
                            for (var o = 0; o < i; o++) {
                                var s = e[o];
                                if ("object" != typeof s) throw new DayPilot.Exception("Event data item must be an object");
                                if (!s.start) throw new DayPilot.Exception("Event data item must specify 'start' property");
                                (s.start = new DayPilot.Date(s.start)), (s.end = new DayPilot.Date(s.end));
                            }
                            if (!n && ("function" == typeof this.onBeforeEventRender || y.showEventStartEnd)) for (var o = 0; o < i; o++) this.rg(o);
                            for (var l = "Resources" === this.viewType, d = this.Hd(), c = d.start, u = d.end, o = 0; o < this.Hb.length; o++) {
                                var h = {};
                                (h.minEnd = 1e6), (h.maxStart = -1), this.cd.push(h);
                                var f = this.Hb[o];
                                (f.events = []), (f.lines = []), (f.blocks = []);
                                var v = new DayPilot.Date(f.start).addHours(this.Ob(!0)),
                                    p = v.getTime(),
                                    m = v.addTime(a),
                                    g = m.getTime();
                                l && ((c = v.getDatePart()), (u = v.addDays(y.days)));
                                for (var b = 0; b < i; b++)
                                    if (!r[b]) {
                                        var s = e[b],
                                            w = null;
                                        if ((n || "function" != typeof y.onBeforeEventRender || (w = y.ta.events[b]), w)) {
                                            if (w.hidden) continue;
                                        } else if (s.hidden) continue;
                                        var x = s.start,
                                            k = s.end,
                                            _ = x.getTime(),
                                            D = k.getTime();
                                        if (!(D < _))
                                            if (s.allday) {
                                                var T = !1;
                                                if (
                                                    ((T = _ === D ? !(D < c.getTime() || _ >= u.getTime()) : "Date" === y.allDayEnd ? !(D < c.getTime() || _ >= u.getTime()) : !(D <= c.getTime() || _ >= u.getTime())),
                                                    l && (T = T && (s.resource === f.id || "*" === f.id)),
                                                    T)
                                                ) {
                                                    var E = new DayPilot.Event(s, this);
                                                    if (
                                                        ((E.part.start = c.getTime() < _ ? x : c),
                                                        (E.part.end = u.getTime() > D ? k : u),
                                                        (E.part.colStart = DayPilot.DateUtil.daysDiff(c, E.part.start)),
                                                        (E.part.colWidth = DayPilot.DateUtil.daysSpan(E.part.start, E.part.end) + 1),
                                                        l && ((E.part.colStart = o), (E.part.colWidth = 1)),
                                                        "function" == typeof y.onEventFilter && y.events.Ng)
                                                    ) {
                                                        var S = {};
                                                        if (((S.filter = y.events.Ng), (S.filterParam = S.filter), (S.visible = !0), (S.e = E), y.onEventFilter(S), !S.visible)) continue;
                                                    }
                                                    this.we.events.push(E),
                                                        n || (("function" == typeof this.onBeforeEventRender || y.showEventStartEnd) && (E.cache = this.ta.events[b])),
                                                        (r[b] = !0),
                                                        !l || (E.part.start.getTime() === _ && E.part.end.getTime() === D) || (r[b] = !1);
                                                }
                                            } else {
                                                var w = null;
                                                if ((n || "function" != typeof y.onBeforeEventRender || (w = y.ta.events[b]), w)) {
                                                    if (w.hidden) continue;
                                                } else if (s.hidden) continue;
                                                var T = !1;
                                                if ((T = l ? f.id === s.resource && !(D <= p || _ >= g) : !(D <= p || _ >= g) || (D === _ && _ === p))) {
                                                    var E = new DayPilot.Event(s, y);
                                                    (E.part.dayIndex = o), (E.part.start = p < _ ? x : v), (E.part.end = g > D ? k : m);
                                                    var A = this.Oc(E.part.start, f.start),
                                                        H = this.Oc(E.part.end, f.start),
                                                        M = A.top,
                                                        R = H.top;
                                                    if (M === R && (A.cut || H.cut)) continue;
                                                    E.part.box = C.Og(D - _);
                                                    var B = 0;
                                                    if (E.part.box) {
                                                        var P = H.boxBottom;
                                                        (E.part.top = Math.floor(M / this.cellHeight) * this.cellHeight + B + 1),
                                                            (E.part.height = Math.max(Math.ceil(P / this.cellHeight) * this.cellHeight - E.part.top, this.cellHeight - 1) + 1),
                                                            (E.part.barTop = Math.max(M - E.part.top - 1, 0)),
                                                            (E.part.barHeight = Math.max(R - M - 2, 1));
                                                    } else (E.part.top = M + B), (E.part.height = Math.max(R - M, 0)), (E.part.barTop = 0), (E.part.barHeight = Math.max(R - M - 2, 1));
                                                    if ("function" == typeof y.onEventFilter && y.events.Ng) {
                                                        var S = {};
                                                        if (((S.filter = y.events.Ng), (S.visible = !0), (S.e = E), y.onEventFilter(S), !S.visible)) continue;
                                                    }
                                                    var x = E.part.top,
                                                        k = E.part.top + E.part.height;
                                                    x > h.maxStart && (h.maxStart = x),
                                                        k < h.minEnd && (h.minEnd = k),
                                                        x < this.gc && (this.gc = x),
                                                        k > this.Nb && (this.Nb = k),
                                                        f.events.push(E),
                                                        n || (("function" == typeof this.onBeforeEventRender || y.showEventStartEnd) && (E.cache = this.ta.events[b])),
                                                        E.part.start.getTime() === _ && E.part.end.getTime() === D && (r[b] = !0),
                                                        l && (r[b] = !1),
                                                        y.ta.Le.push(E);
                                                }
                                            }
                                    }
                            }
                            for (var o = 0; o < this.Hb.length; o++) {
                                var f = this.Hb[o];
                                f.events.sort(this.Pg);
                                for (var b = 0; b < f.events.length; b++) {
                                    var s = f.events[b];
                                    f.Rd(s);
                                }
                                for (var b = 0; b < f.blocks.length; b++) {
                                    var N = f.blocks[b];
                                    N.events.sort(this.Qg);
                                    for (var I = 0; I < N.events.length; I++) {
                                        var s = N.events[I];
                                        N.Td(s);
                                    }
                                }
                            }
                            this.we.events.sort(this.Qg),
                                (this.we.Td = function (e) {
                                    for (var t = 0; t < this.lines.length; t++) {
                                        var n = this.lines[t];
                                        if (n.Ud(e.part.colStart, e.part.colWidth)) return n.push(e), t;
                                    }
                                    var n = [];
                                    return (
                                        (n.Ud = function (e, t) {
                                            for (var n = e + t - 1, i = this.length, a = 0; a < i; a++) {
                                                var r = this[a];
                                                if (!(n < r.part.colStart || e > r.part.colStart + r.part.colWidth - 1)) return !1;
                                            }
                                            return !0;
                                        }),
                                        n.push(e),
                                        this.lines.push(n),
                                        this.lines.length - 1
                                    );
                                });
                            for (var o = 0; o < this.we.events.length; o++) {
                                var s = this.we.events[o];
                                this.we.Td(s);
                            }
                            var L = Math.max(this.we.lines.length, 1);
                            this.ta.allDayHeaderHeight = L * (C.xe() + 2) + 2;
                        }
                    }),
                    (this.Pg = function (e, t) {
                        if (!(e && t && e.start && t.start)) return 0;
                        var n = e.start().ticks - t.start().ticks;
                        return 0 !== n ? n : t.end().ticks - e.end().ticks;
                    }),
                    (this.Qg = function (e, t) {
                        if (!e || !t) return 0;
                        if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length)) return y.Pg(e, t);
                        for (var n = 0, i = 0; 0 === n && "undefined" != typeof e.data.sort[i] && "undefined" != typeof t.data.sort[i]; )
                            (n = e.data.sort[i] === t.data.sort[i] ? 0 : "number" == typeof e.data.sort[i] && "number" == typeof t.data.sort[i] ? e.data.sort[i] - t.data.sort[i] : y.Rg(e.data.sort[i], t.data.sort[i], y.sortDirections[i])),
                                i++;
                        return n;
                    }),
                    (this.Rg = function (e, t, n) {
                        var i = "desc" !== n,
                            a = i ? -1 : 1,
                            r = -a;
                        if (null === e && null === t) return 0;
                        if (null === t) return r;
                        if (null === e) return a;
                        var o = [];
                        return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
                    }),
                    (this.Sg = function (e) {
                        for (var t = 0; t < y.elements.events.length; t++) {
                            var n = y.elements.events[t];
                            if (n.event === e || n.event.data === e.data) return n;
                        }
                        return null;
                    }),
                    (this.events.find = function (e) {
                        if (!y.events.list || "undefined" == typeof y.events.list.length) return null;
                        if ("function" == typeof e) {
                            for (var t = e, n = 0; n < y.events.list.length; n++) {
                                var i = new DayPilot.Event(y.events.list[n], y);
                                if (t(i)) return i;
                            }
                            return null;
                        }
                        for (var a = y.events.list.length, n = 0; n < a; n++) if (y.events.list[n].id === e) return new DayPilot.Event(y.events.list[n], y);
                        return null;
                    }),
                    (this.events.findRecurrent = function (e, t) {
                        if (!y.events.list || "undefined" == typeof y.events.list.length) return null;
                        for (var n = y.events.list.length, i = 0; i < n; i++) if (y.events.list[i].recurrentMasterId === e && y.events.list[i].start.getTime() === t.getTime()) return new DayPilot.Event(y.events.list[i], y);
                        return null;
                    }),
                    (this.events.all = function () {
                        for (var e = [], t = 0; t < y.events.list.length; t++) {
                            var n = new DayPilot.Event(y.events.list[t], y);
                            e.push(n);
                        }
                        return u(e);
                    }),
                    (this.events.edit = function (e) {
                        function t() {
                            var t = y.Sg(e);
                            t && y.Vb(t);
                        }
                        t();
                    }),
                    (this.events.update = function (e, t) {
                        if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
                            var n = y.events.find(e.id);
                            if (!n) throw new DayPilot.Exception("The event to be updated was not found");
                            var i = DayPilot.indexOf(y.events.list, n.data);
                            return y.events.list.splice(i, 1, e), (n.data = e), void y.events.update(n);
                        }
                        var a = {};
                        (a.oldEvent = new DayPilot.Event(e.copy(), y)), (a.newEvent = new DayPilot.Event(e.temp(), y));
                        var r = new DayPilot.Action(y, "EventUpdate", a, t);
                        return e.commit(), y.ya && y.Ad({ eventsOnly: !0 }), y.Tg.notify(), r;
                    }),
                    (this.events.remove = function (e, t) {
                        if ("string" == typeof e || "number" == typeof e) {
                            var n = e,
                                i = y.events.find(n);
                            if (!i) throw new DayPilot.Exception("The event to be removed was not found");
                            return void y.events.remove(i);
                        }
                        var a = {};
                        a.e = new DayPilot.Event(e.data, y);
                        var r = new DayPilot.Action(y, "EventRemove", a, t),
                            o = DayPilot.indexOf(y.events.list, e.data);
                        return y.events.list.splice(o, 1), y.ya && y.Ad({ eventsOnly: !0 }), y.Tg.notify(), r;
                    }),
                    (this.events.add = function (e, t) {
                        e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), (e.calendar = y), y.events.list || (y.events.list = []), y.events.list.push(e.data);
                        var n = {};
                        n.e = e;
                        var i = new DayPilot.Action(y, "EventAdd", n, t);
                        return y.ya && y.Ad({ eventsOnly: !0 }), y.Tg.notify(), i;
                    }),
                    (this.events.filter = function (e) {
                        (y.events.Ng = e), y.Ad({ eventsOnly: !0 });
                    }),
                    (this.events.load = function (e, t, n) {
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception), (t.request = e.request), "function" == typeof n && n(t);
                            },
                            a = function (e) {
                                var n,
                                    a = e.request;
                                try {
                                    n = JSON.parse(a.responseText);
                                } catch (e) {
                                    var r = {};
                                    return (r.exception = e), void i(r);
                                }
                                if (DayPilot.isArray(n)) {
                                    var o = {};
                                    if (
                                        ((o.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (o.data = n),
                                        "function" == typeof t && t(o),
                                        o.preventDefault.value)
                                    )
                                        return;
                                    (y.events.list = n), y.ya && y.Ad({ eventsOnly: !0 });
                                }
                            };
                        if (y.eventsLoadMethod && "POST" === y.eventsLoadMethod.toUpperCase()) DayPilot.ajax({ method: "POST", data: { start: y.visibleStart().toString(), end: y.visibleEnd().toString() }, url: e, success: a, error: i });
                        else {
                            var r = e,
                                o = "start=" + y.visibleStart().toString() + "&end=" + y.visibleEnd().toString();
                            (r += r.indexOf("?") > -1 ? "&" + o : "?" + o), DayPilot.ajax({ method: "GET", url: r, success: a, error: i });
                        }
                    }),
                    (this.events.forRange = function (e, t) {
                        return (
                            (e = new DayPilot.Date(e)),
                            (t = new DayPilot.Date(t)),
                            u(y.events.list)
                                .filter(function (n) {
                                    return c(e, t, new DayPilot.Date(n.start), new DayPilot.Date(n.end));
                                })
                                .map(function (e) {
                                    return new DayPilot.Event(e, y);
                                })
                        );
                    }),
                    (this.events.Mc = function (e) {
                        if (!e) throw new DayPilot.Exception("Error checking overlap for null (internal error)");
                        var t = e instanceof DayPilot.Event ? e.data : e,
                            n = new DayPilot.Date(t.start),
                            i = new DayPilot.Date(t.end);
                        return !!u(y.events.list).find(function (e) {
                            return !y.xd(t, e) && ("Resources" != y.viewType || t.resource === e.resource) && !e.allday && c(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end));
                        });
                    }),
                    (this.xd = function (e, t) {
                        return DayPilot.Util.isSameEvent(e, t);
                    }),
                    (this.W = {}),
                    (this.W.reactDOM = null),
                    (this.W.react = null),
                    (this.W.Ae = function () {
                        if (!y.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                    }),
                    (this.W.V = function (e, t) {
                        var n = y.W.reactDOM;
                        if ("function" == typeof n.createRoot) {
                            var i = t.ma;
                            i || ((i = n.createRoot(t)), (t.ma = i)), i.render(e);
                        } else n.render(e, t);
                    }),
                    (this.W.ka = function (e) {
                        var t = y.W.reactDOM;
                        if ("function" == typeof t.createRoot) {
                            var n = e.ma;
                            setTimeout(function () {
                                n.unmount();
                            }, 0);
                        } else t.unmountComponentAtNode(e);
                    }),
                    (this.queue = {}),
                    (this.queue.list = []),
                    (this.queue.list.ignoreToJSON = !0),
                    (this.queue.add = function (e) {
                        if (e) {
                            if (!e.isAction) throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");
                            y.queue.list.push(e);
                        }
                    }),
                    (this.queue.notify = function (e) {
                        var t = {};
                        (t.actions = y.queue.list), y.Ja("Notify", t, e, "Notify"), (y.queue.list = []);
                    }),
                    (this.queue.clear = function () {
                        y.queue.list = [];
                    }),
                    (this.queue.pop = function () {
                        return y.queue.list.pop();
                    }),
                    (this.Ad = function (e) {
                        if (this.ya && this.Hb) {
                            var e = e || {},
                                t = !e.eventsOnly;
                            y.Da(),
                                t
                                    ? (this.ja() || (y.cellProperties = {}),
                                      y.Ga.Ug(),
                                      y.Sa(),
                                      y.Vg(),
                                      y.lb(),
                                      y.Jd(),
                                      y.nb(),
                                      y.pb(),
                                      y.qb(),
                                      y.ob(),
                                      y.rb(),
                                      y.sb(),
                                      y.Ba(),
                                      y.tb(),
                                      y.Jc(),
                                      y.ub(),
                                      y.vb(),
                                      y.wb(),
                                      y.xb(),
                                      y.Wg(),
                                      y.zb(),
                                      y.Ab(),
                                      y.yb(),
                                      y.Cb())
                                    : (y.Sa(), y.nb(), y.ob(), y.zb(), y.Ab(), y.Cb()),
                                this.visible ? this.show() : this.hide();
                        }
                    }),
                    (this.update = function (e) {
                        if (!y.ya) throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that hasn't been initialized yet.");
                        if (y.za) throw new DayPilot.Exception("You are trying to update a DayPilot.Calendar instance that has been disposed.");
                        if (!y.ya) return void y.Xg(e);
                        if (DayPilot.Util.isOnlyProperty(e, "events")) return (y.events.list = e.events), void y.Ad({ eventsOnly: !0 });
                        if ((this.Xg(e), this.Ad(), "function" == typeof y.onAfterRender)) {
                            var t = {};
                            (t.isUpdate = !0), (t.data = null), y.onAfterRender(t);
                        }
                    }),
                    (this.Wg = function () {
                        var e = y.ca("_main");
                        if ((y.cssClass && (e += " " + y.cssClass), y.rtl && (e += " " + y.ca("_direction_rtl")), y.nav.top.className !== e)) {
                            y.nav.top.className = e;
                            var t = y.nav.corner;
                            (t.className = y.ca("_corner")), (t.firstChild.className = y.ca("_corner_inner"));
                            var n = y.nav.unifiedCornerRight;
                            n && ((n.firstChild.className = y.ca("_cornerright")), (n.firstChild.firstChild.className = y.ca("_cornerright_inner")));
                        }
                    }),
                    (this.show = function () {
                        (y.visible = !0), (y.nav.top.style.display = ""), y.Bb(), y.Xc();
                    }),
                    (this.hide = function () {
                        (y.visible = !1), (y.nav.top.style.display = "none");
                    }),
                    (this.Tg = {}),
                    (this.Tg.scope = null),
                    (this.Tg.notify = function () {
                        y.Tg.scope && y.Tg.scope["$apply"]();
                    }),
                    (this.debug = new DayPilot.Debug(this)),
                    (this.Gb = function (e) {
                        if (e < 0) return 0;
                        y.rtl && (e = y.nav.main.offsetWidth - e);
                        for (var t = 0, n = y.nav.events.rows[0].cells, i = 0; i < n.length; i++) {
                            if (((t += n[i].offsetWidth), e < t)) return i;
                        }
                        return n.length - 1;
                    }),
                    (this.Hc = function (e, t) {
                        e = DayPilot.Util.atLeast(e, 0);
                        var n = this.Gb(e),
                            i = t / (60 / C.Ib()) / y.cellHeight,
                            a = 60 * i * 60 * 1e3,
                            r = 6e4 * Math.floor(a / 6e4),
                            o = r,
                            s = this.Hb[n];
                        if (!s) return null;
                        var l = s.start.addTime(o);
                        return (l = l.addHours(y.Ob()));
                    }),
                    (this.Qf = function (e, t) {
                        var n = e.getTime();
                        t && (n -= t.getTime());
                        var i = 60 * C.Ib() * 1e3,
                            a = n % i;
                        return e.addTime(-a);
                    }),
                    (this.Rf = function (e, t) {
                        return this.Qf(e, t).addTime(60 * C.Ib() * 1e3);
                    }),
                    (this.Oc = function (e, t) {
                        t || (t = this.startDate);
                        var n = t.getTime(),
                            i = e.getTime(),
                            a = this.ta.pixels[i + "_" + n];
                        if (a) return a;
                        this.Ob(!0);
                        n = t.addHours(this.Ob(!0)).getTime();
                        var r = 60 * C.Ib() * 1e3,
                            o = i - n,
                            s = o % r,
                            l = o - s,
                            d = l + r;
                        0 === s && (d = l);
                        var c = {};
                        return (c.cut = !1), (c.top = this.Ff(o)), (c.boxTop = this.Ff(l)), (c.boxBottom = this.Ff(d)), (this.ta.pixels[i + "_" + n] = c), c;
                    }),
                    (this.Ff = function (e) {
                        return Math.floor((this.cellHeight * e) / (6e4 * C.Ib()));
                    }),
                    (this.Vg = function () {
                        (this.startDate = new DayPilot.Date(this.startDate).getDatePart()), (this.rf = C.xe() + 4);
                    }),
                    (this.ob = function () {
                        var e = this.Pb(),
                            t = this.Qe();
                        if (
                            (this.nav.corner && (this.nav.corner.style.height = e + "px"),
                            this.nav.cornerRight && (this.nav.cornerRight.style.height = e + "px"),
                            this.nav.mid && (this.nav.mid.style.height = e + "px"),
                            this.showAllDayEvents && this.nav.header)
                        )
                            for (var n = this.nav.header.rows[this.nav.header.rows.length - 1], i = 0; i < n.cells.length; i++) {
                                var a = n.cells[i];
                                a.firstChild.style.height = C.rf() + "px";
                            }
                        this.nav.upperRight && (this.nav.upperRight.style.height = e + "px"), (this.nav.scroll.style.top = e + "px"), (this.nav.top.style.height = t + "px");
                    }),
                    (this.vb = function () {
                        var e = this.Re();
                        this.nav.scroll &&
                            e > 0 &&
                            ((this.nav.scroll.style.height = e + "px"),
                            (this.Zc = y.nav.scroll.clientHeight),
                            this.nav.bottomLeft && (this.nav.bottomLeft.style.height = e + "px"),
                            this.nav.bottomRight && (this.nav.bottomRight.style.height = e + "px")),
                            this.nav.top && ("Parent100Pct" === this.heightSpec ? (this.nav.top.style.height = "100%") : (this.nav.top.style.height = this.Qe() + "px"));
                    }),
                    (this.setHeight = function (e) {
                        "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"), (this.height = e - this.Pb()), this.vb();
                    }),
                    (this.Yg = function (e) {
                        var n = t();
                        (n.style.position = "absolute"), (n.style.top = "-2000px"), (n.style.left = "-2000px"), (n.className = this.ca(e)), document.body.appendChild(n);
                        var i = n.offsetHeight,
                            a = n.offsetWidth;
                        document.body.removeChild(n);
                        var r = {};
                        return (r.height = i), (r.width = a), r;
                    }),
                    (this.Ga = {});
                var C = this.Ga;
                (C.je = function () {
                    return "Disabled" !== y.columnResizeHandling;
                }),
                    (C.Yd = function () {
                        return "Disabled" !== y.columnMoveHandling;
                    }),
                    (C.te = function (e) {
                        return y.columnResizeHandling === e;
                    }),
                    (C.ie = function (e) {
                        return y.columnMoveHandling === e;
                    }),
                    (C.Fa = function () {
                        return "Disabled" !== y.xssProtection;
                    }),
                    (C.Lc = function () {
                        return DayPilot.Locale.find(y.locale);
                    }),
                    (C.Id = function () {
                        return "number" == typeof y.weekStarts ? y.weekStarts : C.Lc().weekStarts;
                    }),
                    (C.Kc = function () {
                        return "Auto" !== y.timeFormat ? y.timeFormat : C.Lc().timeFormat;
                    }),
                    (C.Og = function (e) {
                        return "Always" === y.useEventBoxes || ("Never" !== y.useEventBoxes && e < 60 * C.Ib() * 1e3);
                    }),
                    (C.fc = function () {
                        var e;
                        if ("Immediate" === y.notifyCommit) e = "Notify";
                        else {
                            if ("Queue" !== y.notifyCommit) throw new DayPilot.Exception("Invalid notifyCommit value: " + y.notifyCommit);
                            e = "Queue";
                        }
                        return e;
                    }),
                    (C.Fd = function () {
                        return "Auto" === y.headerLevels ? y.Bd + 1 : y.headerLevels;
                    }),
                    (C.Ug = function () {
                        delete y.ta.allDayEventHeight, delete y.ta.allDayHeaderHeight, delete y.ta.headerHeight;
                    }),
                    (C.xe = function () {
                        if (y.ta.allDayEventHeight) return y.ta.allDayEventHeight;
                        var e = y.Yg("_alldayevent_height").height;
                        return e || (e = y.allDayEventHeight), (y.ta.allDayEventHeight = e), e;
                    }),
                    (C.rf = function () {
                        if (y.ta.allDayHeaderHeight) return y.ta.allDayHeaderHeight;
                        var e = y.rf;
                        return (y.ta.allDayHeaderHeight = e), e;
                    }),
                    (C.ye = function () {
                        if (y.ta.headerHeight) return y.ta.headerHeight;
                        var e = y.Yg("_header_height").height;
                        return e || (e = y.headerHeight), (y.ta.headerHeight = e), e;
                    }),
                    (C.kf = function () {
                        if ("Auto" === y.timeHeaderCellDuration) return C.Ib() <= 60 ? 60 : C.Ib();
                        if ("number" == typeof y.timeHeaderCellDuration) return y.timeHeaderCellDuration;
                        throw new DayPilot.Exception("Invalid timeHeaderCellDuration value: " + y.timeHeaderCellDuration);
                    }),
                    (C.Ib = function () {
                        switch (y.scale) {
                            case "CellDuration":
                                return y.cellDuration;
                            case "Minute":
                                return 1;
                            case "Hour":
                                return 60;
                            case "Day":
                                return 1440;
                            case "Week":
                                return "Resources" !== y.viewType ? y.cellDuration : 10080;
                            default:
                                throw new DayPilot.Exception("Invalid scale value: " + y.scale);
                        }
                    }),
                    (this.exportAs = function (e, t) {
                        if (!y.fg()) throw new DayPilot.Exception("DayPilot.Calendar.exportAs(): The instance must be visible during export.");
                        var n = _.Zg(e, t);
                        return new DayPilot.Export(n);
                    }),
                    (this.$g = {});
                var _ = this.$g;
                (_.A = null),
                    (_._g = null),
                    (_.Zg = function (e, t) {
                        "object" == typeof e && ((t = e), (e = null));
                        var t = t || {},
                            e = e || t.format || "svg",
                            n = t.scale || 1;
                        if ("config" !== e) {
                            "jpg" === e.toLowerCase() && (e = "jpeg");
                            var i = t.area || "viewport";
                            (_.A = t), (_._g = i);
                            var a,
                                o = _.ah(),
                                s = _.bh();
                            switch (e.toLowerCase()) {
                                case "svg":
                                    a = new DayPilot.Svg(o, s);
                                    break;
                                case "png":
                                    a = new DayPilot.Canvas(o, s, "image/png", n);
                                    break;
                                case "jpeg":
                                    a = new DayPilot.Canvas(o, s, "image/jpeg", n, t.quality);
                                    break;
                                default:
                                    throw new DayPilot.Exception("Export format not supported: " + e);
                            }
                            var d = _.ch(),
                                c = new DayPilot.StyleReader(y.nav.top).getBackColor(),
                                h = new DayPilot.StyleReader(y.nav.top).get("border-top-color");
                            "0px" !== new DayPilot.StyleReader(y.nav.top).get("border-top-width") || (h = "white");
                            var v = new DayPilot.StyleReader(y.nav.corner.firstChild).getBackColor(c),
                                p = y.nav.hourTable.rows[0].cells[0].firstChild.firstChild,
                                m = p.getElementsByClassName(y.ca("_rowheader_minutes"))[0],
                                g = new DayPilot.StyleReader(p).get("border-right-color"),
                                b = new DayPilot.StyleReader(p).getBackColor(c),
                                w = new DayPilot.StyleReader(p).getFont(),
                                x = w,
                                k = 0;
                            m && ((x = new DayPilot.StyleReader(p.firstChild.childNodes[1]).getFont() || x), (k = new DayPilot.StyleReader(p.firstChild.childNodes[1]).getPx("padding-right") || k));
                            var D = new DayPilot.StyleReader(p).get("color"),
                                T = y.nav.header.rows[0].cells[0].firstChild.firstChild,
                                E = new DayPilot.StyleReader(T).getBackColor(c),
                                S = new DayPilot.StyleReader(T).getFont(),
                                A = new DayPilot.StyleReader(T).get("color"),
                                H = new DayPilot.StyleReader(T).get("border-right-color"),
                                M = y.nav.header.rows[y.nav.header.rows.length - 1].cells[0].firstChild,
                                R = M.firstChild,
                                B = new DayPilot.StyleReader(M).getBackColor(c),
                                P = new DayPilot.StyleReader(R).getBackColor(B),
                                N = y.nav.main.rows[0].cells[0].firstChild.firstChild,
                                I = new DayPilot.StyleReader(N).get("border-right-color"),
                                N = _.dh(),
                                L = new DayPilot.StyleReader(N.firstChild).getBackColor();
                            r(N, y.ca("_cell_business"));
                            var z = new DayPilot.StyleReader(N.firstChild).getBackColor();
                            f(N);
                            var O = _.eh(),
                                U = 0;
                            (U = "Fixed" === y.columnWidthSpec ? y.columnWidth : d.gridContent.w / y.Hb.length), a.fillRect(d.main, "white"), a.fillRect(d.main, c);
                            var j = d.corner.h - O;
                            DayPilot.list
                                .for(y.hf(), function (e) {
                                    return y.of(e);
                                })
                                .forEach(function (e) {
                                    var t = y.lf(),
                                        n = e.hour,
                                        i = e.sup,
                                        r = e.text ? e.text : n,
                                        o = 0;
                                    m && (o = 20);
                                    var s = { x: 0, y: j, w: d.grid.x + 1, h: t + 1 },
                                        l = { x: 0, y: j, w: d.grid.x + 1 - o, h: t + 1 },
                                        c = { x: l.w, y: j, w: o - k - 1, h: t + 1 },
                                        u = b;
                                    a.fillRect(s, u), a.text(l, r, w, D, "right"), m && a.text(c, i, x, D, "right"), a.rect(s, g), (j += t);
                                });
                            var W = 60 * C.Ib() * 1e3,
                                F = d.grid.x;
                            u(y.Hb).forEach(function (e, t) {
                                var n = U,
                                    i = d.grid.y - O;
                                DayPilot.list.for(y.Sb()).forEach(function (o, s) {
                                    var d = y.Cf(t, s) || {},
                                        c = null;
                                    if (d.cssClass) {
                                        var u = _.dh();
                                        r(u, d.cssClass), (c = new DayPilot.StyleReader(u.firstChild).getBackColor()), f(u);
                                    }
                                    var h = y.cellHeight,
                                        v = { x: F, y: i, w: n + 1, h: h + 1 },
                                        p = d.business,
                                        m = {};
                                    (m.cell = {}),
                                        (m.cell.start = e.start.addTime(s * W).addHours(y.Ob())),
                                        (m.cell.end = m.cell.start.addTime(W)),
                                        (m.cell.resource = e.id),
                                        l(d, m.cell, ["cssClass", "html", "backImage", "backRepeat", "backColor", "business"]),
                                        (m.backColor = c || (p ? z : L)),
                                        "function" == typeof y.onBeforeCellExport && y.onBeforeCellExport(m),
                                        a.fillRect(v, m.backColor),
                                        a.rect(v, I),
                                        (i += h);
                                }),
                                    (F += n);
                            });
                            var q = d.grid.x;
                            u(y.Hb).forEach(function (e) {
                                u(e.events).forEach(function (e) {
                                    var t = e.cache || e.data,
                                        n = _.fh();
                                    n.className += " " + t.cssClass;
                                    var i = n.firstChild,
                                        r = n.childNodes[1],
                                        o = new DayPilot.StyleReader(i).getBackColor(),
                                        s = new DayPilot.StyleReader(i.firstChild).getBackColor(),
                                        c = new DayPilot.StyleReader(i.firstChild).getPx("width"),
                                        h = new DayPilot.StyleReader(r).get("border-right-color"),
                                        v = new DayPilot.StyleReader(r).getFont(),
                                        p = new DayPilot.StyleReader(r).get("color"),
                                        m = new DayPilot.StyleReader(r).getBackColor(),
                                        g = {};
                                    (g.left = new DayPilot.StyleReader(r).getPx("padding-left")),
                                        (g.right = new DayPilot.StyleReader(r).getPx("padding-right")),
                                        (g.top = new DayPilot.StyleReader(r).getPx("padding-top")),
                                        (g.bottom = new DayPilot.StyleReader(r).getPx("padding-bottom")),
                                        f(n);
                                    var b = q + (U * e.part.left) / 100,
                                        w = ((U - y.columnMarginRight - y.columnMarginLeft) * e.part.width) / 100,
                                        x = e.part.top + d.grid.y - y.Pc() - O,
                                        k = e.part.height,
                                        C = t.backColor || m,
                                        D = t.barColor || s,
                                        T = t.barBackColor || o,
                                        E = t.borderColor || h,
                                        S = {};
                                    (S.e = e),
                                        (S.text = e.text ? e.text() : e.client.html()),
                                        (S.fontSize = v.size),
                                        (S.fontFamily = v.family),
                                        (S.fontStyle = v.style),
                                        (S.fontColor = p),
                                        (S.backColor = C),
                                        (S.borderColor = E),
                                        (S.horizontalAlignment = "left"),
                                        (S.barWidth = c),
                                        (S.barColor = D),
                                        (S.barBackColor = T),
                                        "function" == typeof y.onBeforeEventExport && y.onBeforeEventExport(S);
                                    var A = { x: b, y: x, w: w + 1, h: k + 1 },
                                        H = l(A),
                                        M = l(H);
                                    if (((M.x += g.left), (M.w -= g.left + g.right), (M.y += g.top), (M.h -= g.top + g.bottom), a.fillRect(A, S.backColor), e.client.barVisible())) {
                                        var R = { x: A.x, y: A.y, w: S.barWidth, h: A.h },
                                            B = { x: A.x, y: A.y + 1 + e.part.barTop, w: S.barWidth, h: e.part.barHeight + 1 };
                                        a.fillRect(R, S.barBackColor), a.fillRect(B, S.barColor);
                                    }
                                    a.text(M, S.text, { size: S.fontSize, family: S.fontFamily, style: S.fontStyle }, S.fontColor, S.horizontalAlignment), a.rect(A, S.borderColor);
                                    var b = A.x,
                                        P = A.x + A.w - 2,
                                        x = A.y;
                                    u(t.areas).forEach(function (t) {
                                        if (DayPilot.Areas.isVisible(t)) {
                                            var n = t.left;
                                            t.start && (n = y.getPixels(new DayPilot.Date(t.start)).left - e.part.left);
                                            var i = t.width || t.w,
                                                r = t.height || t.h;
                                            n || (n = P - i - b), t.right ? (i = e.part.width - t.right - n) : t.end && (i = y.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1);
                                            var o = t.top;
                                            "number" == typeof t.bottom && (r = e.part.height - t.bottom - o);
                                            var s = { x: b + n, y: x + o, w: i, h: r };
                                            if ((t.backColor && a.fillRect(s, t.backColor), t.image)) {
                                                var l = new Image();
                                                (l.src = t.image), a.image(s, l);
                                            } else t.html && a.text(s, t.html, { size: S.fontSize, family: S.fontFamily, style: S.fontStyle }, t.fontColor || S.fontColor, null, t.padding);
                                        }
                                    });
                                }),
                                    (q += U);
                            }),
                                a.fillRect(d.corner, v);
                            var Y = 1;
                            return (
                                "Fixed" !== y.columnWidthSpec && (Y = d.gridContent.w / 100),
                                DayPilot.list.for(C.Fd()).forEach(function (e) {
                                    var t = d.gridContent.x,
                                        n = y.headerHeight * e,
                                        i = y.Ed(e + 1),
                                        r = y.ve(e);
                                    u(i).forEach(function (i, o) {
                                        var s = {};
                                        (s.text = DayPilot.Util.stripTags(i.html)),
                                            (s.horizontalAlignment = "center"),
                                            (s.verticalAlignment = "center"),
                                            (s.backColor = i.backColor || E),
                                            (s.fontSize = S.size),
                                            (s.fontFamily = S.family),
                                            (s.fontStyle = S.style),
                                            (s.fontColor = A),
                                            (s.header = {}),
                                            (s.header.level = e),
                                            l(i, s.header, ["id", "start", "name", "html", "backColor"]),
                                            "function" == typeof y.onBeforeHeaderExport && y.onBeforeHeaderExport(s);
                                        var d = 0 === r.length,
                                            c = d ? U : r[o].width * Y,
                                            u = d ? t : t + r[o].left * Y,
                                            h = y.headerHeight,
                                            f = { x: u, y: n, w: c + 1, h: h + 1 };
                                        a.fillRect(f, s.backColor), a.rect(f, H), a.text(f, s.text, { size: s.fontSize, family: s.fontFamily, style: s.fontStyle }, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment), d && (t += U);
                                    });
                                }),
                                (function () {
                                    if (y.showAllDayEvents) {
                                        var e = y.headerHeight * C.Fd(),
                                            t = d.gridContent.x;
                                        u(y.Hb).forEach(function (n) {
                                            var i = U,
                                                r = C.rf(),
                                                o = { x: t, y: e, w: i + 1, h: r + 1 };
                                            a.fillRect(o, P), a.rect(o, H), (t += U);
                                        }),
                                            u(y.we.lines).forEach(function (e, t) {
                                                u(e).forEach(function (e) {
                                                    var n = _.fh("alldayevent");
                                                    n.className += " " + e.data.cssClass;
                                                    var i = n.firstChild,
                                                        r = new DayPilot.StyleReader(i).get("border-right-color"),
                                                        o = new DayPilot.StyleReader(i).getFont(),
                                                        s = new DayPilot.StyleReader(i).get("color"),
                                                        c = new DayPilot.StyleReader(i).getBackColor(),
                                                        h = {};
                                                    (h.left = new DayPilot.StyleReader(i).getPx("padding-left")),
                                                        (h.right = new DayPilot.StyleReader(i).getPx("padding-right")),
                                                        (h.top = new DayPilot.StyleReader(i).getPx("padding-top")),
                                                        (h.bottom = new DayPilot.StyleReader(i).getPx("padding-bottom")),
                                                        f(n);
                                                    var v = e.cache || e.data,
                                                        p = v.backColor || c,
                                                        m = v.borderColor || r,
                                                        g = v.fontColor || s,
                                                        b = {};
                                                    (b.e = e),
                                                        (b.text = e.text ? e.text() : e.client.html()),
                                                        (b.fontSize = o.size),
                                                        (b.fontFamily = o.family),
                                                        (b.fontStyle = o.style),
                                                        (b.fontColor = g),
                                                        (b.backColor = p),
                                                        (b.borderColor = m),
                                                        (b.horizontalAlignment = "left"),
                                                        "function" == typeof y.onBeforeEventExport && y.onBeforeEventExport(b);
                                                    var w = e.part.colStart * U + d.gridContent.x + 2,
                                                        x = e.part.colWidth * U - 4,
                                                        k = C.xe() - 1,
                                                        D = C.Fd() * C.ye() + t * C.xe() + 2,
                                                        T = { x: w, y: D, w: x, h: k },
                                                        E = l(T);
                                                    (E.x += h.left),
                                                        (E.w -= h.left + h.right),
                                                        (E.y += h.top),
                                                        (E.h -= h.top + h.bottom),
                                                        a.fillRect(T, b.backColor),
                                                        a.text(E, b.text, { size: b.fontSize, family: b.fontFamily, style: b.fontStyle }, b.fontColor, b.horizontalAlignment),
                                                        a.rect(T, b.borderColor);
                                                    var S = T.x + T.w - 2,
                                                        A = x,
                                                        H = k;
                                                    u(v.areas).forEach(function (e) {
                                                        if (DayPilot.Areas.isVisible(e)) {
                                                            var t = e.left,
                                                                n = e.width || e.w,
                                                                i = e.height || e.h;
                                                            t || (t = S - n - w), e.right && (n = A - e.right - t);
                                                            var r = e.top;
                                                            "number" == typeof e.bottom && (i = H - e.bottom - r);
                                                            var o = { x: w + t, y: D + r, w: n, h: i };
                                                            if ((e.backColor && a.fillRect(o, e.backColor), e.image)) {
                                                                var s = new Image();
                                                                (s.src = e.image), a.image(o, s);
                                                            } else e.html && a.text(o, e.html, { size: b.fontSize, family: b.fontFamily, style: b.fontStyle }, e.fontColor || b.fontColor, null, e.padding);
                                                        }
                                                    });
                                                });
                                            });
                                    }
                                })(),
                                a.rect(d.main, h),
                                a.line(d.grid.x, 0, d.grid.x, d.main.h, g),
                                a.line(0, d.grid.y, d.main.w, d.grid.y, g),
                                a
                            );
                        }
                    }),
                    (_.dh = function () {
                        var e = t();
                        (e.style.display = "none"), (e.className = y.ca("_cell")), (e.style.position = "absolute"), (e.style.top = "-2000px"), (e.style.left = "-2000px");
                        var n = t();
                        return (n.className = y.ca("_cell_inner")), e.appendChild(n), y.nav.bottomRight.appendChild(e), e;
                    }),
                    (_.fh = function (e) {
                        e = e || "event";
                        var n = t();
                        if (((n.style.position = "absolute"), (n.style.top = "-2000px"), (n.style.left = "-2000px"), (n.style.display = "none"), (n.className = y.ca("_" + e)), "event" === e)) {
                            var i = t();
                            i.className = y.ca("_event_bar");
                            var a = t();
                            (a.className = y.ca("_event_bar_inner")), i.appendChild(a), n.appendChild(i);
                        }
                        var r = t();
                        (r.className = y.ca("_" + e + "_inner")), n.appendChild(r);
                        var o = y.nav.events.rows[0].cells[0].events;
                        return "alldayevent" === e && (o = y.nav.allday), o.appendChild(n), n;
                    }),
                    (_.eh = function () {
                        switch (_._g) {
                            case "full":
                                return 0;
                            case "viewport":
                                var e = y.Yc();
                                return e.scrollTop;
                            case "range":
                                var e = y.Yc();
                                return e.scrollTop;
                        }
                    }),
                    (_.ah = function () {
                        var e = _._g,
                            t = y.nav.top.clientWidth,
                            n = t - y.hourWidth,
                            i = y.Hb.length,
                            a = Math.floor(n / i) * i + y.hourWidth;
                        switch (e) {
                            case "viewport":
                            case "full":
                            case "range":
                                return "number" == typeof _.A.width ? _.A.width : a;
                            default:
                                throw new DayPilot.Exception("Unsupported export mode: " + e);
                        }
                    }),
                    (_.bh = function () {
                        var e = _._g;
                        switch (e) {
                            case "full":
                                return y.Ee() + y.Pb();
                            case "viewport":
                                return y.nav.top.offsetHeight - DayPilot.sh(y.nav.scroll) - 1;
                            default:
                                throw new DayPilot.Exception("Unsupported export mode: " + e);
                        }
                    }),
                    (_.ch = function () {
                        var e = _.gh(),
                            t = y.Pb(),
                            n = {};
                        (n.main = { x: 0, y: 0, w: _.ah(), h: _.bh() }), (n.corner = { x: 0, y: 0, w: e, h: t }), (n.grid = { x: e, y: t, w: _.ah() - e, h: _.bh() - t });
                        var i = _.hh(),
                            a = y.Ee();
                        return (n.gridContent = { x: e, y: t, w: i, h: a }), n;
                    }),
                    (_.gh = function () {
                        return y.hourWidth;
                    }),
                    (_.hh = function () {
                        var e = y.Yc().offsetWidth,
                            t = y.Hb.length;
                        return Math.floor(e / t) * t;
                    }),
                    (this.ih = function () {
                        return !!this.backendUrl;
                    }),
                    (this.jh = function () {
                        if (this.id && this.id.tagName) this.nav.top = this.id;
                        else {
                            if ("string" != typeof this.id) throw new DayPilot.Exception("DayPilot.Calendar() constructor requires the target element or its ID as a parameter");
                            if (((this.nav.top = document.getElementById(this.id)), !this.nav.top)) throw new DayPilot.Exception("DayPilot.Calendar: The placeholder element not found: '" + p + "'.");
                        }
                        (function (s, t, u) {
                            var r = [];
                            for (var i = 0; i < s.length; i++) {
                                r.push(s.charCodeAt(i) - 1);
                            }
                            return new Function("t", "u", String.fromCharCode.apply(this, r))(t, u);
                        })(
                            "wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
                            this,
                            this.nav.top
                        );
                    }),
                    (this.kh = function () {
                        this.jh(), this.Vg(), this.lb(), this.Se(), this.pb(), this.qb(), this.tb(), this.Wg(), this.wb(), this.eg(), this.lg(), this.$a(), this.xb(), v.lh(this), this.Bb(), this.yb(), this.gg(), this.Db(), this.Ja("Init");
                    }),
                    (this.init = function () {
                        if (this.ya) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                        if ((this.jh(), this.nav.top.dp)) {
                            if (this.nav.top.dp === y) return y;
                            if (this.Oa()) return y;
                            throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");
                        }
                        return (
                            this.Pe(),
                            this.ih()
                                ? (this.kh(), (this.ya = !0), this)
                                : (this.Vg(),
                                  this.lb(),
                                  this.mb(),
                                  this.events.list || (this.events.list = []),
                                  this.nb(),
                                  this.Se(),
                                  this.pb(),
                                  this.qb(),
                                  this.tb(),
                                  this.Wg(),
                                  this.D(),
                                  this.xb(),
                                  this.wb(),
                                  this.eg(),
                                  this.lg(),
                                  this.$a(),
                                  v.lh(this),
                                  this.ob(),
                                  this.zb(),
                                  this.Ab(),
                                  this.Bb(),
                                  this.messageHTML &&
                                      window.setTimeout(function () {
                                          y.message(y.messageHTML);
                                      }, 0),
                                  this.yb(),
                                  this.ib(null, !1),
                                  y.initEventEnabled &&
                                      setTimeout(function () {
                                          y.Ja("Init");
                                      }),
                                  this.gg(),
                                  this.Db(),
                                  (this.ya = !0),
                                  this.mh(),
                                  this)
                        );
                    }),
                    (this.nh = null),
                    (this.Xg = function (e) {
                        if (e) {
                            var t = {
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (DayPilot.isArray(e.list) ? (y.events.list = e.list) : (y.events.list = e));
                                    },
                                },
                                columns: {
                                    preInit: function () {
                                        y.kb() === y.columns ? (y.columns = this.data) : (y.columns.list = this.data);
                                    },
                                },
                                scrollToHour: {
                                    postInit: function () {
                                        "undefined" != typeof this.data && y.scrollToHour(this.data);
                                    },
                                },
                                zoom: {
                                    preInit: function () {
                                        var e = this.data;
                                        if ("string" == typeof e) {
                                            var t = e;
                                            e = y.zoom.ed(t);
                                        }
                                        var n = e !== y.zoom.active,
                                            i = y.zoom.fd();
                                        y.zoom.gd(e);
                                        n ? (this.hour = i) : (this.hour = null);
                                    },
                                    postInit: function () {
                                        this.hour && y.scrollToHour(this.hour);
                                    },
                                },
                            };
                            this.nh = t;
                            for (var n in e)
                                if (t[n]) {
                                    var i = t[n];
                                    (i.data = e[n]), i.preInit && i.preInit();
                                } else y[n] = e[n];
                        }
                    }),
                    (this.mh = function () {
                        var e = this.nh;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return y.ya;
                    }),
                    (this.internal.invokeEvent = this.ec),
                    (this.internal.eventMenuClick = this.uc),
                    (this.internal.timeRangeMenuClick = this.vc),
                    (this.internal.bubbleCallBack = this.sc),
                    (this.internal.findEventDiv = this.Sg),
                    (this.internal.eventDeleteDispatch = this.dc),
                    (this.internal.xssTextHtml = y.Ea),
                    (this.internal.touch = this.Je),
                    (this.internal.enableReact = function (e, t) {
                        (y.W.react = e), (y.W.reactDOM = t);
                    }),
                    (this.internal.reactRefs = function () {
                        return l(y.W, {}, ["react", "reactDOM"]);
                    }),
                    (this.internal.loadOptions = y.Xg),
                    (this.Init = this.init),
                    this.Xg(m);
            };
            var v = {};
            (v.Kf = null),
                (v.Sf = null),
                (v.Tf = null),
                (v.mg = !1),
                (v.editing = !1),
                (v.originalText = null),
                (v.lh = function (e) {
                    v.Hf || (v.Hf = []);
                    for (var t = v.Hf, n = 0; n < t.length; n++) if (t[n] === e) return;
                    t.push(e);
                }),
                (v.Za = function (e) {
                    var t = v.Hf;
                    if (t) {
                        var n = DayPilot.indexOf(t, e);
                        n !== -1 && t.splice(n, 1), 0 === t.length && (t = null);
                    }
                    t || (DayPilot.ue(document, "mousemove", v.ng), DayPilot.ue(document, "mouseup", v.og), DayPilot.ue(document, "touchmove", v.pg), DayPilot.ue(document, "touchend", v.qg), (v.mg = !1));
                }),
                (v.oh = function (e) {
                    if (e.data && e.data.calendar.ra) {
                        for (var t = e.data.calendar, n = [], i = e.data.y, a = e.data.x, r = v.ph.data.y, o = i; o >= r; o--) n.push(t.nav.main.rows[o].cells[a]);
                        return n;
                    }
                    for (var n = [], s = v.qh(e), l = e.parentNode, d = null; l && d !== v.ph; ) for (d = l.getElementsByTagName("td")[s], n.push(d), l = l.previousSibling; l && "TR" !== l.tagName; ) l = l.previousSibling;
                    return n;
                }),
                (v.rh = function (e) {
                    if (e.data && e.data.calendar.ra) {
                        for (var t = e.data.calendar, n = [], i = e.data.y, a = e.data.x, r = v.ph.data.y, o = i; o <= r; o++) n.push(t.nav.main.rows[o].cells[a]);
                        return n;
                    }
                    for (var n = [], s = v.qh(e), l = e.parentNode, d = null; l && d !== v.ph; ) for (d = l.getElementsByTagName("td")[s], n.push(d), l = l.nextSibling; l && "TR" !== l.tagName; ) l = l.nextSibling;
                    return n;
                }),
                (v.qh = function (e) {
                    var t = 0;
                    if (!e) return null;
                    for (; e.previousSibling; ) (e = e.previousSibling), "TD" === e.tagName && t++;
                    return t;
                }),
                (v.pg = function (e) {
                    if (!s(e) && v.drag) {
                        e.preventDefault();
                        var t = e.touches ? e.touches[0].pageX : e.pageX,
                            n = e.touches ? e.touches[0].pageY : e.pageY,
                            i = {};
                        (i.x = t), (i.y = n);
                        var a = (function () {
                            for (var t = e.touches ? e.touches[0].clientX : e.clientX, n = e.touches ? e.touches[0].clientY : e.clientY, i = document.elementFromPoint(t, n); i && i.parentNode; )
                                if (((i = i.parentNode), i.daypilotMainD)) return i.calendar;
                            return !1;
                        })();
                        if (a) {
                            if ((v.gShadow && document.body.removeChild(v.gShadow), (v.gShadow = null), (a.coords = a.Je.Cg(e)), !v.movingShadow && a.coords)) {
                                var r = a.Fb(v.drag, !1);
                                if (r) {
                                    v.movingShadow = r;
                                    var l = DayPilot.Date.today(),
                                        e = { value: v.drag.id, start: l, end: l.addSeconds(v.drag.duration), text: v.drag.text },
                                        d = new DayPilot.Event(e, a);
                                    (d.external = !0), (h.moving = {}), (h.moving.event = d), (h.moving.helper = {});
                                }
                            }
                            h.moving && a.Je.Hg();
                        } else {
                            f(v.movingShadow);
                            var c = h.moving && h.moving.event && h.moving.event.calendar;
                            c && o(h.moving, c.ca("_event_moving_source")), (h.moving = null), (v.movingShadow = null), v.gShadow || (v.gShadow = v.createGShadow(v.drag.shadowType));
                            var r = v.gShadow;
                            (r.style.left = i.x + "px"), (r.style.top = i.y + "px");
                        }
                    }
                }),
                (v.qg = function (e) {
                    s(e) || v.og(e);
                }),
                (v.ng = function (e) {
                    if ("undefined" != typeof v && !(e.insideMainD || (e.srcElement && e.srcElement.inside))) {
                        var t = DayPilot.mc(e);
                        if (v.drag) {
                            var n = v.drag.Lf,
                                i = "move";
                            "string" == typeof n.externalCursor && (i = n.externalCursor), (document.body.style.cursor = i), v.gShadow || (v.gShadow = v.createGShadow(v.drag.shadowType));
                            var a = v.gShadow,
                                o = 5,
                                s = t.x - o,
                                l = t.y - o;
                            (a.style.left = s + "px"),
                                (a.style.top = l + "px"),
                                (a.style.cursor = i),
                                n.externalHtml && (a.innerHTML = n.externalHtml),
                                n.externalCssClass && r(a, n.externalCssClass),
                                (h.moving = null),
                                f(v.movingShadow),
                                (v.movingShadow = null);
                        }
                        for (var d = 0; d < v.Hf.length; d++) v.Hf[d].ab && v.Hf[d].ab();
                    }
                }),
                (v.uh = function (e) {
                    if (v.Hf)
                        for (var t = v.Hf, n = 0; n < t.length; n++) {
                            var i = t[n];
                            v.Za(i);
                        }
                }),
                (v.og = function (e) {
                    var e = e || window.event;
                    if (h.resizing) {
                        if (!v.resizingShadow) return (h.resizing.style.cursor = "default"), (h.resizing.event.calendar.nav.top.style.cursor = "auto"), void (h.resizing = null);
                        var t = h.resizing.event,
                            n = h.resizing.dpBorder,
                            i = v.resizingShadow.clientHeight,
                            a = v.resizingShadow.offsetTop,
                            r = v.resizingShadow.args,
                            s = t.calendar;
                        if (((h.resizing.style.cursor = "default"), (s.nav.top.style.cursor = "auto"), (h.resizing.onclick = null), (h.resizing = null), !r.allowed)) return void s.kc();
                        t.calendar.jc(t, i, a, n);
                    } else if (h.moving) {
                        var l = function () {
                            h.movingAreaData = null;
                            var e = h.moving && h.moving.event && h.moving.event.calendar;
                            e && o(h.moving, e.ca("_event_moving_source")), (h.moving = null), f(v.movingShadow), (v.movingShadow = null);
                        };
                        if (!h.moving.helper) return void l();
                        if (!v.movingShadow) return (h.moving.event.calendar.nav.top.style.cursor = "auto"), void l();
                        var a = v.movingShadow.offsetTop,
                            t = h.moving.event,
                            s = t.calendar;
                        s.db = r;
                        var d = v.movingShadow.column,
                            c = v.drag;
                        h.moving.event.calendar.nav.top.style.cursor = "auto";
                        var r = v.movingShadow.args;
                        if ((c && (t.calendar.todo || (t.calendar.todo = {}), (t.calendar.todo.del = c.element)), r && !r.allowed)) return s.pc(), void l();
                        var u = e || window.event;
                        t.calendar.oc(t, d, a, u, c), l();
                    } else if (h.selecting) {
                        var p = function () {
                            var e = h.selecting,
                                t = h.selecting.calendar,
                                n = h.selecting.origin;
                            if (((h.selecting = null), (t.Ca = e), !e.args.allowed)) return void t.clearSelection();
                            if ("Disabled" === t.timeRangeDoubleClickHandling) {
                                var i = t.getSelection();
                                if (!i) return;
                                t.wc(i.start, i.end, i.resource, n);
                            } else
                                t.Qc = setTimeout(function () {
                                    var e = t.getSelection();
                                    e && t.wc(e.start, e.end, e.resource, n);
                                }, t.doubleClickTimeout);
                        };
                        h.selecting && null !== v.vh ? p() : (v.selectedTimeout = setTimeout(p, 100));
                    } else if (h.colResizing) {
                        var m = h.colResizing;
                        (h.colResizing = null), m.se();
                    } else if (h.colMoving) {
                        var g = h.colMoving;
                        (h.colMoving = null), g.ge();
                    }
                    v.drag && ((v.drag = null), (document.body.style.cursor = "")), v.gShadow && (document.body.removeChild(v.gShadow), (v.gShadow = null)), (v.moveOffsetY = null);
                }),
                (v.dragStart = function (e, t, n, i, a) {
                    DayPilot.us(e);
                    var r = (v.drag = {});
                    return (r.element = e), (r.duration = t), (r.text = i), (r.id = n), (r.shadowType = a ? a : "Fill"), (r.Lf = { id: n, text: i, duration: t, externalHtml: i }), !1;
                }),
                (DayPilot.Calendar.def = {}),
                (DayPilot.Calendar.makeDraggable = function (e) {
                    function t() {
                        var t = (v.drag = {});
                        (t.element = r), (t.id = l), (t.duration = c), (t.text = d), (t.shadowType = "Fill"), (t.Lf = e), (t.Mf = e.data);
                    }
                    var n = e.element,
                        r = e.keepElement ? null : n,
                        o = e.data || {},
                        l = "undefined" != typeof e.id ? e.id : o.id,
                        d = "string" == typeof e.text ? e.text : o.text || "",
                        c = e.duration || o.duration;
                    c instanceof DayPilot.Duration && (c = c.totalSeconds()),
                        c || (c = o.start && o.end ? new DayPilot.Duration(o.start, o.end).totalSeconds() : 60),
                        navigator.msPointerEnabled && ((n.style.msTouchAction = "none"), (n.style.touchAction = "none"));
                    var u = function (e) {
                            t();
                            var n = e.target || e.srcElement;
                            if (n.tagName) {
                                var i = n.tagName.toLowerCase();
                                if ("textarea" === i || "select" === i || "input" === i) return !1;
                            }
                            return e.preventDefault && e.preventDefault(), !1;
                        },
                        h = function (e) {
                            if (!s(e)) {
                                window.setTimeout(function () {
                                    t(), v.pg(e), e.preventDefault();
                                }, 0),
                                    e.preventDefault();
                            }
                        };
                    DayPilot.us(n),
                        a(n, "mousedown", u),
                        i(n, DayPilot.touch.start, h),
                        (n.cancelDraggable = function () {
                            DayPilot.ue(n, "mousedown", u), DayPilot.ue(n, DayPilot.touch.start, h), delete n.cancelDraggable;
                        });
                }),
                (DayPilot.Calendar.stopDragging = function () {
                    if ((v.drag && ((v.drag = null), (document.body.style.cursor = "")), v.gShadow && (document.body.removeChild(v.gShadow), (v.gShadow = null)), h.resizing)) {
                        var e = h.resizing.event.calendar;
                        (h.resizing.style.cursor = "default"), (h.resizing.onclick = null), (h.resizing = null), (e.nav.top.style.cursor = "auto"), e.kc();
                    }
                    if (h.moving) {
                        var e = h.moving && h.moving.event && h.moving.event.calendar;
                        e && ((e.db = null), o(h.moving, e.ca("_event_moving_source")), e.pc()), (h.movingAreaData = null), (h.moving = null);
                    }
                    if (h.selecting) {
                        var e = h.selecting.calendar;
                        (h.selecting = null), e && e.clearSelection();
                    }
                }),
                (DayPilot.Calendar.registerDropTarget = function (e) {
                    e = e || {};
                    var t = e.element,
                        n = e.onDragOver,
                        i = "function" == typeof n,
                        a = e.onDrop,
                        r = "function" == typeof a,
                        o = e.onDragLeave,
                        s = "function" == typeof o;
                    if (!t) throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified");
                    t.addEventListener("mousemove", function (e) {
                        var t = v.drag;
                        if (t) {
                            var a = t.Mf;
                            if (a && i) {
                                var r = {};
                                (r.data = a), n(r);
                            }
                        }
                    }),
                        t.addEventListener("mouseleave", function (e) {
                            var t = v.drag;
                            if (t) {
                                var n = t.Mf;
                                if (n && s) {
                                    var i = {};
                                    (i.data = n), o(i);
                                }
                            }
                        }),
                        t.addEventListener("mouseup", function (e) {
                            var t = v.drag;
                            if (t) {
                                var n = t.Mf;
                                if (n && r) {
                                    var i = {};
                                    (i.data = n), a(i), t.element && f(t.element);
                                }
                            }
                        });
                }),
                (v.createGShadow = function (n) {
                    var i = t();
                    return (
                        i.setAttribute("unselectable", "on"),
                        (i.style.position = "absolute"),
                        (i.style.width = "100px"),
                        (i.style.height = "20px"),
                        (i.style.border = "2px dotted #666666"),
                        (i.style.zIndex = e),
                        (i.style.pointerEvents = "none"),
                        "Fill" === n && ((i.style.backgroundColor = "#aaaaaa"), (i.style.opacity = 0.5), (i.style.filter = "alpha(opacity=50)"), (i.style.border = "2px solid #aaaaaa")),
                        document.body.appendChild(i),
                        i
                    );
                }),
                (v.moveShadow = function (e) {
                    var t = v.movingShadow;
                    t.parentNode && t.parentNode.removeChild(t), e.firstChild.appendChild(t), (t.style.left = "0px"), (t.style.width = ""), (t.style.right = "0px");
                }),
                (DayPilot.Column = function (e, t) {
                    var n = this;
                    (n.id = e.id),
                        (n.name = e.name),
                        (n.data = e.data),
                        (n.date = new DayPilot.Date(e.start)),
                        (n.start = n.date),
                        (n.calendar = t),
                        (n.events = {}),
                        (n.events.all = function () {
                            for (var t = u(), n = 0; n < e.events.length; n++) t.push(e.events[n]);
                            return t;
                        }),
                        (n.events.isEmpty = function () {
                            return 0 === e.events.length;
                        }),
                        (n.events.forRange = function (t, i) {
                            (t = new DayPilot.Date(t)), (i = i ? new DayPilot.Date(i) : e.Vd());
                            for (var a = u(), r = 0; r < n.events.length; r++) {
                                var o = n.events[r];
                                c(o.start(), o.end(), t, i) && a.push(o);
                            }
                            return a;
                        }),
                        (n.events.totalDuration = function () {
                            var e = 0;
                            return (
                                n.events.all().forEach(function (t) {
                                    e += t.part.end.getTime() - t.part.start.getTime();
                                }),
                                new DayPilot.Duration(e)
                            );
                        }),
                        (n.value = e.id),
                        (n.toJSON = function () {
                            var e = {};
                            return (e.id = this.id), this.date && (e.date = this.date.toString()), (e.name = this.name), (e.value = this.value), e;
                        });
                }),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotCalendar = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Calendar(this.id, e);
                                        n.init(), (this.daypilot = n), t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotCalendar", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                                            function (t, n, i) {
                                                var a = new DayPilot.Calendar(n[0]);
                                                (a.Tg.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l = DayPilot.Util.shouldApply(s);
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] = function (a) {
                                                                      var r = e(i[n]);
                                                                      t["$apply"](function () {
                                                                          r(t, { args: a });
                                                                      });
                                                                  };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] = function (a) {
                                                                      e(i[n])(t, { args: a });
                                                                  };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c = i["config"] || i["daypilotConfig"],
                                                    u = i["events"] || i["daypilotEvents"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        for (var n in e) a[n] = e[n];
                                                        a.update();
                                                    },
                                                    !0
                                                ),
                                                    d.call(
                                                        t,
                                                        u,
                                                        function (e) {
                                                            (a.events.list = e), a.Ad({ eventsOnly: !0 });
                                                        },
                                                        !0
                                                    );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        "undefined" == typeof DayPilot.DatePicker &&
            (DayPilot.DatePicker = function (e) {
                this.v = "2024.2.5916";
                var t = "navigator_" + new Date().getTime(),
                    n = this;
                (this.onShow = null),
                    (this.onTimeRangeSelect = null),
                    (this.onTimeRangeSelected = null),
                    (this.prepare = function () {
                        if (
                            ((this.locale = "en-us"),
                            (this.target = null),
                            (this.targetAlignment = "left"),
                            (this.resetTarget = !0),
                            (this.pattern = this.Ga.locale().datePattern),
                            (this.theme = "navigator_default"),
                            (this.patterns = []),
                            (this.zIndex = null),
                            e)
                        )
                            for (var t in e) this[t] = e[t];
                    }),
                    (this.init = function () {
                        this.date = new DayPilot.Date(this.date);
                        var e = this.wh();
                        this.resetTarget && !e ? this.xh(this.date) : this.resetTarget || (n.date = e);
                        var t = this.I();
                        return (
                            t &&
                                t.addEventListener("input", function () {
                                    (n.date = n.wh()), n.date && n.navigator.select(n.date, { dontNotify: !0 });
                                }),
                            document.addEventListener("mousedown", function () {
                                n.close();
                            }),
                            this
                        );
                    }),
                    (this.close = function () {
                        this.fg && ((this.fg = !1), this.navigator && this.navigator.dispose(), (this.div.innerHTML = ""), this.div && this.div.parentNode === document.body && document.body.removeChild(this.div));
                    }),
                    (this.setDate = function (e) {
                        (this.date = new DayPilot.Date(e)), this.xh(this.date);
                    }),
                    (this.wh = function () {
                        var e = this.I();
                        if (!e) return this.date;
                        var t = null;
                        if (((t = "INPUT" === e.tagName ? e.value : e.innerText), !t)) return null;
                        for (var i = DayPilot.Date.parse(t, n.pattern), a = 0; a < n.patterns.length; a++) {
                            if (i) return i;
                            i = DayPilot.Date.parse(t, n.patterns[a]);
                        }
                        return i;
                    }),
                    (this.xh = function (e) {
                        var t = this.I();
                        if (t) {
                            var i = e.toString(n.pattern, n.locale);
                            "INPUT" === t.tagName ? (t.value = i) : (t.innerHTML = i);
                        }
                    }),
                    (this.Ga = {}),
                    (this.Ga.locale = function () {
                        return DayPilot.Locale.find(n.locale);
                    }),
                    (this.I = function () {
                        var e = this.target;
                        return e && e.nodeType && 1 === e.nodeType ? e : document.getElementById(e);
                    }),
                    Object.defineProperty(this, "visible", {
                        get: function () {
                            return n.fg;
                        },
                    }),
                    (this.show = function () {
                        if (!this.fg) {
                            var e = this.I(),
                                i = this.navigator,
                                i = new DayPilot.Navigator(t);
                            (i.api = 2),
                                (i.cssOnly = !0),
                                (i.theme = n.theme),
                                (i.weekStarts = "Auto"),
                                (i.locale = n.locale),
                                (i.onTimeRangeSelected = function (e) {
                                    n.date = e.start;
                                    var t = e.start.addTime(i.yh),
                                        a = t.toString(n.pattern, n.locale),
                                        e = {};
                                    (e.start = t),
                                        (e.date = t),
                                        (e.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        ("function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(e), e.preventDefault.value)) || (n.xh(a), n.close(), "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(e));
                                }),
                                (this.navigator = i);
                            var a = DayPilot.abs(e),
                                r = e.offsetHeight,
                                o = n.targetAlignment,
                                s = document.createElement("div");
                            (s.style.position = "absolute"), "left" === o && (s.style.left = a.x + "px"), (s.style.top = a.y + r + "px"), n.zIndex && (s.style.zIndex = n.zIndex);
                            var l = document.createElement("div");
                            (l.id = t),
                                s.appendChild(l),
                                s.addEventListener("mousedown", function (e) {
                                    var e = e || window.event;
                                    (e.cancelBubble = !0), e.stopPropagation && e.stopPropagation();
                                }),
                                document.body.appendChild(s),
                                (this.div = s);
                            var d = n.wh() || new DayPilot.Date().getDatePart();
                            if (((i.startDate = d), (i.yh = d.getTimePart()), (i.selectionDay = d.getDatePart()), i.init(), "right" === o)) {
                                var c = a.x + e.offsetWidth - i.nav.top.offsetWidth;
                                s.style.left = c + "px";
                            }
                            (this.fg = !0), this.onShow && this.onShow();
                        }
                    }),
                    this.prepare(),
                    this.init();
            });
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Gantt || !DayPilot.Gantt.def) {
            var e = function () {};
            (DayPilot.Gantt = function (t, n) {
                this.v = "2024.2.5916";
                var i = this;
                (this.id = t), (this.isGantt = !0);
                var a = new DayPilot.Scheduler(t);
                (this.scheduler = a),
                    (a.viewType = "Resources"),
                    (a.onCallBackHeader = function (e) {
                        (e.header.taskGroupMode = i.taskGroupMode), (e.header.rowHeaderColumns = i.columns), (e.header.clientState = i.clientState);
                    }),
                    (a.onGetNodeState = function (e) {
                        var t = function (e) {
                                var t = {};
                                if (e.tags) for (var n in e.tags) t[n] = "" + e.tags[n];
                                return t;
                            },
                            n = function (e) {
                                var n = e.task,
                                    i = {};
                                return (
                                    (i.start = n.start),
                                    (i.end = n.end),
                                    (i.id = n.id),
                                    (i.complete = n.complete),
                                    (i.text = n.text),
                                    (i.type = n.type),
                                    (i.expanded = e.expanded),
                                    (i.loaded = e.loaded),
                                    (i.tags = t(n)),
                                    (i.versions = n.versions),
                                    (i.children = a.internal.getNodeChildren(e.children)),
                                    i
                                );
                            };
                        (e.result = n(e.row)), e.preventDefault();
                    }),
                    (a.zh = function (e) {}),
                    (a.onCallBackResult = function (e) {
                        var t = e.result;
                        e.preventDefault();
                        var n = function () {
                            t.scrollToTaskId && a.scrollToResource(t.scrollToTaskId);
                        };
                        if ("None" === t.updateType) return void n();
                        var r = function (e) {
                            for (var n = 0; n < e.length; n++) {
                                var a = e[n];
                                "undefined" != typeof t[a] && (i[a] = t[a]);
                            }
                        };
                        (i.links.list = t.links),
                            (i.tasks.list = t.tasks),
                            (i.startDate = new DayPilot.Date(t.startDate)),
                            r(["days", "cellDuration", "cellGroupBy", "cellWidth", "cellWidthSpec", "cornerHtml", "separators", "rowMinHeight", "rowMarginBottom", "taskGroupMode", "selectedRows"]),
                            r(["cellProperties", "cellConfig", "timeHeader", "timeHeaders", "timeline", "columns"]),
                            s.translate(),
                            s.Ah(),
                            s.Bh(),
                            a.update(),
                            a.show(),
                            n();
                    }),
                    (this.taskGroupMode = "Auto"),
                    (this.autoRefreshCommand = "refresh"),
                    (this.autoRefreshEnabled = !1),
                    (this.autoRefreshInterval = 60),
                    (this.autoRefreshMaxCount = 20),
                    (this.autoScroll = "Drag"),
                    "function" == typeof DayPilot.Bubble
                        ? ((this.bubbleTask = new DayPilot.Bubble()), (this.bubbleCell = new DayPilot.Bubble()), (this.bubbleRow = new DayPilot.Bubble()))
                        : ((this.bubbleTask = null), (this.bubbleCell = null), (this.bubbleRow = null)),
                    (this.cellDuration = 1440),
                    (this.cellGroupBy = "Month"),
                    (this.cellWidth = 40),
                    (this.cellWidthSpec = "Fixed"),
                    (this.completeBarVisible = !0),
                    (this.completeBarHeight = 3),
                    (this.contextMenuTask = null),
                    (this.contextMenuRow = null),
                    (this.contextMenuLink = null),
                    (this.cornerText = ""),
                    (this.cornerHtml = null),
                    (this.crosshairType = "Header"),
                    (this.doubleClickTimeout = 300),
                    (this.progressiveTaskRendering = "Progressive"),
                    (this.progressiveTaskRenderingMargin = 500),
                    (this.progressiveTaskRenderingCacheSweeping = !1),
                    (this.progressiveTaskRenderingCacheSize = 200),
                    (this.floatingTasks = !0),
                    (this.floatingTimeHeaders = !0),
                    (this.headerHeight = 30),
                    (this.height = 300),
                    (this.heightSpec = "Max"),
                    (this.hideBorderFor100PctHeight = !1),
                    (this.hideUntilInit = !1),
                    (this.linkBottomMargin = 17),
                    (this.linkPointSize = 10),
                    (this.loadingLabelVisible = !0),
                    (this.loadingLabelText = "Loading..."),
                    (this.loadingLabelHtml = null),
                    (this.locale = "en-us"),
                    (this.messageBarPosition = "Top"),
                    (this.messageHideAfter = 5e3),
                    (this.progressiveRowRendering = !0),
                    (this.progressiveRowRenderingPreload = 25),
                    (this.rowHeaderColumnsMergeParents = !1),
                    (this.rowHeaderScrolling = !1),
                    (this.rowHeaderSplitterWidth = 3),
                    (this.rowHeaderHideIconEnabled = !0),
                    (this.rowHeaderWidth = 80),
                    (this.rowHeaderWidthAutoFit = !0),
                    (this.rowMarginBottom = 4),
                    (this.rowMinHeight = 0),
                    (this.rowMoveSameLevelOnly = !1),
                    (this.scrollDelayTasks = 200),
                    (this.scrollDelayCells = 20),
                    (this.scrollDelayFloats = 0),
                    (this.scale = "Day"),
                    (this.selectedRows = []),
                    (this.snapToGrid = !0),
                    (this.syncTasks = !0),
                    (this.syncLinks = !0),
                    (this.tapAndHoldTimeout = 300),
                    (this.taskHeight = 34),
                    (this.taskHtmlLeftMargin = 20),
                    (this.taskHtmlRightMargin = 20),
                    (this.taskResizeMargin = 5),
                    (this.taskMovingStartEndEnabled = !1),
                    (this.taskMovingStartEndFormat = "MMMM d, yyyy"),
                    (this.taskResizingStartEndEnabled = !1),
                    (this.taskResizingStartEndFormat = "MMMM d, yyyy"),
                    (this.theme = "gantt_default"),
                    (this.treeAnimation = !0),
                    (this.treeAutoExpand = !0),
                    (this.treeIndent = 20),
                    (this.treeImageMarginLeft = 0),
                    (this.treeImageMarginTop = 3),
                    (this.treeImageMarginRight = 5),
                    (this.treeImageWidth = 10),
                    (this.treeImageHeight = 10),
                    (this.timeline = null),
                    (this.timeHeaders = [
                        { groupBy: "Month", format: "MMMM yyyy" },
                        { groupBy: "Day", format: "d" },
                    ]),
                    (this.useEventBoxes = "Never"),
                    (this.visible = !0),
                    (this.weekStarts = "Auto"),
                    (this.xssProtection = "Enabled"),
                    (this.taskVersionsEnabled = !1),
                    (this.taskVersionHeight = 24),
                    (this.taskVersionMargin = 2),
                    (this.taskVersionPosition = "Above"),
                    (this.taskMoveHandling = "Update"),
                    (this.taskClickHandling = "Enabled"),
                    (this.taskResizeHandling = "Update"),
                    (this.linkCreateHandling = "Update"),
                    (this.taskRightClickHandling = "ContextMenu"),
                    (this.taskDoubleClickHandling = "Disabled"),
                    (this.tasksLoadMethod = "GET"),
                    (this.rowCreateHandling = "Disabled"),
                    (this.rowMoveHandling = "Update"),
                    (this.rowClickHandling = "Disabled"),
                    (this.rowDoubleClickHandling = "Disabled"),
                    (this.rowEditHandling = "Update"),
                    (this.rowSelectHandling = "Update"),
                    (this.clientState = {}),
                    (this.separators = []),
                    (this.members = {}),
                    (this.members.obsolete = []),
                    (this.members.ignore = ["members", "scheduler", "internal", "cellProperties"]),
                    (this.members.noCssOnly = []),
                    (this.links = {}),
                    (this.links.list = []),
                    (this.links.add = function (e) {
                        if (e) {
                            var t = e.isLink ? e.data : e;
                            i.links.list.push(t), i.ya && (s.Bh(), a.update()), i.Tg.notify();
                        }
                    }),
                    (this.links.remove = function (e) {
                        if (e) {
                            var t;
                            t = e.isLink ? e.data : e;
                            var n = DayPilot.indexOf(i.links.list, t);
                            n !== -1 && (i.links.list.splice(n, 1), i.ya && (s.Bh(), a.update()), i.Tg.notify());
                        }
                    }),
                    (this.links.find = function (e) {
                        if (!DayPilot.isArray(i.links.list)) return null;
                        for (var t = 0; t < i.links.list.length; t++) {
                            var n = i.links.list[t];
                            if (n.id === e) return new DayPilot.Link(n, i);
                        }
                        return null;
                    }),
                    (this.links.findByFromTo = function (e, t) {
                        if (!DayPilot.isArray(i.links.list)) return null;
                        for (var n = 0; n < i.links.list.length; n++) {
                            var a = i.links.list[n];
                            if (a.from === e && a.to === t) return new DayPilot.Link(a, i);
                        }
                        return null;
                    }),
                    (this.links.load = function (e, t, n) {
                        a.links.load(
                            e,
                            function (e) {
                                ("function" == typeof t && (t(e), e.preventDefault.value)) || (i.links.list = e.data);
                            },
                            n,
                            { dontAddStartEnd: !0 }
                        );
                    }),
                    (this.Ch = {});
                var r = this.Ch;
                (r.timeout = null),
                    (r.update = function () {
                        i.ya &&
                            (window.clearTimeout(r.timeout),
                            (r.timeout = setTimeout(function () {
                                s.Ah(), a.update();
                            }, 0)));
                    }),
                    (this.tasks = {}),
                    (this.tasks.list = []),
                    (this.tasks.add = function (e) {
                        if (e) {
                            if (e instanceof DayPilot.Event) throw "DayPilot.Task object required. You have supplied DayPilot.Event.";
                            var t = e.isTask ? e.data : e;
                            i.tasks.list.push(t), r.update(), i.Tg.notify();
                        }
                    }),
                    (this.tasks.find = function (e) {
                        var t = o.findInCache(e);
                        return t ? new DayPilot.Task(t, i) : null;
                    }),
                    (this.tasks.update = function (e) {
                        if (e) {
                            var t = null;
                            if (e.isTask) e.commit(), (t = e.data);
                            else {
                                if ("object" != typeof e) throw "DayPilot.Task or task data object expected";
                                t = e;
                            }
                            var n = i.tasks.find(t.id);
                            if (n) {
                                var a = o.findParentArray(n.data),
                                    s = a.indexOf(n.data);
                                a.splice(s, 1, t), r.update(), i.Tg.notify();
                            }
                        }
                    }),
                    (this.tasks.remove = function (e) {
                        if (e) {
                            if (!e.isTask) throw "DayPilot.Task object expected";
                            var t = o.findParentArray(e.data);
                            if (t) {
                                var n = DayPilot.indexOf(t, e.data);
                                t.splice(n, 1), r.update(), i.Tg.notify();
                            }
                        }
                    }),
                    (this.tasks.load = function (e, t, n) {
                        if (!e) throw new DayPilot.Exception("events.load(): 'url' parameter required");
                        var a = function (e) {
                                var t = {};
                                (t.exception = e.exception), (t.request = e.request), "function" == typeof n && n(t);
                            },
                            r = function (e) {
                                var n,
                                    r = e.request;
                                try {
                                    n = JSON.parse(r.responseText);
                                } catch (e) {
                                    var o = {};
                                    return (o.exception = e), void a(o);
                                }
                                if (DayPilot.isArray(n)) {
                                    var s = {};
                                    if (
                                        ((s.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (s.data = n),
                                        "function" == typeof t && t(s),
                                        s.preventDefault.value)
                                    )
                                        return;
                                    (i.tasks.list = n), i.ya && i.update();
                                }
                            };
                        if (i.tasksLoadMethod && "POST" === i.tasksLoadMethod.toUpperCase()) DayPilot.ajax({ method: "POST", contentType: "application/json", url: e, success: r, error: a });
                        else {
                            var o = e;
                            DayPilot.ajax({ method: "GET", url: o, success: r, error: a });
                        }
                    }),
                    (this.visibleStart = function () {
                        return a.visibleStart();
                    }),
                    (this.visibleEnd = function () {
                        return a.visibleEnd();
                    }),
                    (this.onAfterRender = null),
                    (this.onAfterUpdate = null),
                    (this.onBeforeRowHeaderRender = null),
                    (this.onBeforeRowHeaderExport = null),
                    (this.onBeforeTaskRender = null),
                    (this.onBeforeTaskExport = null),
                    (this.onBeforeTimeHeaderRender = null),
                    (this.onBeforeTimeHeaderExport = null),
                    (this.onBeforeCellRender = null),
                    (this.onBeforeCellExport = null),
                    (this.onBeforeCornerRender = null),
                    (this.onBeforeCornerExport = null),
                    (this.onTaskClick = null),
                    (this.onTaskClicked = null),
                    (this.onTaskDoubleClick = null),
                    (this.onTaskDoubleClicked = null),
                    (this.onTaskRightClick = null),
                    (this.onTaskRightClicked = null),
                    (this.onRowCreate = null),
                    (this.onRowCreated = null),
                    (this.onRowMove = null),
                    (this.onRowMoved = null),
                    (this.onRowMoving = null),
                    (this.onRowClick = null),
                    (this.onRowClicked = null),
                    (this.onRowDoubleClick = null),
                    (this.onRowDoubleClicked = null),
                    (this.onRowEdit = null),
                    (this.onRowEdited = null),
                    (this.onRowFilter = null),
                    (this.onRowSelect = null),
                    (this.onRowSelected = null),
                    (this.onTaskMove = null),
                    (this.onTaskMoved = null),
                    (this.onTaskMoving = null),
                    (this.onTaskResize = null),
                    (this.onTaskResized = null),
                    (this.onTaskResizing = null),
                    (this.onLinkCreate = null),
                    (this.onLinkCreated = null),
                    (this.ja = function () {
                        return !!this.backendUrl || !("function" != typeof WebForm_DoCallback || !this.uniqueID);
                    }),
                    (this.Dh = function () {
                        function e(i) {
                            for (var a = 0; a < i.length; a++) {
                                var s = i[a];
                                (t = new DayPilot.Date(s.start)),
                                    (n = new DayPilot.Date(s.end)),
                                    (null === r || t.getTime() < r) && (r = t.getTime()),
                                    (null === o || n.getTime() > o) && (o = n.getTime()),
                                    s.children && s.children.length > 0 && e(s.children);
                            }
                        }
                        if (("string" == typeof i.startDate && (i.startDate = new DayPilot.Date(i.startDate)), !i.startDate || !i.days)) {
                            var t = DayPilot.Date.today(),
                                n = t.addDays(1),
                                r = null,
                                o = null;
                            e(i.tasks.list),
                                r && o
                                    ? ((t = new DayPilot.Date(r).getDatePart()), (n = new DayPilot.Date(o).getDatePart().addDays(1)), (a.startDate = i.startDate || t), (a.days = i.days || DayPilot.DateUtil.daysDiff(t, n)))
                                    : ((a.startDate = t), (a.days = 30));
                        }
                    }),
                    (this.Eh = function (e, t, n) {}),
                    (this.commandCallBack = function (e, t) {
                        s.translate(), a.commandCallBack(e, t);
                    }),
                    (this.message = function (e, t, n, i) {
                        a.message(e, t, n, i);
                    }),
                    (this.setHeight = function (e) {
                        a.setHeight(e);
                    }),
                    (this.getCoords = function () {
                        var e = a.getCoords();
                        return e ? ((e.task = new DayPilot.Task(e.row.$.row.task, i)), e.eventOffset && (e.taskOffset = e.eventOffset), delete e.event, delete e.row, delete e.eventOffset, delete e.grid, e) : null;
                    }),
                    (this.ih = function () {
                        return !!this.backendUrl;
                    }),
                    (this.setScrollY = function (e) {
                        a.setScrollY(e);
                    }),
                    (this.setScrollX = function (e) {
                        a.setScrollX(e);
                    }),
                    (this.getScrollY = function () {
                        return a.getScrollY();
                    }),
                    (this.getScrollX = function () {
                        return a.getScrollX();
                    }),
                    (this.scrollToRow = function (e) {
                        a.scrollToResource(e);
                    }),
                    (this.init = function () {
                        if (this.ya) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                        return s.translate(), s.Ah(), s.Bh(), this.Dh(), a.init(), (this.ya = !0), this.mh(), this;
                    }),
                    (this.za = !1),
                    (this.dispose = function () {
                        a.dispose(), (i.za = !0);
                    }),
                    (this.update = function (e) {
                        if (!i.ya) throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that hasn't been initialized yet.");
                        if (i.za) throw new DayPilot.Exception("You are trying to update a DayPilot.Gantt instance that has been disposed.");
                        i.Xg(e), s.translate(), s.Ah(), s.Bh(), i.Dh(), a.update();
                    }),
                    (this.scrollTo = function (e) {
                        a.scrollTo(e);
                    }),
                    (this.scrollToTask = function (e) {
                        a.scrollToResource(e);
                    }),
                    (this.Fh = {});
                var o = this.Fh;
                (o.cache = {}),
                    (o.clearCache = function () {
                        o.cache = {};
                    }),
                    (o.addToCache = function (e, t) {
                        var n = e.id;
                        if (n) {
                            var i = {};
                            if (((i.isTaskWrapper = !0), (i.data = e), (i.parent = t), o.cache[n])) throw "Duplicate task id detected";
                            o.cache[n] = i;
                        }
                    }),
                    (o.findInCache = function (e) {
                        return e ? o.cache[e.toString()] : null;
                    }),
                    (o.getProperty = function (e, t) {
                        return e.tags && e.tags[t] ? e.tags[t] : e[t];
                    }),
                    (o.findParentArray = function (e) {
                        return o.findInArray(i.tasks.list, e);
                    }),
                    (o.findInArray = function (e, t) {
                        if (DayPilot.indexOf(e, t) !== -1) return e;
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n];
                            if (i.children && i.children.length > 0) {
                                var a = o.findInArray(i.children, t);
                                if (a) return a;
                            }
                        }
                        return null;
                    }),
                    (this.Gh = {});
                var s = this.Gh;
                (s.translate = function () {
                    if (
                        ((a.internal.gantt = i),
                        (a.durationBarMode = "PercentComplete"),
                        (a.timeRangeSelectedHandling = "Disabled"),
                        (a.treeEnabled = !0),
                        (a.rowCreateHtml = ""),
                        (a.rowHeaderColumnsMode = "Legacy"),
                        (a.autoRefreshCommand = i.autoRefreshCommand),
                        (a.autoRefreshEnabled = i.autoRefreshEnabled),
                        (a.autoRefreshInterval = i.autoRefreshInterval),
                        (a.autoRefreshMaxCount = i.autoRefreshMaxCount),
                        (a.autoScroll = i.autoScroll),
                        (a.backendUrl = i.backendUrl),
                        (a.crosshairType = i.crosshairType),
                        (a.doubleClickTimeout = i.doubleClickTimeout),
                        (a.durationBarVisible = i.completeBarVisible),
                        (a.durationBarHeight = i.completeBarHeight),
                        (a.dynamicEventRendering = i.progressiveTaskRendering),
                        (a.dynamicEventRenderingMargin = i.progressiveTaskRenderingMargin),
                        (a.dynamicEventRenderingCacheSweeping = i.progressiveTaskRenderingCacheSweeping),
                        (a.dynamicEventRenderingCacheSize = i.progressiveTaskRenderingCacheSize),
                        (a.startDate = new DayPilot.Date(i.startDate)),
                        (a.days = i.days),
                        (a.cellDuration = i.cellDuration),
                        (a.cellGroupBy = i.cellGroupBy),
                        (a.cellWidth = i.cellWidth),
                        (a.cellWidthSpec = i.cellWidthSpec),
                        (a.cornerHtml = i.cornerHtml),
                        (a.cornerText = i.cornerText),
                        (a.eventHeight = i.taskHeight),
                        (a.eventResizeMargin = i.taskResizeMargin),
                        (a.floatingEvents = i.floatingTasks),
                        (a.floatingTimeHeaders = i.floatingTimeHeaders),
                        (a.headerHeight = i.headerHeight),
                        (a.heightSpec = i.heightSpec),
                        (a.height = i.height),
                        (a.linkBottomMargin = i.linkBottomMargin),
                        (a.linkPointSize = i.linkPointSize),
                        (a.loadingLabelVisible = i.loadingLabelVisible),
                        (a.loadingLabelText = i.loadingLabelText),
                        (a.loadingLabelHtml = i.loadingLabelHtml),
                        (a.locale = i.locale),
                        (a.messageBarPosition = i.messageBarPosition),
                        (a.messageHideAfter = i.messageHideAfter),
                        (a.rowCreateHandling = i.rowCreateHandling),
                        (a.rowMoveSameLevelOnly = i.rowMoveSameLevelOnly),
                        (a.progressiveRowRendering = i.progressiveRowRendering),
                        (a.progressiveRowRenderingPreload = i.progressiveRowRenderingPreload),
                        (a.scale = i.scale),
                        (a.scrollDelayEvents = i.scrollDelayTasks),
                        (a.scrollDelayCells = i.scrollDelayCells),
                        (a.scrollDelayFloats = i.scrollDelayFloats),
                        (a.scrollX = i.scrollX),
                        (a.scrollY = i.scrollY),
                        i.scrollToTaskId && (a.scrollToResourceId = i.scrollToTaskId),
                        (a.separators = i.separators),
                        (a.tapAndHoldTimeout = i.tapAndHoldTimeout),
                        (a.eventHtmlLeftMargin = i.taskHtmlLeftMargin),
                        (a.eventHtmlRightMargin = i.taskHtmlRightMargin),
                        (a.eventMovingStartEndEnabled = i.taskMovingStartEndEnabled),
                        (a.eventMovingStartEndFormat = i.taskMovingStartEndFormat),
                        (a.eventResizingStartEndEnabled = i.taskResizingStartEndEnabled),
                        (a.eventResizingStartEndFormat = i.taskResizingStartEndFormat),
                        (a.hideBorderFor100PctHeight = i.hideBorderFor100PctHeight),
                        (a.hideUntilInit = i.hideUntilInit),
                        (a.treeIndent = i.treeIndent),
                        (a.treeAnimation = i.treeAnimation),
                        (a.treeAutoExpand = i.treeAutoExpand),
                        (a.treeImageMarginLeft = i.treeImageMarginLeft),
                        (a.treeImageMarginTop = i.treeImageMarginTop),
                        (a.treeImageMarginRight = i.treeImageMarginRight),
                        (a.treeImageWidth = i.treeImageWidth),
                        (a.treeImageHeight = i.treeImageHeight),
                        (a.timeHeaders = i.timeHeaders),
                        (a.rowHeaderHideIconEnabled = i.rowHeaderHideIconEnabled),
                        (a.rowHeaderColumnsMergeParents = i.rowHeaderColumnsMergeParents),
                        (a.rowHeaderScrolling = i.rowHeaderScrolling),
                        (a.rowHeaderSplitterWidth = i.rowHeaderSplitterWidth),
                        (a.rowHeaderWidth = i.rowHeaderWidth),
                        (a.rowHeaderWidthAutoFit = i.rowHeaderWidthAutoFit),
                        (a.rowMarginBottom = i.rowMarginBottom),
                        (a.rowMinHeight = i.rowMinHeight),
                        (a.selectedRows = i.selectedRows),
                        (a.theme = i.theme),
                        (a.useEventBoxes = i.useEventBoxes),
                        (a.snapToGrid = i.snapToGrid),
                        (a.uniqueID = i.uniqueID),
                        (a.bubble = i.bubbleTask),
                        (a.cellBubble = i.bubbleCell),
                        (a.resourceBubble = i.bubbleRow),
                        (a.contextMenu = i.contextMenuTask),
                        (a.contextMenuResource = i.contextMenuRow),
                        (a.contextMenuLink = i.contextMenuLink),
                        (a.syncResourceTree = i.syncTasks),
                        (a.syncLinks = i.syncLinks),
                        (a.timeline = i.timeline),
                        (a.visible = i.visible),
                        (a.devsb = i.devsb),
                        (a.weekStarts = i.weekStarts),
                        (a.xssProtection = i.xssProtection),
                        (a.eventMoveHandling = i.taskMoveHandling),
                        (a.eventClickHandling = i.taskClickHandling),
                        (a.eventResizeHandling = i.taskResizeHandling),
                        (a.linkCreateHandling = i.linkCreateHandling),
                        (a.eventRightClickHandling = i.taskRightClickHandling),
                        (a.eventDoubleClickHandling = i.taskDoubleClickHandling),
                        (a.rowMoveHandling = i.rowMoveHandling),
                        (a.rowClickHandling = i.rowClickHandling),
                        (a.rowDoubleClickHandling = i.rowDoubleClickHandling),
                        (a.rowEditHandling = i.rowEditHandling),
                        (a.rowSelectHandling = i.rowSelectHandling),
                        (a.eventVersionsEnabled = i.taskVersionsEnabled),
                        (a.eventVersionHeight = i.taskVersionHeight),
                        (a.eventVersionMargin = i.taskVersionMargin),
                        (a.eventVersionPosition = i.taskVersionPosition),
                        DayPilot.isArray(i.columns))
                    ) {
                        a.rowHeaderColumns = [];
                        for (var e = 0; e < i.columns.length; e++) {
                            var t = i.columns[e],
                                n = {};
                            DayPilot.Util.copyProps(t, n, ["html", "text", "name", "title", "width", "hidden", "maxAutoWidth"]), (n.display = t.display || t.property), a.rowHeaderColumns.push(n);
                        }
                    }
                    i.ja() && ((a.timeHeader = i.timeHeader), (a.cellProperties = i.cellProperties), (a.cellConfig = i.cellConfig)),
                        (a.onRowCreate = function (e) {
                            (e.control = i), "function" == typeof i.onRowCreate && i.onRowCreate(e);
                        }),
                        (a.onRowCreated = function (e) {
                            "function" == typeof i.onRowCreated && i.onRowCreated(e);
                        }),
                        (a.onAfterRender = function (e) {
                            "function" == typeof i.onAfterRender && i.onAfterRender(e);
                        }),
                        (a.onAfterUpdate = function (e) {
                            "function" == typeof i.onAfterUpdate && i.onAfterUpdate(e);
                        }),
                        (a.onRowHeaderResized = function (e) {
                            i.rowHeaderWidth = a.rowHeaderWidth;
                        }),
                        (a.onRowFilter = function (e) {
                            "function" == typeof i.onRowFilter && ((e.task = new DayPilot.Task(e.row.$.row.task, i)), (e.control = i), i.onRowFilter(e));
                        }),
                        (a.onAjaxError = function (e) {
                            "function" == typeof i.onAjaxError && i.onAjaxError(e);
                        }),
                        (a.onRowHeaderColumnResized = function (e) {
                            for (var t = e.column, n = DayPilot.indexOf(a.rowHeaderColumns, t), r = 0; r < i.columns.length; r++) {
                                var o = a.rowHeaderColumns[r];
                                i.columns[r].width = o.width;
                            }
                            if ("function" == typeof i.onColumnResized) {
                                var s = {};
                                (s.column = i.columns[n]), i.onColumnResized(s);
                            }
                        }),
                        (a.internalUseStandardColumns = DayPilot.isArray(i.columns)),
                        (a.onBeforeRowHeaderRender = function (e) {
                            e.task = new DayPilot.Task(e.row.$.row.task, i);
                            var t = e.row.$.row.events[0];
                            t && "Auto" === i.taskGroupMode && "Group" === t.data.type && ((e.task.data.start = t.data.start), (e.task.data.end = t.data.end));
                            var n = [];
                            if (DayPilot.isArray(i.columns))
                                for (var r = 0; r < i.columns.length; r++) {
                                    var s = i.columns[r],
                                        l = s.display || s.property,
                                        d = {};
                                    (d.value = a.internal.xssTextHtml(o.getProperty(e.task.data, l))),
                                        e.task.data.row && e.task.data.row.columns && e.task.data.row.columns[r] ? (d.html = e.task.data.row.columns[r].html) : (d.html = d.value),
                                        n.push(d);
                                }
                            (e.row.columns = n), "function" == typeof i.onBeforeRowHeaderRender && i.onBeforeRowHeaderRender(e);
                        }),
                        (a.onBeforeRowHeaderExport = function (e) {
                            (e.task = new DayPilot.Task(e.row.$.row.task, i)), "function" == typeof i.onBeforeRowHeaderExport && i.onBeforeRowHeaderExport(e);
                        }),
                        (a.onBeforeEventExport = function (e) {
                            "function" == typeof i.onBeforeTaskExport && ((e.task = new DayPilot.Task(e.e, i)), i.onBeforeTaskExport(e));
                        }),
                        (a.onBeforeCellRender = function (e) {
                            (e.task = i.tasks.find(e.cell.resource)), delete e.cell.resource, "function" == typeof i.onBeforeCellRender && ((e.control = i), i.onBeforeCellRender(e));
                        }),
                        (a.onBeforeCellExport = function (e) {
                            (e.task = i.tasks.find(e.cell.resource)), delete e.cell.resource, "function" == typeof i.onBeforeCellExport && ((e.control = i), i.onBeforeCellExport(e));
                        }),
                        (a.onBeforeCornerRender = function (e) {
                            "function" == typeof i.onBeforeCornerRender && ((e.control = i), i.onBeforeCornerRender(e));
                        }),
                        (a.onBeforeCornerExport = function (e) {
                            "function" == typeof i.onBeforeCornerExport && ((e.control = i), i.onBeforeCornerExport(e));
                        }),
                        (a.onBeforeTimeHeaderRender = function (e) {
                            "function" == typeof i.onBeforeTimeHeaderRender && ((e.control = i), i.onBeforeTimeHeaderRender(e));
                        }),
                        (a.onBeforeTimeHeaderExport = function (e) {
                            "function" == typeof i.onBeforeTimeHeaderExport && ((e.control = i), i.onBeforeTimeHeaderExport(e));
                        }),
                        (a.onEventClick = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)), (e.control = i), "function" == typeof i.onTaskClick && i.onTaskClick(e);
                        }),
                        (a.onEventClicked = function (e) {
                            "function" == typeof i.onTaskClicked && i.onTaskClicked(e);
                        }),
                        (a.onEventDelete = function (e) {
                            "function" == typeof i.onTaskDelete && i.onTaskDelete(e);
                        }),
                        (a.onEventDeleted = function (e) {
                            "function" == typeof i.onTaskDeleted && i.onTaskDeleted(e);
                        }),
                        (a.onEventDoubleClick = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)), (e.control = i), "function" == typeof i.onTaskDoubleClick && i.onTaskDoubleClick(e);
                        }),
                        (a.onEventDoubleClicked = function (e) {
                            "function" == typeof i.onTaskDoubleClicked && i.onTaskDoubleClicked(e);
                        }),
                        (a.onEventRightClick = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)), "function" == typeof i.onTaskRightClick && i.onTaskRightClick(e);
                        }),
                        (a.onEventRightClicked = function (e) {
                            "function" == typeof i.onTaskRightClicked && i.onTaskRightClicked(e);
                        }),
                        (a.onRowMoving = function (e) {
                            (e.Hh = e.source), (e.Ih = e.target), (e.source = new DayPilot.Task(e.Hh.$.row.task, i)), (e.target = new DayPilot.Task(e.Ih.$.row.task, i)), "function" == typeof i.onRowMoving && i.onRowMoving(e);
                        }),
                        (a.onRowMove = function (e) {
                            (e.Hh = e.source),
                                (e.Ih = e.target),
                                (e.source = new DayPilot.Task(e.Hh.$.row.task, i)),
                                (e.target = new DayPilot.Task(e.Ih.$.row.task, i)),
                                (e.control = i),
                                "function" == typeof i.onRowMove && i.onRowMove(e),
                                (e.source = e.Hh),
                                (e.target = e.Ih);
                        }),
                        (a.onRowMoved = function (e) {
                            if ("Update" === i.rowMoveHandling || "Notify" === i.rowMoveHandling) {
                                var t = e.Hh.$.row.task,
                                    n = e.Ih.$.row.task,
                                    a = e.position;
                                if ("forbidden" === a) return;
                                var r = e.Hh.calendar.internal.gantt,
                                    s = r.Fh.findParentArray(t);
                                if (!s) throw "Cannot find source node parent";
                                var l = DayPilot.indexOf(s, t);
                                s.splice(l, 1);
                                var d = o.findParentArray(n);
                                if (!d) throw "Cannot find target node parent";
                                var c = DayPilot.indexOf(d, n);
                                switch (a) {
                                    case "before":
                                        d.splice(c, 0, t);
                                        break;
                                    case "after":
                                        d.splice(c + 1, 0, t);
                                        break;
                                    case "child":
                                        n.children || ((n.children = []), (n.expanded = !0)), n.children.push(t);
                                }
                                i.Tg.notify(), i.update(), r !== i && r.update();
                            }
                            (e.source = new DayPilot.Task(e.Hh.$.row.task, i)), (e.target = new DayPilot.Task(e.Ih.$.row.task, i)), "function" == typeof i.onRowMoved && i.onRowMoved(e);
                        }),
                        (a.onRowClick = function (e) {
                            (e.task = new DayPilot.Task(e.resource.$.row.task, i)), "function" == typeof i.onRowClick && i.onRowClick(e);
                        }),
                        (a.onRowClicked = function (e) {
                            "function" == typeof i.onRowClicked && i.onRowClicked(e);
                        }),
                        (a.onRowDoubleClick = function (e) {
                            (e.task = new DayPilot.Task(e.resource.$.row.task, i)), "function" == typeof i.onRowDoubleClick && i.onRowDoubleClick(e);
                        }),
                        (a.onRowDoubleClicked = function (e) {
                            "function" == typeof i.onRowDoubleClicked && i.onRowDoubleClicked(e);
                        }),
                        (a.onRowEdit = function (e) {
                            (e.task = new DayPilot.Task(e.resource.$.row.task, i)), "function" == typeof i.onRowEdit && i.onRowEdit(e);
                        }),
                        (a.onRowEdited = function (e) {
                            "function" == typeof i.onRowEdited && i.onRowEdited(e);
                        }),
                        (a.onRowSelect = function (e) {
                            (e.task = new DayPilot.Task(e.row.$.row.task, i)), "function" == typeof i.onRowSelect && i.onRowSelect(e);
                        }),
                        (a.onRowSelected = function (e) {
                            "function" == typeof i.onRowSelected && i.onRowSelected(e);
                        }),
                        (a.onEventMove = function (e) {
                            (e.Jh = e.e), (e.task = new DayPilot.Task(e.e, i)), (e.control = i), "function" == typeof i.onTaskMove && i.onTaskMove(e);
                        }),
                        (a.onEventMoved = function (e) {
                            if ("Auto" === i.taskGroupMode) {
                                var t = e.Jh,
                                    n = t.data.task;
                                for (n.start = t.start(), n.end = t.end(); t.data.parent; ) {
                                    var r = a.events.find(t.data.parent.id),
                                        o = s.childrenStartEnd(t.data.parent);
                                    r.start(o.start), r.end(o.end), a.events.update(r), (t = r);
                                }
                            }
                            i.Tg.notify(), "function" == typeof i.onTaskMoved && i.onTaskMoved(e);
                        }),
                        (a.onEventMoving = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)), (e.Jh = e.e), delete e.position, delete e.overlapping, delete e.resource, "function" == typeof i.onTaskMoving && i.onTaskMoving(e);
                        }),
                        (a.onEventResize = function (e) {
                            (e.Jh = e.e), (e.task = new DayPilot.Task(e.e, i)), (e.control = i), "function" == typeof i.onTaskResize && i.onTaskResize(e);
                        }),
                        (a.onEventResized = function (e) {
                            if ("Auto" === i.taskGroupMode) {
                                var t = e.Jh,
                                    n = t.data.task;
                                for (n.start = t.start(), n.end = t.end(); t.data.parent; ) {
                                    var r = a.events.find(t.data.parent.id),
                                        o = s.childrenStartEnd(t.data.parent);
                                    r.start(o.start), r.end(o.end), a.events.update(r), (t = r);
                                }
                            }
                            i.Tg.notify(), "function" == typeof i.onTaskResized && i.onTaskResized(e);
                        }),
                        (a.onEventResizing = function (e) {
                            (e.task = new DayPilot.Task(e.e, i)), (e.Jh = e.e), (e.control = i), "function" == typeof i.onTaskResizing && i.onTaskResizing(e);
                        }),
                        (a.onLinkCreate = function (e) {
                            (e.source = i.tasks.find(e.from)), (e.target = i.tasks.find(e.to)), (e.control = i), "function" == typeof i.onLinkCreate && i.onLinkCreate(e);
                        }),
                        (a.onLinkCreated = function (e) {
                            "function" == typeof i.onLinkCreated && i.onLinkCreated(e);
                        }),
                        (a.onResourceExpand = function (e) {
                            var t = e.resource.$.row.task;
                            t.row || (t.row = {}), (t.row.collapsed = !1);
                        }),
                        (a.onResourceCollapse = function (e) {
                            var t = e.resource.$.row.task;
                            t.row || (t.row = {}), (t.row.collapsed = !0);
                        });
                }),
                    (s.Kh = function (e) {
                        for (var t = 0; t < a.rowlist.length; t++) {
                            var n = a.rowlist[t];
                            if (n.task === e) return a.internal.createRowObject(n);
                        }
                        return null;
                    }),
                    (s.Bh = function () {
                        a.links.list = i.links.list ? i.links.list : [];
                    }),
                    (s.Ah = function () {
                        (a.resources = []), (a.events.list = []), o.clearCache(), s.Lh(i.tasks.list, a.resources, null), l.sheet && (l.sheet.commit(), (l.sheet = null));
                    }),
                    (s.Mh = function (e) {
                        var t = e.type || "Task";
                        e.children && e.children.length && (t = "Group");
                        var n = {};
                        for (var r in e) "children" !== r && (n[r] = e[r]);
                        var o = {};
                        if (((o.data = n), (o.type = t), n.box || (n.box = {}), "undefined" == typeof n.box.html))
                            if ("Task" === o.type) {
                                var s = n.complete || 0;
                                n.box.text = s + "%";
                            } else n.box.text = "";
                        return "undefined" == typeof n.box.htmlRight && (n.box.htmlRight = a.internal.xssTextHtml(n.text)), "function" == typeof i.onBeforeTaskRender && i.onBeforeTaskRender(o), (o.type = t), o;
                    });
                var l = {};
                (l.keys = {}),
                    (l.sheet = null),
                    (s.Nh = function (e) {
                        if (e.data.box && !e.data.box.cssClass && e.data.box.backColor && "Task" !== e.type) {
                            var t = DayPilot.Util.normalizeColor(e.data.box.backColor),
                                n = e.type + "_" + t.replace("#", ""),
                                a = i.theme,
                                r = i.theme + "_" + n;
                            return (
                                l.keys[n] ||
                                    ((l.keys[n] = !0),
                                    l.sheet || (l.sheet = DayPilot.sheet()),
                                    "Group" === e.type
                                        ? (l.sheet.add(
                                              "." + r + "." + a + "_task_group ." + a + "_event_inner",
                                              "position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: " + t + "; filter: none; border: 0px none;"
                                          ),
                                          l.sheet.add(
                                              "." + r + "." + a + "_task_group." + a + "_event:before",
                                              "content:''; border-color: transparent transparent transparent " + t + "; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"
                                          ),
                                          l.sheet.add(
                                              "." + r + "." + a + "_task_group." + a + "_event:after",
                                              "content:''; border-color: transparent " + t + " transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"
                                          ))
                                        : "Milestone" === e.type &&
                                          (l.sheet.add(
                                              "." + r + "." + a + "_task_milestone ." + a + "_event_inner",
                                              "position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: " +
                                                  t +
                                                  "; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"
                                          ),
                                          l.sheet.add(
                                              "." + r + "." + a + "_browser_ie8 ." + a + "_task_milestone ." + a + "_event_inner",
                                              "-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""
                                          ))),
                                r
                            );
                        }
                    }),
                    (s.Lh = function (t, n, r) {
                        if (DayPilot.isArray(t))
                            for (var l = 0; l < t.length; l++) {
                                var d = t[l];
                                o.addToCache(d, r);
                                var c = s.Mh(d),
                                    u = c.data,
                                    h = c.type,
                                    f = {};
                                if (
                                    (DayPilot.Util.copyProps(u, f, ["id", "start", "end", "text", "complete", "tags", "versions"]),
                                    DayPilot.Util.copyProps(u.box, f),
                                    (f.parent = r),
                                    (f.task = d),
                                    (f.resource = u.id),
                                    (f.commitCallback = (function (e) {
                                        return function () {
                                            (e.task.start = e.start), (e.task.end = e.end);
                                        };
                                    })(f)),
                                    "Group" == h)
                                ) {
                                    (f.type = "Group"), (f.html = (u.box && u.box.html) || "");
                                    var v = s.Nh(c);
                                    if ((v && (f.cssClass = (f.cssClass || "") + " " + v), "Auto" === i.taskGroupMode)) {
                                        var p = s.childrenStartEnd(d);
                                        (f.start = p.start), (f.end = p.end), (f.resizeDisabled = !0), (f.moveDisabled = !0);
                                    }
                                } else if ("Milestone" === h) {
                                    (f.html = ""), (d.end = d.start);
                                    var v = s.Nh(c);
                                    v && (f.cssClass = (f.cssClass || "") + " " + v), (u.end = u.start), (f.end = u.start), (f.barHidden = !0), (f.resizeDisabled = !0), (f.type = "Milestone"), (f.width = i.taskHeight), delete f.backColor;
                                } else "Task" === h && e();
                                (f.moveVDisabled = !0), (f.htmlRight = u.box.htmlRight), (f.htmlLeft = u.box.htmlLeft), a.events.list.push(f);
                                var m = {};
                                (m.task = d),
                                    DayPilot.Util.copyProps(u.row, m),
                                    (m.name = u.text),
                                    (m.id = u.id),
                                    (m.children = []),
                                    (m.expanded = !u.row || !u.row.collapsed),
                                    d.children && d.children.length && s.Lh(d.children, m.children, d),
                                    n.push(m);
                            }
                    }),
                    (s.childrenStartEnd = function (e) {
                        if (!e.children || !e.children.length) {
                            var t = e.start,
                                n = e.end;
                            return "Milestone" === e.type && (n = t), { start: new DayPilot.Date(t), end: new DayPilot.Date(n) };
                        }
                        for (var t = null, n = null, i = 0; i < e.children.length; i++) {
                            var a = s.childrenStartEnd(e.children[i]);
                            (!t || a.start.getTime() < t.getTime()) && (t = a.start), (!n || a.end.getTime() > n.getTime()) && (n = a.end);
                        }
                        return { start: t, end: n };
                    }),
                    (this.rows = {}),
                    (this.rows.expand = function (e) {
                        a.rows.expand(e);
                    }),
                    (this.rows.expandAll = function () {
                        a.rows.expandAll();
                    }),
                    (this.rows.filter = function (e) {
                        a.rows.filter(e);
                    }),
                    (this.rows.selection = {}),
                    (this.rows.selection.add = function (e) {
                        a.rows.find(e.data.id);
                    }),
                    (this.rows.selection.clear = function () {
                        a.rows.selection.clear();
                    }),
                    (this.rows.selection.get = function () {
                        return a.rows.selection.get().map(function (e) {
                            return new DayPilot.Task(e.$.row.task, i);
                        });
                    }),
                    (this.exportAs = function (e, t) {
                        return a.exportAs(e, t);
                    }),
                    (this.nh = null),
                    (this.Xg = function (e) {
                        if (e) {
                            var t = {
                                tasks: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (DayPilot.isArray(e.list) ? (i.tasks.list = e.list) : (i.tasks.list = e));
                                    },
                                },
                                links: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (DayPilot.isArray(e.list) ? (i.links.list = e.list) : (i.links.list = e));
                                    },
                                },
                                scrollTo: {
                                    postInit: function () {
                                        this.data && i.scrollTo(this.data);
                                    },
                                },
                                scrollToTask: {
                                    postInit: function () {
                                        this.data && i.scrollToTask(this.data);
                                    },
                                },
                            };
                            this.nh = t;
                            for (var n in e)
                                if (t[n]) {
                                    var a = t[n];
                                    (a.data = e[n]), a.preInit && a.preInit();
                                } else i[n] = e[n];
                        }
                    }),
                    (this.mh = function () {
                        var e = this.nh;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return i.ya;
                    }),
                    (this.internal.rowObjectForTaskData = s.Kh),
                    (this.internal.loadOptions = i.Xg),
                    (this.Tg = {}),
                    (this.Tg.scope = null),
                    (this.Tg.notify = function () {
                        i.Tg.scope && i.Tg.scope["$apply"]();
                    }),
                    this.Xg(n);
            }),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotGantt = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Gantt(this.id, e);
                                        n.init(), (this.daypilot = n), t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotGantt", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                                            function (t, n, i) {
                                                var a = new DayPilot.Gantt(n[0]);
                                                (a.Tg.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l = DayPilot.Util.shouldApply(s);
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] = function (a) {
                                                                      var r = e(i[n]);
                                                                      t["$apply"](function () {
                                                                          r(t, { args: a });
                                                                      });
                                                                  };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] = function (a) {
                                                                      e(i[n])(t, { args: a });
                                                                  };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c = i["config"] || i["daypilotConfig"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        a.Xg(e), a.update();
                                                    },
                                                    !0
                                                );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                (DayPilot.Gantt.def = {}),
                "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Kanban || !DayPilot.Kanban.def) {
            var e = function () {};
            (DayPilot.Kanban = function (t, n) {
                this.v = "2024.2.5916";
                var i = this;
                (this.barWidth = 5),
                    (this.cardAutoHeight = !0),
                    (this.cardHeight = 60),
                    (this.cardMarginLeft = 5),
                    (this.cardMarginRight = 5),
                    (this.cardMarginBottom = 5),
                    (this.columnHeaderHeight = 20),
                    (this.crosshairType = "Disabled"),
                    (this.height = 300),
                    (this.heightSpec = "Auto"),
                    (this.theme = "kanban_default"),
                    (this.cellMarginBottom = 4),
                    (this.cellMarginTop = 5),
                    (this.columnWidthSpec = "Auto"),
                    (this.columnWidth = 200),
                    (this.cornerHtml = null),
                    (this.contextMenuCard = null),
                    (this.rowMinHeight = 0),
                    (this.swimlaneCollapsingEnabled = !1),
                    (this.swimlaneHeaderWidth = 80),
                    (this.visible = !0),
                    (this.swimlanes = {}),
                    (this.swimlanes.list = []),
                    (this.columns = {}),
                    (this.columns.list = []),
                    (this.cards = {}),
                    (this.cards.list = []),
                    (this.cardDeleteHandling = "Disabled"),
                    (this.cardMoveHandling = "Update"),
                    (this.columnMoveHandling = "Disabled"),
                    (this.swimlaneMoveHandling = "Disabled"),
                    (this.cardRightClickHandling = "ContextMenu"),
                    (this.onBeforeCellRender = null),
                    (this.onCardClick = null),
                    (this.onCardClicked = null),
                    (this.onCardRightClick = null),
                    (this.onCardRightClicked = null),
                    (this.onCardDelete = null),
                    (this.onCardDeleted = null),
                    (this.onCardMove = null),
                    (this.onCardMoved = null),
                    (this.onColumnMove = null),
                    (this.onColumnMoved = null),
                    (this.onHeightChanged = null),
                    (this.onSwimlaneMove = null),
                    (this.onSwimlaneMoved = null);
                var a = new DayPilot.Scheduler(t);
                this.scheduler = a;
                var r = {},
                    o = 15,
                    s = 15;
                e();
                var l = new DayPilot.Date("2000-01-01");
                (r.translate = function () {
                    var e = a;
                    (e.startDate = l),
                        (e.scale = "Day"),
                        (e.timeHeaders = [{ groupBy: "Cell", format: "d" }]),
                        (e.rowHeaderColumnsMode = "Legacy"),
                        (e.heightSpec = i.heightSpec),
                        (e.cellWidthSpec = i.columnWidthSpec),
                        (e.cellWidth = i.columnWidth),
                        (e.cellsMarkBusiness = !1),
                        (e.cornerHtml = i.cornerHtml),
                        (e.crosshairType = i.crosshairType),
                        (e.dynamicEventRendering = "Disabled"),
                        (e.floatingEvents = !1),
                        (e.floatingTimeHeaders = !1),
                        (e.rowMinHeight = i.rowMinHeight),
                        (e.rowMarginTop = i.cellMarginTop),
                        (e.rowMarginBottom = i.cellMarginBottom),
                        (e.devsb = i.devsb),
                        (e.eventMoveToPosition = !0),
                        (e.headerHeight = i.columnHeaderHeight),
                        (e.eventResizeHandling = "Disabled"),
                        (e.timeRangeSelectedHandling = "Disabled"),
                        (e.eventHeight = i.cardHeight),
                        (e.eventMarginLeft = i.cardMarginLeft),
                        (e.eventMarginRight = i.cardMarginRight),
                        (e.eventMarginBottom = i.cardMarginBottom),
                        (e.eventTextWrappingEnabled = !0),
                        (e.durationBarVisible = !1),
                        (e.theme = i.theme),
                        (e.visible = i.visible),
                        (e.rowHeaderWidth = i.swimlaneHeaderWidth),
                        (e.contextMenu = i.contextMenuCard),
                        (e.eventDeleteHandling = i.cardDeleteHandling),
                        (e.eventMoveHandling = i.cardMoveHandling),
                        (e.rowMoveHandling = DayPilot.list(i.swimlanes.list).isEmpty() ? "Disabled" : i.swimlaneMoveHandling),
                        (e.eventRightClickHandling = i.cardRightClickHandling),
                        (e.onHeightChanged = i.onHeightChanged),
                        e.internal.enableCellStacking(i.cardAutoHeight),
                        (e.internal.cssNames.timeheadercol = "_colheadercell"),
                        (e.internal.cssNames.timeheadercolInner = "_colheadercell_inner"),
                        (e.internal.cssNames.resourcedivider = "_rowheaderdivider"),
                        (e.internal.cssNames.event = "_card"),
                        (e.internal.cssNames.eventInner = "_card_inner"),
                        (e.internal.cssNames.eventDelete = "_card_delete"),
                        (e.internal.cssNames.eventMovingSource = "_card_moving_source"),
                        i.swimlaneCollapsingEnabled && (e.rowHeaderWidthMarginRight = 15),
                        (e.onBeforeTimeHeaderRender = function (e) {
                            var t = i.Oh(e.header.start);
                            if (
                                ((e.header.html = t.name),
                                (e.header.toolTip = t.toolTip || ""),
                                (e.header.areas = DayPilot.list(t.areas).map(function (e) {
                                    var t = [];
                                    return DayPilot.Util.copyProps(e, t), t;
                                })),
                                DayPilot.list(e.header.areas).forEach(function (e) {
                                    e.target = new DayPilot.KanbanColumn(t, i);
                                }),
                                "Disabled" !== i.columnMoveHandling)
                            ) {
                                var n = i.theme + "_columnmove_handle";
                                e.header.areas.push({ left: 0, top: 0, width: 20, height: 20, css: n, mousedown: i.Ph, action: "None" });
                            }
                        }),
                        (e.onBeforeCellRender = function (t) {
                            var n = {};
                            (n.cell = {}), (n.cell.column = new DayPilot.KanbanColumn(i.Oh(t.cell.start), i)), (n.cell.swimlane = null);
                            var a = i.Qh(t.cell.resource);
                            a && (n.cell.swimlane = new DayPilot.Swimlane(a, i)),
                                (n.cell.areas = []),
                                (n.cell.cssClass = null),
                                (n.cell.html = null),
                                (n.cell.backImage = null),
                                (n.cell.backRepeat = null),
                                (n.cell.backColor = null),
                                "function" == typeof i.onBeforeCellRender &&
                                    (i.onBeforeCellRender(n),
                                    DayPilot.Util.copyProps(n.cell, t.cell, ["areas", "cssClass", "html", "backImage", "backRepeat", "backColor"]),
                                    DayPilot.list(t.cell.areas).forEach(function (e) {
                                        e.target = { swimlane: n.cell.swimlane, column: n.cell.column };
                                    }));
                            var r = e.rows.find(t.cell.resource);
                            e.resources[r.index].collapsed && (t.cell.cssClass || (t.cell.cssClass = ""), (t.cell.cssClass += " " + i.theme + "_collapsed"));
                        }),
                        (e.onEventClick = function (e) {
                            var t = new DayPilot.Args(e);
                            (t.card = new DayPilot.Card(e.e.data.card, i)), "function" == typeof i.onCardClick && i.onCardClick(t), (e.wrapped = t);
                        }),
                        (e.onEventClicked = function (e) {
                            var t = e.wrapped;
                            "function" == typeof i.onCardClicked && i.onCardClicked(t);
                        }),
                        (e.onEventRightClick = function (e) {
                            var t = new DayPilot.Args(e);
                            if (((t.card = new DayPilot.Card(e.e.data.card, i)), "function" == typeof i.onCardRightClick && i.onCardRightClick(t), (e.wrapped = t), !e.preventDefault.value)) {
                                var n = e.e,
                                    a = t.card;
                                switch (i.cardRightClickHandling) {
                                    case "ContextMenu":
                                        var r = n.client.contextMenu();
                                        r ? r.show(a) : i.contextMenuCard && i.contextMenuCard.show(a), e.preventDefault();
                                }
                            }
                        }),
                        (e.onEventRightClicked = function (e) {
                            var t = e.wrapped;
                            "function" == typeof i.onCardRightClicked && i.onCardRightClicked(t);
                        }),
                        (e.onEventDelete = function (e) {
                            var t = new DayPilot.Args(e);
                            (t.card = new DayPilot.Card(e.e.data.card, i)), (t.control = i), "function" == typeof i.onCardDelete && i.onCardDelete(t), (e.wrapped = t);
                        }),
                        (e.onEventDeleted = function (e) {
                            DayPilot.rfa(i.cards.list, e.e.data.card);
                            var t = e.wrapped;
                            "function" == typeof i.onCardDeleted && i.onCardDeleted(t);
                        }),
                        (e.onEventMove = function (e) {
                            e.external && (e.e.data.card = { id: e.e.data.id, name: e.e.data.name, text: e.e.data.text, barColor: e.e.data.barColor, barBackColor: e.e.data.barBackColor });
                            var t = new DayPilot.Args(e);
                            (t.async = !1),
                                (t.control = i),
                                (t.card = new DayPilot.Card(e.e.data.card, i)),
                                (t.column = new DayPilot.KanbanColumn(i.Oh(e.newStart))),
                                (t.position = e.position),
                                (t.external = e.external),
                                (t.loaded = function () {
                                    if (t.async) {
                                        if (t.preventDefault.value) return;
                                        u();
                                    }
                                }),
                                "*" !== e.newResource ? (t.swimlane = new DayPilot.Swimlane(i.Qh(e.newResource), i)) : (t.swimlane = null);
                            for (var n = a.cells.find(e.newStart, e.newResource)[0].events(), o = e.position, s = null, l = o - 1; n[l]; ) {
                                if (n[l].data !== e.e.data) {
                                    s = new DayPilot.Card(n[l]);
                                    break;
                                }
                                l -= 1;
                            }
                            for (var d = null, c = o; n[c]; ) {
                                if (n[c].data !== e.e.data) {
                                    d = new DayPilot.Card(n[c]);
                                    break;
                                }
                                c += 1;
                            }
                            if (((t.previous = s), (t.next = d), "function" == typeof i.onCardMove && i.onCardMove(t), (e.wrapped = t), e.preventDefault(), !t.preventDefault.value)) {
                                var u = function () {
                                    switch (i.cardMoveHandling) {
                                        case "Update":
                                            var t = 0;
                                            d ? (t = d.wrapped.data.sort[0]) : s && (t = s.wrapped.data.sort[0]), (e.e.data.sort = [t, new DayPilot.Date().toString()]), DayPilot.rfa(i.cards.list, e.e.data.card);
                                            var n = 0;
                                            d ? (n = DayPilot.indexOf(i.cards.list, d.data)) : s && (n = DayPilot.indexOf(i.cards.list, s.data) + 1);
                                            var o = i.Oh(e.newStart);
                                            (e.e.data.card.column = o.id), (e.e.data.card.swimlane = e.newResource), i.cards.list.splice(n, 0, e.e.data.card), r.updateSort(), a.internal.deleteDragSource(), i.update();
                                    }
                                    !(function () {
                                        var t = e.wrapped,
                                            n = DayPilot.list(i.cards.list).find(function (t) {
                                                return e.e.data.card === t;
                                            });
                                        (n.swimlane = t.swimlane ? t.swimlane.data.id : null), (n.column = t.column.data.id), "function" == typeof i.onCardMoved && i.onCardMoved(t);
                                    })();
                                };
                                t.async || u();
                            }
                        }),
                        (e.onBeforeResHeaderRender = function (e) {
                            if (i.swimlaneCollapsingEnabled) {
                                if (!DayPilot.list(i.swimlanes.list).isEmpty()) {
                                    var t = i.theme + "_swimlane_collapse";
                                    e.resource.collapsed && (t = i.theme + "_swimlane_expand"),
                                        (e.resource.areas = [
                                            {
                                                right: 0,
                                                top: 0,
                                                height: s,
                                                width: o,
                                                action: "JavaScript",
                                                css: t,
                                                js: function () {
                                                    i.Rh(e.resource.index);
                                                },
                                            },
                                        ]);
                                }
                            }
                        }),
                        (e.onRowMove = function (e) {
                            var t = new DayPilot.Args(e);
                            (t.control = i), (e.wrapped = t), (t.swimlane = new DayPilot.Swimlane(e.source.$.row.swimlane));
                            var n = 0;
                            switch (e.position) {
                                case "before":
                                    n = e.target.index;
                                    break;
                                case "after":
                                    n = e.target.index + 1;
                                    break;
                                default:
                                    throw "Unexpected target swimlane position: " + e.position;
                            }
                            (t.position = n), (t.previous = null);
                            for (var r = n - 1; a.rowlist[r] && a.rowlist[r].swimlane !== t.swimlane.data; ) (t.previous = new DayPilot.Swimlane(a.rowlist[r].swimlane)), (r -= 1);
                            t.next = null;
                            for (var o = n; a.rowlist[o] && a.rowlist[o].swimlane !== t.swimlane.data; ) (t.next = new DayPilot.Swimlane(a.rowlist[o].swimlane)), (o += 1);
                            "function" == typeof i.onSwimlaneMove && i.onSwimlaneMove(t);
                        }),
                        (e.onRowMoved = function (e) {
                            var t = e.wrapped;
                            DayPilot.rfa(i.swimlanes.list, t.swimlane.data);
                            var n = 0;
                            t.next ? (n = DayPilot.indexOf(i.swimlanes.list, t.next.data)) : t.previous && (n = DayPilot.indexOf(i.swimlanes.list, t.previous.data) + 1),
                                i.swimlanes.list.splice(n, 0, t.swimlane.data),
                                "function" == typeof i.onSwimlaneMoved && i.onSwimlaneMoved(t);
                        }),
                        (e.treePreventParentUsage = !0);
                }),
                    (r.loadCards = function () {
                        var e = i.theme + "_card_header",
                            t = i.theme + "_card_body",
                            n = new DayPilot.Date().toString();
                        (a.sortDirections = ["asc", "desc"]),
                            (a.events.list = DayPilot.list(i.cards.list).map(function (a, r) {
                                var o = a.html || a.text || "",
                                    s = a.name || "",
                                    d = {};
                                return (
                                    (d.id = a.id),
                                    (d.text = a.text),
                                    (d.html = "<div class='" + e + "'>" + s + "</div><div class='" + t + "'>" + o + "</div>"),
                                    (d.resource = a.swimlane),
                                    (d.start = l.addDays(
                                        DayPilot.list(i.columns.list).findIndex(function (e) {
                                            return a.column === e.id;
                                        })
                                    )),
                                    (d.end = d.start.addDays(1)),
                                    (d.card = a),
                                    (d.height = a.height),
                                    (d.cssClass = a.cssClass),
                                    (d.sort = [r, n]),
                                    (d.areas = DayPilot.list(a.areas).map(function (e) {
                                        var t = {};
                                        return (
                                            DayPilot.Util.copyProps(e, t),
                                            e.js &&
                                                (t.js = function (t) {
                                                    e.js(new DayPilot.Card(t.data.card, i));
                                                }),
                                            t
                                        );
                                    })),
                                    d.areas.push({ left: 0, width: 5, top: 0, bottom: 0, backColor: a.barColor, cssClass: i.theme + "_card_bar" }),
                                    d
                                );
                            }));
                    }),
                    (r.updateSort = function () {
                        var e = new DayPilot.Date().toString();
                        DayPilot.list(i.cards.list).forEach(function (t, n) {
                            var i = r.findSchedulerEventData(t);
                            i && (i.sort = [n, e]);
                        });
                    }),
                    (r.findSchedulerEventData = function (e) {
                        return DayPilot.list(a.events.list).find(function (t) {
                            return t.card === e;
                        });
                    }),
                    (r.loadSwimlanes = function () {
                        var e = DayPilot.list(i.swimlanes.list);
                        (a.resources = e.map(function (e) {
                            var t = {};
                            return (t.name = e.name), (t.id = e.id), (t.swimlane = e), e.collapsed && ((t.collapsed = !0), (t.eventHeight = 20), (t.hideEvents = !0)), t;
                        })),
                            e.isEmpty() && (a.resources = [{ name: "", id: "*" }]);
                    }),
                    (r.loadColumns = function () {
                        var e = DayPilot.list(i.columns.list);
                        a.days = e.length;
                    });
                var d = {};
                (d.active = null),
                    (d.div = null),
                    (d.update = function () {
                        d.clear();
                        var e = d.findPosition();
                        d.draw(e);
                    }),
                    (d.clear = function () {
                        DayPilot.de(d.div), (d.div = null);
                    }),
                    (d.draw = function (e) {
                        var t = 0;
                        if (e >= a.itline.length) {
                            var n = a.itline[a.itline.length - 1];
                            t = n.left + n.width - 3;
                        } else t = a.itline[e].left;
                        var r = document.createElement("div");
                        (r.style.position = "absolute"),
                            (r.style.left = t + "px"),
                            (r.style.width = "3px"),
                            (r.style.top = 0),
                            (r.style.height = a.headerHeight + "px"),
                            (r.className = i.theme + "_columnmove_position"),
                            (d.div = r),
                            a.nav.timeHeader.appendChild(r);
                    }),
                    (d.findPosition = function () {
                        if (i.coords.x < 0) return 0;
                        var e = DayPilot.list(a.itline).findIndex(function (e) {
                            var t = e.left + a.rowHeaderWidth,
                                n = e.width;
                            return i.coords.x < t + n / 2;
                        });
                        return e === -1 ? a.itline.length : e;
                    }),
                    (this.Ph = function (e) {
                        d.active = e;
                    }),
                    (this.Oh = function (e) {
                        return i.columns.list[DayPilot.DateUtil.daysDiff(l, e)];
                    }),
                    (this.Qh = function (e) {
                        return DayPilot.list(i.swimlanes.list).find(function (t) {
                            return t.id === e;
                        });
                    }),
                    (this.message = function (e, t, n, i) {
                        a.message(e, t, n, i);
                    }),
                    (this.show = function () {
                        (i.visible = !0), a.show();
                    }),
                    (this.hide = function () {
                        (i.visible = !1), a.hide();
                    }),
                    (this.cards.add = function (e) {
                        var t = null;
                        (t = e && e instanceof DayPilot.Card ? e.data : e), e && (i.cards.list.push(t), i.update());
                    }),
                    (this.cards.remove = function (e) {
                        var t = null;
                        (t = e && e instanceof DayPilot.Card ? e.data : e), e && (DayPilot.rfa(i.cards.list, t), i.update());
                    }),
                    (this.cards.update = function (e) {
                        i.update();
                    }),
                    (this.cards.find = function (e) {
                        var t = DayPilot.list(i.cards.list).find(function (t) {
                            return e === t.id;
                        });
                        return t ? new DayPilot.Card(t, i) : null;
                    }),
                    (this.Rh = function (e) {
                        DayPilot.list(i.swimlanes.list).isEmpty() || (i.swimlanes.list[e].collapsed = !i.swimlanes.list[e].collapsed), i.update();
                    }),
                    (this.init = function () {
                        if (this.ya) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                        return r.translate(), r.loadSwimlanes(), r.loadColumns(), r.loadCards(), a.init(), i.lg(), (this.ya = !0), this;
                    }),
                    (this.za = !1),
                    (this.dispose = function () {
                        a.dispose(), (i.za = !0);
                    }),
                    (this.update = function (e) {
                        var t = i;
                        if (!t.ya) throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that hasn't been initialized yet.");
                        if (t.za) throw new DayPilot.Exception("You are trying to update a DayPilot.Kanban instance that has been disposed.");
                        i.Xg(e), r.translate(), r.loadSwimlanes(), r.loadColumns(), r.loadCards(), a.update();
                    }),
                    (this.lg = function () {
                        DayPilot.re(document, "mouseup", i.og), DayPilot.re(document, "mousemove", i.ng);
                    }),
                    (this.Tg = {}),
                    (this.Tg.scope = null),
                    (this.Tg.notify = function () {
                        i.Tg.scope && i.Tg.scope["$apply"]();
                    }),
                    (this.nh = null),
                    (this.Xg = function (e) {
                        if (e) {
                            var t = {
                                cards: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (DayPilot.isArray(e.list) ? (i.cards.list = e.list) : (i.cards.list = e));
                                    },
                                },
                                columns: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (DayPilot.isArray(e.list) ? (i.columns.list = e.list) : (i.columns.list = e));
                                    },
                                },
                                swimlanes: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (DayPilot.isArray(e.list) ? (i.swimlanes.list = e.list) : (i.swimlanes.list = e));
                                    },
                                },
                            };
                            this.nh = t;
                            for (var n in e)
                                if (t[n]) {
                                    var a = t[n];
                                    (a.data = e[n]), a.preInit && a.preInit();
                                } else i[n] = e[n];
                        }
                    }),
                    (this.mh = function () {
                        var e = this.nh;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.internal = {}),
                    (this.internal.loadOptions = i.Xg),
                    this.Xg(n),
                    (this.fg = function () {
                        var e = i.nav.top;
                        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
                    }),
                    (this.gg = function () {
                        var e = i,
                            t = e.fg;
                        t() ||
                            e.Pa ||
                            (e.Pa = setInterval(function () {
                                t() && (e.update(), clearInterval(e.Pa));
                            }, 100));
                    }),
                    (this.ng = function (e) {
                        (i.coords = DayPilot.mo3(a.nav.top, e)), d.active && d.update();
                    }),
                    (this.og = function (e) {
                        if (d.active) {
                            var t = d.active.source,
                                n = d.findPosition(),
                                a = i.Oh(t.start),
                                r = new DayPilot.Args();
                            (r.column = new DayPilot.KanbanColumn(a, i)), (r.position = n), (r.previous = null), (r.next = null);
                            for (var o = null, s = r.position; 0 !== s && !o; ) a !== i.columns.list[s - 1] && (o = i.columns.list[s - 1]), (s -= 1);
                            o && (r.previous = new DayPilot.KanbanColumn(o, i));
                            var l = null;
                            for (s = r.position; s < i.columns.list.length - 1 && !l; ) a !== i.columns.list[s] && (l = i.columns.list[s]), (s += 1);
                            if ((l && (r.next = new DayPilot.KanbanColumn(l, i)), "function" == typeof i.onColumnMove && i.onColumnMove(r), !r.preventDefault.value)) {
                                if ("Update" === i.columnMoveHandling) {
                                    DayPilot.rfa(i.columns.list, r.column.data);
                                    var c = 0;
                                    r.next ? (c = DayPilot.indexOf(i.columns.list, r.next.data)) : r.previous && (c = DayPilot.indexOf(i.columns.list, r.previous.data) + 1), i.columns.list.splice(c, 0, r.column.data), i.update();
                                }
                                "function" == typeof i.onColumnMoved && i.onColumnMove(r);
                            }
                            (d.active = null), d.clear();
                        }
                    });
            }),
                (DayPilot.Kanban.makeDraggable = function (e) {
                    DayPilot.Scheduler.makeDraggable(e);
                }),
                (DayPilot.Card = function (e, t) {
                    if (e instanceof DayPilot.Event) {
                        var n = e;
                        (this.data = n.data.card), (this.wrapped = e);
                    } else this.data = e;
                    this.control = t;
                }),
                (DayPilot.KanbanColumn = function (e, t) {
                    (this.data = e), (this.control = t);
                }),
                (DayPilot.Swimlane = function (e, t) {
                    (this.data = e), (this.control = t);
                }),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotKanban", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                                            function (t, n, i) {
                                                var a = new DayPilot.Kanban(n[0]);
                                                (a.Tg.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l = DayPilot.Util.shouldApply(s);
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] = function (a) {
                                                                      var r = e(i[n]);
                                                                      t["$apply"](function () {
                                                                          r(t, { args: a });
                                                                      });
                                                                  };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] = function (a) {
                                                                      e(i[n])(t, { args: a });
                                                                  };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c = i["config"] || i["daypilotConfig"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        a.Xg(e), a.update();
                                                    },
                                                    !0
                                                );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                (DayPilot.Kanban.def = {});
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Menu || !DayPilot.Menu.def) {
            var e = function () {},
                t = {};
            (t.mouse = null),
                (t.menu = null),
                (t.handlersRegistered = !1),
                (t.hideTimeout = null),
                (t.waitingSubmenu = null),
                (DayPilot.Menu = function (n) {
                    var i = this,
                        a = null;
                    (this.v = "2024.2.5916"),
                        (this.zIndex = 120),
                        (this.cssClassPrefix = "menu_default"),
                        (this.cssOnly = !0),
                        (this.menuTitle = null),
                        (this.showMenuTitle = !1),
                        (this.hideOnMouseOut = !1),
                        (this.hideAfter = 200),
                        (this.theme = null),
                        (this.onShow = null),
                        (this.R = function () {}),
                        n && DayPilot.isArray(n) && (this.items = n),
                        (this.toJSON = function () {
                            return null;
                        }),
                        (this.show = function (n, r) {
                            r = r || {};
                            var o = null;
                            if (
                                (n ? ("string" == typeof n.id || "number" == typeof n.id ? (o = n.id) : "function" == typeof n.id ? (o = n.id()) : "function" == typeof n.value && (o = n.value())) : (o = null),
                                "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                                r.submenu || t.menuClean(),
                                (this.R.submenu = null),
                                null !== t.mouse)
                            ) {
                                i.cssOnly || (i.cssOnly = !0);
                                var s = null;
                                if (
                                    (n && n.isRow && n.$.row.task ? ((s = new DayPilot.Task(n.$.row.task, n.calendar)), (s.menuType = "resource")) : (s = n && n.isEvent && n.data.task ? new DayPilot.Task(n, n.calendar) : n),
                                    "function" == typeof i.onShow)
                                ) {
                                    var l = {};
                                    if (
                                        ((l.source = s),
                                        (l.menu = i),
                                        (l.preventDefault = function () {
                                            l.preventDefault.value = !0;
                                        }),
                                        i.onShow(l),
                                        l.preventDefault.value)
                                    )
                                        return;
                                }
                                var d = document.createElement("div");
                                if (
                                    ((d.style.position = "absolute"),
                                    (d.style.top = "0px"),
                                    (d.style.left = "0px"),
                                    (d.style.display = "none"),
                                    (d.style.overflow = "hidden"),
                                    (d.style.zIndex = this.zIndex + 1),
                                    (d.className = this.applyCssClass("main")),
                                    (d.onclick = function (e) {
                                        (e.cancelBubble = !0), this.parentNode.removeChild(this);
                                    }),
                                    this.hideOnMouseOut &&
                                        ((d.onmousemove = function (e) {
                                            clearTimeout(t.hideTimeout);
                                        }),
                                        (d.onmouseleave = function (e) {
                                            i.delayedHide({ hideParent: !0 });
                                        })),
                                    !this.items || 0 === this.items.length)
                                )
                                    throw "No menu items defined.";
                                if (this.showMenuTitle) {
                                    var c = document.createElement("div");
                                    (c.innerHTML = this.menuTitle), (c.className = this.applyCssClass("title")), d.appendChild(c);
                                }
                                for (var u = 0; u < this.items.length; u++) {
                                    var h = this.items[u],
                                        f = document.createElement("div");
                                    if (
                                        (DayPilot.Util.addClass(f, this.applyCssClass("item")),
                                        h.items && (DayPilot.Util.addClass(f, this.applyCssClass("item_haschildren")), DayPilot.Util.addClass(d, this.applyCssClass("withchildren"))),
                                        "undefined" != typeof h && !h.hidden)
                                    ) {
                                        if ("-" === h.text) {
                                            var v = document.createElement("div");
                                            v.addEventListener("click", function (e) {
                                                e.stopPropagation();
                                            }),
                                                f.appendChild(v);
                                        } else {
                                            var p = document.createElement("a");
                                            if (((p.style.position = "relative"), (p.style.display = "block"), h.cssClass && DayPilot.Util.addClass(p, h.cssClass), h.disabled)) DayPilot.Util.addClass(p, i.applyCssClass("item_disabled"));
                                            else {
                                                if (h.onclick || h.onClick) {
                                                    (p.item = h),
                                                        (p.onclick = (function (e, t) {
                                                            return function (n) {
                                                                if ("function" == typeof e.onClick) {
                                                                    var i = {};
                                                                    if (
                                                                        ((i.item = e),
                                                                        (i.source = t.source),
                                                                        (i.originalEvent = n),
                                                                        (i.preventDefault = function () {
                                                                            i.preventDefault.value = !0;
                                                                        }),
                                                                        e.onClick(i),
                                                                        i.preventDefault.value)
                                                                    )
                                                                        return;
                                                                }
                                                                e.onclick && e.onclick.call(t, n);
                                                            };
                                                        })(h, p));
                                                    var m = function (e, n) {
                                                        return function (i) {
                                                            i.stopPropagation(), i.preventDefault();
                                                            var a = function () {
                                                                window.setTimeout(function () {
                                                                    n.source.calendar.internal.touch.active = !1;
                                                                }, 500);
                                                            };
                                                            if ("function" == typeof e.onClick) {
                                                                var r = {};
                                                                if (
                                                                    ((r.item = e),
                                                                    (r.source = n.source),
                                                                    (r.originalEvent = i),
                                                                    (r.preventDefault = function () {
                                                                        r.preventDefault.value = !0;
                                                                    }),
                                                                    e.onClick(r),
                                                                    r.preventDefault.value)
                                                                )
                                                                    return void a();
                                                            }
                                                            e.onclick && e.onclick.call(n, i), t.menuClean(), a();
                                                        };
                                                    };
                                                    DayPilot.reNonPassive(p, "touchstart", function (e) {
                                                        e.stopPropagation(), e.preventDefault(), (p.source.calendar.internal.touch.active = !0);
                                                    }),
                                                        DayPilot.reNonPassive(p, "touchend", m(h, p));
                                                }
                                                if (h.items && !h.disabled) {
                                                    var g = function (e, t) {
                                                        return function (n) {
                                                            n.preventDefault(), n.stopPropagation(), i.Sh(e, t);
                                                        };
                                                    };
                                                    p.ontouchend = g(h, p);
                                                }
                                                if (h.onclick) e();
                                                else if (h.href) (p.href = h.href.replace(/\x7B0\x7D/gim, o)), h.target && p.setAttribute("target", h.target);
                                                else if (h.command) {
                                                    var g = function (e, t) {
                                                        return function (n) {
                                                            var i = t.source,
                                                                a = e;
                                                            a.action = a.action ? a.action : "CallBack";
                                                            var r = i.calendar || i.root;
                                                            if (i instanceof DayPilot.Link) return void r.internal.linkMenuClick(a.command, i, a.action);
                                                            if (i instanceof DayPilot.Selection) return void r.internal.timeRangeMenuClick(a.command, i, a.action);
                                                            if (i instanceof DayPilot.Event) return void r.internal.eventMenuClick(a.command, i, a.action);
                                                            if (i instanceof DayPilot.Selection) return void r.internal.timeRangeMenuClick(a.command, i, a.action);
                                                            if (i instanceof DayPilot.Task)
                                                                return void ("resource" === i.menuType ? r.internal.resourceHeaderMenuClick(a.command, t.menuSource, a.action) : r.internal.eventMenuClick(a.command, t.menuSource, a.action));
                                                            switch (i.menuType) {
                                                                case "resource":
                                                                    return void r.internal.resourceHeaderMenuClick(a.command, i, a.action);
                                                                case "selection":
                                                                    return void r.internal.timeRangeMenuClick(a.command, i, a.action);
                                                                default:
                                                                    return void r.internal.eventMenuClick(a.command, i, a.action);
                                                            }
                                                            n.preventDefault();
                                                        };
                                                    };
                                                    (p.onclick = g(h, p)), (p.ontouchend = g(h, p));
                                                }
                                            }
                                            h.items &&
                                                p.addEventListener("click", function (e) {
                                                    e.stopPropagation();
                                                }),
                                                (p.source = s),
                                                (p.menuSource = n);
                                            var y = document.createElement("span");
                                            if (((y.className = i.applyCssClass("item_text")), (y.innerHTML = DayPilot.Util.escapeTextHtml(h.text, h.html)), p.appendChild(y), h.image)) {
                                                var b = document.createElement("img");
                                                (b.src = h.image), (b.style.position = "absolute"), (b.style.top = "0px"), (b.style.left = "0px"), p.appendChild(b);
                                            }
                                            if (h.icon) {
                                                var w = document.createElement("span");
                                                w.className = i.applyCssClass("item_icon");
                                                var x = document.createElement("i");
                                                (x.className = h.icon), w.appendChild(x), p.appendChild(w);
                                            }
                                            if (h.symbol) {
                                                var k = "http://www.w3.org/2000/svg",
                                                    C = document.createElementNS(k, "svg");
                                                C.setAttribute("width", "100%"), C.setAttribute("height", "100%");
                                                var _ = document.createElementNS(k, "use");
                                                _.setAttribute("href", h.symbol), C.appendChild(_);
                                                var D = document.createElement("span");
                                                (D.className = i.applyCssClass("item_symbol")), (D.style.position = "absolute"), (D.style.top = "0px"), (D.style.left = "0px"), D.appendChild(C), p.appendChild(D);
                                            }
                                            var T = function (e, n) {
                                                return function () {
                                                    var a = (n.source, e),
                                                        r = t.waitingSubmenu;
                                                    if (r) {
                                                        if (r.parent === a) return;
                                                        clearTimeout(r.timeout), (t.waitingSubmenu = null);
                                                    }
                                                    e.disabled ||
                                                        ((t.waitingSubmenu = {}),
                                                        (t.waitingSubmenu.parent = a),
                                                        (t.waitingSubmenu.timeout = setTimeout(function () {
                                                            (t.waitingSubmenu = null), i.Sh(a, n);
                                                        }, 300)));
                                                };
                                            };
                                            (p.onmouseover = T(h, p)), f.appendChild(p);
                                        }
                                        d.appendChild(f);
                                    }
                                }
                                var E = function (e) {
                                    window.setTimeout(function () {
                                        t.menuClean(), DayPilot.MenuBar.deactivate();
                                    }, 100);
                                };
                                (d.onclick = E),
                                    (d.ontouchend = E),
                                    (d.onmousedown = function (e) {
                                        (e = e || window.event), (e.cancelBubble = !0), e.stopPropagation && e.stopPropagation();
                                    }),
                                    (d.oncontextmenu = function () {
                                        return !1;
                                    }),
                                    document.body.appendChild(d),
                                    (i.R.visible = !0),
                                    (i.R.source = n),
                                    (d.style.display = "");
                                var S = d.offsetHeight,
                                    A = d.offsetWidth;
                                d.style.display = "none";
                                var H = document.documentElement.clientHeight,
                                    M = window.innerWidth,
                                    R = "number" == typeof r.windowMargin ? r.windowMargin : 5;
                                if (
                                    ((function () {
                                        var e = r.initiator;
                                        if (e) {
                                            var t = e.div,
                                                n = e.e,
                                                i = e.area,
                                                o = i.visibility || i.v || "Visible",
                                                s = e.a;
                                            if (("Visible" !== o && ((s = DayPilot.Areas.createArea(t, n, i)), t.appendChild(s), (a = s)), s)) {
                                                var l = DayPilot.abs(s);
                                                (r.x = l.x), (r.y = l.y + l.h + 2);
                                            }
                                        }
                                    })(),
                                    (function () {
                                        var e = "number" == typeof r.x ? r.x : t.mouse.x + 1,
                                            n = "number" == typeof r.y ? r.y : t.mouse.y + 1,
                                            i = document.body.scrollTop || document.documentElement.scrollTop,
                                            a = document.body.scrollLeft || document.documentElement.scrollLeft;
                                        if (n - i > H - S && 0 !== H) {
                                            var o = n - i - (H - S) + R;
                                            d.style.top = n - o + "px";
                                        } else d.style.top = n + "px";
                                        if (("right" === r.align && (e -= A), e - a > M - A && 0 !== M)) {
                                            var s = e - a - (M - A) + R;
                                            d.style.left = e - s + "px";
                                        } else d.style.left = e + "px";
                                    })(),
                                    r.parentLink)
                                ) {
                                    var B = r.parentLink,
                                        P = parseInt(new DayPilot.StyleReader(d).get("border-top-width")),
                                        N = DayPilot.abs(r.parentLink.parentNode),
                                        I = N.x + B.offsetWidth,
                                        L = N.y - P;
                                    I + A > M && (I = Math.max(0, N.x - A));
                                    var z = document.body.scrollTop + document.documentElement.scrollTop;
                                    L + S - z > H && (L = Math.max(0, H - S + z)), (d.style.left = I + "px"), (d.style.top = L + "px");
                                }
                                (d.style.display = ""), this.addShadow(d), (this.R.div = d), r.submenu || (DayPilot.Menu.active = this);
                            }
                        }),
                        (this.Sh = function (e, t) {
                            var n = e,
                                a = t.source;
                            if (
                                (!i.R.submenu || i.R.submenu.item !== e) &&
                                (i.R.submenu && i.R.submenu.item !== e && (DayPilot.Util.removeClass(i.R.submenu.link.parentNode, i.applyCssClass("item_haschildren_active")), i.R.submenu.menu.hide(), (i.R.submenu = null)), e.items)
                            ) {
                                var r = i.cloneOptions();
                                (r.items = e.items),
                                    (i.R.submenu = {}),
                                    (i.R.submenu.menu = new DayPilot.Menu(r)),
                                    (i.R.submenu.menu.Th = i),
                                    i.R.submenu.menu.show(a, { submenu: !0, parentLink: t, parentItem: n }),
                                    (i.R.submenu.item = e),
                                    (i.R.submenu.link = t),
                                    DayPilot.Util.addClass(t.parentNode, i.applyCssClass("item_haschildren_active"));
                            }
                        }),
                        (this.applyCssClass = function (e) {
                            var t = this.theme || this.cssClassPrefix,
                                n = this.cssOnly ? "_" : "";
                            return t ? t + n + e : "";
                        }),
                        (this.cloneOptions = function () {
                            return DayPilot.Util.copyProps(r, {}, ["cssClassPrefix", "theme", "hideAfter", "hideOnMouseOut", "zIndex"]);
                        }),
                        (this.hide = function (e) {
                            (e = e || {}), this.R.submenu && this.R.submenu.menu.hide();
                            var n = t.waitingSubmenu;
                            if (
                                (n && ((t.waitingSubmenu = null), clearTimeout(n.timeout)),
                                this.removeShadow(),
                                this.R.div && this.R.div.parentNode === document.body && document.body.removeChild(this.R.div),
                                a && (DayPilot.de(a), (a = null)),
                                (i.R.visible = !1),
                                (i.R.source = null),
                                i.Th && e.hideParent && i.Th.hide(e),
                                DayPilot.Menu.active === i && (DayPilot.Menu.active = null),
                                "function" == typeof this.onHide)
                            ) {
                                var r = {};
                                this.onHide(r);
                            }
                        }),
                        (this.delayedHide = function (e) {
                            t.hideTimeout = setTimeout(function () {
                                i.hide(e);
                            }, i.hideAfter);
                        }),
                        (this.cancelHideTimeout = function () {
                            clearTimeout(t.hideTimeout);
                        }),
                        (this.init = function (e) {
                            return t.mouseMove(e), this;
                        }),
                        (this.addShadow = function (e) {}),
                        (this.removeShadow = function () {});
                    var r = DayPilot.isArray(n) ? null : n;
                    if (r) for (var o in r) this[o] = r[o];
                }),
                (DayPilot.MenuBar = function (e, t) {
                    var n = this;
                    (t = t || {}), (this.items = []), (this.theme = "menubar_default"), (this.windowMargin = 0), (this.nav = {}), (this.elements = {}), (this.elements.items = DayPilot.list()), (this.s = null), (this.ya = !1);
                    for (var i in t) this[i] = t[i];
                    (this.Uh = function (e) {
                        return this.theme + "_" + e;
                    }),
                        (this.D = function () {
                            this.nav.top = document.getElementById(e);
                            var t = this.nav.top;
                            (t.className = this.Uh("main")),
                                DayPilot.list(n.items).forEach(function (e) {
                                    var i = document.createElement("span");
                                    (i.innerHTML = DayPilot.Util.escapeTextHtml(e.text, e.html)),
                                        (i.className = n.Uh("item")),
                                        e.cssClass && i.classList.add(e.cssClass),
                                        (i.data = e),
                                        (i.onclick = function (t) {
                                            if (n.active && n.active.item === e) n.Vh();
                                            else if (e.children) return void n.Wh(i);
                                            if ("function" == typeof e.onClick) {
                                                var a = {};
                                                (a.item = e), (a.originalEvent = t), e.onClick(a);
                                            }
                                        }),
                                        (i.onmousedown = function (e) {
                                            e.stopPropagation();
                                        }),
                                        (i.onmouseover = function () {
                                            n.active && n.active.item !== e && n.Wh(i);
                                        }),
                                        t.appendChild(i),
                                        n.elements.items.push(i);
                                });
                        }),
                        (this.Vh = function () {
                            var e = n.Uh("item_active");
                            n.elements.items.forEach(function (t) {
                                DayPilot.Util.removeClass(t, e);
                            }),
                                n.active && n.active.menu && n.active.menu.hide(),
                                (n.active = null);
                        }),
                        (this.Xh = function (e) {
                            return !!n.active && n.active.item === e.data;
                        }),
                        (this.Wh = function (e) {
                            if (!n.Xh(e)) {
                                n.Vh();
                                var t = e.data,
                                    i = (n.active = {});
                                (i.item = t), (i.div = e);
                                var a = n.Uh("item_active");
                                DayPilot.Util.addClass(e, a);
                                var r = DayPilot.abs(e);
                                if (t.children) {
                                    i.menu = new DayPilot.Menu({ items: t.children });
                                    var o = r.x;
                                    "right" === t.align && (o += r.w), i.menu.show(null, { x: o, y: r.y + r.h, align: t.align, windowMargin: n.windowMargin });
                                }
                                DayPilot.MenuBar.active = n;
                            }
                        }),
                        (this.init = function () {
                            return this.D(), (this.ya = !0), this;
                        }),
                        (this.dispose = function () {
                            this.ya && ((this.nav.top.innerHTML = ""), (this.elements.items = []));
                        });
                }),
                (DayPilot.MenuBar.deactivate = function () {
                    DayPilot.MenuBar.active && (DayPilot.MenuBar.active.Vh(), (DayPilot.MenuBar.active = null));
                }),
                (t.menuClean = function () {
                    "undefined" != typeof DayPilot.Menu.active && DayPilot.Menu.active && (DayPilot.Menu.active.hide(), (DayPilot.Menu.active = null));
                }),
                (t.mouseDown = function (e) {
                    "undefined" != typeof t && (t.menuClean(), DayPilot.MenuBar.deactivate());
                }),
                (t.mouseMove = function (e) {
                    "undefined" != typeof t && (t.mouse = t.mousePosition(e));
                }),
                (t.touchMove = function (e) {
                    "undefined" != typeof t && (t.mouse = t.touchPosition(e));
                }),
                (t.touchStart = function (e) {
                    "undefined" != typeof t && (t.mouse = t.touchPosition(e));
                }),
                (t.touchEnd = function (e) {}),
                (t.touchPosition = function (e) {
                    if (!e || !e.touches) return null;
                    var t = e.touches[0],
                        n = {};
                    return (n.x = t.pageX), (n.y = t.pageY), n;
                }),
                (t.mousePosition = function (e) {
                    return DayPilot.mo3(null, e);
                }),
                (DayPilot.Menu.touchPosition = function (e) {
                    e.touches && (t.mouse = t.touchPosition(e));
                }),
                (DayPilot.Menu.hide = function (e) {
                    if (((e = e || {}), e.calendar)) {
                        var n = DayPilot.Menu.active;
                        if (n) {
                            var i = n.R.source;
                            i && i.calendar === e.calendar && t.menuClean();
                        }
                    } else t.menuClean();
                }),
                t.handlersRegistered ||
                    "undefined" == typeof document ||
                    (DayPilot.re(document, "mousemove", t.mouseMove),
                    DayPilot.re(document, "mousedown", t.mouseDown),
                    DayPilot.re(document, "touchmove", t.touchMove),
                    DayPilot.re(document, "touchstart", t.touchStart),
                    DayPilot.re(document, "touchend", t.touchEnd),
                    (t.handlersRegistered = !0)),
                (DayPilot.Menu.def = {}),
                "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot && (DayPilot = {}),
    (function (DayPilot) {
        function e(t, n, i) {
            var a = n.indexOf(".");
            if (a === -1) return void ("__proto__" !== n && "constructor" !== n && (t[n] = i));
            var r = n.substring(0, a);
            if ("__proto__" !== r && "constructor" !== r) {
                var o = n.substring(a + 1),
                    s = t[r];
                ("object" == typeof s && null !== s) || ((t[r] = {}), (s = t[r])), e(s, o, i);
            }
        }
        function t(e, n, i) {
            (n = n || {}), (i = i || "");
            for (var a in e) {
                var r = e[a];
                "object" == typeof r ? ("[object Array]" === Object.prototype.toString.call(r) ? (n[i + a] = r) : r && r.toJSON ? (n[i + a] = r.toJSON()) : t(r, n, i + a + ".")) : (n[i + a] = r);
            }
            return n;
        }
        if (!DayPilot.ModalStatic) {
            (DayPilot.ModalStatic = {}),
                (DayPilot.ModalStatic.list = []),
                (DayPilot.ModalStatic.hide = function () {
                    if (this.list.length > 0) {
                        var e = this.list.pop();
                        e && e.hide();
                    }
                }),
                (DayPilot.ModalStatic.remove = function (e) {
                    for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++) if (t[n] === e) return void t.splice(n, 1);
                }),
                (DayPilot.ModalStatic.close = function (e) {
                    DayPilot.ModalStatic.result(e), DayPilot.ModalStatic.hide();
                }),
                (DayPilot.ModalStatic.result = function (e) {
                    var t = DayPilot.ModalStatic.list;
                    t.length > 0 && (t[t.length - 1].result = e);
                }),
                (DayPilot.ModalStatic.displayed = function (e) {
                    for (var t = DayPilot.ModalStatic.list, n = 0; n < t.length; n++) if (t[n] === e) return !0;
                    return !1;
                }),
                (DayPilot.ModalStatic.stretch = function () {
                    if (this.list.length > 0) {
                        var e = this.list[this.list.length - 1];
                        e && e.stretch();
                    }
                }),
                (DayPilot.ModalStatic.last = function () {
                    var e = DayPilot.ModalStatic.list;
                    return e.length > 0 ? e[e.length - 1] : null;
                });
            var n = function () {
                    if ("undefined" == typeof window) {
                        var e = {};
                        return (e.add = function () {}), (e.commit = function () {}), e;
                    }
                    var t = document.createElement("style");
                    t.setAttribute("type", "text/css"), t.styleSheet || t.appendChild(document.createTextNode("")), (document.head || document.getElementsByTagName("head")[0]).appendChild(t);
                    var n = !!t.styleSheet,
                        e = {};
                    return (
                        (e.rules = []),
                        (e.commit = function () {
                            try {
                                n && (t.styleSheet.cssText = this.rules.join("\n"));
                            } catch (e) {}
                        }),
                        (e.add = function (e, i, a) {
                            if (n) return void this.rules.push(e + "{" + i + "}");
                            if (t.sheet.insertRule) "undefined" == typeof a && (a = t.sheet.cssRules.length), t.sheet.insertRule(e + "{" + i + "}", a);
                            else {
                                if (!t.sheet.addRule) throw "No CSS registration method found";
                                t.sheet.addRule(e, i, a);
                            }
                        }),
                        (e.print = function () {
                            for (var e = t.sheet.cssRules, n = [], i = 0; i < e.length; i++) n.push(e[i].cssText);
                            return n.join("\n");
                        }),
                        e
                    );
                },
                i =
                    "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxwYXRoCiAgICAgICBpZD0icGF0aDMxNzMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojOTk5OTk5O3N0cm9rZS13aWR0aDoxLjg1MTk2ODUzO3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIKICAgICAgIGQ9Ik0gMC45NTQxNDgzOCwwLjY4MTYwMzEgNS4wMzkwNjI1LDUuNDExNTM4NiA5LjEyMzk3NjYsMC42ODE2MDMxIgogICAgICAgIC8+CiAgPC9nPgo8L3N2Zz4K",
                a = new n();
            a.add(".modal_default_main", "border: 10px solid #ccc; max-width: 90%;"),
                a.add(".modal_default_main:focus", "outline: none;"),
                a.add(".modal_default_content", "padding: 10px 0px;"),
                a.add(".modal_default_inner", "padding: 20px;"),
                a.add(".modal_default_input", "padding: 10px 0px;"),
                a.add(".modal_default_buttons", "margin-top: 10px;"),
                a.add(".modal_default_buttons", "padding: 10px 0px;"),
                a.add(".modal_default_form_item", "padding: 10px 0px; position: relative;"),
                a.add(".modal_default_form_item_level1", "border-left: 2px solid #ccc; margin-left: 10px; padding-left: 20px;"),
                a.add(".modal_default_form_item.modal_default_form_title", "font-size: 1.5rem; font-weight: bold;"),
                a.add(".modal_default_form_item input[type=text]", "width: 100%; box-sizing: border-box;"),
                a.add(".modal_default_form_item textarea", "width: 100%; height: 200px; box-sizing: border-box;"),
                a.add(".modal_default_form_item input[type=select]", "width: 100%; box-sizing: border-box;"),
                a.add(".modal_default_form_item label", "display: block;"),
                a.add(".modal_default_form_item select", "width: 100%; box-sizing: border-box;"),
                a.add(".modal_default_form_item_label", "margin: 2px 0px;"),
                a.add(".modal_default_form_item_image img", "max-width: 100%; height: auto;"),
                a.add(".modal_default_form_item_invalid", ""),
                a.add(".modal_default_form_item_invalid_message", "position: absolute; right: 0px; top: 9px; background-color: red; color: #ffffff; padding: 2px; border-radius: 2px;"),
                a.add(".modal_default_background", "opacity: 0.5; background-color: #000;"),
                a.add(".modal_default_ok", "padding: 3px; width: 80px;"),
                a.add(".modal_default_cancel", "padding: 3px; width: 80px;"),
                a.add(".modal_default_form_item_date", "position: relative;"),
                a.add(
                    ".modal_default_form_item_date:after",
                    "content: ''; position: absolute; right: 7px; top: 50%; margin-top: 3px; width: 10px; height: 15px; background-image:url(" +
                        "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB3aWR0aD0iMTAiCiAgIGhlaWdodD0iMTUiCj4KICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLDUpIj4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojY2NjY2NjO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjM4MDM3MzM2O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDE5MjgiCiAgICAgICB3aWR0aD0iOS45MTUzMDYxIgogICAgICAgaGVpZ2h0PSIxMS4zNjkzNyIKICAgICAgIHg9IjAuMTE3MTg3NSIKICAgICAgIHk9Ii0zLjAwOTk5NTciCiAgICAgICByeT0iMS4zMTE4NTA1IiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNjY2NjY2M7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNTk4MTQwMTI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MTkzMCIKICAgICAgIHdpZHRoPSIxLjUzNDQxMzYiCiAgICAgICBoZWlnaHQ9IjIuMjE5ODI1IgogICAgICAgeD0iMi4xNTU4NDgzIgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHJ5PSIwLjY3MTc4OTE3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iMS41MjM5NTA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QxOTQ4IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjY3MTc4OTE3IgogICAgICAgeT0iLTQuMzkzNzAwMSIKICAgICAgIHg9IjYuNDUyNzIzNSIKICAgICAgIGhlaWdodD0iMi4yMTk4MjUiCiAgICAgICB3aWR0aD0iMS41MzQ0MTM2IgogICAgICAgaWQ9InJlY3QyMDAzIgogICAgICAgc3R5bGU9ImZpbGw6I2NjY2NjYztmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS41OTgxNDAxMjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAwNSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIHk9Ii0xLjE2NTg0NjYiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSItMS4xNjU4NDY2IgogICAgICAgeD0iNi45OTI3MDA2IgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDA3IgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogICAgPHJlY3QKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGlkPSJyZWN0MjAxMyIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHg9IjEuNTIzOTUwNiIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHJ5PSIwLjI5NjAxNDciIC8+CiAgICA8cmVjdAogICAgICAgcnk9IjAuMjk2MDE0NyIKICAgICAgIHk9IjEuODAyOTAzNCIKICAgICAgIHg9IjQuMjE5MjYzMSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGlkPSJyZWN0MjAxNSIKICAgICAgIHN0eWxlPSJmaWxsOiNmZmZmZmY7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjEuNDIxODkxOTM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MSIgLz4KICAgIDxyZWN0CiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBpZD0icmVjdDIwMTciCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB4PSI2Ljk5MjcwMDYiCiAgICAgICB5PSIxLjgwMjkwMzQiCiAgICAgICByeT0iMC4yOTYwMTQ3IiAvPgogICAgPHJlY3QKICAgICAgIHJ5PSIwLjI5NjAxNDciCiAgICAgICB5PSI0LjczMjU5MDciCiAgICAgICB4PSIxLjU2MzAxMzEiCiAgICAgICBoZWlnaHQ9IjEuODI5OTA5MSIKICAgICAgIHdpZHRoPSIxLjgzNDIyNTEiCiAgICAgICBpZD0icmVjdDIwMTkiCiAgICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDoxLjQyMTg5MTkzO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjEiIC8+CiAgICA8cmVjdAogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIgogICAgICAgaWQ9InJlY3QyMDIxIgogICAgICAgd2lkdGg9IjEuODM0MjI1MSIKICAgICAgIGhlaWdodD0iMS44Mjk5MDkxIgogICAgICAgeD0iNC4yNTgzMjU2IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgcnk9IjAuMjk2MDE0NyIgLz4KICAgIDxyZWN0CiAgICAgICByeT0iMC4yOTYwMTQ3IgogICAgICAgeT0iNC43MzI1OTA3IgogICAgICAgeD0iNy4wMzE3NjMxIgogICAgICAgaGVpZ2h0PSIxLjgyOTkwOTEiCiAgICAgICB3aWR0aD0iMS44MzQyMjUxIgogICAgICAgaWQ9InJlY3QyMDIzIgogICAgICAgc3R5bGU9ImZpbGw6I2ZmZmZmZjtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS40MjE4OTE5MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxIiAvPgogIDwvZz4KPC9zdmc+Cg==" +
                        ")"
                ),
                "undefined" != typeof navigator && navigator.userAgent.indexOf("Edge") !== -1 && a.add(".modal_default_form_item_date input::-ms-clear", "display: none;"),
                a.add(".modal_default_form_item_scrollable_scroll", "width: 100%; height: 200px; box-sizing: border-box; border: 1px solid #ccc; overflow-y: auto;"),
                a.add(".modal_default_form_item_scrollable_scroll_content", "padding: 5px;"),
                a.add(".modal_default_form_item_searchable", "position: relative;"),
                a.add(".modal_default_form_item_searchable_icon", ""),
                a.add(".modal_default_form_item_searchable_icon:after", "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" + i + ");"),
                a.add(".modal_default_form_item_searchable_list", "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),
                a.add(".modal_default_form_item_searchable_list_item", "background: white; padding: 2px; cursor: default;"),
                a.add(".modal_default_form_item_searchable_list_item_highlight", "background: #ccc;"),
                a.add(".modal_default_form_item_time", "position: relative;"),
                a.add(".modal_default_form_item_time_icon", ""),
                a.add(".modal_default_form_item_time_icon:after", "content:''; position: absolute; right: 5px; top: 50%; margin-top: -8px; width: 10px; height: 15px; background-image:url(" + i + ");"),
                a.add(".modal_default_form_item_time_list", "box-sizing: border-box; border: 1px solid #999; max-height: 150px; overflow-y: auto;"),
                a.add(".modal_default_form_item_time_list_item", "background: white; padding: 2px; cursor: default;"),
                a.add(".modal_default_form_item_time_list_item_highlight", "background: #ccc;"),
                a.add(".modal_default_form_item_datetime_parent", "display: flex;"),
                a.add(".modal_default_form_item_datetime .modal_default_form_item_time_main", "margin-left: 5px;"),
                a.add(".modal_default_form_item_datetime input[type='text'].modal_default_input_date ", ""),
                a.add(".modal_default_form_item_tabular_main", "margin-top: 10px;"),
                a.add(".modal_default_form_item_tabular_table", "display: table; width: 100%; xbackground-color: #fff; border-collapse: collapse;"),
                a.add(".modal_default_form_item_tabular_tbody", "display: table-row-group;"),
                a.add(".modal_default_form_item_tabular_row", "display: table-row;"),
                a.add(".modal_default_form_item_tabular_row.modal_default_form_item_tabular_header", ""),
                a.add(".modal_default_form_item_tabular_cell.modal_default_form_item_tabular_rowaction", "padding: 0px; width: 23px;"),
                a.add(".modal_default_form_item_tabular_cell", "display: table-cell; border: 0px; padding: 2px 2px 2px 0px; cursor: default; vertical-align: bottom;"),
                a.add(".modal_default_form_item_tabular_header .modal_default_form_item_tabular_cell", "padding-left: 0px; padding-bottom: 0px;"),
                a.add(".modal_default_form_item_tabular_table input[type=text], .modal_default_form_item_tabular_table input[type=number]", "width:100%; box-sizing: border-box;"),
                a.add(".modal_default_form_item_tabular_table select", "width:100%; height:100%; box-sizing: border-box;"),
                a.add(
                    ".modal_default_form_item_tabular_plus",
                    "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_plus:after",
                    "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSA1LjAgMC41IEwgNS4wIDkuNSBNIDAuNSA1LjAgTCA5LjUgNS4wJyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"
                ),
                a.add(
                    ".modal_default_form_item_tabular_delete",
                    "display: inline-block; background-color: #ccc; color: white; width: 20px; height: 20px; border-radius: 10px; box-sizing: border-box; position: relative; margin-left: 3px; margin-top: 3px; cursor: pointer;"
                ),
                a.add(
                    ".modal_default_form_item_tabular_delete:after",
                    "content: ''; position: absolute; left: 5px; top: 5px; width: 10px; height: 10px;   background-image: url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0nMTAnIGhlaWdodD0nMTAnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zyc+PHBhdGggZD0nTSAwLjUgMC41IEwgOS41IDkuNSBNIDAuNSA5LjUgTCA5LjUgMC41JyBzdHlsZT0nZmlsbDpub25lO3N0cm9rZTojZmZmZmZmO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbGluZWNhcDpidXR0JyAvPjwvc3ZnPg==\")"
                ),
                a.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_plus", "display: none;"),
                a.add(".modal_default_form_item_tabular_plus_max.modal_default_form_item_tabular_plus", "display: none;"),
                a.add(".modal_default_form_item_tabular_disabled .modal_default_form_item_tabular_delete", "visibility: hidden;"),
                a.add(".modal_default_form_item_tabular_empty", "height: 1px; margin: 5px 23px 5px 0px; background-color: #ccc;"),
                a.add(".modal_default_form_item_tabular_spacer .modal_default_form_item_tabular_cell", "padding: 0px;"),
                a.add(".modal_min_main", "border: 1px solid #ccc; max-width: 90%;"),
                a.add(".modal_min_background", "opacity: 0.5; background-color: #000;"),
                a.add(".modal_min_ok", "padding: 3px 10px;"),
                a.add(".modal_min_cancel", "padding: 3px 10px;"),
                a.add(".navigator_modal_main", "border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),
                a.add(".navigator_modal_main *, .navigator_modal_main *:before, .navigator_modal_main *:after", "box-sizing: content-box;"),
                a.add(".navigator_modal_month", "font-size: 11px;"),
                a.add(".navigator_modal_day", "color: black;"),
                a.add(".navigator_modal_weekend", "background-color: #f0f0f0;"),
                a.add(".navigator_modal_dayheader", "color: black;"),
                a.add(".navigator_modal_line", "border-bottom: 1px solid #c0c0c0;"),
                a.add(".navigator_modal_dayother", "color: gray;"),
                a.add(".navigator_modal_todaybox", "border: 1px solid red;"),
                a.add(".navigator_modal_title, .navigator_modal_titleleft, .navigator_modal_titleright", "border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),
                a.add(".navigator_modal_busy", "font-weight: bold;"),
                a.add(".navigator_modal_cell", "text-align: center;"),
                a.add(".navigator_modal_select .navigator_modal_cell_box", "background-color: #FFE794; opacity: 0.5;"),
                a.add(".navigator_modal_title", "text-align: center;"),
                a.add(".navigator_modal_titleleft, .navigator_modal_titleright", "text-align: center;"),
                a.add(".navigator_modal_dayheader", "text-align: center;"),
                a.add(".navigator_modal_weeknumber", "text-align: center;"),
                a.add(".navigator_modal_cell_text", "cursor: pointer;"),
                a.commit(),
                (DayPilot.Modal = function (e) {
                    (this.autoFocus = !0),
                        (this.focus = null),
                        (this.autoStretch = !0),
                        (this.autoStretchFirstLoadOnly = !1),
                        (this.className = null),
                        (this.theme = "modal_default"),
                        (this.disposeOnClose = !0),
                        (this.dragDrop = !0),
                        (this.loadingHtml = null),
                        (this.maxHeight = null),
                        (this.scrollWithPage = !0),
                        (this.useIframe = !0),
                        (this.zIndex = 99999),
                        (this.left = null),
                        (this.width = 600),
                        (this.top = 20),
                        (this.height = 200),
                        (this.locale = null),
                        (this.closed = null),
                        (this.onClose = null),
                        (this.onClosed = null),
                        (this.onShow = null);
                    var t = this;
                    (this.id = "_" + new Date().getTime() + "n" + 10 * Math.random()),
                        (this.Hf = !1),
                        (this.Yh = null),
                        (this.Zh = null),
                        (this.showHtml = function (e) {
                            if (DayPilot.ModalStatic.displayed(this)) throw "This modal dialog is already displayed.";
                            if ((this.div || this.ug(), this.Ad(), this.useIframe)) {
                                var t = function (e, t) {
                                    return function () {
                                        e.setInnerHTML(e.id + "iframe", t);
                                    };
                                };
                                window.setTimeout(t(this, e), 0);
                            } else e.nodeType ? this.div.appendChild(e) : (this.div.innerHTML = e);
                            this.Ad(), this.lh(), this.$h();
                        }),
                        (this.showUrl = function (e) {
                            if (DayPilot.ModalStatic.displayed(this)) throw "This modal dialog is already displayed.";
                            if (this.useIframe) {
                                this.div || this.ug();
                                var n = this.loadingHtml;
                                n && ((this.iframe.src = "about:blank"), this.setInnerHTML(this.id + "iframe", n)), this.re(this.iframe, "load", this._h), (this.iframe.src = e), this.Ad(), this.lh(), this.$h();
                            } else
                                t.ai({
                                    url: e,
                                    success: function (e) {
                                        var n = e.request.responseText;
                                        t.showHtml(n);
                                    },
                                    error: function (e) {
                                        t.showHtml("Error loading the modal dialog");
                                    },
                                });
                        }),
                        (this.$h = function () {
                            if ("function" == typeof t.onShow) {
                                var e = {};
                                (e.root = t.bi()), (e.modal = t), t.onShow(e);
                            }
                        }),
                        (this.bi = function () {
                            return t.iframe ? t.iframe.contentWindow.document : t.div;
                        }),
                        (this.ai = function (e) {
                            var t = new XMLHttpRequest();
                            if (t) {
                                var n = e.method || "GET",
                                    i = e.success || function () {},
                                    a = e.error || function () {},
                                    r = e.data,
                                    o = e.url;
                                t.open(n, o, !0),
                                    t.setRequestHeader("Content-type", "text/plain"),
                                    (t.onreadystatechange = function () {
                                        if (4 === t.readyState)
                                            if (200 === t.status || 304 === t.status) {
                                                var e = {};
                                                (e.request = t), i(e);
                                            } else if (a) {
                                                var e = {};
                                                (e.request = t), a(e);
                                            } else window.console && console.log("HTTP error " + t.status);
                                    }),
                                    4 !== t.readyState && ("object" == typeof r && (r = JSON.stringify(r)), t.send(r));
                            }
                        }),
                        (this.Ad = function () {
                            delete this.result;
                            var e = window,
                                n = document,
                                i = e.pageYOffset ? e.pageYOffset : n.documentElement && n.documentElement.scrollTop ? n.documentElement.scrollTop : n.body.scrollTop;
                            this.theme && (this.hideDiv.className = this.theme + "_background"),
                                this.zIndex && (this.hideDiv.style.zIndex = this.zIndex),
                                (this.hideDiv.style.display = ""),
                                window.setTimeout(function () {
                                    t.hideDiv &&
                                        (t.hideDiv.onclick = function () {
                                            t.hide({ backgroundClick: !0 });
                                        });
                                }, 500),
                                this.theme ? (this.div.className = this.theme + "_main") : (this.div.className = ""),
                                this.className && (this.div.className += " " + this.className),
                                this.left ? (this.div.style.left = this.left + "px") : (this.div.style.marginLeft = "-" + Math.floor(this.width / 2) + "px"),
                                (this.div.style.position = "absolute"),
                                (this.div.style.boxSizing = "content-box"),
                                (this.div.style.top = i + this.top + "px"),
                                (this.div.style.width = this.width + "px"),
                                this.zIndex && (this.div.style.zIndex = this.zIndex),
                                this.height && (this.useIframe || !this.autoStretch ? (this.div.style.height = this.height + "px") : (this.div.style.height = "")),
                                this.useIframe && this.height && (this.iframe.style.height = this.height + "px"),
                                (this.div.style.display = ""),
                                this.di(),
                                DayPilot.ModalStatic.remove(this),
                                DayPilot.ModalStatic.list.push(this);
                        }),
                        (this._h = function () {
                            (t.iframe.contentWindow.modal = t), t.autoStretch && t.stretch();
                        }),
                        (this.stretch = function () {
                            var e = function () {
                                    return t.ci().y;
                                },
                                n = function () {
                                    return t.ci().x;
                                };
                            if (this.useIframe) {
                                for (var i = n() - 40, a = this.width; a < i && this.ei(); a += 10) (this.div.style.width = a + "px"), (this.div.style.marginLeft = "-" + Math.floor(a / 2) + "px");
                                for (var r = this.maxHeight || e() - 2 * this.top, o = this.height; o < r && this.fi(); o += 10) (this.iframe.style.height = o + "px"), (this.div.style.height = o + "px");
                                this.autoStretchFirstLoadOnly && this.ue(this.iframe, "load", this._h);
                            } else this.div.style.height = "";
                        }),
                        (this.ei = function () {
                            for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, n = t.scrollWidth, i = e.body.children, a = 0; a < i.length; a++) {
                                var r = i[a].offsetLeft + i[a].offsetWidth;
                                n = Math.max(n, r);
                            }
                            return n > t.clientWidth;
                        }),
                        (this.fi = function () {
                            for (var e = this.iframe.contentWindow.document, t = "BackCompat" === e.compatMode ? e.body : e.documentElement, n = t.scrollHeight, i = e.body.children, a = 0; a < i.length; a++) {
                                var r = i[a].offsetTop + i[a].offsetHeight;
                                n = Math.max(n, r);
                            }
                            return n > t.clientHeight;
                        }),
                        (this.ci = function () {
                            var e = document;
                            if ("CSS1Compat" === e.compatMode && e.documentElement && e.documentElement.clientWidth) {
                                var t = e.documentElement.clientWidth,
                                    n = e.documentElement.clientHeight;
                                return { x: t, y: n };
                            }
                            var t = e.body.clientWidth,
                                n = e.body.clientHeight;
                            return { x: t, y: n };
                        }),
                        (this.lh = function () {
                            this.Hf || (this.re(window, "resize", this.gi), this.re(window, "scroll", this.hi), this.dragDrop && (this.re(document, "mousemove", this.ii), this.re(document, "mouseup", this.ji)), (this.Hf = !0));
                        }),
                        (this.Za = function () {
                            this.ue(window, "resize", this.gi), this.ue(window, "scroll", this.hi), this.dragDrop && (this.ue(document, "mousemove", this.ii), this.ue(document, "mouseup", this.ji)), (this.Hf = !1);
                        }),
                        (this.ki = function (e) {
                            e.target === t.div && (e.preventDefault(), (t.div.style.cursor = "move"), t.li(), (t.Zh = t.mc(e || window.event)), (t.Yh = { x: t.div.offsetLeft, y: t.div.offsetTop }));
                        }),
                        (this.ii = function (e) {
                            if (t.Zh) {
                                var e = e || window.event,
                                    n = t.mc(e),
                                    i = n.x - t.Zh.x,
                                    a = n.y - t.Zh.y;
                                (t.div.style.marginLeft = "0px"), (t.div.style.top = t.Yh.y + a + "px"), (t.div.style.left = t.Yh.x + i + "px");
                            }
                        }),
                        (this.ji = function (e) {
                            t.Zh && (t.mi(), (t.div.style.cursor = null), (t.Zh = null));
                        }),
                        (this.li = function () {
                            if (this.useIframe) {
                                var e = document.createElement("div");
                                (e.style.backgroundColor = "#ffffff"),
                                    (e.style.filter = "alpha(opacity=80)"),
                                    (e.style.opacity = "0.80"),
                                    (e.style.width = "100%"),
                                    (e.style.height = this.height + "px"),
                                    (e.style.position = "absolute"),
                                    (e.style.left = "0px"),
                                    (e.style.top = "0px"),
                                    this.div.appendChild(e),
                                    (this.mask = e);
                            }
                        }),
                        (this.mi = function () {
                            this.useIframe && (this.div.removeChild(this.mask), (this.mask = null));
                        }),
                        (this.gi = function () {
                            t.ni(), t.di();
                        }),
                        (this.hi = function () {
                            t.ni();
                        }),
                        (this.di = function () {
                            if (!t.left && t.div) {
                                var e = t.div.offsetWidth;
                                t.div.style.marginLeft = "-" + Math.floor(e / 2) + "px";
                            }
                        }),
                        (this.ni = function () {
                            if (t.hideDiv && t.div && "none" !== t.hideDiv.style.display && "none" !== t.div.style.display) {
                                var e = t.oi.scrollY();
                                t.scrollWithPage || (t.div.style.top = e + t.top + "px");
                            }
                        }),
                        (this.oi = {}),
                        (this.oi.container = function () {
                            return t.container || document.body;
                        }),
                        (this.oi.scrollY = function () {
                            var e = t.oi.container();
                            return e === document.body
                                ? window.pageYOffset
                                    ? window.pageYOffset
                                    : document.documentElement && document.documentElement.scrollTop
                                    ? document.documentElement.scrollTop
                                    : document.body.scrollTop
                                : e.scrollTop;
                        }),
                        (this.re = function (e, t, n) {
                            e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent("on" + t, n);
                        }),
                        (this.ue = function (e, t, n) {
                            e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent && e.detachEvent("on" + t, n);
                        }),
                        (this.mc = function (e) {
                            return e.pageX || e.pageY ? { x: e.pageX, y: e.pageY } : { x: e.clientX + document.documentElement.scrollLeft, y: e.clientY + document.documentElement.scrollTop };
                        }),
                        (this.abs = function (e) {
                            for (var t = { x: e.offsetLeft, y: e.offsetTop }; e.offsetParent; ) (e = e.offsetParent), (t.x += e.offsetLeft), (t.y += e.offsetTop);
                            return t;
                        }),
                        (this.ug = function () {
                            var e = t.oi.container(),
                                n = e === document.body,
                                i = n ? "fixed" : "absolute",
                                a = document.createElement("div");
                            (a.id = this.id + "hide"),
                                (a.style.position = i),
                                (a.style.left = "0px"),
                                (a.style.top = "0px"),
                                (a.style.right = "0px"),
                                (a.style.bottom = "0px"),
                                (a.oncontextmenu = function () {
                                    return !1;
                                }),
                                (a.onmousedown = function () {
                                    return !1;
                                }),
                                e.appendChild(a);
                            var r = document.createElement("div");
                            (r.id = this.id + "popup"),
                                (r.style.position = i),
                                (r.style.left = "50%"),
                                (r.style.top = "0px"),
                                (r.style.backgroundColor = "white"),
                                (r.style.width = "50px"),
                                (r.style.height = "50px"),
                                this.dragDrop && (r.onmousedown = this.ki),
                                r.addEventListener("keydown", function (e) {
                                    e.stopPropagation();
                                });
                            var o = null;
                            this.useIframe &&
                                ((o = document.createElement("iframe")), (o.id = this.id + "iframe"), (o.name = this.id + "iframe"), (o.frameBorder = "0"), (o.style.width = "100%"), (o.style.height = "50px"), r.appendChild(o)),
                                e.appendChild(r),
                                (this.div = r),
                                (this.iframe = o),
                                (this.hideDiv = a);
                        }),
                        (this.setInnerHTML = function (e, n) {
                            var i = window.frames[e],
                                a = i.contentWindow || i.document || i.contentDocument;
                            a.document && (a = a.document),
                                null == a.body && a.write("<body></body>"),
                                n.nodeType ? a.body.appendChild(n) : (a.body.innerHTML = n),
                                t.autoStretch && ((t.autoStretchFirstLoadOnly && t.pi) || (t.stretch(), (t.pi = !0)));
                        }),
                        (this.close = function (e) {
                            (this.result = e), this.hide();
                        }),
                        (this.closeSerialized = function () {
                            for (var e = t.bi(), n = e.querySelectorAll("input, textarea, select"), i = {}, a = 0; a < n.length; a++) {
                                var r = n[a],
                                    o = r.name;
                                if (o) {
                                    var s = r.value;
                                    i[o] = s;
                                }
                            }
                            t.close(i);
                        }),
                        (this.hide = function (e) {
                            e = e || {};
                            var n = {};
                            (n.backgroundClick = !!e.backgroundClick),
                                (n.result = this.result),
                                (n.canceled = "undefined" == typeof this.result),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                ("function" == typeof this.onClose && (this.onClose(n), n.preventDefault.value)) ||
                                    (this.div && ((this.div.style.display = "none"), (this.hideDiv.style.display = "none"), this.useIframe || (this.div.innerHTML = null)),
                                    window.focus(),
                                    DayPilot.ModalStatic.remove(this),
                                    "function" == typeof this.onClosed ? this.onClosed(n) : this.closed && this.closed(),
                                    delete this.result,
                                    this.disposeOnClose && (t.Za(), t.qi(t.div), t.qi(t.hideDiv), (t.div = null), (t.hideDiv = null), (t.iframe = null)));
                        }),
                        (this.qi = function (e) {
                            e && e.parentNode && e.parentNode.removeChild(e);
                        }),
                        (this.ri = function () {
                            if (e) for (var t in e) this[t] = e[t];
                        }),
                        this.ri();
                }),
                (DayPilot.Modal.alert = function (e, t) {
                    (t = t || {}), (t.height = t.height || 40), (t.useIframe = !1);
                    var n = t.okText || "OK";
                    t.cancelText || "Cancel";
                    return DayPilot.getPromise(function (i, a) {
                        t.onClosed = function (e) {
                            i(e);
                        };
                        var r = new DayPilot.Modal(t),
                            o = document.createElement("div");
                        o.className = r.theme + "_inner";
                        var s = document.createElement("div");
                        (s.className = r.theme + "_content"), (s.innerHTML = e);
                        var l = document.createElement("div");
                        l.className = r.theme + "_buttons";
                        var d = document.createElement("button");
                        (d.innerText = n),
                            (d.className = r.theme + "_ok"),
                            (d.onclick = function (e) {
                                DayPilot.ModalStatic.close("OK");
                            }),
                            l.appendChild(d),
                            o.appendChild(s),
                            o.appendChild(l),
                            r.showHtml(o),
                            r.autoFocus && d.focus();
                    });
                }),
                (DayPilot.Modal.confirm = function (e, t) {
                    (t = t || {}), (t.height = t.height || 40), (t.useIframe = !1);
                    var n = t.okText || "OK",
                        i = t.cancelText || "Cancel";
                    return DayPilot.getPromise(function (a, r) {
                        t.onClosed = function (e) {
                            a(e);
                        };
                        var o = new DayPilot.Modal(t),
                            s = document.createElement("div");
                        s.className = o.theme + "_inner";
                        var l = document.createElement("div");
                        (l.className = o.theme + "_content"), (l.innerHTML = e);
                        var d = document.createElement("div");
                        d.className = o.theme + "_buttons";
                        var c = document.createElement("button");
                        (c.innerText = n),
                            (c.className = o.theme + "_ok"),
                            (c.onclick = function (e) {
                                DayPilot.ModalStatic.close("OK");
                            });
                        var u = document.createTextNode(" "),
                            h = document.createElement("button");
                        (h.innerText = i),
                            (h.className = o.theme + "_cancel"),
                            (h.onclick = function (e) {
                                DayPilot.ModalStatic.close();
                            }),
                            d.appendChild(c),
                            d.appendChild(u),
                            d.appendChild(h),
                            s.appendChild(l),
                            s.appendChild(d),
                            o.showHtml(s),
                            o.autoFocus && c.focus();
                    });
                }),
                (DayPilot.Modal.prompt = function (e, t, n) {
                    "object" == typeof t && ((n = t), (t = "")), (n = n || {}), (n.height = n.height || 40), (n.useIframe = !1);
                    var i = n.okText || "OK",
                        a = n.cancelText || "Cancel",
                        r = t || "";
                    return DayPilot.getPromise(function (t, o) {
                        n.onClosed = function (e) {
                            t(e);
                        };
                        var s = new DayPilot.Modal(n),
                            l = document.createElement("div");
                        l.className = s.theme + "_inner";
                        var d = document.createElement("div");
                        (d.className = s.theme + "_content"), (d.innerHTML = e);
                        var c = document.createElement("div");
                        c.className = s.theme + "_input";
                        var u = document.createElement("input");
                        (u.value = r),
                            (u.style.width = "100%"),
                            (u.onkeydown = function (e) {
                                var t = !1;
                                switch (e.keyCode) {
                                    case 13:
                                        s.close(this.value);
                                        break;
                                    case 27:
                                        s.close();
                                        break;
                                    default:
                                        t = !0;
                                }
                                t || (e.preventDefault(), e.stopPropagation());
                            }),
                            c.appendChild(u);
                        var h = document.createElement("div");
                        h.className = s.theme + "_buttons";
                        var f = document.createElement("button");
                        (f.innerText = i),
                            (f.className = s.theme + "_ok"),
                            (f.onclick = function (e) {
                                s.close(u.value);
                            });
                        var v = document.createTextNode(" "),
                            p = document.createElement("button");
                        (p.innerText = a),
                            (p.className = s.theme + "_cancel"),
                            (p.onclick = function (e) {
                                s.close();
                            }),
                            h.appendChild(f),
                            h.appendChild(v),
                            h.appendChild(p),
                            l.appendChild(d),
                            l.appendChild(c),
                            l.appendChild(h),
                            s.showHtml(l),
                            s.autoFocus && u.focus();
                    });
                });
            var r = function (e) {
                return "[object Array]" === Object.prototype.toString.call(e);
            };
            (DayPilot.Modal.form = function (t, n, i) {
                if (1 === arguments.length) {
                    var a = t;
                    if (r(a)) n = {};
                    else {
                        if ("object" != typeof a) throw "Invalid DayPilot.Modal.form() parameter";
                        (n = t), (t = []);
                        for (var s in n) {
                            var l = {};
                            (l.name = s), (l.id = s), t.push(l);
                        }
                    }
                }
                var d = {};
                for (var s in i) d[s] = i[s];
                (d.height = d.height || 40), (d.useIframe = !1);
                var c = d.okText || "OK",
                    u = d.cancelText || "Cancel";
                return DayPilot.getPromise(function (i, a) {
                    d.onClosed = function (t) {
                        if (t.result) {
                            var a = JSON.parse(JSON.stringify(n));
                            for (var r in t.result) e(a, r, t.result[r]);
                            t.result = a;
                        }
                        i(t);
                    };
                    var r = new DayPilot.Modal(d),
                        s = document.createElement("div");
                    s.className = r.theme + "_inner";
                    var l = document.createElement("div");
                    l.className = r.theme + "_input";
                    var h = new o({
                            theme: r.theme,
                            form: t,
                            data: n,
                            zIndex: r.zIndex,
                            locale: r.locale,
                            plugins: r.plugins,
                            onKey: function (e) {
                                switch (e.key) {
                                    case "Enter":
                                        h.validate() && r.close(h.serialize());
                                        break;
                                    case "Escape":
                                        r.close();
                                }
                            },
                            onChange: function (e) {
                                "function" == typeof r.onChange && r.onChange(e);
                            },
                        }),
                        f = h.create();
                    l.append(f);
                    var v = document.createElement("div");
                    v.className = r.theme + "_buttons";
                    var p = document.createElement("button");
                    (p.innerText = c),
                        (p.className = r.theme + "_ok"),
                        d.okDisabled && (p.disabled = !0),
                        (p.onclick = function (e) {
                            h.validate() && r.close(h.serialize());
                        });
                    var m = document.createTextNode(" "),
                        g = document.createElement("button");
                    if (
                        ((g.innerText = u),
                        (g.className = r.theme + "_cancel"),
                        (g.onclick = function (e) {
                            r.close();
                        }),
                        (g.onmousedown = function (e) {
                            h.canceling = !0;
                        }),
                        v.appendChild(p),
                        v.appendChild(m),
                        v.appendChild(g),
                        s.appendChild(l),
                        s.appendChild(v),
                        r.showHtml(s),
                        r.div.setAttribute("tabindex", "-1"),
                        r.div.addEventListener("keydown", function (e) {
                            switch (e.keyCode) {
                                case 27:
                                    r.close();
                                    break;
                                case 13:
                                    h.validate() && r.close(h.serialize());
                            }
                        }),
                        r.focus)
                    ) {
                        var y = null;
                        if ("object" == typeof r.focus) {
                            var b = r.focus.id,
                                w = r.focus.value;
                            y = h.findViewById(b, w);
                        } else "string" == typeof r.focus && (y = h.findViewById(r.focus));
                        y && y.focus();
                    } else {
                        var x = h.firstFocusable();
                        r.autoFocus && x ? x.focus() : r.div.focus();
                    }
                });
            }),
                (DayPilot.Modal.close = function (e) {
                    var t = DayPilot.Modal.opener();
                    t && t.close(e);
                }),
                (DayPilot.Modal.stretch = function (e) {
                    var t = DayPilot.Modal.opener();
                    if (!t) throw "Unable to find the opener DayPilot.Modal instance.";
                    t.stretch();
                }),
                (DayPilot.Modal.closeSerialized = function () {
                    var e = DayPilot.Modal.opener() || DayPilot.ModalStatic.last();
                    e && e.closeSerialized();
                }),
                (DayPilot.Modal.opener = function () {
                    return "undefined" != typeof DayPilot && "undefined" != typeof DayPilot.ModalStatic && DayPilot.ModalStatic.list.length > 0
                        ? DayPilot.ModalStatic.list[DayPilot.ModalStatic.list.length - 1]
                        : parent && parent.DayPilot && parent.DayPilot.ModalStatic && parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length - 1];
                }),
                (DayPilot.Modal.Experimental = {}),
                (DayPilot.Modal.Experimental.Form = o),
                "undefined" == typeof DayPilot.getPromise &&
                    (DayPilot.getPromise = function (e) {
                        return "undefined" != typeof Promise
                            ? new Promise(e)
                            : ((DayPilot.Promise = function (e) {
                                  var t = this;
                                  (this.then = function (t, n) {
                                      return (t = t || function () {}), (n = n || function () {}), e(t, n), DayPilot.getPromise(e);
                                  }),
                                      (this["catch"] = function (n) {
                                          return t.then(null, n), DayPilot.getPromise(e);
                                      });
                              }),
                              new DayPilot.Promise(e));
                    });
            var o = function (e) {
                (this.form = []),
                    (this.data = {}),
                    (this.theme = "form_default"),
                    (this.zIndex = 99999),
                    (this.locale = "en-us"),
                    (this.plugins = {}),
                    (this.onKey = null),
                    (this.si = []),
                    (this.vi = null),
                    (this.canceling = !1),
                    (this.wi = []),
                    (this.n = []),
                    (this.c = null),
                    (e = e || {});
                for (var t in e) this[t] = e[t];
            };
            (o.prototype.create = function () {
                return this.load(), this.render(), this.c;
            }),
                (o.prototype.render = function () {
                    var e = this;
                    (this.c = document.createElement("div")),
                        this.si.forEach(function (t) {
                            e.createView(t);
                        }),
                        this.applyState();
                }),
                (o.prototype.createView = function (e) {
                    var t = this.theme,
                        n = this,
                        i = document.createElement("div");
                    if (
                        ((i.className = t + "_form_item " + t + "_form_item_level" + e.level),
                        e.interactive || "title" !== e.type ? (i.className += " " + t + "_form_item_" + e.type) : (i.className += " " + t + "_form_title"),
                        e.data.cssClass && (i.className += " " + e.data.cssClass),
                        !e.isValue)
                    ) {
                        var a = document.createElement("div");
                        (a.className = t + "_form_item_label"), (a.innerText = e.text), i.appendChild(a);
                    }
                    var r = this.createInteractive(e);
                    (r.onInput = function (e) {
                        if (((e = e || {}), n.xi(r, { debounce: !e.immediate }), "function" == typeof n.onChange)) {
                            var t = {};
                            (t.result = n.serialize()), n.onChange(t);
                        }
                    }),
                        (r.onBlur = function () {
                            n.canceling || n.xi(r);
                        }),
                        r.apply(e),
                        (r.c = i),
                        (r.row = e),
                        r.element && i.appendChild(r.element),
                        this.n.push(r),
                        this.c.appendChild(i);
                }),
                (o.prototype.validate = function () {
                    var e = this,
                        t = !0;
                    return (
                        this.n.forEach(function (n) {
                            var i = e.xi(n);
                            t = t && i;
                        }),
                        t
                    );
                }),
                (o.prototype.xi = function (e, t) {
                    function n() {
                        e.yi && (e.yi.remove(), (e.yi = null)), e.c.classList.add(u);
                        var t = document.createElement("div");
                        t.classList.add(h), (t.innerText = c.message), (e.yi = t), e.c.appendChild(t);
                    }
                    t = t || {};
                    var i = t.debounce,
                        a = t.silent,
                        r = e.row,
                        o = !0,
                        s = "function" == typeof r.data.onValidate ? r.data.onValidate : null,
                        l = "function" == typeof r.data.validate ? r.data.validate : null,
                        d = s || l;
                    if (d) {
                        var c = {};
                        (c.valid = !0), (c.value = e.save()[r.field]), (c.message = "Error"), (c.values = this.serialize()), (c.result = this.serialize()), d(c);
                        var u = this.theme + "_form_item_invalid",
                            h = this.theme + "_form_item_invalid_message";
                        if (c.valid) clearTimeout(this.wi[r.field]), e.yi && (e.yi.remove(), (e.yi = null)), e.c.classList.remove(u);
                        else if (!a)
                            if (i) {
                                var f = 1e3;
                                clearTimeout(this.wi[r.field]),
                                    (this.wi[r.field] = setTimeout(function () {
                                        n();
                                    }, f));
                            } else n();
                        o = c.valid;
                    }
                    return o;
                }),
                (o.prototype.load = function () {
                    var e = this;
                    this.form.forEach(function (t) {
                        e.processFormItem(t, 0);
                    });
                    var n;
                    try {
                        var i = JSON.stringify(this.data);
                        n = t(JSON.parse(i));
                    } catch (e) {
                        throw new Error("The 'data' object is not serializable (it may contain circular dependencies): " + e);
                    }
                    for (var a in n) this.setValue(a, n[a]);
                }),
                (o.prototype.setValue = function (e, t) {
                    this.si.forEach(function (n) {
                        n.applyValue(e, t);
                    });
                }),
                (o.prototype.updateDependentState = function () {
                    var e = this,
                        t = [!0];
                    (this.vi ? this.vi : this.si).forEach(function (n) {
                        var i = e.updateState(n, { enabled: t[n.level] && !n.data.disabled });
                        i.isValue && (t[i.level + 1] = i.enabled && i.checked);
                    });
                }),
                (o.prototype.processFormItem = function (e, t) {
                    var n = this,
                        i = this.getFieldType(e),
                        a = [];
                    if ("radio" === i) {
                        if (e.name) {
                            var r = new s();
                            (r.field = e.id), (r.data = e), (r.level = t), (r.type = "label"), (r.interactive = !1), (r.text = e.name), n.si.push(r), a.push(r);
                        }
                        e.options.forEach(function (r) {
                            var o = new s();
                            (o.field = e.id),
                                (o.data = r),
                                (o.level = t),
                                (o.type = i),
                                (o.isValue = !0),
                                (o.text = r.name),
                                (o.resolved = r.id),
                                n.si.push(o),
                                a.push(o),
                                r.children &&
                                    r.children.forEach(function (e) {
                                        var i = n.processFormItem(e, t + 1);
                                        a = a.concat(i);
                                    });
                        });
                    } else if ("title" === i) {
                        var r = new s();
                        (r.field = e.id), (r.data = e), (r.level = t), (r.type = i), (r.interactive = !1), (r.text = e.name), n.si.push(r), a.push(r);
                    } else if ("image" === i) {
                        var r = new s();
                        (r.isValue = !0), (r.field = e.id), (r.data = e), (r.level = t), (r.type = i), (r.interactive = !1), (r.text = null), n.si.push(r), a.push(r);
                    } else if ("html" === i) {
                        var r = new s();
                        (r.isValue = !0), (r.field = e.id), (r.data = e), (r.level = t), (r.type = i), (r.interactive = !1), (r.text = null), n.si.push(r), a.push(r);
                    } else if ("scrollable" === i) {
                        var r = new s();
                        (r.isValue = !0), (r.field = e.id), (r.data = e), (r.level = t), (r.type = i), (r.interactive = !1), (r.text = null), n.si.push(r), a.push(r);
                    } else {
                        var r = new s();
                        (r.field = e.id), (r.data = e), (r.level = t), (r.type = i), (r.text = e.name), (r.children = []), n.si.push(r), a.push(r);
                    }
                    return (
                        "checkbox" === i &&
                            ((r.isValue = !0),
                            (r.resolved = !0),
                            e.children &&
                                e.children.forEach(function (e) {
                                    var i = n.processFormItem(e, t + 1);
                                    a = a.concat(i);
                                })),
                        a
                    );
                }),
                (o.prototype.doOnKey = function (e) {
                    if ("function" == typeof this.onKey) {
                        var t = { key: e };
                        this.onKey(t);
                    }
                }),
                (o.prototype.createInteractive = function (e) {
                    var t = this,
                        n = {
                            label: function () {
                                return new l();
                            },
                            title: function () {
                                return new l();
                            },
                            image: function () {
                                var t = new l(),
                                    n = document.createElement("img");
                                return (n.src = e.data.image), (t.element = n), t;
                            },
                            html: function () {
                                var t = new l(),
                                    n = document.createElement("div");
                                return "string" == typeof e.data.text ? (n.innerText = e.data.text) : "string" == typeof e.data.html && (n.innerHTML = e.data.html), (t.element = n), t;
                            },
                            scrollable: function () {
                                var n = new l(),
                                    i = document.createElement("div");
                                (i.className = t.theme + "_form_item_scrollable_scroll"), e.data.height && (i.style.height = e.data.height + "px");
                                var a = document.createElement("div");
                                return (
                                    (a.className = t.theme + "_form_item_scrollable_scroll_content"),
                                    "string" == typeof e.data.text ? (a.innerText = e.data.text) : "string" == typeof e.data.html && (a.innerHTML = e.data.html),
                                    i.appendChild(a),
                                    (n.element = i),
                                    n
                                );
                            },
                            text: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.element;
                                    (t.value = e.value), (t.disabled = !e.enabled);
                                };
                                var i = document.createElement("input");
                                return (
                                    (i.name = e.field),
                                    (i.type = "text"),
                                    (i.autocomplete = "off"),
                                    (i.onkeydown = function (e) {
                                        var n = !1;
                                        switch (e.keyCode) {
                                            case 13:
                                                t.doOnKey("Enter");
                                                break;
                                            case 27:
                                                t.doOnKey("Escape");
                                                break;
                                            default:
                                                n = !0;
                                        }
                                        n || (e.preventDefault(), e.stopPropagation());
                                    }),
                                    (i.oninput = function (e) {
                                        n.onInput();
                                    }),
                                    (i.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    (n.element = i),
                                    (n.canFocus = function () {
                                        return !n.element.disabled;
                                    }),
                                    (n.focus = function () {
                                        n.element.focus(), n.element.setSelectionRange(0, n.element.value.length);
                                    }),
                                    (n.save = function () {
                                        var t = {};
                                        return (t[e.field] = i.value), t;
                                    }),
                                    n
                                );
                            },
                            textarea: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.element;
                                    (t.value = e.value), (t.disabled = !e.enabled);
                                };
                                var i = document.createElement("textarea");
                                return (
                                    (i.name = e.field),
                                    e.data.height && (i.style.height = e.data.height + "px"),
                                    (i.onkeydown = function (e) {
                                        var n = !1;
                                        switch (e.keyCode) {
                                            case 13:
                                                (e.ctrlKey || e.metaKey) && t.doOnKey("Enter"), (n = !1);
                                                break;
                                            case 27:
                                                t.doOnKey("Escape");
                                                break;
                                            default:
                                                n = !0;
                                        }
                                        n || e.stopPropagation();
                                    }),
                                    (i.oninput = function (e) {
                                        n.onInput();
                                    }),
                                    (i.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    (n.element = i),
                                    (n.canFocus = function () {
                                        return !n.element.disabled;
                                    }),
                                    (n.focus = function () {
                                        n.element.focus(), n.element.setSelectionRange(0, 0);
                                    }),
                                    (n.save = function () {
                                        var t = {};
                                        return (t[e.field] = i.value), t;
                                    }),
                                    n
                                );
                            },
                            date: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var i = n.element,
                                        a = n.picker;
                                    e.data.dateFormat && (a.pattern = e.data.dateFormat);
                                    var r = e.data.locale || t.locale;
                                    r && (a.locale = r), (i.disabled = !e.enabled), (a.date = new DayPilot.Date(e.value));
                                    var o = new DayPilot.Date(e.value).toString(e.data.dateFormat || a.pattern, a.locale);
                                    i.value = o;
                                };
                                var i = document.createElement("input");
                                i.name = e.field;
                                var a = new DayPilot.DatePicker({
                                    target: i,
                                    theme: "navigator_modal",
                                    zIndex: t.zIndex + 1,
                                    resetTarget: !1,
                                    targetAlignment: "left",
                                    onTimeRangeSelect: function (e) {
                                        n.onInput({ immediate: !0 });
                                    },
                                });
                                return (
                                    (i.picker = a),
                                    (i.className = t.theme + "_input_date"),
                                    (i.type = "text"),
                                    (i.onkeydown = function (e) {
                                        var n = !1;
                                        switch (e.keyCode) {
                                            case 13:
                                                a.visible ? a.close() : t.doOnKey("Enter");
                                                break;
                                            case 27:
                                                a.visible ? a.close() : t.doOnKey("Escape");
                                                break;
                                            case 9:
                                                a.close(), (n = !0);
                                                break;
                                            default:
                                                n = !0;
                                        }
                                        n || (e.preventDefault(), e.stopPropagation());
                                    }),
                                    (i.onfocus = function () {
                                        a.show();
                                    }),
                                    (i.onclick = function () {
                                        a.show();
                                    }),
                                    (i.oninput = function (e) {
                                        n.onInput();
                                    }),
                                    (i.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    (n.element = i),
                                    (n.picker = a),
                                    (n.canFocus = function () {
                                        return !n.element.disabled;
                                    }),
                                    (n.focus = function () {
                                        n.element.focus();
                                    }),
                                    (n.save = function () {
                                        var t = a.date ? a.date.toString() : null,
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                            time: function () {
                                return t.zi(e);
                            },
                            datetime: function () {
                                return t.Ai(e);
                            },
                            select: function () {
                                var t = new l();
                                t.apply = function (e) {
                                    t.row = e;
                                    var n = t.element;
                                    (n.value = e.value), (n.disabled = !e.enabled);
                                };
                                var n = document.createElement("select");
                                return (
                                    (n.name = e.field),
                                    e.data.options &&
                                        e.data.options.forEach &&
                                        e.data.options.forEach(function (e) {
                                            var t = document.createElement("option");
                                            (t.innerText = e.name || e.id), (t.value = e.id), (t.Bi = e.id), n.appendChild(t);
                                        }),
                                    (n.onchange = function (e) {
                                        t.onInput({ immediate: !0 });
                                    }),
                                    (n.onblur = function (e) {
                                        t.onBlur();
                                    }),
                                    (t.element = n),
                                    (t.canFocus = function () {
                                        return !t.element.disabled;
                                    }),
                                    (t.focus = function () {
                                        t.element.focus();
                                    }),
                                    (t.save = function () {
                                        var t = null,
                                            i = n.options[n.selectedIndex];
                                        i && "undefined" != typeof i.Bi && (t = i.Bi);
                                        var a = {};
                                        return (a[e.field] = t), a;
                                    }),
                                    t
                                );
                            },
                            searchable: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.searchable;
                                    (t.disabled = !e.enabled), t.select(e.value);
                                };
                                var i = new d({
                                        data: e.data.options || [],
                                        name: e.field,
                                        theme: t.theme + "_form_item_searchable",
                                        listZIndex: t.zIndex + 1,
                                        onSelect: function (e) {
                                            e.ui && n.onInput({ immediate: !0 });
                                        },
                                    }),
                                    a = i.create();
                                return (
                                    (n.element = a),
                                    (n.searchable = i),
                                    (n.canFocus = function () {
                                        return !n.searchable.disabled;
                                    }),
                                    (n.focus = function () {
                                        n.searchable.focus();
                                    }),
                                    (n.save = function () {
                                        var t = i.selected && i.selected.id,
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                            radio: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.radio;
                                    (t.checked = e.checked), (t.disabled = !e.enabled);
                                };
                                var i = document.createElement("label"),
                                    a = document.createElement("input");
                                (a.type = "radio"),
                                    (a.name = e.field),
                                    (a.Bi = e.resolved),
                                    (a.onchange = function (e) {
                                        var i = n.row;
                                        t.findRowsByField(i.field).forEach(function (e) {
                                            t.updateState(e, { checked: !1 });
                                        }),
                                            t.updateState(i, { checked: !0 }),
                                            t.applyState(),
                                            n.onInput({ immediate: !0 });
                                    }),
                                    (a.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    i.appendChild(a);
                                var r = document.createTextNode(e.text);
                                return (
                                    i.append(r),
                                    (n.element = i),
                                    (n.radio = a),
                                    (n.canFocus = function () {
                                        return !1;
                                    }),
                                    (n.focus = function () {
                                        n.radio.focus();
                                    }),
                                    (n.save = function () {
                                        if (!a.checked) return {};
                                        var t = a.Bi,
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                            checkbox: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.checkbox;
                                    (t.checked = e.checked), (t.disabled = !e.enabled);
                                };
                                var i = document.createElement("label"),
                                    a = document.createElement("input");
                                (a.type = "checkbox"),
                                    (a.name = e.field),
                                    (a.Bi = e.resolved),
                                    (a.onchange = function (e) {
                                        var i = n.row;
                                        t.updateState(i, { checked: this.checked }), t.applyState(), n.onInput({ immediate: !0 });
                                    }),
                                    (a.onblur = function (e) {
                                        n.onBlur();
                                    }),
                                    i.appendChild(a);
                                var r = document.createTextNode(e.text);
                                return (
                                    i.append(r),
                                    (n.element = i),
                                    (n.checkbox = a),
                                    (n.canFocus = function () {
                                        return !1;
                                    }),
                                    (n.focus = function () {
                                        n.checkbox.focus();
                                    }),
                                    (n.save = function () {
                                        var t = a.checked,
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                            table: function () {
                                var n = new l();
                                n.apply = function (e) {
                                    n.row = e;
                                    var t = n.table;
                                    (t.disabled = !e.enabled), t.load(e.value || []);
                                };
                                var i = new c({
                                        name: e.field,
                                        form: t,
                                        theme: t.theme + "_form_item_tabular",
                                        item: e.data,
                                        onInput: function (e) {
                                            n.onInput();
                                        },
                                    }),
                                    a = i.create();
                                return (
                                    (n.element = a),
                                    (n.table = i),
                                    (n.canFocus = function () {
                                        return !1;
                                    }),
                                    (n.focus = function () {
                                        n.table.focus();
                                    }),
                                    (n.save = function () {
                                        var t = i.save(),
                                            n = {};
                                        return (n[e.field] = t), n;
                                    }),
                                    n
                                );
                            },
                        };
                    return t.plugins && t.plugins[e.type] ? t.plugins[e.type](e) : n[e.type]();
                }),
                (o.prototype.zi = function (e) {
                    var t = this,
                        n = new l();
                    n.apply = function (e) {
                        n.row = e;
                        var t = n.searchable;
                        (t.disabled = !e.enabled), t.select(e.value);
                    };
                    var i = [],
                        a = e.data.timeInterval || 15;
                    [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
                    for (var r = 60 / a, o = e.data.locale || t.locale, s = DayPilot.Locale.find(o) || DayPilot.Locale.US, c = DayPilot.Date.today(), u = 0; u < 24 * r; u++) {
                        var h = c.addMinutes(a * u),
                            f = {};
                        (f.name = h.toString(e.data.timeFormat || s.timePattern, s)), (f.id = h.toString("HH:mm")), i.push(f);
                    }
                    var v = new d({
                            data: i,
                            name: e.field,
                            theme: t.theme + "_form_item_time",
                            listZIndex: t.zIndex + 1,
                            strategy: "startsWith",
                            onSelect: function (e) {
                                e.ui && n.onInput({ immediate: !0 });
                            },
                        }),
                        p = v.create();
                    return (
                        (n.element = p),
                        (n.searchable = v),
                        (n.canFocus = function () {
                            return !n.searchable.disabled;
                        }),
                        (n.focus = function () {
                            n.searchable.focus();
                        }),
                        (n.save = function () {
                            var t = v.selected && v.selected.id,
                                n = {};
                            return (n[e.field] = t), n;
                        }),
                        n
                    );
                }),
                (o.prototype.Ai = function (e) {
                    var t = this,
                        n = new l();
                    n.apply = function (e) {
                        n.row = e;
                        var i = n.searchable;
                        i.disabled = !e.enabled;
                        var a = new DayPilot.Date(e.value).toString("HH:mm");
                        i.select(a);
                        var r = n.dateInput,
                            o = n.picker;
                        e.data.dateFormat && (o.pattern = e.data.dateFormat);
                        var s = e.data.locale || t.locale;
                        if (s) {
                            var l = DayPilot.Locale.find(s) || DayPilot.Locale.US;
                            (o.locale = s), (o.pattern = l.datePattern);
                        }
                        (r.disabled = !e.enabled), (o.date = new DayPilot.Date(e.value));
                        var d = new DayPilot.Date(e.value).toString(e.data.dateFormat || o.pattern, o.locale);
                        r.value = d;
                    };
                    var i = (function () {
                            var i = document.createElement("input");
                            i.name = e.field;
                            var a = new DayPilot.DatePicker({
                                target: i,
                                theme: "navigator_modal",
                                zIndex: t.zIndex + 1,
                                resetTarget: !1,
                                targetAlignment: "left",
                                onTimeRangeSelect: function (e) {
                                    n.onInput({ immediate: !0 });
                                },
                            });
                            return (
                                (i.picker = a),
                                (i.className = t.theme + "_input_date"),
                                (i.type = "text"),
                                (i.onkeydown = function (e) {
                                    var n = !1;
                                    switch (e.keyCode) {
                                        case 13:
                                            a.visible ? a.close() : t.doOnKey("Enter");
                                            break;
                                        case 27:
                                            a.visible ? a.close() : t.doOnKey("Escape");
                                            break;
                                        case 9:
                                            a.close(), (n = !0);
                                            break;
                                        default:
                                            n = !0;
                                    }
                                    n || (e.preventDefault(), e.stopPropagation());
                                }),
                                (i.onfocus = function () {
                                    a.show();
                                }),
                                (i.onclick = function () {
                                    a.show();
                                }),
                                (i.oninput = function (e) {
                                    n.onInput();
                                }),
                                (i.onblur = function (e) {
                                    n.onBlur();
                                }),
                                (n.dateInput = i),
                                (n.picker = a),
                                i
                            );
                        })(),
                        a = (function () {
                            var i = [],
                                a = e.data.timeInterval || 15;
                            [1, 5, 10, 15, 20, 30, 60].includes(a) || (a = 15);
                            for (var r = 60 / a, o = e.data.locale || t.locale, s = DayPilot.Locale.find(o) || DayPilot.Locale.US, l = DayPilot.Date.today(), c = 0; c < 24 * r; c++) {
                                var u = l.addMinutes(a * c),
                                    h = {};
                                (h.name = u.toString(e.data.timeFormat || s.timePattern, s)), (h.id = u.toString("HH:mm")), i.push(h);
                            }
                            var f = new d({
                                data: i,
                                name: e.field,
                                theme: t.theme + "_form_item_time",
                                listZIndex: t.zIndex + 1,
                                strategy: "startsWith",
                                onSelect: function (e) {
                                    e.ui && n.onInput({ immediate: !0 });
                                },
                            });
                            return (n.searchable = f), f.create();
                        })(),
                        r = document.createElement("div");
                    return (
                        (r.className = t.theme + "_form_item_datetime_parent"),
                        r.appendChild(i),
                        r.appendChild(a),
                        (n.element = r),
                        (n.canFocus = function () {
                            return !n.searchable.disabled;
                        }),
                        (n.focus = function () {
                            n.dateInput.focus();
                        }),
                        (n.save = function () {
                            var t = n.searchable.selected && n.searchable.selected.id,
                                i = n.picker.date ? n.picker.date.toString() : null,
                                a = new DayPilot.Date(i).getDatePart(),
                                r = DayPilot.Date.parse(a.toString("yyyy-dd-MM ") + t, "yyyy-dd-MM HH:mm"),
                                o = {};
                            return (o[e.field] = r), o;
                        }),
                        n
                    );
                }),
                (o.prototype.findRowsByField = function (e) {
                    return this.si.filter(function (t) {
                        return t.field === e;
                    });
                }),
                (o.prototype.findViewById = function (e, t) {
                    return this.n.find(function (n) {
                        return n.row.field === e && ("radio" !== n.row.type || n.row.resolved === t);
                    });
                }),
                (o.prototype.firstFocusable = function () {
                    return this.n.find(function (e) {
                        return e.canFocus && e.canFocus();
                    });
                }),
                (o.prototype.updateState = function (e, t) {
                    var n = this.vi ? this.vi : this.si,
                        i = n.indexOf(e);
                    return (
                        (this.vi = n.map(function (n) {
                            if (n !== e) return n;
                            if (e.propsEqual(t)) return e;
                            var i = e.clone();
                            for (var a in t) i[a] = t[a];
                            return i;
                        })),
                        this.vi[i]
                    );
                }),
                (o.prototype.updateInteractive = function (e) {
                    var t = this.vi.indexOf(e);
                    this.n[t].apply(e);
                }),
                (o.prototype.applyState = function () {
                    var e = this;
                    if ((this.updateDependentState(), this.vi)) {
                        this.vi
                            .filter(function (t, n) {
                                return e.si[n] !== t;
                            })
                            .forEach(function (t) {
                                e.updateInteractive(t);
                            }),
                            (this.si = this.vi),
                            (this.vi = null);
                    }
                }),
                (o.prototype.getFieldType = function (e) {
                    return ["text", "date", "select", "searchable", "radio", "checkbox", "table", "title", "image", "html", "textarea", "scrollable", "time", "datetime"].indexOf(e.type) !== -1
                        ? e.type
                        : e.type && this.plugins && this.plugins[e.type]
                        ? e.type
                        : e.image
                        ? "image"
                        : e.html || e.text
                        ? "html"
                        : e.id
                        ? e.options
                            ? "searchable"
                            : e.dateFormat
                            ? "date"
                            : e.columns
                            ? "table"
                            : "text"
                        : "title";
                }),
                (o.prototype.serialize = function () {
                    var e = {};
                    return (
                        this.n.forEach(function (t) {
                            var n = t.save();
                            for (var i in n) e[i] = n[i];
                        }),
                        e
                    );
                });
            var s = function () {
                (this.id = this.guid()),
                    (this.field = null),
                    (this.data = null),
                    (this.type = null),
                    (this.level = 0),
                    (this.enabled = !0),
                    (this.value = null),
                    (this.text = null),
                    (this.interactive = !0),
                    (this.isValue = !1),
                    (this.checked = !1),
                    (this.resolved = null);
            };
            (s.prototype.clone = function () {
                var e = new s();
                for (var t in this) "id" !== t && (e[t] = this[t]);
                return e;
            }),
                (s.prototype.propsEqual = function (e) {
                    for (var t in e) if (this[t] !== e[t]) return !1;
                    return !0;
                }),
                (s.prototype.guid = function () {
                    var e = function () {
                        return ((65536 * (1 + Math.random())) | 0).toString(16).substring(1);
                    };
                    return "" + e() + e() + "-" + e() + "-" + e() + "-" + e() + "-" + e() + e() + e();
                }),
                (s.prototype.applyValue = function (e, t) {
                    this.field === e && ((this.value = t), this.isValue && t === this.resolved && (this.checked = !0));
                });
            var l = function () {
                    (this.element = null),
                        (this.canFocus = function () {
                            return !1;
                        }),
                        (this.apply = function (e) {}),
                        (this.focus = function () {}),
                        (this.save = function () {
                            return {};
                        });
                },
                d = function (e) {
                    (this.data = []),
                        (this.name = null),
                        (this.theme = "searchable_default"),
                        (this.Ci = !1),
                        (this.listZIndex = 1e5),
                        (this.onSelect = null),
                        (this.Di = null),
                        (this.Ei = null),
                        (this.Fi = !1),
                        (this.Gi = null),
                        (this.Bc = null),
                        (this.A = []),
                        (this.Hi = null),
                        (e = e || {});
                    var t = this,
                        n = {
                            selected: {
                                post: function (e) {
                                    "object" == typeof e && e.id ? (t.Di = e) : ("string" != typeof e && "number" != typeof e) || t.select(e);
                                },
                            },
                        };
                    Object.defineProperty(this, "selected", {
                        get: function () {
                            return this.Di;
                        },
                    }),
                        Object.defineProperty(this, "disabled", {
                            get: function () {
                                return this.Ci;
                            },
                            set: function (e) {
                                (this.Ci = e), this.Gi && ((this.Gi.disabled = e), e && this.Ii());
                            },
                        });
                    for (var i in e) n[i] || (this[i] = e[i]);
                    for (var i in e) n[i] && n[i].post(e[i]);
                };
            (d.prototype.select = function (e) {
                return (
                    (this.Di = this.data.find(function (t) {
                        return t.id === e;
                    })),
                    this.Ji(!1),
                    this
                );
            }),
                (d.prototype.create = function () {
                    function e(e) {
                        var n = l.strategy;
                        "includes" !== l.strategy && "startsWith" !== l.strategy && (n = "includes"),
                            (e = e || n || "includes"),
                            (h.style.display = ""),
                            (h.style.top = v.offsetHeight + "px"),
                            (h.style.left = "0px"),
                            (h.style.width = v.offsetWidth + "px"),
                            (h.innerHTML = ""),
                            h.addEventListener("mousedown", function (e) {
                                e.preventDefault();
                            }),
                            (l.Ei = null),
                            (l.A = []);
                        var a = null;
                        l.data.forEach(function (n) {
                            var r = n.name || n.id;
                            if ("includes" === e) {
                                if (r.toLowerCase().indexOf(v.value.toLowerCase()) === -1) return;
                            } else if ("startsWith" === e && 0 !== r.toLowerCase().indexOf(v.value.toLowerCase())) return;
                            var o = document.createElement("div");
                            (o.className = l.theme + "_list_item"),
                                (o.innerText = r),
                                (o.item = n),
                                n === l.Di && (l.Ei = o),
                                a || (a = o),
                                o.addEventListener("mousedown", function (e) {
                                    i(o), e.preventDefault();
                                }),
                                o.addEventListener("mousemove", function (e) {
                                    l.Ei !== o && ((l.Ei = o), t({ dontScroll: !0 }));
                                }),
                                h.appendChild(o),
                                l.A.push(o);
                        }),
                            l.Ei || (l.Ei = a),
                            t();
                    }
                    function t(e) {
                        e = e || {};
                        var t = !e.dontScroll;
                        document.querySelectorAll("." + l.theme + "_list_item_highlight").forEach(function (e) {
                            e.className = e.className.replace(l.theme + "_list_item_highlight", "");
                        }),
                            l.Ei && ((l.Ei.className += " " + l.theme + "_list_item_highlight"), t && !n(l.Ei, h) && l.Ei.scrollIntoView());
                    }
                    function n(e, t) {
                        var n = e.getBoundingClientRect(),
                            i = t.getBoundingClientRect();
                        return n.top >= i.top && n.bottom <= i.bottom;
                    }
                    function i(e) {
                        var t = e.item;
                        (l.Di = t), l.Ji(!0), r(), o();
                    }
                    function a() {
                        l.Ii();
                    }
                    function r() {
                        l.B();
                    }
                    function o() {
                        (l.Fi = !0), v.setAttribute("readonly", "readonly"), v.focus();
                    }
                    function s() {
                        (l.Fi = !1), v.removeAttribute("readonly"), v.select(), e("all");
                    }
                    var l = this,
                        d = this,
                        c = document.createElement("div");
                    (c.className = this.theme + "_main"), (c.style.position = "relative");
                    var u = document.createElement("div");
                    (u.className = this.theme + "_icon"),
                        (u.style.position = "absolute"),
                        (u.style.right = "0"),
                        (u.style.top = "0"),
                        (u.style.bottom = "0"),
                        (u.style.width = "20px"),
                        u.addEventListener("mousedown", function (e) {
                            e.preventDefault(), l.Fi ? (l.focus(), s()) : (a(), o());
                        });
                    var h = document.createElement("div");
                    (h.className = this.theme + "_list"), (h.style.display = "none"), (h.style.position = "absolute"), (h.style.zIndex = this.listZIndex);
                    var f = document.createElement("input");
                    (f.type = "hidden"), (f.name = this.name), (f.searchable = d), (this.Hi = f);
                    var v = document.createElement("input");
                    return (
                        (v.type = "text"),
                        (v.className = this.theme + "_input"),
                        (v.disabled = this.Ci),
                        v.addEventListener("click", function (e) {
                            s();
                        }),
                        v.addEventListener("focus", function (t) {
                            e("all");
                        }),
                        v.addEventListener("input", function (t) {
                            e();
                        }),
                        v.addEventListener("blur", function (e) {
                            v.removeAttribute("readonly"), a();
                        }),
                        v.addEventListener("keydown", function (e) {
                            if (l.Fi) {
                                if ("Enter" === e.key) return;
                                if ("Esc" === e.key || "Escape" === e.key) return;
                                s();
                            }
                            if ("ArrowDown" === e.key) {
                                var n = d.A.indexOf(d.Ei);
                                n + 1 < d.A.length && (d.Ei = d.A[n + 1]), t();
                            } else if ("ArrowUp" === e.key) {
                                var n = d.A.indexOf(d.Ei);
                                n - 1 >= 0 && (d.Ei = d.A[n - 1]), t();
                            } else "Enter" === e.key ? (l.Ei ? (e.stopPropagation(), i(l.Ei)) : (e.stopPropagation(), a(), o())) : ("Esc" !== e.key && "Escape" !== e.key) || (e.stopPropagation(), a(), o());
                        }),
                        (this.Gi = v),
                        (this.Bc = h),
                        this.Di || ((this.Di = this.data[0]), this.Di && (v.value = this.Di.name)),
                        c.appendChild(v),
                        c.appendChild(u),
                        c.appendChild(f),
                        c.appendChild(h),
                        c
                    );
                }),
                (d.prototype.Ii = function () {
                    this.B(), this.Di ? (this.Gi.value = this.Di.name) : ((this.Gi.value = ""), this.Ji(!0));
                }),
                (d.prototype.focus = function () {
                    (this.Fi = !0), this.Gi.setAttribute("readonly", "readonly"), this.Gi.focus(), this.Ii();
                }),
                (d.prototype.B = function () {
                    this.Bc.style.display = "none";
                }),
                (d.prototype.Ji = function (e) {
                    if (((this.Hi.value = this.selected ? this.selected.id : null), this.Di ? (this.Gi.value = this.Di.name) : (this.Gi.value = ""), "function" == typeof this.onSelect)) {
                        var t = { control: this, ui: e };
                        this.onSelect(t);
                    }
                });
            var c = function (e) {
                (this.form = null), (this.item = null), (this.data = null), (this.name = null), (this.theme = "edit_table_default"), (this.onInput = null), (this.nav = {}), (this.Ki = null), (this.si = []), (e = e || {});
                for (var t in e) this[t] = e[t];
            };
            (c.prototype.create = function () {
                var e = this,
                    t = document.createElement("div");
                (t.className = this.theme + "_main"), (t.style.position = "relative");
                var n = document.createElement("input");
                (n.type = "hidden"), (n.name = e.name), (n.table = this), t.appendChild(n);
                var i = document.createElement("div");
                i.className = this.theme + "_table";
                var a = this.Li();
                i.appendChild(a);
                var r = e.Mi({});
                r.spacer = !0;
                var o = this.Ni(r);
                o.classList.add(e.theme + "_spacer"), i.appendChild(o);
                var s = document.createElement("div");
                (s.className = e.theme + "_tbody"), i.appendChild(s), t.appendChild(i);
                var l = document.createElement("div");
                t.appendChild(l), (this.nav.body = s), (this.nav.table = i), (this.nav.main = t), (this.nav.after = l);
                var d = document.createElement("div"),
                    c = document.createElement("span");
                return (
                    (c.className = this.theme + "_plus"),
                    c.addEventListener("click", function (t) {
                        if (!e.disabled) {
                            var n = e.item.onNewRow,
                                i = {};
                            if ("function" == typeof n) {
                                var a = {};
                                (a.result = e.form.serialize()), (a.value = {}), n(a), (i = a.value);
                            }
                            var r = e.Mi(i);
                            e.si.push(r), e.V(), e.Oi();
                        }
                    }),
                    (this.nav.plus = c),
                    d.appendChild(c),
                    t.appendChild(d),
                    t
                );
            }),
                (c.prototype.Li = function () {
                    var e = this,
                        t = document.createElement("div");
                    return (
                        t.classList.add(this.theme + "_row"),
                        t.classList.add(this.theme + "_header"),
                        this.item.columns.forEach(function (n) {
                            var i = document.createElement("div");
                            i.classList.add(e.theme + "_cell"), (i.innerText = n.name), t.appendChild(i);
                        }),
                        t
                    );
                }),
                (c.prototype.Pi = function () {
                    var e = this.item.max || 0;
                    return !!(e && this.si.length >= e);
                }),
                (c.prototype.save = function () {
                    var e = this,
                        t = [];
                    return (
                        e.si.forEach(function (e) {
                            var n = {};
                            e.cells.forEach(function (e) {
                                n[e.id] = e.value;
                            }),
                                t.push(n);
                        }),
                        t
                    );
                }),
                (c.prototype.load = function (e) {
                    if ("[object Array]" !== Object.prototype.toString.call(e)) throw new Error("Array expected");
                    (this.data = e), this.Qi(), this.V();
                }),
                (c.prototype.Ri = function () {
                    this.disabled ? this.nav.main.classList.add(this.theme + "_disabled") : this.nav.main.classList.remove(this.theme + "_disabled"),
                        this.Pi() ? this.nav.plus.classList.add(this.theme + "_plus_max") : this.nav.plus.classList.remove(this.theme + "_plus_max");
                }),
                (c.prototype.Qi = function () {
                    var e = this;
                    (this.si = []),
                        this.data.forEach(function (t) {
                            var n = e.Mi(t);
                            e.si.push(n);
                        });
                }),
                (c.prototype.Si = function (e) {
                    var t = this,
                        n = t.si.indexOf(e);
                    t.si.splice(n, 1);
                }),
                (c.prototype.Mi = function (e) {
                    var t = this,
                        n = {};
                    return (
                        (n.data = e),
                        (n.cells = []),
                        t.item.columns.forEach(function (i) {
                            var a = i.id,
                                r = e[a],
                                o = t.Ti(i);
                            if ("undefined" == typeof r)
                                if ("text" === o) r = "";
                                else if ("number" === o) r = 0;
                                else if ("select" === o) {
                                    var s = i.options;
                                    r = s && s[0].id;
                                }
                            var l = {};
                            (l.id = a), (l.value = r), (l.type = o), (l.data = i), n.cells.push(l);
                        }),
                        n
                    );
                }),
                (c.prototype.Ti = function (e) {
                    var t = e.type;
                    return t || (t = e.options ? "select" : "text"), t;
                }),
                (c.prototype.V = function () {
                    var e = this;
                    if (
                        ((this.nav.body.innerHTML = ""),
                        (this.nav.after.innerHTML = ""),
                        this.si.forEach(function (t) {
                            var n = e.Ni(t);
                            e.nav.body.appendChild(n);
                        }),
                        0 === this.si.length)
                    ) {
                        var t = e.Ui();
                        e.nav.after.appendChild(t);
                    }
                    this.Ri();
                }),
                (c.prototype.Ui = function () {
                    var e = document.createElement("div");
                    return (e.className = this.theme + "_empty"), e;
                }),
                (c.prototype.Ni = function (e) {
                    var t = this,
                        n = document.createElement("div");
                    (n.className = t.theme + "_row"),
                        e.cells.forEach(function (i) {
                            var a = document.createElement("div");
                            a.className = t.theme + "_cell";
                            var r = t.Vi(i);
                            if (e.spacer) {
                                var o = document.createElement("div");
                                (o.style.height = "0px"), (o.style.overflow = "hidden"), o.appendChild(r), a.appendChild(o);
                            } else a.appendChild(r);
                            n.appendChild(a);
                        });
                    var i = document.createElement("div");
                    i.classList.add(t.theme + "_cell"), i.classList.add(t.theme + "_rowaction");
                    var a = document.createElement("span");
                    return (
                        (a.className = this.theme + "_delete"),
                        a.addEventListener("click", function (n) {
                            t.disabled || (t.Si(e), t.V(), t.Oi());
                        }),
                        e.spacer || i.appendChild(a),
                        n.appendChild(i),
                        n
                    );
                }),
                (c.prototype.Oi = function () {
                    var e = this;
                    if ("function" == typeof e.onInput) {
                        var t = {};
                        e.onInput(t);
                    }
                }),
                (c.prototype.Vi = function (e) {
                    var t = this,
                        n = e.type;
                    if ("text" === n || "number" === n) {
                        var i = document.createElement("input");
                        return (
                            (i.type = n),
                            t.disabled && (i.disabled = !0),
                            e.value && (i.value = e.value),
                            i.addEventListener("keyup", function (i) {
                                "number" === n ? (e.value = Number(this.value)) : (e.value = this.value), t.Oi();
                            }),
                            i
                        );
                    }
                    if ("select" === n) {
                        var a = document.createElement("select");
                        return (
                            t.disabled && (a.disabled = !0),
                            e.data.options.forEach(function (t) {
                                var n = document.createElement("option");
                                (n.innerText = t.name), (n.value = t.id), (n.Bi = t.id), a.appendChild(n), e.value === t.id && n.setAttribute("selected", !0);
                            }),
                            a.addEventListener("change", function (n) {
                                var i = a.options[a.selectedIndex];
                                i && "undefined" != typeof i.Bi && (e.value = i.Bi), t.Oi();
                            }),
                            a
                        );
                    }
                    throw new Error("Unsupported item type: " + n);
                }),
                (c.prototype.focus = function () {});
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        var e = function () {};
        if ("undefined" == typeof DayPilot.Month || !DayPilot.Month.def) {
            var t = {};
            (DayPilot.Month = function (n, i) {
                (this.v = "2024.2.5916"), (this.nav = {});
                var a = this;
                (this.id = n),
                    (this.isMonth = !0),
                    (this.api = 2),
                    (this.ya = !1),
                    (this.hideUntilInit = !0),
                    (this.startDate = new DayPilot.Date()),
                    (this.width = null),
                    "function" == typeof DayPilot.Bubble ? (this.bubble = new DayPilot.Bubble()) : (this.bubble = null),
                    (this.cssClassPrefix = "month_default"),
                    (this.cellHeight = 100),
                    (this.cellMarginBottom = 0),
                    (this.allowMultiSelect = !0),
                    (this.autoRefreshCommand = "refresh"),
                    (this.autoRefreshEnabled = !1),
                    (this.autoRefreshInterval = 60),
                    (this.autoRefreshMaxCount = 20),
                    (this.doubleClickTimeout = 300),
                    (this.eventEndSpec = "DateTime"),
                    (this.eventTextWrappingEnabled = !1),
                    (this.headerHeight = 30),
                    (this.heightSpec = "Auto"),
                    (this.weekStarts = "Auto"),
                    (this.eventBarVisible = !0),
                    (this.eventHeight = 25),
                    (this.cellHeaderHeight = 24),
                    (this.clientState = {}),
                    (this.afterRender = function () {}),
                    (this.cssOnly = !0),
                    (this.eventsLoadMethod = "GET"),
                    (this.initEventEnabled = !1),
                    (this.lineSpace = 1),
                    (this.loadingLabelVisible = !0),
                    (this.loadingLabelText = "Loading..."),
                    (this.loadingLabelHtml = null),
                    (this.locale = "en-us"),
                    (this.maxEvents = "All"),
                    (this.messageHideAfter = 5e3),
                    (this.notifyCommit = "Immediate"),
                    (this.visible = !0),
                    (this.eventMoveToPosition = !1),
                    (this.eventStartTime = !1),
                    (this.eventEndTime = !1),
                    (this.eventStartEndWidth = 45),
                    (this.showWeekend = !0),
                    (this.cellMode = !1),
                    (this.shadowType = "Fill"),
                    (this.tapAndHoldTimeout = 300),
                    (this.timeFormat = "Auto"),
                    (this.viewType = "Month"),
                    (this.weeks = 1),
                    (this.xssProtection = "Enabled"),
                    (this.cellHeaderClickHandling = "Enabled"),
                    (this.eventClickHandling = "Enabled"),
                    (this.eventDeleteHandling = "Disabled"),
                    (this.eventDoubleClickHandling = "Disabled"),
                    (this.eventMoveHandling = "Update"),
                    (this.eventResizeHandling = "Update"),
                    (this.eventRightClickHandling = "ContextMenu"),
                    (this.eventSelectHandling = "Update"),
                    (this.headerClickHandling = "Enabled"),
                    (this.timeRangeSelectedHandling = "Enabled"),
                    (this.timeRangeDoubleClickHandling = "Disabled"),
                    (this.onEventFilter = null),
                    (this.onBeforeEventRender = null),
                    (this.onBeforeCellRender = null),
                    (this.onBeforeHeaderRender = null),
                    (this.onBeforeEventDomAdd = null),
                    (this.onBeforeEventDomRemove = null),
                    (this.onBeforeEventExport = null),
                    (this.onBeforeCellExport = null),
                    (this.onBeforeHeaderExport = null),
                    (this.onCellHeaderClick = null),
                    (this.onCellHeaderClicked = null),
                    (this.backendUrl = null),
                    (this.cellEvents = []),
                    (this.elements = {}),
                    (this.elements.events = []),
                    (this.ta = {}),
                    (this.ta.events = {}),
                    (this.events = {}),
                    (this.xa = 0),
                    (this.members = {}),
                    (this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties"]),
                    (this.Aa = "javasc"),
                    (this.Na = function (e, t) {
                        var e = JSON.parse(e);
                        if (e.BubbleGuid) {
                            var n = e.BubbleGuid,
                                i = this.bubbles[n];
                            return delete this.bubbles[n], a.hb(), void ("undefined" != typeof e.Result.BubbleHTML && i.updateView(e.Result.BubbleHTML, i));
                        }
                        if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);
                        if (("undefined" != typeof e.ClientState && (a.clientState = e.ClientState), "None" === e.UpdateType)) return a.ib(e.CallBackData, !0), e.Message && a.message(e.Message), void a.hb();
                        if (e.VsUpdate) {
                            var r = document.createElement("input");
                            (r.type = "hidden"), (r.name = a.id + "_vsupdate"), (r.id = r.name), (r.value = e.VsUpdate), (a.Wi.innerHTML = ""), a.Wi.appendChild(r);
                        }
                        (a.events.list = e.Events),
                            "undefined" != typeof e.TagFields && (a.tagFields = e.TagFields),
                            "undefined" != typeof e.SortDirections && (a.sortDirections = e.SortDirections),
                            "Full" === e.UpdateType &&
                                ((a.cellProperties = e.CellProperties),
                                (a.headerProperties = e.HeaderProperties),
                                (a.startDate = e.StartDate),
                                "undefined" != typeof e.ShowWeekend && (a.showWeekend = e.ShowWeekend),
                                (a.locale = e.Locale ? e.Locale : a.locale),
                                (a.timeFormat = e.TimeFormat ? e.TimeFormat : a.timeFormat),
                                "undefined" != typeof e.WeekStarts && (a.weekStarts = e.WeekStarts),
                                (a.hashes = e.Hashes)),
                            a.multiselect.clear(!0),
                            (a.multiselect.initList = e.SelectedEvents),
                            a.Sa(),
                            a.Xi(),
                            a.nb(),
                            "Full" === e.UpdateType && (a.Yi(), a.Zi()),
                            a.vb(),
                            a.D(),
                            a.zb(),
                            a.ib(e.CallBackData, !0),
                            a.Db(),
                            e.Message && a.message(e.Message),
                            a.hb();
                    }),
                    (this.ib = function (e, t) {
                        var n = function (e, t) {
                            return function () {
                                if (a.Eb()) {
                                    if ("function" == typeof a.onAfterRender) {
                                        var n = {};
                                        (n.isCallBack = t), (n.data = e), a.onAfterRender(n);
                                    }
                                } else a.afterRender && a.afterRender(e, t);
                            };
                        };
                        window.setTimeout(n(e, t), 0);
                    }),
                    (this.Eb = function () {
                        return 2 === a.api;
                    }),
                    (this.Ea = function (e, t) {
                        return a.Ga.Fa() ? DayPilot.Util.escapeTextHtml(e, t) : DayPilot.Util.isNullOrUndefined(t) ? (DayPilot.Util.isNullOrUndefined(e) ? "" : e) : t;
                    }),
                    (this.ca = function (e) {
                        var t = this.theme || this.cssClassPrefix;
                        return t ? t + e : "";
                    }),
                    (this.nb = function () {
                        if (this.events.list) {
                            if ("function" == typeof this.onBeforeEventRender) for (var e = this.events.list.length, t = 0; t < e; t++) this.rg(t);
                            this.cellMode ? this.$i() : this._i();
                        }
                    }),
                    (this.Ka = function (e) {
                        var t = e ? 0 : 100;
                        a.loadingTimeout && window.clearTimeout(a.loadingTimeout),
                            (a.loadingTimeout = window.setTimeout(function () {
                                a.loadingLabelVisible &&
                                    a.nav.loading &&
                                    ((a.nav.loading.style.top = s.headerHeight() + 5 + "px"), (a.nav.loading.innerHTML = a.Ea(this.loadingLabelText, this.loadingLabelHtml)), (a.nav.loading.style.display = ""));
                            }, t));
                    }),
                    (this.hb = function () {
                        this.loadingTimeout && window.clearTimeout(this.loadingTimeout), a.nav.loading && (this.nav.loading.style.display = "none");
                    }),
                    (this._i = function () {
                        if (this.events.list) {
                            for (var e = 0; e < this.events.list.length; e++) {
                                var t = this.events.list[e];
                                if ("object" != typeof t) throw new DayPilot.Exception("Event data item must be an object");
                                if (!t.start) throw new DayPilot.Exception("Event data item must specify 'start' property");
                                var n = null;
                                if (("function" == typeof a.onBeforeEventRender && (n = a.ta.events[e]), n)) {
                                    if (n.hidden) continue;
                                } else if (t.hidden) continue;
                                var i = new DayPilot.Date(t.start),
                                    r = new DayPilot.Date(t.end);
                                if (((r = a.aj(r)), !(i.getTime() > r.getTime())))
                                    for (var o = 0; o < this.rows.length; o++) {
                                        var s = this.rows[o];
                                        if (s.belongsHere(i, r)) {
                                            var l = new DayPilot.Event(t, a);
                                            if ("function" == typeof a.onEventFilter && a.events.Ng) {
                                                var d = {};
                                                if (((d.filter = a.events.Ng), (d.visible = !0), (d.e = l), a.onEventFilter(d), !d.visible)) break;
                                            }
                                            s.events.push(l), "function" == typeof this.onBeforeEventRender && (l.cache = this.ta.events[e]);
                                        }
                                    }
                            }
                            for (var c = 0; c < this.rows.length; c++) {
                                var s = this.rows[c];
                                s.events.sort(this.Qg);
                                for (var u = 0; u < this.rows[c].events.length; u++) {
                                    var h = s.events[u],
                                        f = s.getStartColumn(h),
                                        v = s.getWidth(h);
                                    s.putIntoLine(h, f, v, c);
                                }
                            }
                        }
                    }),
                    (this.$i = function () {
                        this.cellEvents = [];
                        for (var e = 0; e < this.bj(); e++) {
                            this.cellEvents[e] = [];
                            for (var t = 0; t < this.rows.length; t++) {
                                var n = {},
                                    i = this.firstDate.addDays(7 * t + e);
                                (n.start = i), (n.end = i.addDays(1)), (n.events = []), (this.cellEvents[e][t] = n);
                            }
                        }
                        for (var r = 0; r < this.events.list.length; r++) {
                            var o = this.events.list[r];
                            if ("object" != typeof o) throw new DayPilot.Exception("Event data item must be an object");
                            if (!o.start) throw new DayPilot.Exception("Event data item must specify 'start' property");
                            var s = null;
                            if (("function" == typeof a.onBeforeEventRender && (s = a.ta.events[r]), s)) {
                                if (s.hidden) continue;
                            } else if (o.hidden) continue;
                            var l = new DayPilot.Date(o.start),
                                d = new DayPilot.Date(o.start);
                            if (((d = a.aj(d)), !(l.getTime() > d.getTime())))
                                for (var e = 0; e < this.bj(); e++)
                                    for (var t = 0; t < this.rows.length; t++) {
                                        var n = this.cellEvents[e][t];
                                        if (l.getTime() >= n.start.getTime() && l.getTime() < n.end.getTime()) {
                                            var c = new DayPilot.Event(o, a);
                                            if ("function" == typeof a.onEventFilter && a.events.Ng) {
                                                var u = {};
                                                if (((u.filter = a.events.Ng), (u.visible = !0), (u.e = c), a.onEventFilter(u), !u.visible)) continue;
                                            }
                                            n.events.push(c), "function" == typeof this.onBeforeEventRender && (c.cache = this.ta.events[r]);
                                        }
                                    }
                        }
                        for (var e = 0; e < this.bj(); e++)
                            for (var t = 0; t < this.rows.length; t++) {
                                var n = this.cellEvents[e][t];
                                n.events.sort(this.Qg);
                            }
                    }),
                    (this.Sa = function () {
                        for (var e = 0; e < this.elements.events.length; e++) {
                            var t = this.elements.events[e];
                            !(function () {
                                var e = t.domArgs;
                                if (
                                    ((t.domArgs = null),
                                    "function" == typeof a.onDomRemoveEvent && a.onDomRemoveEvent(e),
                                    e && "function" == typeof a.onBeforeEventDomRemove && a.onBeforeEventDomRemove(e),
                                    e && "function" == typeof a.onBeforeEventDomAdd && a.W.reactDOM)
                                ) {
                                    var n = e && e.ze;
                                    if (n) {
                                        if (DayPilot.Util.isReactComponent(e.element)) {
                                            if (!a.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            a.W.ka(n);
                                        }
                                    }
                                }
                            })(),
                                (t.event = null),
                                (t.click = null),
                                t.parentNode.removeChild(t);
                        }
                        this.elements.events = [];
                    }),
                    (this.zb = function () {
                        (this.ta.events = {}), this.cellMode ? this.cj() : this.dj(), this.multiselect.redraw();
                    }),
                    (this.cj = function () {
                        if (((this.elements.events = []), 0 !== this.cellEvents.length))
                            for (var e = 0; e < this.bj(); e++)
                                for (var t = 0; t < this.rows.length; t++)
                                    for (var n = this.cellEvents[e][t], i = (this.cells[e][t], 0); i < n.events.length; i++) {
                                        var a = n.events[i];
                                        (a.part.colStart = e), (a.part.colWidth = 1), (a.part.row = t), (a.part.line = i), (a.part.startsHere = !0), (a.part.endsHere = !0), this.Fe(a);
                                    }
                    }),
                    (this.dj = function () {
                        this.elements.events = [];
                        for (var e = "number" == typeof a.maxEvents ? a.maxEvents : 1e3, t = 0; t < this.rows.length; t++)
                            for (var n = this.rows[t], i = 0; i < n.lines.length; i++) {
                                var r = n.lines[i];
                                if (!(i >= e)) for (var o = 0; o < r.length; o++) this.Fe(r[o]);
                            }
                    }),
                    (this.Pg = function (e, t) {
                        if (!(e && t && e.start && t.start)) return 0;
                        var n = e.start().ticks - t.start().ticks;
                        return 0 !== n ? n : t.end().ticks - e.end().ticks;
                    }),
                    (this.Qg = function (e, t) {
                        if (!e || !t) return 0;
                        if (!(e.data && t.data && e.data.sort && t.data.sort && 0 !== e.data.sort.length && 0 !== t.data.sort.length)) return a.Pg(e, t);
                        for (var n = 0, i = 0; 0 === n && "undefined" != typeof e.data.sort[i] && "undefined" != typeof t.data.sort[i]; )
                            (n = e.data.sort[i] === t.data.sort[i] ? 0 : "number" == typeof e.data.sort[i] && "number" == typeof t.data.sort[i] ? e.data.sort[i] - t.data.sort[i] : a.Rg(e.data.sort[i], t.data.sort[i], a.sortDirections[i])),
                                i++;
                        return n;
                    }),
                    (this.Rg = function (e, t, n) {
                        var i = "desc" !== n,
                            a = i ? -1 : 1,
                            r = -a;
                        if (null === e && null === t) return 0;
                        if (null === t) return r;
                        if (null === e) return a;
                        var o = [];
                        return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
                    }),
                    (this.ej = function (e, n, i, r, o, s) {
                        o || (o = 0);
                        var l = (function () {
                                for (var t = 0; t < r; t++) {
                                    var i = e + 7 * n + t - o;
                                    if (!(i < 0)) {
                                        var s = i % 7,
                                            l = Math.floor(i / 7);
                                        if (!(l > a.rows.length - 1)) {
                                            if (a.cells[s][l].props.disabled) return !0;
                                        }
                                    }
                                }
                            })(),
                            d = r;
                        (this.shadow = {}), (this.shadow.list = []), (this.shadow.start = { x: e, y: n }), (this.shadow.width = r), (this.shadow.disabled = l), this.eventMoveToPosition && ((d = 1), (this.shadow.position = i));
                        var c = 7 * n + e - o;
                        c < 0 && ((d += c), (e = 0), (n = 0));
                        for (var u = o; u >= 7; ) n--, (u -= 7);
                        if (u > e) {
                            u > e + (7 - this.bj()) ? (n--, (e = e + 7 - u)) : ((d = d - u + e), (e = 0));
                        } else e -= u;
                        n < 0 && ((n = 0), (e = 0));
                        var h = null;
                        for (t.resizingEvent ? (h = "w-resize") : t.movingEvent && (h = "move"), this.nav.top.style.cursor = h; d > 0 && n < this.rows.length; ) {
                            var f = Math.min(this.bj() - e, d),
                                v = this.rows[n],
                                p = this.fj(n),
                                m = v.getHeight();
                            this.eventMoveToPosition && ((p = this.gj(n, i)), (m = 2));
                            var g = document.createElement("div");
                            g.setAttribute("unselectable", "on"),
                                (g.style.position = "absolute"),
                                (g.style.left = this.hj() * e + "%"),
                                (g.style.width = this.hj() * f + "%"),
                                (g.style.top = p + "px"),
                                (g.style.height = m + "px"),
                                (g.style.cursor = h);
                            var y = document.createElement("div");
                            y.setAttribute("unselectable", "on"), g.appendChild(y), (g.className = this.ca("_shadow")), (y.className = this.ca("_shadow_inner")), l && DayPilot.Util.addClass(g, this.ca("_shadow_forbidden"));
                            this.nav.events.appendChild(g), this.shadow.list.push(g), (d -= f + 7 - this.bj()), (e = 0), n++;
                        }
                    }),
                    (this.ij = function () {
                        if (this.shadow) {
                            this.nav.events;
                            DayPilot.de(this.shadow.list), (this.shadow = null), (this.nav.top.style.cursor = "");
                        }
                    }),
                    (this.gj = function (e, t) {
                        for (var n = 0, i = 0; i < e; i++) n += this.rows[i].getHeight();
                        return (n += this.cellHeaderHeight), (n += t * s.lineHeight());
                    }),
                    (this.jj = function (e, t) {
                        return this.firstDate.addDays(7 * t + e);
                    }),
                    (this.rg = function (e) {
                        var t = this.ta.events,
                            n = this.events.list[e],
                            i = {};
                        for (var r in n) i[r] = n[r];
                        if ("function" == typeof this.onBeforeEventRender) {
                            var o = {};
                            (o.e = i), (o.data = i), (o.control = a), this.onBeforeEventRender(o);
                        }
                        t[e] = i;
                    }),
                    (this.Fe = function (e) {
                        var t = this.cellMode,
                            n = e.part.row,
                            i = e.part.line,
                            o = e.part.colStart,
                            l = e.part.colWidth,
                            d = e.cache || e.data,
                            c = t ? 0 : this.hj() * o,
                            u = t ? 100 : this.hj() * l,
                            h = t ? i * s.lineHeight() : this.gj(n, i),
                            f = document.createElement("div");
                        f.setAttribute("unselectable", "on"),
                            (f.style.height = s.eventHeight() + "px"),
                            (f.style.position = "relative"),
                            (f.style.overflow = "hidden"),
                            (f.className = this.ca("_event")),
                            d.cssClass && DayPilot.Util.addClass(f, d.cssClass),
                            (f.event = e),
                            t ? ((f.style.marginRight = "2px"), (f.style.marginBottom = "2px")) : ((f.style.width = u + "%"), (f.style.position = "absolute"), (f.style.left = c + "%"), (f.style.top = h + "px")),
                            this.showToolTip && d.toolTip && !this.bubble && (f.title = d.toolTip),
                            a.eventTextWrappingEnabled || (f.style.whiteSpace = "nowrap"),
                            (f.onclick = this.kj),
                            (f.ondblclick = this.lj),
                            (f.oncontextmenu = this.mj),
                            (f.onmousedown = this.Ie),
                            (f.onmousemove = this.Ge),
                            (f.onmouseout = this.He),
                            DayPilot.reNonPassive(f, "touchstart", r.onEventTouchStart),
                            DayPilot.rePassive(f, "touchmove", r.onEventTouchMove),
                            DayPilot.rePassive(f, "touchend", r.onEventTouchEnd),
                            e.part.startsHere || DayPilot.Util.addClass(f, this.ca("_event_continueleft")),
                            e.part.endsHere || DayPilot.Util.addClass(f, this.ca("_event_continueright"));
                        var v = document.createElement("div");
                        if (
                            (v.setAttribute("unselectable", "on"),
                            (v.className = this.ca("_event_inner")),
                            d.fontColor && (v.style.color = d.fontColor),
                            d.borderColor && ("darker" === d.borderColor && d.backColor ? (v.style.borderColor = DayPilot.ColorUtil.darker(d.backColor, 2)) : (v.style.borderColor = d.borderColor)),
                            d.backColor && (v.style.background = d.backColor),
                            d.backImage && ((v.style.backgroundImage = "url(" + d.backImage + ")"), d.backRepeat && (v.style.backgroundRepeat = d.backRepeat)),
                            f.appendChild(v),
                            e.client.barVisible())
                        ) {
                            var p = document.createElement("div");
                            p.setAttribute("unselectable", "on"), (p.className = this.ca("_event_bar")), (p.style.position = "absolute");
                            var m = document.createElement("div");
                            m.setAttribute("unselectable", "on"),
                                (m.className = this.ca("_event_bar_inner")),
                                (m.style.top = "0%"),
                                (m.style.height = "100%"),
                                d.barColor && (m.style.backgroundColor = d.barColor),
                                p.appendChild(m),
                                f.appendChild(p);
                        }
                        var g = this.Ga.locale(),
                            y = a.eventStartEndWidth;
                        if (this.eventStartTime || d.htmlStart) {
                            var c = 5;
                            a.eventBarVisible && (c += 5);
                            var b = "Clock12Hours" === a.Ga.timeFormat() ? e.start().toString("h tt", g) : e.start().toString("H", g),
                                w = { left: c, top: 2, width: y, bottom: 2, v: "Visible", html: d.htmlStart || b, css: a.ca("_event_timeleft") },
                                x = DayPilot.Areas.createArea(f, e, w);
                            f.appendChild(x), (v.style.paddingLeft = y + "px");
                        }
                        if (this.eventEndTime || d.htmlEnd) {
                            var b = "Clock12Hours" === a.Ga.timeFormat() ? e.end().toString("h tt", g) : e.end().toString("H", g),
                                w = { right: 5, top: 2, width: y, bottom: 2, v: "Visible", html: d.htmlEnd || b, css: a.ca("_event_timeright") },
                                x = DayPilot.Areas.createArea(f, e, w);
                            f.appendChild(x), (v.style.paddingRight = y + "px");
                        }
                        if (d.areas)
                            for (var k = d.areas, C = 0; C < k.length; C++) {
                                var w = k[C];
                                if (DayPilot.Areas.isVisible(w)) {
                                    var x = DayPilot.Areas.createArea(f, e, w);
                                    f.appendChild(x);
                                }
                            }
                        !(function () {
                            var t = {};
                            if (
                                ((t.e = e), (t.control = a), (t.element = null), (f.domArgs = t), "function" == typeof a.onDomAddEvent && a.onDomAddEvent(t), "function" == typeof a.onBeforeEventDomAdd && a.onBeforeEventDomAdd(t), t.element)
                            ) {
                                var n = v;
                                if (n) {
                                    t.ze = n;
                                    if (DayPilot.Util.isReactComponent(t.element)) {
                                        if (!a.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                        a.W.V(t.element, n);
                                    } else n.appendChild(t.element);
                                }
                            } else v.innerHTML = e.client.innerHTML();
                        })(),
                            this.elements.events.push(f),
                            t ? this.cells[o][n].body.appendChild(f) : this.nav.events.appendChild(f),
                            a.multiselect.od(f.event) && a.multiselect.add(f.event, !0);
                        var f = f;
                        if (a.Eb()) {
                            if ("function" == typeof a.onAfterEventRender) {
                                var _ = {};
                                (_.e = f.event), (_.div = f), a.onAfterEventRender(_);
                            }
                        } else a.afterEventRender && a.afterEventRender(f.event, f);
                    }),
                    (this.kj = function (e) {
                        r.start || a.Tb(this, e);
                    }),
                    (this.lj = function (e) {
                        e.stopPropagation(), a.Xb(this, e);
                    }),
                    (this.Ge = function (e) {
                        var n = this,
                            i = n.event;
                        if ("undefined" != typeof t && !t.movingEvent && !t.resizingEvent) {
                            var r = DayPilot.mo3(n, e);
                            if (r) {
                                !(function () {
                                    var e = n;
                                    if (!e.active) {
                                        var t = [],
                                            r = i.cache || i.data;
                                        "Disabled" === a.eventDeleteHandling ||
                                            r.deleteDisabled ||
                                            t.push({
                                                action: "JavaScript",
                                                v: "Hover",
                                                w: 17,
                                                h: 17,
                                                top: 2,
                                                right: 2,
                                                css: a.ca("_event_delete"),
                                                js: function (e) {
                                                    a.dc(e);
                                                },
                                            });
                                        var o = e.event.cache ? e.event.cache.areas : e.event.data.areas;
                                        o && o.length > 0 && (t = t.concat(o)), DayPilot.Areas.showAreas(e, e.event, null, t);
                                    }
                                })(),
                                    a.nj(n.event).forEach(function (e) {
                                        DayPilot.Util.addClass(e, a.ca("_event_hover"));
                                    });
                                var o = 6;
                                if (
                                    (!a.cellMode && r.x <= o && i.client.resizeEnabled()
                                        ? i.part.startsHere
                                            ? ((n.style.cursor = "w-resize"), (n.dpBorder = "left"))
                                            : (n.style.cursor = "not-allowed")
                                        : !a.cellMode && n.clientWidth - r.x <= o && i.client.resizeEnabled()
                                        ? i.part.endsHere
                                            ? ((n.style.cursor = "e-resize"), (n.dpBorder = "right"))
                                            : (n.style.cursor = "not-allowed")
                                        : i.client.clickEnabled()
                                        ? (n.style.cursor = "pointer")
                                        : (n.style.cursor = "default"),
                                    "undefined" != typeof DayPilot.Bubble && a.bubble && "Disabled" !== a.eventHoverHandling)
                                )
                                    if (t.movingEvent || t.resizingEvent) DayPilot.Bubble.hideActive();
                                    else {
                                        var s = this.Ig && r.x === this.Ig.x && r.y === this.Ig.y;
                                        s || ((this.Ig = r), a.bubble.showEvent(n.event));
                                    }
                            }
                        }
                    }),
                    (this.He = function (e) {
                        var t = this;
                        "undefined" != typeof DayPilot.Bubble && a.bubble && a.bubble.hideOnMouseOut(),
                            (t.style.cursor = ""),
                            a.nj(t.event).forEach(function (e) {
                                DayPilot.Util.removeClass(e, a.ca("_event_hover"));
                            }),
                            DayPilot.Areas.hideAreas(t, e);
                    }),
                    (this.mj = function () {
                        var e = this;
                        return a.Yb(e.event), !1;
                    }),
                    (this.Ie = function (e) {
                        if (!r.start) {
                            "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing());
                            var n = this,
                                i = n.event,
                                o = i.part.row,
                                s = i.part.colStart,
                                l = i.part.line,
                                d = i.part.colWidth;
                            e = e || window.event;
                            var c = DayPilot.Util.mouseButton(e);
                            if (((e.cancelBubble = !0), e.stopPropagation && e.stopPropagation(), c.left))
                                if (("undefined" != typeof DayPilot.Bubble && a.bubble && DayPilot.Bubble.hideActive(), (t.movingEvent = null), "w-resize" === this.style.cursor || "e-resize" === this.style.cursor)) {
                                    var u = {};
                                    (u.start = {}), (u.start.x = s), (u.start.y = o), (u.event = n.event), (u.width = DayPilot.DateUtil.daysSpan(u.event.start(), u.event.end()) + 1), (u.direction = this.style.cursor), (t.resizingEvent = u);
                                } else if ("move" === this.style.cursor || i.client.moveEnabled()) {
                                    a.ij();
                                    var h = DayPilot.mo3(a.nav.events, e);
                                    if (!h) return;
                                    var f = a.oj(h.x, h.y);
                                    if (!f) return;
                                    var v = DayPilot.DateUtil.daysDiff(i.start(), a.rows[o].start),
                                        p = 7 * f.y + f.x - (7 * o + s);
                                    v && (p += v);
                                    var m = {};
                                    (m.start = {}), (m.start.x = s), (m.start.y = o), (m.start.line = l), (m.offset = a.eventMoveToPosition ? 0 : p), (m.colWidth = d), (m.event = n.event), (m.coords = h), (t.movingEvent = m);
                                }
                        }
                    }),
                    (this.temp = {}),
                    (this.temp.getPosition = function () {
                        if (!a.coords) return null;
                        var e = a.oj(a.coords.x, a.coords.y);
                        if (!e) return null;
                        var t = new DayPilot.Date(a.jj(e.x, e.y)),
                            e = {};
                        return (e.start = t), (e.end = t.addDays(1)), e;
                    }),
                    (this.Je = {});
                var r = a.Je;
                (r.active = !1),
                    (r.start = !1),
                    (r.timeouts = []),
                    (r.onEventTouchStart = function (e) {
                        if (!r.active && !r.start) {
                            r.clearTimeouts(), (r.start = !0), (r.active = !1);
                            var t = this;
                            if (t.event.client.moveEnabled()) {
                                var n = a.tapAndHoldTimeout;
                                r.timeouts.push(
                                    window.setTimeout(function () {
                                        (r.active = !0), (r.start = !1);
                                        var n = r.relativeCoords(e);
                                        r.startMoving(t, n), e.preventDefault();
                                    }, n)
                                );
                            }
                            e.stopPropagation();
                        }
                    }),
                    (r.onEventTouchMove = function (e) {
                        r.clearTimeouts(), (r.start = !1);
                    }),
                    (r.onEventTouchEnd = function (e) {
                        r.clearTimeouts(),
                            r.start && a.Ub(this, e),
                            window.setTimeout(function () {
                                (r.start = !1), (r.active = !1);
                            }, 500);
                    }),
                    (r.onMainTouchStart = function (e) {
                        if (!r.active && !r.start) {
                            r.clearTimeouts(), (r.start = !0), (r.active = !1);
                            var t = a.tapAndHoldTimeout;
                            r.timeouts.push(
                                window.setTimeout(function () {
                                    (r.active = !0), (r.start = !1), e.preventDefault();
                                    var t = r.relativeCoords(e);
                                    r.startRange(t);
                                }, t)
                            );
                        }
                    }),
                    (r.onMainTouchMove = function (e) {
                        if ((r.clearTimeouts(), (r.start = !1), r.active)) {
                            e.preventDefault();
                            var t = r.relativeCoords(e);
                            if (r.moving) return void r.updateMoving(t);
                            r.range && r.updateRange(t);
                        }
                    }),
                    (r.onMainTouchEnd = function (e) {
                        if ((r.clearTimeouts(), r.active)) {
                            if (r.moving) {
                                var t = (r.moving, r.moving.event),
                                    n = a.shadow.start,
                                    i = a.shadow.position,
                                    o = r.moving.offset;
                                a.ij(), (r.moving = null), a.oc(t, n.x, n.y, o, e, i);
                            }
                            if (r.range) {
                                var s = r.range,
                                    n = new DayPilot.Date(a.jj(s.from.x, s.from.y)),
                                    l = n.addDays(s.width);
                                (r.range = null), a.wc(n, l);
                            }
                        }
                        window.setTimeout(function () {
                            (r.start = !1), (r.active = !1);
                        }, 500);
                    }),
                    (r.clearTimeouts = function () {
                        for (var e = 0; e < r.timeouts.length; e++) clearTimeout(r.timeouts[e]);
                        r.timeouts = [];
                    }),
                    (r.relativeCoords = function (e) {
                        var t = a.nav.events,
                            n = e.touches ? e.touches[0] : e,
                            i = n.pageX,
                            r = n.pageY,
                            o = DayPilot.abs(t);
                        return {
                            x: i - o.x,
                            y: r - o.y,
                            toString: function () {
                                return "x: " + this.x + ", y:" + this.y;
                            },
                        };
                    }),
                    (r.startMoving = function (e, t) {
                        a.ij();
                        var n = e.event,
                            i = a.oj(t.x, t.y);
                        if (i) {
                            var o = DayPilot.DateUtil.daysDiff(n.start(), a.rows[n.part.row].start),
                                s = 7 * i.y + i.x - (7 * n.part.row + n.part.colStart);
                            o && (s += o);
                            var l = {};
                            (l.start = {}),
                                (l.start.x = n.part.colStart),
                                (l.start.y = n.part.row),
                                (l.start.line = n.part.line),
                                (l.offset = a.eventMoveToPosition ? 0 : s),
                                (l.colWidth = n.part.colWidth),
                                (l.event = n),
                                (l.coords = t),
                                (r.moving = l),
                                r.updateMoving(t);
                        }
                    }),
                    (r.updateMoving = function (e) {
                        var t = a.oj(e.x, e.y);
                        if (t) {
                            var n = a.pj(t);
                            a.ij();
                            var i = r.moving.event,
                                o = r.moving.offset,
                                s = a.cellMode ? 1 : DayPilot.DateUtil.daysSpan(i.start(), i.end()) + 1;
                            s < 1 && (s = 1), a.ej(t.x, t.y, n, s, o, i);
                        }
                    }),
                    (r.startRange = function (e) {
                        var t = a.oj(e.x, e.y);
                        if (t) {
                            a.ij();
                            var n = {};
                            (n.start = {}), (n.start.x = t.x), (n.start.y = t.y), (n.x = t.x), (n.y = t.y), (n.width = 1), (r.range = n), r.updateRange(e);
                        }
                    }),
                    (r.updateRange = function (e) {
                        var t = a.oj(e.x, e.y);
                        if (t) {
                            a.ij();
                            var n = r.range.start,
                                i = 7 * n.y + n.x,
                                o = 7 * t.y + t.x,
                                s = Math.abs(o - i) + 1;
                            s < 1 && (s = 1);
                            var l = i < o ? n : t;
                            (r.range.width = s), (r.range.from = { x: l.x, y: l.y }), a.ej(l.x, l.y, 0, s, 0, null);
                        }
                    }),
                    (this.isWeekend = function (e) {
                        return 0 === e.dayOfWeek() || 6 === e.dayOfWeek();
                    }),
                    (this.qj = function () {
                        var e = this.startDate.lastDayOfMonth();
                        if (this.showWeekend) return e;
                        for (; this.isWeekend(e); ) e = e.addDays(-1);
                        return e;
                    }),
                    (this.Xi = function () {
                        if (
                            ("string" == typeof this.startDate && (this.startDate = new DayPilot.Date(this.startDate)),
                            "Month" === this.viewType ? (this.startDate = this.startDate.firstDayOfMonth()) : (this.startDate = this.startDate.getDatePart()),
                            (this.firstDate = this.startDate.firstDayOfWeek(s.weekStarts())),
                            !this.showWeekend)
                        ) {
                            for (var e = this.startDate.addMonths(-1).getMonth(), t = new DayPilot.Date(this.firstDate).addDays(6); this.isWeekend(t); ) t = t.addDays(-1);
                            t.getMonth() === e && (this.firstDate = this.firstDate.addDays(7));
                        }
                        var n;
                        this.startDate;
                        if ("Month" === this.viewType) {
                            var i = this.qj(),
                                r = DayPilot.DateUtil.daysDiff(this.firstDate, i) + 1;
                            n = Math.ceil(r / 7);
                        } else n = this.weeks;
                        (this.days = 7 * n), (this.rows = []);
                        for (var o = 0; o < n; o++) {
                            var l = {};
                            (l.start = this.firstDate.addDays(7 * o)),
                                (l.end = l.start.addDays(this.bj())),
                                (l.events = []),
                                (l.lines = []),
                                (l.index = o),
                                (l.minHeight = this.cellHeight),
                                (l.calendar = this),
                                (l.belongsHere = function (e, t) {
                                    return (t.getTime() === e.getTime() && e.getTime() === this.start.getTime()) || !(t.getTime() <= this.start.getTime() || e.getTime() >= this.end.getTime());
                                }),
                                (l.getPartStart = function (e) {
                                    return DayPilot.DateUtil.max(this.start, e.start());
                                }),
                                (l.getPartEnd = function (e) {
                                    return DayPilot.DateUtil.min(this.end, e.rawend());
                                }),
                                (l.getStartColumn = function (e) {
                                    var t = this.getPartStart(e);
                                    return DayPilot.DateUtil.daysDiff(this.start, t);
                                }),
                                (l.getWidth = function (e) {
                                    var t = this.getPartStart(e),
                                        n = this.getPartEnd(e);
                                    return DayPilot.DateUtil.daysSpan(t, n) + 1;
                                }),
                                (l.putIntoLine = function (e, t, n, i) {
                                    for (var a = this, r = 0; r < this.lines.length; r++) {
                                        var o = this.lines[r];
                                        if (o.isFree(t, n)) return o.addEvent(e, t, n, i, r), r;
                                    }
                                    var o = [];
                                    return (
                                        (o.isFree = function (e, t) {
                                            for (var n = !0, i = 0; i < this.length; i++) {
                                                var a = this[i];
                                                e + t - 1 < a.part.colStart || e > a.part.colStart + a.part.colWidth - 1 || (n = !1);
                                            }
                                            return n;
                                        }),
                                        (o.addEvent = function (e, t, n, i, r) {
                                            (e.part.colStart = t),
                                                (e.part.colWidth = n),
                                                (e.part.row = i),
                                                (e.part.line = r),
                                                (e.part.startsHere = a.start.getTime() <= e.start().getTime()),
                                                (e.part.endsHere = a.end.getTime() >= e.end().getTime()),
                                                this.push(e);
                                        }),
                                        o.addEvent(e, t, n, i, this.lines.length),
                                        this.lines.push(o),
                                        this.lines.length - 1
                                    );
                                }),
                                (l.getStart = function () {
                                    for (var e = 0, t = 0; t < a.rows.length && t < this.index; t++) e += a.rows[t].getHeight();
                                }),
                                (l.getHeight = function () {
                                    var e = "number" == typeof a.maxEvents ? a.maxEvents : 1e3,
                                        t = Math.min(e, this.lines.length);
                                    return Math.max(t * s.lineHeight() + a.cellHeaderHeight + a.cellMarginBottom, this.calendar.cellHeight);
                                }),
                                this.rows.push(l);
                        }
                        this.rj = this.firstDate.addDays(7 * n);
                    }),
                    (this.bh = function () {
                        switch (this.heightSpec) {
                            case "Auto":
                                for (var e = s.headerHeight(), t = 0; t < this.rows.length; t++) e += this.rows[t].getHeight();
                                return e;
                            case "Fixed":
                                return this.height;
                        }
                    }),
                    (this.ah = function (e, t) {
                        return 7 * t.y + t.x - (7 * e.y + e.x) + 1;
                    }),
                    (this.Tg = {}),
                    (this.Tg.scope = null),
                    (this.Tg.notify = function () {
                        a.Tg.scope && a.Tg.scope["$apply"]();
                    }),
                    (this.debug = new DayPilot.Debug(this)),
                    (this.Se = function () {
                        var e = this.nav.top;
                        (this.nav.top.dp = this),
                            e.setAttribute("unselectable", "on"),
                            (e.style.MozUserSelect = "none"),
                            (e.style.KhtmlUserSelect = "none"),
                            (e.style.WebkitUserSelect = "none"),
                            (e.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
                            (e.style.WebkitTouchCallout = "none"),
                            (e.style.position = "relative"),
                            this.width && (e.style.width = this.width),
                            (e.onselectstart = function (e) {
                                return !1;
                            }),
                            (e.className = this.ca("_main")),
                            this.hideUntilInit && (e.style.visibility = "hidden"),
                            this.visible || (e.style.display = "none"),
                            (e.onmousemove = this.Ye),
                            DayPilot.reNonPassive(e, "touchstart", r.onMainTouchStart),
                            DayPilot.reNonPassive(e, "touchmove", r.onMainTouchMove),
                            DayPilot.rePassive(e, "touchend", r.onMainTouchEnd),
                            (this.Wi = document.createElement("div")),
                            (this.Wi.style.display = "none"),
                            this.nav.top.appendChild(this.Wi);
                        var t = document.createElement("div");
                        (t.style.position = "relative"),
                            (t.style.height = s.headerHeight() + "px"),
                            (t.oncontextmenu = function () {
                                return !1;
                            }),
                            this.nav.top.appendChild(t),
                            (this.nav.header = t);
                        var n = document.createElement("div");
                        n.style.zoom = "1";
                        var i = document.createElement("div");
                        (i.style.position = "relative"),
                            (i.ondblclick = a.sj),
                            n.appendChild(i),
                            (this.nav.loading = document.createElement("div")),
                            (this.nav.loading.style.position = "absolute"),
                            (this.nav.loading.style.top = "0px"),
                            (this.nav.loading.style.left = "5px"),
                            (this.nav.loading.className = a.ca("_loading")),
                            (this.nav.loading.innerHTML = a.Ea(this.loadingLabelText, this.loadingLabelHtml)),
                            (this.nav.loading.style.display = "none"),
                            this.nav.top.appendChild(n),
                            this.nav.top.appendChild(this.nav.loading),
                            (this.nav.scrollable = n),
                            (this.nav.events = i);
                    }),
                    (this.Ye = function (e) {
                        (e.insideMainD = !0), window.event && window.event.srcElement && (window.event.srcElement.inside = !0), (a.coords = DayPilot.mo3(a.nav.events, e));
                        var n = a.coords;
                        if (n) {
                            var i = a.oj(n.x, n.y);
                            if (i) {
                                if (t.resizingEvent) {
                                    a.ij();
                                    var r,
                                        o,
                                        s = t.resizingEvent;
                                    s.start;
                                    if ("w-resize" === s.direction) {
                                        o = i;
                                        var l = s.event.rawend();
                                        l.getDatePart().getTime() === l.getTime() && (l = l.addDays(-1));
                                        var d = a.tj(l);
                                        r = a.ah(i, d);
                                    } else (o = a.tj(s.event.start())), (r = a.ah(o, i));
                                    r < 1 && (r = 1), a.ej(o.x, o.y, 0, r);
                                } else if (t.movingEvent) {
                                    if (n.x === t.movingEvent.coords.x && n.y === t.movingEvent.coords.y) return;
                                    var c = 3,
                                        u = Math.abs(n.x - t.movingEvent.coords.x) + Math.abs(n.y - t.movingEvent.coords.y);
                                    if (u <= c) return;
                                    var h = a.pj(i);
                                    a.ij();
                                    var f = t.movingEvent.event,
                                        v = t.movingEvent.offset,
                                        r = a.cellMode ? 1 : DayPilot.DateUtil.daysSpan(f.start(), f.rawend()) + 1;
                                    r < 1 && (r = 1), a.ej(i.x, i.y, h, r, v, f);
                                } else if (t.timeRangeSelecting) {
                                    (t.cancelCellClick = !0), a.ij();
                                    var o = t.timeRangeSelecting,
                                        p = 7 * o.y + o.x,
                                        m = 7 * i.y + i.x,
                                        r = Math.abs(m - p) + 1;
                                    r < 1 && (r = 1);
                                    var g = p < m ? o : i;
                                    (t.timeRangeSelecting.from = { x: g.x, y: g.y }), (t.timeRangeSelecting.width = r), (t.timeRangeSelecting.moved = !0), a.ej(g.x, g.y, 0, r, 0, null);
                                }
                                if (t.drag) {
                                    if ((t.gShadow && document.body.removeChild(t.gShadow), (t.gShadow = null), !t.movingEvent)) {
                                        var y = DayPilot.Date.today(),
                                            e = { id: t.drag.id, start: y, end: y.addSeconds(t.drag.duration), text: t.drag.text },
                                            b = t.drag.data;
                                        if (b) {
                                            var w = ["duration", "element", "remove", "id", "text"];
                                            for (var x in b) DayPilot.contains(w, x) || (e[x] = b[x]);
                                        }
                                        var f = new DayPilot.Event(e, a);
                                        f.external = !0;
                                        var k = (t.movingEvent = {});
                                        (k.event = f), (k.coords = n), (k.position = 0), (k.offset = 0), (k.external = !0), (k.removeElement = t.drag.element);
                                    }
                                    e.cancelBubble = !0;
                                }
                            }
                        }
                    }),
                    (this.pj = function (e) {
                        for (var t = e.relativeY, n = a.rows[e.y], i = a.cellHeaderHeight, r = s.lineHeight(), o = n.lines.length, l = 0; l < n.lines.length; l++) {
                            if (n.lines[l].isFree(e.x, 1)) {
                                o = l;
                                break;
                            }
                        }
                        var d = Math.floor((t - i + r / 2) / r),
                            d = Math.min(o, d),
                            d = Math.max(0, d);
                        return d;
                    }),
                    (this.message = function (e, t) {
                        if (null !== e && a.ya) {
                            var n,
                                i = {};
                            "object" == typeof arguments[1] ? ((i = arguments[1]), (n = i.delay)) : (n = t);
                            var r = "";
                            (r = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)), (n = n || this.messageHideAfter || 2e3);
                            var o,
                                l = s.headerHeight();
                            if (this.nav.message) o = a.nav.message;
                            else {
                                (o = document.createElement("div")),
                                    o.setAttribute("unselectable", "on"),
                                    (o.style.position = "absolute"),
                                    (o.style.right = "0px"),
                                    (o.style.left = "0px"),
                                    (o.style.top = l + "px"),
                                    (o.style.display = "none"),
                                    (o.onmousemove = function () {
                                        o.messageTimeout && !o.status && clearTimeout(o.messageTimeout);
                                    }),
                                    (o.onmouseout = function () {
                                        "none" !== a.nav.message.style.display && (o.messageTimeout = setTimeout(a.Rb, 500));
                                    });
                                var d = document.createElement("div");
                                d.setAttribute("unselectable", "on"),
                                    (d.onclick = function () {
                                        a.nav.message.style.display = "none";
                                    }),
                                    (d.className = this.ca("_message")),
                                    o.appendChild(d);
                                var c = document.createElement("div");
                                c.setAttribute("unselectable", "on"),
                                    (c.style.position = "absolute"),
                                    (c.className = this.ca("_message_close")),
                                    (c.onclick = function () {
                                        a.nav.message.style.display = "none";
                                    }),
                                    o.appendChild(c),
                                    this.nav.top.appendChild(o),
                                    (this.nav.message = o);
                            }
                            var u = function () {
                                if (a.nav.message) {
                                    var e = a.nav.message.firstChild;
                                    (e.className = a.ca("_message")), i.cssClass && DayPilot.Util.addClass(e, i.cssClass), (e.innerHTML = r);
                                    var t = function () {
                                        o.messageTimeout = setTimeout(a.Rb, n);
                                    };
                                    DayPilot.fade(a.nav.message, 0.2, t);
                                }
                            };
                            clearTimeout(o.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(a.nav.message, -0.2, u) : u();
                        }
                    }),
                    (this.message.show = function (e) {
                        a.message(e);
                    }),
                    (this.message.hide = function () {
                        a.Rb();
                    }),
                    (this.Rb = function () {
                        var e = function () {
                            a.nav.message.style.display = "none";
                        };
                        DayPilot.fade(a.nav.message, -0.2, e);
                    }),
                    (this.Ya = function (e) {
                        "Parent100Pct" === a.heightSpec && a.vb();
                    }),
                    (this.vb = function () {
                        var e = this.nav.scrollable;
                        if (
                            ("Parent100Pct" === this.heightSpec || "Fixed" === this.heightSpec
                                ? ((e.style.top = this.headerHeight + "px"), (e.style.bottom = "0px"), (e.style.left = "0px"), (e.style.right = "0px"), (e.style.overflow = "auto"), (e.style.position = "absolute"))
                                : (e.style.position = "relative"),
                            "Parent100Pct" === this.heightSpec)
                        ) {
                            this.nav.top.style.height = "100%";
                            this.nav.top.clientHeight;
                        } else this.nav.top.style.height = this.bh() + "px";
                        for (var t = 0; t < this.cells.length; t++) for (var n = 0; n < this.cells[t].length; n++) (this.cells[t][n].style.top = this.fj(n) + "px"), (this.cells[t][n].style.height = this.rows[n].getHeight() + "px");
                        this.uj();
                    }),
                    (this.oj = function (e, t) {
                        e = Math.max(0, e);
                        for (var n = Math.floor(this.nav.top.clientWidth / this.bj()), i = Math.min(Math.floor(e / n), this.bj() - 1), a = null, r = 0, o = 0, s = 0, l = 0; l < this.rows.length; l++) {
                            if (((o += this.rows[l].getHeight()), t < o)) {
                                (r = t - s), (a = l);
                                break;
                            }
                            s = o;
                        }
                        null === a && (a = this.rows.length - 1);
                        var d = {};
                        return (d.x = i), (d.y = a), (d.relativeY = r), d;
                    }),
                    (this.tj = function (e) {
                        for (var t = DayPilot.DateUtil.daysDiff(this.firstDate, e), n = { x: 0, y: 0 }; t >= 7; ) n.y++, (t -= 7);
                        return (n.x = t), n;
                    }),
                    (this.uj = function () {
                        var e = DayPilot.sw(this.nav.scrollable);
                        this.nav.header.style.marginRight = e + "px";
                    });
                var o = null;
                (this.Zi = function () {
                    var e = this.nav.header,
                        t = this.nav.events,
                        n = a.bj();
                    this.cells = [];
                    for (var i = 0; i < n; i++) {
                        var r = i === n - 1;
                        this.cells[i] = [];
                        var l = this.headerProperties ? this.headerProperties[i] : null,
                            d = i + s.weekStarts();
                        if ((d > 6 && (d -= 7), !l)) {
                            var l = {};
                            l.html = s.locale().dayNames[d];
                        }
                        if ("function" == typeof a.onBeforeHeaderRender) {
                            var c = {};
                            (c.header = {}), (c.header.dayOfWeek = d);
                            var u = ["html", "backColor", "cssClass"];
                            DayPilot.Util.copyProps(l, c.header, u), a.onBeforeHeaderRender(c), DayPilot.Util.copyProps(c.header, l, u);
                        }
                        var h = document.createElement("div");
                        h.setAttribute("unselectable", "on"),
                            (h.style.position = "absolute"),
                            (h.style.left = this.hj() * i + "%"),
                            r ? (h.style.right = "0px") : (h.style.width = this.hj() + "%"),
                            (h.style.top = "0px"),
                            (h.style.height = s.headerHeight() + "px"),
                            (function (e) {
                                h.onclick = function () {
                                    a.$b(e);
                                };
                            })(d);
                        var f = document.createElement("div");
                        f.setAttribute("unselectable", "on"),
                            (f.className = this.ca("_header_inner")),
                            (f.innerHTML = l.html),
                            h.appendChild(f),
                            (h.className = this.ca("_header")),
                            l && (l.cssClass && DayPilot.Util.addClass(h, l.cssClass), l.backColor && (f.style.background = l.backColor)),
                            e.appendChild(h);
                        for (var v = 0; v < this.rows.length; v++) this.Me(i, v, t);
                    }
                    if (!DayPilot.contains(this.nav.top.childNodes, o) && DayPilot.Util.isNullOrUndefined(undefined)) {
                        var p = document.createElement("div");
                        (p.style.position = "absolute"),
                            (p.style.padding = "2px"),
                            (p.style.top = "0px"),
                            (p.style.left = "0px"),
                            (p.style.backgroundColor = "#FF6600"),
                            (p.style.color = "white"),
                            (p.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
                            (o = p),
                            this.nav.top.appendChild(p);
                    }
                }),
                    (this.Yi = function () {
                        for (var e = 0; e < this.cells.length; e++)
                            for (var t = 0; t < this.cells[e].length; t++)
                                (this.cells[e][t].onclick = null),
                                    (function () {
                                        var n = a.cells[e][t],
                                            i = n.domArgs;
                                        if (((n.domArgs = null), i && "function" == typeof a.onBeforeCellDomRemove && a.onBeforeCellDomRemove(i), i && "function" == typeof a.onBeforeCellDomAdd && a.W.reactDOM)) {
                                            var r = i && i.ze;
                                            if (r) {
                                                if (DayPilot.Util.isReactComponent(i.element)) {
                                                    if (!a.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                                    a.W.ka(r);
                                                }
                                            }
                                        }
                                    })();
                        (this.nav.header.innerHTML = ""), (this.nav.events.innerHTML = "");
                    }),
                    (this.Me = function (t, n, i) {
                        var r = this.rows[n],
                            o = this.firstDate.addDays(7 * n + t),
                            l = this.cellProperties ? this.cellProperties[n * this.bj() + t] : null,
                            d = a.bj(),
                            c = t === d - 1,
                            u = null;
                        if (l) u = l["headerHtml"];
                        else {
                            var h = o.getDay();
                            u = 1 === h ? s.locale().monthNames[o.getMonth()] + " " + h : h + "";
                        }
                        if (!l) {
                            var l = {};
                            (l.business = !a.isWeekend(o)),
                                (l.headerHtml = u),
                                (l.disabled = !1),
                                (l.backColor = null),
                                (l.backImage = null),
                                (l.backRepeat = null),
                                (l.areas = null),
                                (l.headerBackColor = null),
                                (l.cssClass = null),
                                (l.html = null);
                        }
                        if ("function" == typeof a.onBeforeCellRender) {
                            var f = {};
                            (f.cell = {}),
                                (f.cell.start = o),
                                (f.cell.end = f.cell.start.addDays(1)),
                                (f.cell.properties = l),
                                (f.cell.events = function () {
                                    return a.events.forRange(f.cell.start, f.cell.end);
                                }),
                                a.onBeforeCellRender(f),
                                DayPilot.Util.copyProps(f.cell, l, ["areas", "backColor", "backImage", "backRepeat", "business", "disabled", "headerHtml", "headerBackColor", "cssClass", "html"]);
                        }
                        var v = this.hj() * t,
                            p = this.hj(),
                            m = document.createElement("div");
                        m.setAttribute("unselectable", "on"),
                            (m.style.position = "absolute"),
                            (m.style.cursor = "default"),
                            (m.style.left = v + "%"),
                            c ? (m.style.right = "0px") : (m.style.width = p + "%"),
                            (m.style.top = this.fj(n) + "px"),
                            (m.style.height = r.getHeight() + "px"),
                            (m.d = o),
                            (m.x = t),
                            (m.y = n),
                            (m.props = l);
                        var g = this.startDate.addMonths(-1).getMonth(),
                            y = this.startDate.addMonths(1).getMonth(),
                            b = this.startDate.getMonth(),
                            w = document.createElement("div");
                        w.setAttribute("unselectable", "on"),
                            m.appendChild(w),
                            (w.className = this.ca("_cell_inner")),
                            (w.className = this.ca("_cell_inner")),
                            o.getMonth() === b
                                ? (m.className = this.ca("_cell"))
                                : o.getMonth() === g
                                ? (m.className = this.ca("_cell") + " " + this.ca("_previous"))
                                : o.getMonth() === y
                                ? (m.className = this.ca("_cell") + " " + this.ca("_next"))
                                : e(),
                            l &&
                                (l["cssClass"] && DayPilot.Util.addClass(m, l.cssClass),
                                l["business"] && DayPilot.Util.addClass(m, this.ca("_cell_business")),
                                l["backColor"] && (w.style.backgroundColor = l["backColor"]),
                                l["backImage"] && (w.style.backgroundImage = "url('" + l["backImage"] + "')"),
                                l["backRepeat"] && (w.style.backgroundRepeat = l["backRepeat"])),
                            (m.onmousedown = this.Fc),
                            (m.onmousemove = this.Uc),
                            (m.onmouseout = this.Tc),
                            (m.oncontextmenu = this.vj),
                            (m.onclick = this.wj),
                            (m.ondblclick = this.sj);
                        var x = document.createElement("div");
                        if (
                            (x.setAttribute("unselectable", "on"),
                            (x.style.height = this.cellHeaderHeight + "px"),
                            l && l["headerBackColor"] && (x.style.background = l["headerBackColor"]),
                            (x.className = this.ca("_cell_header")),
                            (x.innerHTML = l.headerHtml),
                            (x.onclick = function (e) {
                                if ("Enabled" === a.cellHeaderClickHandling) {
                                    e.stopPropagation();
                                    var t = {};
                                    (t.control = a),
                                        (t.start = o),
                                        (t.end = o.addDays(1)),
                                        (t.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        ("function" == typeof a.onCellHeaderClick && (a.onCellHeaderClick(t), t.preventDefault.value)) || ("function" == typeof a.onCellHeaderClicked && a.onCellHeaderClicked(t));
                                }
                            }),
                            w.appendChild(x),
                            l && l["html"])
                        ) {
                            var k = document.createElement("div");
                            k.setAttribute("unselectable", "on"), (k.style.height = r.getHeight() - this.cellHeaderHeight + "px"), (k.style.overflow = "hidden"), (k.innerHTML = l["html"]), w.appendChild(k);
                        }
                        if (this.cellMode) {
                            var C = document.createElement("div");
                            C.setAttribute("unselectable", "on"), (C.style.height = this.cellHeight - this.cellHeaderHeight + "px"), (C.style.overflow = "auto"), (C.style.position = "relative");
                            var _ = document.createElement("div");
                            _.setAttribute("unselectable", "on"), (_.style.paddingTop = "1px"), (_.style.paddingBottom = "1px"), C.appendChild(_), w.appendChild(C), (m.body = _), (m.scrolling = C);
                        }
                        if (m.props)
                            for (var D = m.props.areas || [], T = 0; T < D.length; T++) {
                                var E = D[T];
                                if (DayPilot.Areas.isVisible(E)) {
                                    var S = DayPilot.Areas.createArea(m, m.props, E);
                                    m.appendChild(S);
                                }
                            }
                        !(function () {
                            if ("function" == typeof a.onBeforeCellDomAdd || "function" == typeof a.onBeforeCellDomRemove) {
                                var e = {};
                                if (
                                    ((e.control = a),
                                    (e.cell = {}),
                                    (e.cell.start = o),
                                    (e.cell.end = e.cell.start.addDays(1)),
                                    (e.cell.events = function () {
                                        return a.events.forRange(e.cell.start, e.cell.end);
                                    }),
                                    (e.element = null),
                                    (m.domArgs = e),
                                    "function" == typeof a.onBeforeCellDomAdd && a.onBeforeCellDomAdd(e),
                                    e.element && ((target = w), target))
                                ) {
                                    e.ze = target;
                                    if (DayPilot.Util.isReactComponent(e.element)) {
                                        if (!a.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                        a.W.V(e.element, target);
                                    } else target.appendChild(e.element);
                                }
                            }
                        })(),
                            (this.cells[t][n] = m),
                            i.appendChild(m),
                            "function" == typeof a.onAfterCellRender && ((f.cell.div = m), (f.cell.divHeader = x), a.onAfterCellRender(f));
                    }),
                    (this.Uc = function () {
                        var e = this;
                        e.props && DayPilot.Areas.showAreas(e, e.props);
                    }),
                    (this.Tc = function (e) {
                        var t = this;
                        t.props && DayPilot.Areas.hideAreas(t, e);
                    }),
                    (this.vj = function () {
                        var e = this.d;
                        return (
                            (function (e) {
                                var t = new DayPilot.Date(e),
                                    n = t.addDays(1),
                                    i = new DayPilot.Selection(t, n, null, a);
                                a.contextMenuSelection && a.contextMenuSelection.show(i);
                            })(e),
                            !1
                        );
                    }),
                    (this.sj = function () {
                        var e = a.coords,
                            t = a.oj(e.x, e.y),
                            n = a.jj(t.x, t.y);
                        if (a.timeouts) {
                            for (var i in a.timeouts) window.clearTimeout(a.timeouts[i]);
                            a.timeouts = null;
                        }
                        if ("Disabled" !== a.timeRangeDoubleClickHandling) {
                            var r = new DayPilot.Date(n),
                                o = r.addDays(1);
                            a.yc(r, o);
                        }
                    }),
                    (this.wj = function () {
                        if (!t.cancelCellClick) {
                            var e = this.d;
                            if (!this.props.disabled) {
                                var n = function (e) {
                                    var t = new DayPilot.Date(e),
                                        n = t.addDays(1);
                                    a.wc(t, n);
                                };
                                if ("Disabled" !== a.timeRangeSelectedHandling && "Disabled" === a.timeRangeDoubleClickHandling) return void n(e);
                                a.timeouts || (a.timeouts = []);
                                var i = function (e) {
                                    return function () {
                                        n(e);
                                    };
                                };
                                a.timeouts.push(window.setTimeout(i(e), a.doubleClickTimeout));
                            }
                        }
                    }),
                    (this.Fc = function (e) {
                        var n = this,
                            i = n.x,
                            r = n.y;
                        if (((t.cancelCellClick = !1), n.scrolling)) {
                            var o = DayPilot.mo3(n.scrolling, e),
                                s = DayPilot.sw(n.scrolling),
                                l = n.scrolling.offsetWidth;
                            if (o.x > l - s) return;
                        }
                        "Disabled" !== a.timeRangeSelectedHandling && (a.ij(), (t.timeRangeSelecting = { root: a, x: i, y: r, from: { x: i, y: r }, width: 1 })), a.ej(i, r, 0, 1);
                    }),
                    (this.bj = function () {
                        return this.showWeekend ? 7 : 5;
                    }),
                    (this.hj = function () {
                        return this.showWeekend ? 14.285 : 20;
                    }),
                    (this.fj = function (e) {
                        for (var t = 0, n = 0; n < e; n++) t += this.rows[n].getHeight();
                        return t;
                    }),
                    (this.clearSelection = function () {
                        this.ij();
                    }),
                    (this.Ha = function (e, t, n) {
                        var i = {};
                        (i.action = e), (i.parameters = n), (i.data = t), (i.header = this.Ia());
                        var r = "JSON" + JSON.stringify(i);
                        __doPostBack(a.uniqueID, r);
                    }),
                    (this.Ja = function (e, t, n, i) {
                        if (!this.ja()) return void a.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                        "undefined" == typeof i && (i = "CallBack"), a.Ka();
                        var r = {};
                        (r.action = e), (r.type = i), (r.parameters = t), (r.data = n), (r.header = this.Ia());
                        var o = "JSON" + JSON.stringify(r);
                        this.backendUrl ? DayPilot.request(this.backendUrl, this.La, o, this.Ma) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, o, this.Na, null, this.callbackError, !0);
                    }),
                    (this.ja = function () {
                        return ("javasc" !== a.Aa && a.Aa.indexOf("DCODE") === -1) || a.devsb;
                    }),
                    (this.Oa = function () {
                        return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
                    }),
                    (this.Ma = function (e) {
                        if ("function" == typeof a.onAjaxError) {
                            var t = {};
                            (t.request = e), a.onAjaxError(t);
                        } else "function" == typeof a.ajaxError && a.ajaxError(e);
                    }),
                    (this.La = function (e) {
                        a.Na(e.responseText);
                    }),
                    (this.Ia = function () {
                        var e = {};
                        return (
                            (e.v = this.v),
                            (e.control = "dpm"),
                            (e.id = this.id),
                            (e.visibleStart = new DayPilot.Date(this.firstDate)),
                            (e.visibleEnd = e.visibleStart.addDays(this.days)),
                            (e.clientState = this.clientState),
                            (e.cssClassPrefix = a.cssClassPrefix),
                            (e.startDate = a.startDate),
                            (e.showWeekend = this.showWeekend),
                            (e.locale = this.locale),
                            (e.timeFormat = this.timeFormat),
                            (e.weekStarts = this.weekStarts),
                            (e.viewType = this.viewType),
                            (e.weeks = this.weeks),
                            (e.selected = a.multiselect.events()),
                            (e.hashes = a.hashes),
                            e
                        );
                    }),
                    (this.visibleStart = function () {
                        return new DayPilot.Date(this.firstDate);
                    }),
                    (this.visibleEnd = function () {
                        return a.visibleStart().addDays(a.days);
                    }),
                    (this.ec = function (e, t, n, i) {
                        if ("PostBack" === e) a.postBack2(t, n, i);
                        else if ("CallBack" === e) a.Ja(t, n, i, "CallBack");
                        else if ("Immediate" === e) a.Ja(t, n, i, "Notify");
                        else if ("Queue" === e) a.queue.add(new DayPilot.Action(this, t, n, i));
                        else {
                            if ("Notify" !== e) throw "Invalid event invocation type";
                            "Notify" === s.notifyType() ? a.Ja(t, n, i, "Notify") : a.queue.add(new DayPilot.Action(a, t, n, i));
                        }
                    }),
                    (this.sc = function (e, t) {
                        var n = a.tc(t),
                            i = {};
                        (i.args = e), (i.guid = n), a.Ja("Bubble", i);
                    }),
                    (this.tc = function (e) {
                        var t = DayPilot.guid();
                        return this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t;
                    }),
                    (this.eventClickPostBack = function (e, t) {
                        this.Ha("EventClick", t, e);
                    }),
                    (this.eventClickCallBack = function (e, t) {
                        this.Ja("EventClick", e, t);
                    }),
                    (this.Tb = function (e, n) {
                        (t.movingEvent = null), (t.resizingEvent = null);
                        var n = n || window.event;
                        n.ctrlKey, n.metaKey;
                        if (((n.cancelBubble = !0), n.stopPropagation && n.stopPropagation(), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" === a.eventDoubleClickHandling)) return void a.Ub(e, n);
                        if (a.timeouts) {
                            for (var i in a.timeouts) window.clearTimeout(a.timeouts[i]);
                            a.timeouts = [];
                        } else a.timeouts = [];
                        var r = function (e, t) {
                            return function () {
                                a.Ub(e, t);
                            };
                        };
                        a.timeouts.push(window.setTimeout(r(e, n), a.doubleClickTimeout));
                    }),
                    (this.Ub = function (e, t) {
                        var n = e.event;
                        if (n.client.clickEnabled()) {
                            var i = t.ctrlKey,
                                r = t.metaKey;
                            if (a.Eb()) {
                                var o = {};
                                if (
                                    ((o.e = n),
                                    (o.control = a),
                                    (o.div = e),
                                    (o.originalEvent = t),
                                    (o.meta = t.metaKey),
                                    (o.ctrl = t.ctrlKey),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof a.onEventClick && (a.onEventClick(o), o.preventDefault.value))
                                )
                                    return;
                                switch (a.eventClickHandling) {
                                    case "PostBack":
                                        a.eventClickPostBack(n);
                                        break;
                                    case "CallBack":
                                        a.eventClickCallBack(n);
                                        break;
                                    case "Select":
                                        a.Wb(e, n, i, r);
                                        break;
                                    case "ContextMenu":
                                        var s = n.client.contextMenu();
                                        s ? s.show(n) : a.contextMenu && a.contextMenu.show(n);
                                        break;
                                    case "Bubble":
                                        a.bubble && a.bubble.showEvent(n);
                                }
                                "function" == typeof a.onEventClicked && a.onEventClicked(o);
                            } else
                                switch (a.eventClickHandling) {
                                    case "PostBack":
                                        a.eventClickPostBack(n);
                                        break;
                                    case "CallBack":
                                        a.eventClickCallBack(n);
                                        break;
                                    case "JavaScript":
                                        a.onEventClick(n);
                                        break;
                                    case "Select":
                                        a.Wb(e, n, i, r);
                                        break;
                                    case "ContextMenu":
                                        var s = n.client.contextMenu();
                                        s ? s.show(n) : a.contextMenu && a.contextMenu.show(n);
                                        break;
                                    case "Bubble":
                                        a.bubble && a.bubble.showEvent(n);
                                }
                        }
                    }),
                    (this.dc = function (e) {
                        if (a.Eb()) {
                            var t = {};
                            if (
                                ((t.e = e),
                                (t.control = a),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventDelete && (a.onEventDelete(t), t.preventDefault.value))
                            )
                                return;
                            switch (a.eventDeleteHandling) {
                                case "PostBack":
                                    a.eventDeletePostBack(e);
                                    break;
                                case "CallBack":
                                    a.eventDeleteCallBack(e);
                                    break;
                                case "Update":
                                    a.events.remove(e);
                            }
                            "function" == typeof a.onEventDeleted && a.onEventDeleted(t);
                        } else
                            switch (a.eventDeleteHandling) {
                                case "PostBack":
                                    a.eventDeletePostBack(e);
                                    break;
                                case "CallBack":
                                    a.eventDeleteCallBack(e);
                                    break;
                                case "JavaScript":
                                    a.onEventDelete(e);
                            }
                    }),
                    (this.eventDeletePostBack = function (e, t) {
                        this.Ha("EventDelete", e, t);
                    }),
                    (this.eventDeleteCallBack = function (e, t) {
                        this.Ja("EventDelete", e, t);
                    }),
                    (this.eventDoubleClickPostBack = function (e, t) {
                        this.Ha("EventDoubleClick", t, e);
                    }),
                    (this.eventDoubleClickCallBack = function (e, t) {
                        this.Ja("EventDoubleClick", e, t);
                    }),
                    (this.Xb = function (e, t) {
                        if (("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), a.timeouts)) {
                            for (var n in a.timeouts) window.clearTimeout(a.timeouts[n]);
                            a.timeouts = null;
                        }
                        var t = t || window.event,
                            i = e.event;
                        if (i.client.doubleClickEnabled())
                            if (a.Eb()) {
                                var r = {};
                                if (
                                    ((r.e = i),
                                    (r.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof a.onEventDoubleClick && (a.onEventDoubleClick(r), r.preventDefault.value))
                                )
                                    return;
                                switch (a.eventDoubleClickHandling) {
                                    case "PostBack":
                                        a.eventDoubleClickPostBack(i);
                                        break;
                                    case "CallBack":
                                        a.eventDoubleClickCallBack(i);
                                        break;
                                    case "Select":
                                        a.Wb(e, i, t.ctrlKey, t.metaKey);
                                        break;
                                    case "Bubble":
                                        a.bubble && a.bubble.showEvent(i);
                                }
                                "function" == typeof a.onEventDoubleClicked && a.onEventDoubleClicked(r);
                            } else
                                switch (a.eventDoubleClickHandling) {
                                    case "PostBack":
                                        a.eventDoubleClickPostBack(i);
                                        break;
                                    case "CallBack":
                                        a.eventDoubleClickCallBack(i);
                                        break;
                                    case "JavaScript":
                                        a.onEventDoubleClick(i);
                                        break;
                                    case "Select":
                                        a.Wb(e, i, t.ctrlKey, t.metaKey);
                                        break;
                                    case "Bubble":
                                        a.bubble && a.bubble.showEvent(i);
                                }
                    }),
                    (this.Wb = function (e, t, n, i) {
                        a.Ac(e, t, n, i);
                    }),
                    (this.eventSelectPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.Ha("EventSelect", n, i);
                    }),
                    (this.eventSelectCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.Ja("EventSelect", i, n);
                    }),
                    (this.Ac = function (e, t, n, i) {
                        var r = a.multiselect,
                            o = r.isSelected(t);
                        if (n || i || !o || 1 !== r.list.length)
                            if (a.Eb()) {
                                r.previous = r.events();
                                var s = {};
                                if (
                                    ((s.e = t),
                                    (s.selected = r.isSelected(t)),
                                    (s.ctrl = n),
                                    (s.meta = i),
                                    (s.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof a.onEventSelect && (a.onEventSelect(s), s.preventDefault.value))
                                )
                                    return;
                                switch (a.eventSelectHandling) {
                                    case "PostBack":
                                        a.eventSelectPostBack(t, l);
                                        break;
                                    case "CallBack":
                                        "undefined" != typeof WebForm_InitCallback && ((window.Cc = ""), (window.Dc = []), WebForm_InitCallback()), a.eventSelectCallBack(t, l);
                                        break;
                                    case "Update":
                                        r.Ec(e, n);
                                }
                                "function" == typeof a.onEventSelected && ((s.change = r.isSelected(t) ? "selected" : "deselected"), (s.selected = r.isSelected(t)), a.onEventSelected(s));
                            } else {
                                (r.previous = r.events()), r.Ec(e, n);
                                var l = r.isSelected(t) ? "selected" : "deselected";
                                switch (a.eventSelectHandling) {
                                    case "PostBack":
                                        a.eventSelectPostBack(t, l);
                                        break;
                                    case "CallBack":
                                        "undefined" != typeof WebForm_InitCallback && ((window.Cc = ""), (window.Dc = []), WebForm_InitCallback()), a.eventSelectCallBack(t, l);
                                        break;
                                    case "JavaScript":
                                        a.onEventSelect(t, l);
                                }
                            }
                    }),
                    (this.eventRightClickPostBack = function (e, t) {
                        this.Ha("EventRightClick", t, e);
                    }),
                    (this.eventRightClickCallBack = function (e, t) {
                        this.Ja("EventRightClick", e, t);
                    }),
                    (this.Yb = function (e) {
                        if (((this.event = e), !e.client.rightClickEnabled())) return !1;
                        if (a.Eb()) {
                            var t = {};
                            if (
                                ((t.e = e),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventRightClick && (a.onEventRightClick(t), t.preventDefault.value))
                            )
                                return;
                            switch (a.eventRightClickHandling) {
                                case "PostBack":
                                    a.eventRightClickPostBack(e);
                                    break;
                                case "CallBack":
                                    a.eventRightClickCallBack(e);
                                    break;
                                case "ContextMenu":
                                    var n = e.client.contextMenu();
                                    n ? n.show(e) : a.contextMenu && a.contextMenu.show(this.event);
                                    break;
                                case "Bubble":
                                    a.bubble && a.bubble.showEvent(e);
                            }
                            "function" == typeof a.onEventRightClicked && a.onEventRightClicked(t);
                        } else
                            switch (a.eventRightClickHandling) {
                                case "PostBack":
                                    a.eventRightClickPostBack(e);
                                    break;
                                case "CallBack":
                                    a.eventRightClickCallBack(e);
                                    break;
                                case "JavaScript":
                                    a.onEventRightClick(e);
                                    break;
                                case "ContextMenu":
                                    var n = e.client.contextMenu();
                                    n ? n.show(e) : a.contextMenu && a.contextMenu.show(this.event);
                                    break;
                                case "Bubble":
                                    a.bubble && a.bubble.showEvent(e);
                            }
                        return !1;
                    }),
                    (this.eventMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.command = t), this.Ha("EventMenuClick", n, i);
                    }),
                    (this.eventMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.command = t), this.Ja("EventMenuClick", i, n);
                    }),
                    (this.uc = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                a.eventMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                a.eventMenuClickCallBack(t, e);
                        }
                    }),
                    (this.eventMovePostBack = function (e, t, n, i, a) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var r = {};
                        (r.e = e), (r.newStart = t), (r.newEnd = n), (r.position = a), this.Ha("EventMove", i, r);
                    }),
                    (this.eventMoveCallBack = function (e, t, n, i, a) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var r = {};
                        (r.e = e), (r.newStart = t), (r.newEnd = n), (r.position = a), this.Ja("EventMove", r, i);
                    }),
                    (this.oc = function (e, t, n, i, r, o, s) {
                        var l = e.start().getTimePart(),
                            d = e.rawend().getDatePart();
                        d.getTime() !== e.rawend().getTime() && (d = d.addDays(1));
                        var c = DayPilot.DateUtil.diff(e.rawend(), d),
                            u = this.jj(t, n);
                        u = u.addDays(-i);
                        var h = DayPilot.DateUtil.daysSpan(e.start(), e.rawend()) + 1,
                            f = u.addDays(h),
                            v = u.addTime(l),
                            p = f.addTime(c);
                        if (((p = a.xj(p)), a.Eb())) {
                            var m = {};
                            if (
                                ((m.e = e),
                                (m.control = a),
                                (m.newStart = v),
                                (m.newEnd = p),
                                (m.position = o),
                                (m.external = s),
                                (m.ctrl = !1),
                                (m.shift = !1),
                                (m.meta = !1),
                                r && ((m.shift = r.shiftKey), (m.ctrl = r.ctrlKey), (m.meta = r.metaKey)),
                                (m.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventMove && (a.onEventMove(m), m.preventDefault.value))
                            )
                                return;
                            switch (a.eventMoveHandling) {
                                case "PostBack":
                                    a.eventMovePostBack(e, v, p, null, o);
                                    break;
                                case "CallBack":
                                    a.eventMoveCallBack(e, v, p, null, o);
                                    break;
                                case "Notify":
                                    a.eventMoveNotify(e, v, p, null, o);
                                    break;
                                case "Update":
                                    m.external ? (e.start(v), e.end(p), e.commit(), a.events.add(e)) : (e.start(v), e.end(p), a.events.update(e)), a.qc();
                            }
                            "function" == typeof a.onEventMoved && a.onEventMoved(m);
                        } else
                            switch (a.eventMoveHandling) {
                                case "PostBack":
                                    a.eventMovePostBack(e, v, p, null, o);
                                    break;
                                case "CallBack":
                                    a.eventMoveCallBack(e, v, p, null, o);
                                    break;
                                case "JavaScript":
                                    a.onEventMove(e, v, p, r.ctrlKey, r.shiftKey, o);
                                    break;
                                case "Notify":
                                    a.eventMoveNotify(e, v, p, null, o);
                            }
                    }),
                    (this.eventMoveNotify = function (e, t, n, i, r) {
                        var o = new DayPilot.Event(e.copy(), this);
                        e.start(t), e.end(n), e.commit(), a.update(), this.rc("Notify", o, t, n, i, r);
                    }),
                    (this.rc = function (e, t, n, i, a, r) {
                        var o = {};
                        (o.e = t), (o.newStart = n), (o.newEnd = i), (o.position = r), this.ec(e, "EventMove", o, a);
                    }),
                    (this.eventResizePostBack = function (e, t, n, i) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var a = {};
                        (a.e = e), (a.newStart = t), (a.newEnd = n), this.Ha("EventResize", i, a);
                    }),
                    (this.eventResizeCallBack = function (e, t, n, i) {
                        if (!t) throw "newStart is null";
                        if (!n) throw "newEnd is null";
                        var a = {};
                        (a.e = e), (a.newStart = t), (a.newEnd = n), this.Ja("EventResize", a, i);
                    }),
                    (this.jc = function (e, t, n) {
                        var i = e.start().getTimePart(),
                            r = e.rawend().getDatePart();
                        r.getTime() !== e.rawend().getTime() && (r = r.addDays(1));
                        var o = DayPilot.DateUtil.diff(e.rawend(), r),
                            s = this.jj(t.x, t.y),
                            l = s.addDays(n),
                            d = s.addTime(i),
                            c = l.addTime(o);
                        if (((c = a.xj(c)), a.Eb())) {
                            var u = {};
                            if (
                                ((u.e = e),
                                (u.control = a),
                                (u.newStart = d),
                                (u.newEnd = c),
                                (u.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onEventResize && (a.onEventResize(u), u.preventDefault.value))
                            )
                                return;
                            switch (a.eventResizeHandling) {
                                case "PostBack":
                                    a.eventResizePostBack(e, d, c);
                                    break;
                                case "CallBack":
                                    a.eventResizeCallBack(e, d, c);
                                    break;
                                case "Notify":
                                    a.eventResizeNotify(e, d, c);
                                    break;
                                case "Update":
                                    e.start(d), e.end(c), a.events.update(e);
                            }
                            "function" == typeof a.onEventResized && a.onEventResized(u);
                        } else
                            switch (a.eventResizeHandling) {
                                case "PostBack":
                                    a.eventResizePostBack(e, d, c);
                                    break;
                                case "CallBack":
                                    a.eventResizeCallBack(e, d, c);
                                    break;
                                case "JavaScript":
                                    a.onEventResize(e, d, c);
                                    break;
                                case "Notify":
                                    a.eventResizeNotify(e, d, c);
                            }
                    }),
                    (this.eventResizeNotify = function (e, t, n, i) {
                        var r = new DayPilot.Event(e.copy(), this);
                        e.start(t), e.end(n), e.commit(), a.update(), this.lc("Notify", r, t, n, i);
                    }),
                    (this.lc = function (e, t, n, i, a) {
                        var r = {};
                        (r.e = t), (r.newStart = n), (r.newEnd = i), this.ec(e, "EventResize", r, a);
                    }),
                    (this.timeRangeSelectedPostBack = function (e, t, n) {
                        var i = {};
                        (i.start = e), (i.end = t), this.Ha("TimeRangeSelected", n, i);
                    }),
                    (this.timeRangeSelectedCallBack = function (e, t, n) {
                        var i = {};
                        (i.start = e), (i.end = t), this.Ja("TimeRangeSelected", i, n);
                    }),
                    (this.wc = function (e, t) {
                        if (((t = a.xj(t)), a.Eb())) {
                            var n = {};
                            if (
                                ((n.start = e),
                                (n.end = t),
                                (n.control = a),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onTimeRangeSelect && (a.onTimeRangeSelect(n), n.preventDefault.value))
                            )
                                return;
                            switch (a.timeRangeSelectedHandling) {
                                case "PostBack":
                                    a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                                    break;
                                case "CallBack":
                                    a.timeRangeSelectedCallBack(e, t), a.clearSelection();
                            }
                            "function" == typeof a.onTimeRangeSelected && a.onTimeRangeSelected(n);
                        } else
                            switch (a.timeRangeSelectedHandling) {
                                case "PostBack":
                                    a.timeRangeSelectedPostBack(e, t), a.clearSelection();
                                    break;
                                case "CallBack":
                                    a.timeRangeSelectedCallBack(e, t), a.clearSelection();
                                    break;
                                case "JavaScript":
                                    a.onTimeRangeSelected(e, t);
                            }
                    }),
                    (this.timeRangeMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e), (i.command = t), this.Ha("TimeRangeMenuClick", n, i);
                    }),
                    (this.timeRangeMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e), (i.command = t), this.Ja("TimeRangeMenuClick", i, n);
                    }),
                    (this.vc = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                a.timeRangeMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                a.timeRangeMenuClickCallBack(t, e);
                        }
                    }),
                    (this.headerClickPostBack = function (e, t) {
                        this.Ha("HeaderClick", t, e);
                    }),
                    (this.headerClickCallBack = function (e, t) {
                        this.Ja("HeaderClick", e, t);
                    }),
                    (this.$b = function (e) {
                        var t = (this.data, { day: e });
                        if (a.Eb()) {
                            var n = {};
                            if (
                                ((n.header = {}),
                                (n.header.dayOfWeek = e),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onHeaderClick && (a.onHeaderClick(n), n.preventDefault.value))
                            )
                                return;
                            switch (a.headerClickHandling) {
                                case "PostBack":
                                    a.headerClickPostBack(t);
                                    break;
                                case "CallBack":
                                    a.headerClickCallBack(t);
                            }
                            "function" == typeof a.onHeaderClicked && a.onHeaderClicked(n);
                        } else
                            switch (a.headerClickHandling) {
                                case "PostBack":
                                    a.headerClickPostBack(t);
                                    break;
                                case "CallBack":
                                    a.headerClickCallBack(t);
                                    break;
                                case "JavaScript":
                                    a.onHeaderClick(t);
                            }
                    }),
                    (this.timeRangeDoubleClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.start = e), (i.end = t), this.Ha("TimeRangeDoubleClick", n, i);
                    }),
                    (this.timeRangeDoubleClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.start = e), (i.end = t), this.Ja("TimeRangeDoubleClick", i, n);
                    }),
                    (this.yc = function (e, t) {
                        if (a.Eb()) {
                            var n = {};
                            if (
                                ((n.start = e),
                                (n.end = t),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof a.onTimeRangeDoubleClick && (a.onTimeRangeDoubleClick(n), n.preventDefault.value))
                            )
                                return;
                            switch (a.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    a.timeRangeDoubleClickPostBack(e, t);
                                    break;
                                case "CallBack":
                                    a.timeRangeDoubleClickCallBack(e, t);
                            }
                            "function" == typeof a.onTimeRangeDoubleClicked && a.onTimeRangeDoubleClicked(n);
                        } else
                            switch (a.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    a.timeRangeDoubleClickPostBack(e, t);
                                    break;
                                case "CallBack":
                                    a.timeRangeDoubleClickCallBack(e, t);
                                    break;
                                case "JavaScript":
                                    a.onTimeRangeDoubleClick(e, t);
                            }
                    }),
                    (this.commandCallBack = function (e, t) {
                        this.yj();
                        var n = {};
                        (n.command = e), this.Ja("Command", n, t);
                    }),
                    (this.commandPostBack = function (e, t) {
                        this.yj();
                        var n = {};
                        (n.command = e), this.Ha("Command", n, t);
                    }),
                    (this.Sg = function (e) {
                        for (var t = 0; t < a.elements.events.length; t++) {
                            var n = a.elements.events[t];
                            if (n.event === e || n.event.data === e.data) return n;
                        }
                        return null;
                    }),
                    (this.nj = function (e) {
                        var t = {};
                        (t.list = []),
                            (t.forEach = function (e) {
                                if (e) for (var t = 0; t < this.list.length; t++) e(this.list[t]);
                            });
                        for (var n = 0; n < this.elements.events.length; n++) {
                            var i = this.elements.events[n];
                            i.event.data === e.data && t.list.push(i);
                        }
                        return t;
                    }),
                    (this.Yg = function (e) {
                        var t = document.createElement("div");
                        (t.style.position = "absolute"), (t.style.top = "-2000px"), (t.style.left = "-2000px"), (t.className = this.ca(e)), document.body.appendChild(t);
                        var n = t.offsetHeight,
                            i = t.offsetWidth;
                        document.body.removeChild(t);
                        var a = {};
                        return (a.height = n), (a.width = i), a;
                    }),
                    (this.Ga = {});
                var s = this.Ga;
                (s.Fa = function () {
                    return "Disabled" !== a.xssProtection;
                }),
                    (s.clearCache = function () {
                        delete a.ta.eventHeight, delete a.ta.headerHeight;
                    }),
                    (s.lineHeight = function () {
                        return s.eventHeight() + a.lineSpace;
                    }),
                    (s.rounded = function () {
                        return "Rounded" === a.eventCorners;
                    }),
                    (s.loadFromServer = function () {
                        return !!a.backendUrl;
                    }),
                    (s.locale = function () {
                        return DayPilot.Locale.find(a.locale);
                    }),
                    (s.getWeekStart = function () {
                        return a.showWeekend ? a.weekStarts : 1;
                    }),
                    (s.weekStarts = function () {
                        if (!a.showWeekend) return 1;
                        if ("Auto" === a.weekStarts) {
                            var e = s.locale();
                            return e ? e.weekStarts : 0;
                        }
                        return a.weekStarts;
                    }),
                    (s.notifyType = function () {
                        var e;
                        if ("Immediate" === a.notifyCommit) e = "Notify";
                        else {
                            if ("Queue" !== a.notifyCommit) throw "Invalid notifyCommit value: " + a.notifyCommit;
                            e = "Queue";
                        }
                        return e;
                    }),
                    (s.eventHeight = function () {
                        if (a.ta.eventHeight) return a.ta.eventHeight;
                        var e = a.Yg("_event_height").height;
                        return e || (e = a.eventHeight), (a.ta.eventHeight = e), e;
                    }),
                    (s.headerHeight = function () {
                        if (a.ta.headerHeight) return a.ta.headerHeight;
                        var e = a.Yg("_header_height").height;
                        return e || (e = a.headerHeight), (a.ta.headerHeight = e), e;
                    }),
                    (s.timeFormat = function () {
                        return "Auto" !== a.timeFormat ? a.timeFormat : s.locale().timeFormat;
                    }),
                    (this.fg = function () {
                        var e = a.nav.top;
                        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
                    }),
                    (this.exportAs = function (e, t) {
                        if (!a.fg()) throw new DayPilot.Exception("DayPilot.Month.exportAs(): The instance must be visible during export.");
                        var n = l.generate(e, t);
                        return new DayPilot.Export(n);
                    }),
                    (this.$g = {});
                var l = this.$g;
                (l.A = null),
                    (l._g = null),
                    (l.generate = function (e, t) {
                        "object" == typeof e && ((t = e), (e = null));
                        var t = t || {},
                            e = e || t.format || "svg",
                            n = t.scale || 1;
                        if ("config" !== e) {
                            "jpg" === e.toLowerCase() && (e = "jpeg");
                            var i = t.area || "viewport";
                            (l.A = t), (l._g = i);
                            var r,
                                o = l.getWidth(),
                                d = l.getHeight();
                            switch (e.toLowerCase()) {
                                case "svg":
                                    r = new DayPilot.Svg(o, d);
                                    break;
                                case "png":
                                    r = new DayPilot.Canvas(o, d, "image/png", n);
                                    break;
                                case "jpeg":
                                    r = new DayPilot.Canvas(o, d, "image/jpeg", n, t.quality);
                                    break;
                                default:
                                    throw "Export format not supported: " + e;
                            }
                            var c = l.getRectangles(),
                                u = new DayPilot.StyleReader(a.nav.top).get("background-color"),
                                h = new DayPilot.StyleReader(a.nav.top).get("border-top-color"),
                                f = a.nav.header.firstChild.firstChild,
                                v = new DayPilot.StyleReader(f).get("background-color"),
                                p = new DayPilot.StyleReader(f).getFont(),
                                m = new DayPilot.StyleReader(f).get("color"),
                                g = a.cells[0][0].firstChild,
                                y = (new DayPilot.StyleReader(g).get("background-color"), new DayPilot.StyleReader(g).get("border-right-color")),
                                b = (c.grid.w * a.hj()) / 100,
                                w = 0;
                            r.fillRect(c.main, "white"),
                                r.fillRect(c.main, u),
                                DayPilot.list.for(a.bj()).forEach(function (e) {
                                    var t = a.headerProperties ? a.headerProperties[e] : null,
                                        n = e + s.weekStarts();
                                    if ((n > 6 && (n -= 7), !t)) {
                                        var t = {};
                                        t.html = s.locale().dayNames[n];
                                    }
                                    var i = 0,
                                        o = b,
                                        l = s.headerHeight(),
                                        d = t.html,
                                        c = { x: w, y: i, w: o + 1, h: l + 1 },
                                        u = DayPilot.Util.copyProps(c),
                                        f = {};
                                    (f.header = {}),
                                        (f.header.dayOfWeek = n),
                                        (f.backColor = v),
                                        (f.text = d),
                                        (f.horizontalAlignment = "center"),
                                        (f.verticalAlignment = "center"),
                                        (f.fontSize = p.size),
                                        (f.fontFamily = p.family),
                                        (f.fontStyle = p.style),
                                        (f.fontColor = m),
                                        "function" == typeof a.onBeforeHeaderExport && a.onBeforeHeaderExport(f);
                                    var g = { size: f.fontSize, family: f.fontFamily, style: f.fontStyle };
                                    r.fillRect(c, f.backColor), r.rect(c, h), r.text(u, f.text, g, f.fontColor, f.horizontalAlignment, 0, f.verticalAlignment), (w += o);
                                });
                            var x = c.grid.y;
                            l.zj().forEach(function (e) {
                                var t = e.getHeight(),
                                    n = 0,
                                    i = a.rows.indexOf(e);
                                DayPilot.list.for(a.bj()).forEach(function (e) {
                                    var o = a.cells[e][i],
                                        s = o.props,
                                        l = b,
                                        d = new DayPilot.StyleReader(a.cells[e][i].firstChild).get("background-color"),
                                        c = a.cells[e][i].firstChild.firstChild,
                                        u = new DayPilot.StyleReader(c).getFont(),
                                        h = new DayPilot.StyleReader(c).get("color"),
                                        f = new DayPilot.StyleReader(c).get("background-color"),
                                        v = a.firstDate.addDays(7 * i + e),
                                        p = {};
                                    (p.cell = {}),
                                        (p.cell.start = v),
                                        (p.cell.end = v.addDays(1)),
                                        (p.backColor = d),
                                        (p.text = s.headerHtml),
                                        (p.horizontalAlignment = "right"),
                                        "function" == typeof a.onBeforeCellExport && a.onBeforeCellExport(p);
                                    var m = { x: n, y: x, w: l + 1, h: t + 1 };
                                    r.fillRect(m, p.backColor), r.rect(m, y);
                                    var g = { x: n, y: x, w: l - 2, h: a.cellHeaderHeight };
                                    r.fillRect(m, f), r.text(g, p.text, u, h, p.horizontalAlignment), (n += l);
                                }),
                                    (x += t);
                            });
                            var k = 0;
                            return (
                                l.zj().forEach(function (e) {
                                    var t = e.getHeight();
                                    DayPilot.list(e.lines).forEach(function (e) {
                                        DayPilot.list(e).forEach(function (e) {
                                            var t = e.cache || e.data,
                                                n = l.fh();
                                            n.className += " " + t.cssClass;
                                            var i = n.firstChild,
                                                o = n.querySelector("." + a.ca("_event_bar")),
                                                d = new DayPilot.StyleReader(i).get("border-right-color"),
                                                u = new DayPilot.StyleReader(i).getFont(),
                                                h = new DayPilot.StyleReader(i).get("color"),
                                                f = new DayPilot.StyleReader(i).getBackColor(),
                                                v = new DayPilot.StyleReader(o.firstChild).getBackColor(),
                                                p = new DayPilot.StyleReader(o.firstChild).getPx("width"),
                                                m = {};
                                            (m.left = new DayPilot.StyleReader(i).getPx("padding-left")),
                                                (m.right = new DayPilot.StyleReader(i).getPx("padding-right")),
                                                (m.top = new DayPilot.StyleReader(i).getPx("padding-top")),
                                                (m.bottom = new DayPilot.StyleReader(i).getPx("padding-bottom"));
                                            t.barColor || v;
                                            DayPilot.de(n);
                                            var g = t.backColor || f,
                                                y = {};
                                            (y.e = e),
                                                (y.text = e.text ? e.text() : e.client.html()),
                                                (y.fontSize = u.size),
                                                (y.fontFamily = u.family),
                                                (y.fontStyle = u.style),
                                                (y.fontColor = t.fontColor || h),
                                                (y.backColor = t.backColor || g),
                                                (y.borderColor = t.borderColor || d),
                                                (y.horizontalAlignment = "left"),
                                                (y.barWidth = p),
                                                (y.barColor = t.barColor || v),
                                                "function" == typeof a.onBeforeEventExport && a.onBeforeEventExport(y);
                                            var w = b * e.part.colStart,
                                                x = b * e.part.colWidth,
                                                C = k + a.cellHeaderHeight + e.part.line * s.lineHeight() + c.grid.y + 2,
                                                _ = s.eventHeight(),
                                                D = 2,
                                                T = { x: w + D, y: C, w: x + 1 - 4, h: _ },
                                                E = DayPilot.Util.copyProps(T),
                                                S = DayPilot.Util.copyProps(E);
                                            if (((S.x += m.left), (S.w -= m.left + m.right), (S.y += m.top), (S.h -= m.top + m.bottom), r.fillRect(T, y.backColor), e.client.barVisible())) {
                                                var A = { x: T.x, y: T.y, w: y.barWidth, h: T.h };
                                                r.fillRect(A, y.barColor);
                                            }
                                            r.text(S, y.text, { size: y.fontSize, family: y.fontFamily, style: y.fontStyle }, y.fontColor, y.horizontalAlignment), r.rect(T, y.borderColor);
                                        });
                                    }),
                                        (k += t);
                                }),
                                r.rect(c.main, h),
                                r.line(c.grid.x, 0, c.grid.x, c.main.h, h),
                                r.line(0, c.grid.y, c.main.w, c.grid.y, h),
                                r
                            );
                        }
                    }),
                    (l.fh = function () {
                        var e = document.createElement("div");
                        (e.style.position = "absolute"), (e.style.top = "-2000px"), (e.style.left = "-2000px"), (e.style.display = "none"), (e.className = a.ca("_event"));
                        var t = document.createElement("div");
                        (t.className = a.ca("_event_inner")), e.appendChild(t);
                        var n = document.createElement("div");
                        n.className = a.ca("_event_bar");
                        var i = document.createElement("div");
                        return (i.className = a.ca("_event_bar_inner")), n.appendChild(i), e.appendChild(n), a.nav.events.appendChild(e), e;
                    }),
                    (l.dh = function () {
                        var e = document.createElement("div");
                        (e.style.position = "absolute"), (e.style.top = "-2000px"), (e.style.left = "-2000px"), (e.style.display = "none"), (e.className = a.ca("_cell"));
                        var t = document.createElement("div");
                        return (t.className = a.ca("_cell_inner")), e.appendChild(t), a.nav.events.appendChild(e), e;
                    }),
                    (l.getWidth = function () {
                        var e = l._g,
                            t = Math.floor(a.nav.top.clientWidth / a.bj()) * a.bj();
                        switch (e) {
                            case "viewport":
                            case "full":
                            case "range":
                                return "number" == typeof l.A.width ? l.A.width : t;
                            default:
                                throw "Unsupported export mode: " + e;
                        }
                    }),
                    (l.getHeight = function () {
                        var e = l._g;
                        switch (e) {
                            case "viewport":
                            case "full":
                                return a.nav.top.clientHeight;
                            case "range":
                                var t = s.headerHeight();
                                return (
                                    l.zj().forEach(function (e) {
                                        t += e.getHeight();
                                    }),
                                    t
                                );
                            default:
                                throw "Unsupported export mode: " + e;
                        }
                    }),
                    (l.zj = function () {
                        var e = new DayPilot.Date(l.A.dateFrom || a.visibleStart()),
                            t = new DayPilot.Date(l.A.dateTo || a.visibleEnd());
                        return a.rows.filter(function (n) {
                            return "range" !== l._g || DayPilot.Util.overlaps(n.start, n.end, e, t);
                        });
                    }),
                    (l.getRectangles = function () {
                        var e = s.headerHeight(),
                            t = {};
                        return (t.main = { x: 0, y: 0, w: l.getWidth(), h: l.getHeight() }), (t.grid = { x: 0, y: e, w: l.getWidth(), h: l.getHeight() - e }), t;
                    }),
                    (this.multiselect = {}),
                    (this.multiselect.initList = []),
                    (this.multiselect.list = []),
                    (this.multiselect.divs = []),
                    (this.multiselect.previous = []),
                    (this.multiselect.md = function () {
                        var e = a.multiselect;
                        return JSON.stringify(e.events());
                    }),
                    (this.multiselect.events = function () {
                        var e = a.multiselect,
                            t = [];
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.list.length; n++) t.push(e.list[n]);
                        return t;
                    }),
                    (this.multiselect.nd = function () {}),
                    (this.multiselect.Ec = function (e, t) {
                        var n = a.multiselect;
                        if (n.isSelected(e.event))
                            if (a.allowMultiSelect)
                                if (t) n.remove(e.event, !0);
                                else {
                                    var i = n.list.length;
                                    n.clear(!0), i > 1 && n.add(e.event, !0);
                                }
                            else n.clear(!0);
                        else a.allowMultiSelect && t ? n.add(e.event, !0) : (n.clear(!0), n.add(e.event, !0));
                        n.redraw(), n.nd();
                    }),
                    (this.multiselect.od = function (e) {
                        var t = a.multiselect;
                        return t.pd(e, t.initList);
                    }),
                    (this.multiselect.qd = function () {
                        for (var e = a.multiselect, t = [], n = 0; n < e.list.length; n++) {
                            var i = e.list[n];
                            t.push(i.value());
                        }
                        alert(t.join("\n"));
                    }),
                    (this.multiselect.add = function (e, t) {
                        var n = a.multiselect;
                        n.rd(e) === -1 && n.list.push(e), t || n.redraw();
                    }),
                    (this.multiselect.remove = function (e, t) {
                        var n = a.multiselect,
                            i = n.rd(e);
                        i !== -1 && n.list.splice(i, 1);
                    }),
                    (this.multiselect.clear = function (e) {
                        var t = a.multiselect;
                        (t.list = []), e || t.redraw();
                    }),
                    (this.multiselect.redraw = function () {
                        for (var e = a.multiselect, t = 0; t < a.elements.events.length; t++) {
                            var n = a.elements.events[t];
                            e.isSelected(n.event) ? e.sd(n) : e.td(n);
                        }
                    }),
                    (this.multiselect.sd = function (e) {
                        var t = a.multiselect,
                            n = a.ca("_selected"),
                            e = t.ud(e);
                        DayPilot.Util.addClass(e, n), t.divs.push(e);
                    }),
                    (this.multiselect.ud = function (e) {
                        return e;
                    }),
                    (this.multiselect.vd = function () {
                        for (var e = a.multiselect, t = 0; t < e.divs.length; t++) {
                            var n = e.divs[t];
                            e.td(n, !0);
                        }
                        e.divs = [];
                    }),
                    (this.multiselect.td = function (e, t) {
                        var n = a.multiselect,
                            i = a.ca("_selected"),
                            r = n.ud(e);
                        if ((r && r.className && r.className.indexOf(i) !== -1 && (r.className = r.className.replace(i, "")), !t)) {
                            var o = DayPilot.indexOf(n.divs, e);
                            o !== -1 && n.divs.splice(o, 1);
                        }
                    }),
                    (this.multiselect.isSelected = function (e) {
                        return a.multiselect.pd(e, a.multiselect.list);
                    }),
                    (this.multiselect.rd = function (e) {
                        for (var t = e.data, n = 0; n < a.multiselect.list.length; n++) {
                            var i = a.multiselect.list[n];
                            if (a.xd(i.data, t)) return n;
                        }
                        return -1;
                    }),
                    (this.multiselect.pd = function (e, t) {
                        if (!t) return !1;
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (a.xd(e, i)) return !0;
                        }
                        return !1;
                    }),
                    (this.xd = function (e, t) {
                        return DayPilot.Util.isSameEvent(e, t);
                    }),
                    (this.events.forRange = function (e, t) {
                        (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
                        var n = DayPilot.list(a.events.list).map(function (e) {
                            return new DayPilot.Event(e);
                        });
                        return (
                            n.sort(a.Qg),
                            n.filter(function (n) {
                                var i = n.start(),
                                    a = n.end();
                                return (i === a && i === e) || DayPilot.Util.overlaps(e, t, i, a);
                            })
                        );
                    }),
                    (this.events.find = function (e) {
                        if (!a.events.list || "undefined" == typeof a.events.list.length) return null;
                        if ("function" == typeof e) {
                            for (var t = e, n = 0; n < a.events.list.length; n++) {
                                var i = new DayPilot.Event(a.events.list[n], a);
                                if (t(i)) return i;
                            }
                            return null;
                        }
                        for (var r = a.events.list.length, n = 0; n < r; n++) if (a.events.list[n].id === e) return new DayPilot.Event(a.events.list[n], a);
                        return null;
                    }),
                    (this.events.findRecurrent = function (e, t) {
                        if (!a.events.list || "undefined" == typeof a.events.list.length) return null;
                        for (var n = a.events.list.length, i = 0; i < n; i++) if (a.events.list[i].recurrentMasterId === e && a.events.list[i].start.getTime() === t.getTime()) return new DayPilot.Event(a.events.list[i], a);
                        return null;
                    }),
                    (this.events.update = function (e, t) {
                        if ("object" == typeof e && !(e instanceof DayPilot.Event)) {
                            var n = a.events.find(e.id);
                            if (!n) throw new DayPilot.Exception("The event to be updated was not found");
                            var i = DayPilot.indexOf(a.events.list, n.data);
                            return a.events.list.splice(i, 1, e), a.ya && a.update(), void a.Tg.notify();
                        }
                        var r = {};
                        (r.oldEvent = new DayPilot.Event(e.copy(), a)), (r.newEvent = new DayPilot.Event(e.temp(), a));
                        var o = new DayPilot.Action(a, "EventUpdate", r, t);
                        return e.commit(), a.ya && a.update(), a.Tg.notify(), o;
                    }),
                    (this.events.remove = function (e, t) {
                        var n = {};
                        n.e = new DayPilot.Event(e.data, a);
                        var i = new DayPilot.Action(a, "EventRemove", n, t),
                            r = DayPilot.indexOf(a.events.list, e.data);
                        return a.events.list.splice(r, 1), a.ya && a.update(), a.Tg.notify(), i;
                    }),
                    (this.events.add = function (e, t) {
                        e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), (e.calendar = a), a.events.list || (a.events.list = []), a.events.list.push(e.data);
                        var n = {};
                        n.e = e;
                        var i = new DayPilot.Action(a, "EventAdd", n, t);
                        return a.ya && a.update(), a.Tg.notify(), i;
                    }),
                    (this.events.filter = function (e) {
                        (a.events.Ng = e), a.Ad();
                    }),
                    (this.events.load = function (e, t, n) {
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception), (t.request = e.request), "function" == typeof n && n(t);
                            },
                            r = function (e) {
                                var n,
                                    r = e.request;
                                try {
                                    n = JSON.parse(r.responseText);
                                } catch (e) {
                                    var o = {};
                                    return (o.exception = e), void i(o);
                                }
                                if (DayPilot.isArray(n)) {
                                    var s = {};
                                    if (
                                        ((s.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (s.data = n),
                                        "function" == typeof t && t(s),
                                        s.preventDefault.value)
                                    )
                                        return;
                                    (a.events.list = n), a.ya && a.update();
                                }
                            };
                        if (a.eventsLoadMethod && "POST" === a.eventsLoadMethod.toUpperCase()) DayPilot.ajax({ method: "POST", data: { start: a.visibleStart().toString(), end: a.visibleEnd().toString() }, url: e, success: r, error: i });
                        else {
                            var o = e,
                                s = "start=" + a.visibleStart().toString() + "&end=" + a.visibleEnd().toString();
                            (o += o.indexOf("?") > -1 ? "&" + s : "?" + s), DayPilot.ajax({ method: "GET", url: o, success: r, error: i });
                        }
                    }),
                    (this.W = {}),
                    (this.W.reactDOM = null),
                    (this.W.react = null),
                    (this.W.V = function (e, t) {
                        var n = a.W.reactDOM;
                        if ("function" == typeof n.createRoot) {
                            var i = t.ma;
                            i || ((i = n.createRoot(t)), (t.ma = i)), i.render(e);
                        } else n.render(e, t);
                    }),
                    (this.W.ka = function (e) {
                        var t = a.W.reactDOM;
                        if ("function" == typeof t.createRoot) {
                            var n = e.ma;
                            setTimeout(function () {
                                n.unmount();
                            }, 0);
                        } else t.unmountComponentAtNode(e);
                    }),
                    (this.queue = {}),
                    (this.queue.list = []),
                    (this.queue.list.ignoreToJSON = !0),
                    (this.queue.add = function (e) {
                        if (e) {
                            if (!e.isAction) throw "DayPilot.Action object required for queue.add()";
                            a.queue.list.push(e);
                        }
                    }),
                    (this.queue.notify = function (e) {
                        var t = {};
                        (t.actions = a.queue.list), a.Ja("Notify", t, e, "Notify"), (a.queue.list = []);
                    }),
                    (this.queue.clear = function () {
                        a.queue.list = [];
                    }),
                    (this.queue.pop = function () {
                        return a.queue.list.pop();
                    }),
                    (this.xj = function (e) {
                        return "DateTime" === a.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart();
                    }),
                    (this.aj = function (e) {
                        return "DateTime" === a.eventEndSpec ? e : e.getDatePart().addDays(1);
                    }),
                    (this.Aj = function (e) {
                        return "DateTime" === a.eventEndSpec ? e : e.getDatePart();
                    }),
                    (this.Db = function (e) {
                        if ((e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.xa >= this.autoRefreshMaxCount))) {
                            this.yj();
                            var t = this.autoRefreshInterval;
                            if (!t || t < 10) throw "The minimum autoRefreshInterval is 10 seconds";
                            this.autoRefreshTimeout = window.setTimeout(function () {
                                a.ig();
                            }, 1e3 * this.autoRefreshInterval);
                        }
                    }),
                    (this.yj = function () {
                        this.autoRefreshTimeout && window.clearTimeout(this.autoRefreshTimeout);
                    }),
                    (this.ig = function () {
                        if (!t.eventResizing && !t.eventMoving && !t.timeRangeSelecting) {
                            var e = !1;
                            if ("function" == typeof this.onAutoRefresh) {
                                var n = {};
                                (n.i = this.xa),
                                    (n.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    a.onAutoRefresh(n),
                                    n.preventDefault.value && (e = !0);
                            }
                            !e && this.ja() && this.commandCallBack(this.autoRefreshCommand), this.xa++;
                        }
                        this.xa < this.autoRefreshMaxCount &&
                            (this.autoRefreshTimeout = window.setTimeout(function () {
                                a.ig();
                            }, 1e3 * this.autoRefreshInterval));
                    }),
                    (this.Ad = function (e) {
                        if (this.cells) {
                            var e = e || {},
                                t = !e.eventsOnly;
                            a.cssOnly || (a.cssOnly = !0), a.Sa(), a.Xi(), a.nb(), t && (a.Ga.clearCache(), a.Yi(), a.Zi()), a.vb(), a.D(), a.zb(), this.visible ? this.show() : this.hide();
                        }
                    }),
                    (this.update = function (e) {
                        if (!a.ya) throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that hasn't been initialized yet.");
                        if (a.za) throw new DayPilot.Exception("You are trying to update a DayPilot.Month instance that has been disposed.");
                        this.Xg(e), this.Ad();
                    }),
                    (this.dispose = function () {
                        var e = a;
                        e.nav.top &&
                            (e.yj(),
                            e.Sa(),
                            e.nav.top.removeAttribute("style"),
                            e.nav.top.removeAttribute("class"),
                            (e.nav.top.innerHTML = ""),
                            (e.nav.top.dp = null),
                            (e.nav.top.onmousemove = null),
                            DayPilot.ue(e.nav.top, "touchstart", r.onMainTouchStart),
                            DayPilot.ue(e.nav.top, "touchmove", r.onMainTouchMove),
                            DayPilot.ue(e.nav.top, "touchend", r.onMainTouchEnd),
                            (e.nav.top = null),
                            DayPilot.ue(window, "resize", e.Ya),
                            t.unregister(e),
                            "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ calendar: e })),
                            "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ calendar: e }));
                    }),
                    (this.lg = function () {
                        t.globalHandlers || ((t.globalHandlers = !0), DayPilot.re(document, "mousemove", t.gMouseMove), DayPilot.re(document, "mouseup", t.gMouseUp), DayPilot.reNonPassive(document, "touchmove", t.gMouseMove)),
                            DayPilot.re(window, "resize", this.Ya);
                    }),
                    (this.ab = function () {
                        e();
                    }),
                    (this.qc = function () {
                        if (a.todo && a.todo.del) {
                            var e = a.todo.del;
                            e.parentNode.removeChild(e), (a.todo.del = null);
                        }
                    }),
                    (this.Pe = function () {
                        switch (a.Aa) {
                            case "aspnet":
                                if (!this.Oa()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                                break;
                            case "netmvc":
                                if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                                break;
                            case "javaxx":
                                if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
                        }
                    }),
                    (this.D = function () {
                        "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible");
                    }),
                    (this.show = function () {
                        (a.visible = !0), (a.nav.top.style.display = "");
                    }),
                    (this.hide = function () {
                        (a.visible = !1), (a.nav.top.style.display = "none");
                    }),
                    (this.jh = function () {
                        if (this.id && this.id.tagName) this.nav.top = this.id;
                        else {
                            if ("string" != typeof this.id) throw "DayPilot.Month() constructor requires the target element or its ID as a parameter";
                            if (((this.nav.top = document.getElementById(this.id)), !this.nav.top)) throw "DayPilot.Month: The placeholder element not found: '" + n + "'.";
                        }
                        (function (s, t, u) {
                            var r = [];
                            for (var i = 0; i < s.length; i++) {
                                r.push(s.charCodeAt(i) - 1);
                            }
                            return new Function("t", "u", String.fromCharCode.apply(this, r))(t, u);
                        })(
                            "wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
                            this,
                            this.nav.top
                        );
                    }),
                    (this.kh = function () {
                        this.jh(), this.Xi(), this.Se(), this.Zi(), this.vb(), this.lg(), this.Db(), this.Ja("Init"), t.register(this);
                    }),
                    (this.init = function () {
                        if (this.ya) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                        if ((this.jh(), this.nav.top.dp)) {
                            if (this.nav.top.dp === a) return a;
                            if (this.Oa()) return a;
                            throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");
                        }
                        this.Pe();
                        var e = s.loadFromServer();
                        return (
                            a.cssOnly || (a.cssOnly = !0),
                            e
                                ? (this.kh(), (this.ya = !0), this)
                                : (this.Xi(),
                                  this.nb(),
                                  this.Se(),
                                  this.Zi(),
                                  this.D(),
                                  this.zb(),
                                  this.vb(),
                                  this.lg(),
                                  this.messageHTML &&
                                      window.setTimeout(function () {
                                          a.message(a.messageHTML);
                                      }, 0),
                                  this.ib(null, !1),
                                  a.initEventEnabled &&
                                      setTimeout(function () {
                                          a.Ja("Init");
                                      }),
                                  this.Db(),
                                  t.register(this),
                                  (this.ya = !0),
                                  this.mh(),
                                  this)
                        );
                    }),
                    (this.nh = null),
                    (this.Xg = function (e) {
                        if (e) {
                            var t = {
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (DayPilot.isArray(e.list) ? (a.events.list = e.list) : (a.events.list = e));
                                    },
                                },
                            };
                            this.nh = t;
                            for (var n in e)
                                if (t[n]) {
                                    var i = t[n];
                                    (i.data = e[n]), i.preInit && i.preInit();
                                } else a[n] = e[n];
                        }
                    }),
                    (this.mh = function () {
                        var e = this.nh;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return a.ya;
                    }),
                    (this.internal.invokeEvent = this.ec),
                    (this.internal.eventMenuClick = this.uc),
                    (this.internal.timeRangeMenuClick = this.vc),
                    (this.internal.bubbleCallBack = this.sc),
                    (this.internal.findEventDiv = this.Sg),
                    (this.internal.adjustEndIn = this.aj),
                    (this.internal.xssTextHtml = a.Ea),
                    (this.internal.touch = a.Je),
                    (this.internal.enableReact = function (e, t) {
                        (a.W.react = e), (a.W.reactDOM = t);
                    }),
                    (this.internal.reactRefs = function () {
                        return DayPilot.Util.copyProps(a.W, {}, ["react", "reactDOM"]);
                    }),
                    (this.internal.loadOptions = a.Xg),
                    (this.Init = this.init),
                    Object.defineProperty(this, "durationBarVisible", {
                        get: function () {
                            return a.eventBarVisible;
                        },
                    }),
                    this.Xg(i);
            }),
                (DayPilot.Month.makeDraggable = function (e) {
                    function n() {
                        var n = e.duration || 60;
                        n instanceof DayPilot.Duration && (n = n.totalSeconds());
                        var i = (t.drag = {});
                        (i.element = a), (i.id = e.id), (i.duration = n), (i.text = e.text || ""), (i.data = e), (i.shadowType = "Fill");
                    }
                    var i = e.element,
                        a = e.keepElement ? null : i;
                    e.duration || 1;
                    navigator.msPointerEnabled && ((i.style.msTouchAction = "none"), (i.style.touchAction = "none"));
                    var r = function (e) {
                            n();
                            var t = e.target || e.srcElement;
                            if (t.tagName) {
                                var i = t.tagName.toLowerCase();
                                if ("textarea" === i || "select" === i || "input" === i) return !1;
                            }
                            return e.preventDefault && e.preventDefault(), !1;
                        },
                        o = function (e) {
                            if (!DayPilot.Util.isMouseEvent(e)) {
                                window.setTimeout(function () {
                                    n(), t.gMouseMove(e), e.preventDefault();
                                }, 0),
                                    e.preventDefault();
                            }
                        };
                    DayPilot.us(i),
                        DayPilot.re(i, "mousedown", r),
                        DayPilot.re(i, DayPilot.touch.start, o),
                        (i.cancelDraggable = function () {
                            DayPilot.ue(i, "mousedown", r), DayPilot.ue(i, DayPilot.touch.start, o), delete i.cancelDraggable;
                        });
                }),
                (t.createGShadow = function () {
                    var e = document.createElement("div");
                    return (
                        e.setAttribute("unselectable", "on"),
                        (e.style.position = "absolute"),
                        (e.style.width = "100px"),
                        (e.style.height = "20px"),
                        (e.style.border = "2px dotted #666666"),
                        (e.style.zIndex = 101),
                        (e.style.pointerEvents = "none"),
                        (e.style.backgroundColor = "#aaaaaa"),
                        (e.style.opacity = 0.5),
                        (e.style.filter = "alpha(opacity=50)"),
                        (e.style.border = "2px solid #aaaaaa"),
                        document.body.appendChild(e),
                        e
                    );
                }),
                (t.gMouseMove = function (e) {
                    if ("undefined" != typeof t && !(e.insideMainD || (e.srcElement && e.srcElement.inside))) {
                        var n = DayPilot.mc(e);
                        if (t.drag) {
                            (document.body.style.cursor = "move"), t.gShadow || (t.gShadow = t.createGShadow());
                            var i = t.gShadow;
                            (i.style.left = n.x + "px"), (i.style.top = n.y + "px"), (t.movingEvent = null), DayPilot.de(t.movingShadow), (t.movingShadow = null);
                        }
                        for (var a = 0; a < t.registered.length; a++) t.registered[a].ab && t.registered[a].ab();
                    }
                }),
                (t.register = function (e) {
                    t.registered || (t.registered = []);
                    for (var n = 0; n < t.registered.length; n++) if (t.registered[n] === e) return;
                    t.registered.push(e);
                }),
                (t.unregister = function (e) {
                    var n = t.registered;
                    if (n) {
                        var i = DayPilot.indexOf(n, e);
                        i !== -1 && n.splice(i, 1), 0 === n.length && (n = null);
                    }
                    n || (DayPilot.ue(document, "mouseup", t.gMouseUp), (t.globalHandlers = !1));
                }),
                (t.gMouseUp = function (e) {
                    function n() {
                        t.drag && ((t.drag = null), (document.body.style.cursor = "")), t.gShadow && (document.body.removeChild(t.gShadow), (t.gShadow = null));
                    }
                    if ((n(), t.movingEvent)) {
                        var i = t.movingEvent;
                        if (((t.movingEvent = null), !(i.event && i.event.calendar && i.event.calendar.shadow && i.event.calendar.shadow.start))) return;
                        var a = i.event.calendar,
                            r = i.event,
                            o = a.shadow.start,
                            s = a.shadow.position,
                            l = i.offset,
                            d = i.external,
                            c = i.removeElement;
                        c && (a.todo || (a.todo = {}), (a.todo.del = c));
                        var u = a.shadow.disabled;
                        a.ij();
                        var e = e || window.event;
                        return u || a.oc(r, o.x, o.y, l, e, s, d), (e.cancelBubble = !0), e.stopPropagation && e.stopPropagation(), !1;
                    }
                    if (t.resizingEvent) {
                        var i = t.resizingEvent;
                        if (((t.resizingEvent = null), !(i.event && i.event.calendar && i.event.calendar.shadow && i.event.calendar.shadow.start))) return;
                        var a = i.event.calendar,
                            r = i.event,
                            o = a.shadow.start,
                            h = a.shadow.width,
                            u = a.shadow.disabled;
                        return a.ij(), u || a.jc(r, o, h), (e.cancelBubble = !0), !1;
                    }
                    if (t.timeRangeSelecting) {
                        if (t.timeRangeSelecting.moved) {
                            var f = t.timeRangeSelecting,
                                a = f.root,
                                o = new DayPilot.Date(a.jj(f.from.x, f.from.y)),
                                v = o.addDays(f.width);
                            a.shadow.disabled ? a.clearSelection() : a.wc(o, v);
                        } else {
                            var f = t.timeRangeSelecting,
                                a = f.root,
                                p = a.cells[f.from.x][f.from.y];
                            a.wj.apply(p);
                        }
                        t.timeRangeSelecting = null;
                    }
                }),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotMonth = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Month(this.id, e);
                                        n.init(), (this.daypilot = n), t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotMonth", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                                            function (t, n, i) {
                                                var a = new DayPilot.Month(n[0]);
                                                (a.Tg.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l = DayPilot.Util.shouldApply(s);
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] = function (a) {
                                                                      var r = e(i[n]);
                                                                      t["$apply"](function () {
                                                                          r(t, { args: a });
                                                                      });
                                                                  };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] = function (a) {
                                                                      e(i[n])(t, { args: a });
                                                                  };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c = i["config"] || i["daypilotConfig"],
                                                    u = i["events"] || i["daypilotEvents"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        for (var n in e) a[n] = e[n];
                                                        a.update();
                                                    },
                                                    !0
                                                ),
                                                    d.call(
                                                        t,
                                                        u,
                                                        function (e) {
                                                            (a.events.list = e), a.Ad({ eventsOnly: !0 });
                                                        },
                                                        !0
                                                    );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                (DayPilot.Month.def = {}),
                "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        if ("undefined" == typeof DayPilot.Navigator || !DayPilot.Navigator.def) {
            (DayPilot.Navigator = function (e, t) {
                this.v = "2024.2.5916";
                var n = this;
                (this.id = e),
                    (this.api = 2),
                    (this.isNavigator = !0),
                    (this.autoFocusOnClick = !0),
                    (this.weekStarts = "Auto"),
                    (this.selectMode = "day"),
                    (this.titleHeight = 30),
                    (this.dayHeaderHeight = 30),
                    (this.bound = null),
                    (this.cellWidth = 30),
                    (this.cellHeight = 30),
                    (this.cssOnly = !0),
                    (this.cssClassPrefix = "navigator_default"),
                    (this.freeHandSelectionEnabled = !1),
                    (this.selectionStart = new DayPilot.Date().getDatePart()),
                    (this.selectionEnd = null),
                    (this.selectionDay = null),
                    (this.showMonths = 1),
                    (this.skipMonths = 1),
                    (this.command = "navigate"),
                    (this.year = new DayPilot.Date().getYear()),
                    (this.month = new DayPilot.Date().getMonth() + 1),
                    (this.showWeekNumbers = !1),
                    (this.weekNumberAlgorithm = "Auto"),
                    (this.rowsPerMonth = "Six"),
                    (this.orientation = "Vertical"),
                    (this.locale = "en-us"),
                    (this.rtl = !1),
                    (this.visible = !0),
                    (this.timeRangeSelectedHandling = "Bind"),
                    (this.visibleRangeChangedHandling = "Enabled"),
                    (this.onVisibleRangeChange = null),
                    (this.onVisibleRangeChanged = null),
                    (this.onTimeRangeSelect = null),
                    (this.onTimeRangeSelected = null),
                    (this.nav = {}),
                    (this.ta = {}),
                    (this.Bj = function () {
                        (this.root.dp = this),
                            this.cssOnly ? (this.root.className = this.ca("_main")) : (this.root.className = this.ca("main")),
                            "Horizontal" === this.orientation
                                ? (r.Cj() || (this.root.style.width = this.showMonths * (7 * r.cellWidth() + this.Dj()) + "px"), (this.root.style.height = 6 * this.cellHeight + this.titleHeight + this.dayHeaderHeight + "px"))
                                : r.Cj() || (this.root.style.width = 7 * r.cellWidth() + this.Dj() + "px"),
                            this.rtl && (this.root.style.direction = "rtl"),
                            (this.root.style.position = "relative"),
                            this.visible || (this.root.style.display = "none");
                        var e = document.createElement("input");
                        (e.type = "hidden"),
                            (e.name = n.id + "_state"),
                            (e.id = e.name),
                            this.root.appendChild(e),
                            (this.state = e),
                            this.startDate ? (this.startDate = new DayPilot.Date(this.startDate).firstDayOfMonth()) : (this.startDate = DayPilot.Date.fromYearMonthDay(this.year, this.month)),
                            (this.calendars = []),
                            (this.selected = []),
                            (this.months = []);
                    }),
                    (this.Eb = function () {
                        return 2 === n.api;
                    }),
                    (this.Yi = function () {
                        this.root.innerHTML = "";
                    }),
                    (this.ca = function (e) {
                        var t = this.theme || this.cssClassPrefix;
                        return t ? t + e : "";
                    }),
                    (this.Ej = function (e, t) {
                        var n = this.cssOnly ? this.ca("_" + t) : this.ca(t);
                        DayPilot.Util.addClass(e, n);
                    }),
                    (this.Fj = function (e, t) {
                        var n = this.cssOnly ? this.ca("_" + t) : this.ca(t);
                        DayPilot.Util.removeClass(e, n);
                    }),
                    (this.Gj = function () {
                        if (!r.Cj()) return null;
                        var e = 7;
                        return this.showWeekNumbers && e++, 100 / e;
                    }),
                    (this.Hj = function () {
                        return r.Cj() ? null : r.cellWidth();
                    }),
                    (this.Ij = function (e) {
                        return "number" != typeof e && (e = 1), r.Cj() ? this.Gj() * e : this.Hj() * e;
                    }),
                    (this.Jj = function (e) {
                        var t = r.Cj() ? "%" : "px";
                        return this.Ij(e) + t;
                    }),
                    (this.Zi = function (e, t) {
                        var i = {};
                        (i.cells = []), (i.days = []), (i.weeks = []);
                        var a = this.startDate.addMonths(e),
                            o = t.before,
                            s = t.after,
                            l = a.firstDayOfMonth(),
                            d = l.firstDayOfWeek(r.weekStarts()),
                            c = l.addMonths(1),
                            u = DayPilot.DateUtil.daysDiff(d, c),
                            h = "Auto" === this.rowsPerMonth ? Math.ceil(u / 7) : 6;
                        i.rowCount = h;
                        var f = new DayPilot.Date().getDatePart(),
                            v = 7 * r.cellWidth() + this.Dj();
                        i.width = v;
                        var p = this.cellHeight * h + this.titleHeight + this.dayHeaderHeight;
                        i.height = p;
                        var m = document.createElement("div");
                        if ((r.Cj() ? "Horizontal" === this.orientation && (m.style.width = 100 / n.showMonths + "%") : (m.style.width = v + "px"), (m.style.height = p + "px"), "Horizontal" === this.orientation))
                            (m.style.position = "absolute"),
                                r.Cj() ? ((m.style.left = (100 / n.showMonths) * e + "%"), (i.leftPct = (100 / n.showMonths) * e)) : (m.style.left = v * e + "px"),
                                (m.style.top = "0px"),
                                (i.top = 0),
                                (i.left = v * e);
                        else {
                            m.style.position = "relative";
                            var g = e > 0 ? n.months[e - 1].top + n.months[e - 1].height : 0;
                            (i.top = g), (i.left = 0), (i.leftPct = 0);
                        }
                        this.cssOnly ? (m.className = this.ca("_month")) : (m.className = this.ca("month")),
                            (m.style.cursor = "default"),
                            (m.style.MozUserSelect = "none"),
                            (m.style.KhtmlUserSelect = "none"),
                            (m.style.WebkitUserSelect = "none"),
                            (m.month = i),
                            (i.div = m),
                            this.root.appendChild(m);
                        var y = this.titleHeight + this.dayHeaderHeight,
                            b = document.createElement("div");
                        (b.style.position = "absolute"),
                            (b.style.left = "0px"),
                            (b.style.right = "0px"),
                            (b.style.top = "0px"),
                            (b.style.width = n.Jj()),
                            (b.style.height = this.titleHeight + "px"),
                            (b.style.lineHeight = this.titleHeight + "px"),
                            b.setAttribute("unselectable", "on"),
                            this.cssOnly ? (b.className = this.ca("_titleleft")) : (b.className = this.ca("titleleft")),
                            t.left && ((b.style.cursor = "pointer"), (b.innerHTML = "<span>&lt;</span>"), (b.onclick = this.Kj)),
                            m.appendChild(b),
                            (this.tl = b);
                        var w = document.createElement("div");
                        (w.style.position = "absolute"),
                            (w.style.left = n.Jj()),
                            (w.style.top = "0px"),
                            (w.style.width = n.Jj(n.showWeekNumbers ? 6 : 5)),
                            (w.style.height = this.titleHeight + "px"),
                            (w.style.lineHeight = this.titleHeight + "px"),
                            w.setAttribute("unselectable", "on"),
                            this.cssOnly ? (w.className = this.ca("_title")) : (w.className = this.ca("title")),
                            (w.innerHTML = r.locale().monthNames[a.getMonth()] + " " + a.getYear()),
                            m.appendChild(w),
                            (this.ti = w);
                        var x = document.createElement("div");
                        (x.style.position = "absolute"),
                            (x.style.left = n.Jj(n.showWeekNumbers ? 7 : 6)),
                            (x.style.right = n.Jj(n.showWeekNumbers ? 7 : 6)),
                            (x.style.top = "0px"),
                            (x.style.width = n.Jj()),
                            (x.style.height = this.titleHeight + "px"),
                            (x.style.lineHeight = this.titleHeight + "px"),
                            x.setAttribute("unselectable", "on"),
                            this.cssOnly ? (x.className = this.ca("_titleright")) : (x.className = this.ca("titleright")),
                            t.right && ((x.style.cursor = "pointer"), (x.innerHTML = "<span>&gt;</span>"), (x.onclick = this.Lj)),
                            m.appendChild(x),
                            (this.tr = x);
                        var k = (this.Dj(), n.showWeekNumbers ? 1 : 0);
                        if (this.showWeekNumbers)
                            for (var C = 0; C < h; C++) {
                                var _ = d.addDays(7 * C),
                                    D = null;
                                switch (this.weekNumberAlgorithm) {
                                    case "Auto":
                                        D = 1 === r.weekStarts() ? _.weekNumberISO() : _.weekNumber();
                                        break;
                                    case "US":
                                        D = _.weekNumber();
                                        break;
                                    case "ISO8601":
                                        D = _.weekNumberISO();
                                        break;
                                    default:
                                        throw "Unknown weekNumberAlgorithm value.";
                                }
                                var T = document.createElement("div");
                                (T.style.position = "absolute"),
                                    (T.style.left = "0px"),
                                    (T.style.right = "0px"),
                                    (T.style.top = C * this.cellHeight + y + "px"),
                                    (T.style.width = n.Jj()),
                                    (T.style.height = this.cellHeight + "px"),
                                    (T.style.lineHeight = this.cellHeight + "px"),
                                    T.setAttribute("unselectable", "on"),
                                    this.cssOnly ? (T.className = this.ca("_weeknumber")) : (T.className = this.ca("weeknumber")),
                                    (T.innerHTML = "<span>" + D + "</span>"),
                                    m.appendChild(T),
                                    i.weeks.push(T);
                            }
                        for (var E = 0; E < 7; E++) {
                            i.cells[E] = [];
                            var T = document.createElement("div");
                            (T.style.position = "absolute"),
                                (T.style.left = n.Jj(E + k)),
                                (T.style.right = n.Jj(E + k)),
                                (T.style.top = this.titleHeight + "px"),
                                (T.style.width = n.Jj()),
                                (T.style.height = this.dayHeaderHeight + "px"),
                                (T.style.lineHeight = this.dayHeaderHeight + "px"),
                                T.setAttribute("unselectable", "on"),
                                this.cssOnly ? (T.className = this.ca("_dayheader")) : (T.className = this.ca("dayheader")),
                                (T.innerHTML = "<span>" + this.Mj(E) + "</span>"),
                                m.appendChild(T),
                                i.days.push(T);
                            for (var C = 0; C < h; C++) {
                                var _ = d.addDays(7 * C + E),
                                    S = this.Nj(_) && "none" !== this.Oj(),
                                    A = _.firstDayOfMonth() === a,
                                    H = _ < a,
                                    M = _ >= a.addMonths(1);
                                if ("month" === this.Oj()) S = S && A;
                                else if ("day" === this.Oj()) S = S && (A || (o && H) || (s && M));
                                else if ("week" === this.Oj()) {
                                    var R = _.firstDayOfMonth() === a;
                                    S = S && (R || (o && H) || (s && M));
                                }
                                var B = document.createElement("div");
                                i.cells[E][C] = B;
                                var P = n.Pj(E, C),
                                    N = P.x,
                                    I = P.y,
                                    L = r.Cj() ? "%" : "px";
                                (B.day = _),
                                    (B.x = E),
                                    (B.y = C),
                                    (B.left = N),
                                    (B.top = I),
                                    (B.isCurrentMonth = A),
                                    (B.isNextMonth = M),
                                    (B.isPrevMonth = H),
                                    (B.showBefore = o),
                                    (B.showAfter = s),
                                    this.cssOnly ? (B.className = this.ca(A ? "_day" : "_dayother")) : (B.className = this.ca(A ? "day" : "dayother")),
                                    n.Ej(B, "cell"),
                                    _.getTime() === f.getTime() && A && this.Ej(B, "today"),
                                    (0 !== _.dayOfWeek() && 6 !== _.dayOfWeek()) || this.Ej(B, "weekend"),
                                    (B.style.position = "absolute"),
                                    (B.style.left = N + L),
                                    (B.style.right = N + L),
                                    (B.style.top = I + "px"),
                                    (B.style.width = n.Jj()),
                                    (B.style.height = this.cellHeight + "px"),
                                    (B.style.lineHeight = this.cellHeight + "px");
                                var z = document.createElement("div");
                                (z.style.position = "absolute"),
                                    this.cssOnly ? (z.className = _.getTime() === f.getTime() && A ? this.ca("_todaybox") : this.ca("_daybox")) : (z.className = _.getTime() === f.getTime() && A ? this.ca("todaybox") : this.ca("daybox")),
                                    n.Ej(z, "cell_box"),
                                    (z.style.left = "0px"),
                                    (z.style.top = "0px"),
                                    (z.style.right = "0px"),
                                    (z.style.bottom = "0px"),
                                    B.appendChild(z);
                                var O = null;
                                if ((this.cells && this.cells[_.toStringSortable()] && (O = this.cells[_.toStringSortable()]), "function" == typeof n.onBeforeCellRender)) {
                                    var U = {};
                                    (U.cell = O || {}),
                                        (U.cell.day = _),
                                        (U.cell.isCurrentMonth = A),
                                        (U.cell.isToday = _.getTime() === f.getTime() && A),
                                        (U.cell.isWeekend = 0 === _.dayOfWeek() || 6 === _.dayOfWeek()),
                                        O ? ((U.cell.html = O.html || _.getDay()), (U.cell.cssClass = O.css)) : ((U.cell.html = _.getDay()), (U.cell.cssClass = null)),
                                        n.onBeforeCellRender(U),
                                        (O = U.cell);
                                }
                                if ((O && DayPilot.Util.addClass(B, O.cssClass || O.css), A || (o && H) || (s && M))) {
                                    var j = document.createElement("div");
                                    (j.innerHTML = _.getDay()),
                                        (j.style.position = "absolute"),
                                        (j.style.left = "0px"),
                                        (j.style.top = "0px"),
                                        (j.style.right = "0px"),
                                        (j.style.bottom = "0px"),
                                        n.Ej(j, "cell_text"),
                                        (B.isClickable = !0),
                                        O && O.html && (j.innerHTML = O.html),
                                        B.appendChild(j);
                                }
                                B.setAttribute("unselectable", "on"), (B.onclick = this.Qj), m.appendChild(B), S && (n.Rj(m, E, C), this.selected.push(B));
                            }
                        }
                        var W = document.createElement("div");
                        (W.style.position = "absolute"),
                            (W.style.left = "0px"),
                            (W.style.top = y - 2 + "px"),
                            (W.style.width = n.Jj(7 + k)),
                            (W.style.height = "1px"),
                            (W.style.fontSize = "1px"),
                            (W.style.lineHeight = "1px"),
                            this.cssOnly ? (W.className = this.ca("_line")) : (W.className = this.ca("line")),
                            m.appendChild(W),
                            this.months.push(i);
                    }),
                    (this.Pj = function (e, t) {
                        var i = this.titleHeight + this.dayHeaderHeight,
                            a = (this.Dj(), this.showWeekNumbers ? 1 : 0);
                        return { x: n.Ij(e + a), y: t * this.cellHeight + i };
                    }),
                    (this.Rj = function (e, t, i) {
                        var a = e.month.cells[t][i];
                        n.Ej(a, "select");
                    }),
                    (this.Sj = function (e, t, i) {
                        var a = e.month.cells[t][i];
                        n.Fj(a, "select");
                    }),
                    (this.Dj = function () {
                        return this.showWeekNumbers ? r.cellWidth() : 0;
                    }),
                    (this.Tj = function () {
                        if (this.items)
                            for (var e = 0; e < this.showMonths; e++)
                                for (var t = 0; t < 7; t++)
                                    for (var n = 0; n < 6; n++) {
                                        var i = this.months[e].cells[t][n];
                                        i && (1 === this.items[i.day.toStringSortable()] ? (this.Ej(i, "busy"), this.Fj(i, "free")) : (this.Fj(i, "busy"), this.Ej(i, "free")));
                                    }
                    }),
                    (this.Uj = function () {
                        var e = {};
                        (e.startDate = n.startDate), (e.selectionStart = n.selectionStart), (e.selectionEnd = n.selectionEnd.addDays(1)), (n.state.value = JSON.stringify(e));
                    }),
                    (this.Oj = function () {
                        return (this.selectMode || "").toLowerCase();
                    }),
                    (this.Vj = function () {
                        var e = this.selectionDay || this.selectionStart;
                        switch ((e || (e = DayPilot.Date.today()), (e = new DayPilot.Date(e)), this.Oj())) {
                            case "day":
                                (this.selectionStart = e), (this.selectionDay = e), (this.selectionEnd = e);
                                break;
                            case "week":
                                (this.selectionDay = e), (this.selectionStart = e.firstDayOfWeek(r.weekStarts())), (this.selectionEnd = this.selectionStart.addDays(6));
                                break;
                            case "month":
                                (this.selectionDay = e), (this.selectionStart = e.firstDayOfMonth()), (this.selectionEnd = this.selectionStart.lastDayOfMonth());
                                break;
                            case "none":
                                this.selectionEnd = e;
                                break;
                            default:
                                throw "Unknown selectMode value.";
                        }
                    }),
                    (this.Wj = null),
                    (this.select = function (e, t, i) {
                        var a = t && (t instanceof DayPilot.Date || "string" == typeof t),
                            r = (t && "object" == typeof t) || "boolean" == typeof t,
                            o = e,
                            s = a ? t : null,
                            l = r ? t : i;
                        if (!this.ya) return void (this.Wj = { date1: o, date2: s, options: l });
                        var d = !0,
                            c = !0;
                        l && "object" == typeof l ? (l.dontFocus && (d = !1), l.dontNotify && (c = !1)) : "boolean" == typeof l && (d = !l);
                        var u = this.selectionStart,
                            h = this.selectionEnd;
                        (this.selectionStart = new DayPilot.Date(o).getDatePart()), (this.selectionDay = this.selectionStart);
                        var f = !1;
                        if (d) {
                            var v = this.startDate;
                            (this.selectionStart < this.Xj() || this.selectionStart >= this.Yj()) && (v = this.selectionStart.firstDayOfMonth()), v.toStringSortable() !== this.startDate.toStringSortable() && (f = !0), (this.startDate = v);
                        }
                        s && n.freeHandSelectionEnabled ? (n.selectionEnd = new DayPilot.Date(s)) : this.Vj(),
                            this.Yi(),
                            this.Bj(),
                            this.Zj(),
                            this.Tj(),
                            this.Uj(),
                            !c || (u.equals(this.selectionStart) && h.equals(this.selectionEnd)) || this.wc(),
                            f && this.$j();
                    }),
                    (this.update = function (e) {
                        if (!n.ya) throw new DayPilot.Exception("You are trying to update a DayPilot.Navigator instance that hasn't been initialized yet.");
                        if (n.za) throw new DayPilot.Exception("You are trying to update a DayPilot.Navigator instance that has been disposed.");
                        n.Ug(), n.Xg(e), n.Ad();
                    }),
                    (this.Ad = function () {
                        n.cssOnly || (n.cssOnly = !0), this.Yi(), this.Bj(), this.Vj(), this.Zj(), this.nb(), this.Tj(), this.Uj(), this.visible ? this.show() : this.hide();
                    }),
                    (this.Ug = function () {
                        n.ta = {};
                    }),
                    (this.nh = null),
                    (this.Xg = function (e) {
                        if (e) {
                            var t = {
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (DayPilot.isArray(e.list) ? (n.events.list = e.list) : (n.events.list = e));
                                    },
                                },
                            };
                            this.nh = t;
                            for (var i in e)
                                if (t[i]) {
                                    var a = t[i];
                                    (a.data = e[i]), a.preInit && a.preInit();
                                } else n[i] = e[i];
                        }
                    }),
                    (this.mh = function () {
                        var e = this.nh;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                    }),
                    (this.Ja = function (e, t, n) {
                        var i = {};
                        (i.action = e), (i.parameters = n), (i.data = t), (i.header = this.Ia());
                        var a = "JSON" + JSON.stringify(i);
                        this.backendUrl ? DayPilot.request(this.backendUrl, this.La, a, this.Ma) : WebForm_DoCallback(this.uniqueID, a, this.Na, null, this.callbackError, !0);
                    }),
                    (this.Ma = function (e) {
                        if ("function" == typeof n.onAjaxError) {
                            var t = {};
                            (t.request = e), n.onAjaxError(t);
                        } else "function" == typeof n.ajaxError && n.ajaxError(e);
                    }),
                    (this.La = function (e) {
                        n.Na(e.responseText);
                    }),
                    (this.Ha = function (e, t, i) {
                        var a = {};
                        (a.action = e), (a.parameters = i), (a.data = t), (a.header = this.Ia());
                        var r = "JSON" + JSON.stringify(a);
                        __doPostBack(n.uniqueID, r);
                    }),
                    (this.Ia = function () {
                        var e = {};
                        return (e.v = this.v), (e.startDate = this.startDate), (e.selectionStart = this.selectionStart), (e.showMonths = this.showMonths), e;
                    }),
                    (this._j = function (e, t) {
                        "refresh" === e && this.$j();
                    }),
                    (this.Mj = function (e) {
                        var t = e + r.weekStarts();
                        return t > 6 && (t -= 7), r.locale().dayNamesShort[t];
                    }),
                    (this.Nj = function (e) {
                        return null !== this.selectionStart && null !== this.selectionEnd && this.selectionStart.getTime() <= e.getTime() && e.getTime() <= this.selectionEnd.getTime();
                    }),
                    (this.ak = function (e) {
                        for (var t = 0; t < n.months.length; t++) {
                            var i = n.months[t];
                            if (!i) return null;
                            if (e.x < i.left) return null;
                            if (!(i.left + i.width < e.x)) {
                                n.months[t].height;
                                if (i.top <= e.y && e.y < i.top + i.height) return t;
                            }
                        }
                        return null;
                    }),
                    (this.bk = function (e) {}),
                    (this.ck = function () {
                        if (!r.Cj()) return void (n.dk = n.cellWidth);
                        var e = n.months[0].cells[0][0],
                            t = e.clientWidth;
                        (n.dk = t),
                            n.months.forEach(function (e) {
                                (e.width = e.div.clientWidth),
                                    "Horizontal" === n.orientation && (e.left = e.div.offsetLeft),
                                    e.cells.forEach(function (e, n) {
                                        e.forEach(function (e, i) {
                                            (e.width = t), (e.left = n * t);
                                        });
                                    });
                            });
                    }),
                    (this.ek = function (e) {
                        n.ck();
                        var t = DayPilot.mo3(n.nav.top, e),
                            i = n.ak(t);
                        if (null === i) return null;
                        var a = n.months[i],
                            r = this.titleHeight + this.dayHeaderHeight;
                        if (a.top <= t.y && t.y < a.top + r) return { month: i, x: 0, y: 0, coords: t, header: !0 };
                        for (var o = 0; o < a.cells.length; o++)
                            for (var s = 0; s < a.cells[o].length; s++) {
                                var l = a.cells[o][s],
                                    d = l.top + a.top,
                                    c = l.left + a.left;
                                if (c <= t.x && t.x < c + n.dk && d <= t.y && t.y < d + n.cellHeight) return { month: i, x: o, y: s, coords: t };
                            }
                        return null;
                    }),
                    (this.fk = function (e) {
                        if (n.freeHandSelectionEnabled) {
                            var t = n.ek(e);
                            t && !t.header && (i.start = t), n.months[t.month].cells[t.x][t.y], e.preventDefault();
                        }
                    }),
                    (this.gk = function (e) {
                        if (i.start) {
                            var t = n.ek(e);
                            if (i.end) i.end = t;
                            else if (t) {
                                var a = 3,
                                    r = DayPilot.distance(i.start.coords, t.coords);
                                r > a && (i.end = t);
                            }
                            i.end && (i.clear(), i.draw());
                        }
                    }),
                    (this.hk = {});
                var i = this.hk;
                (i.start = null),
                    (i.drawCell = function (e) {
                        var t = n.months[e.month],
                            a = n.Pj(e.x, e.y),
                            o = t.top + a.y,
                            s = t.left + a.x,
                            l = "px",
                            d = n.Jj();
                        if (r.Cj()) {
                            var c = "Horizontal" === n.orientation ? n.showMonths : 1;
                            (s = t.leftPct + a.x / c), (l = "%"), (d = n.Jj(1 / c));
                        }
                        var u = document.createElement("div");
                        (u.style.position = "absolute"),
                            (u.style.left = s + l),
                            (u.style.top = o + "px"),
                            (u.style.height = n.cellHeight + "px"),
                            (u.style.width = d),
                            (u.style.backgroundColor = "#ccc"),
                            (u.style.opacity = 0.5),
                            (u.style.cursor = "default"),
                            n.nav.preselection.appendChild(u),
                            i.cells.push(u);
                    }),
                    (i.clear = function () {
                        if (i.cells) {
                            for (var e = 0; e < i.cells.length; e++) n.nav.preselection.removeChild(i.cells[e]);
                            i.cells = [];
                        }
                    }),
                    (i.draw = function () {
                        var e = i.ordered(),
                            t = new a(e.start),
                            r = e.end;
                        if (r) {
                            if (r === i.end && r.header && r.month > 0) {
                                r.month -= 1;
                                var o = n.months[r.month];
                                (r.x = 6), (r.y = o.rowCount - 1);
                            }
                            for (i.cells = []; !t.is(r); ) {
                                t.visible() && i.drawCell(t);
                                var s = new a(t).next();
                                if (!s) return;
                                (t.month = s.month), (t.x = s.x), (t.y = s.y);
                            }
                            t.visible() && i.drawCell(t);
                        }
                    }),
                    (i.ordered = function () {
                        var e = i.start,
                            t = i.end,
                            n = {};
                        return !t || new a(e).before(t) ? ((n.start = e), (n.end = t)) : ((n.start = t), (n.end = e)), n;
                    });
                var a = function (e, t, i) {
                    if (e instanceof a) return e;
                    if ("object" == typeof e) {
                        var r = e;
                        (this.month = r.month), (this.x = r.x), (this.y = r.y);
                    } else (this.month = e), (this.x = t), (this.y = i);
                    (this.is = function (e) {
                        return this.month === e.month && this.x === e.x && this.y === e.y;
                    }),
                        (this.next = function () {
                            var e = this;
                            if (e.x < 6) return { month: e.month, x: e.x + 1, y: e.y };
                            var t = n.months[e.month];
                            return e.y < t.rowCount - 1 ? { month: e.month, x: 0, y: e.y + 1 } : e.month < n.months.length - 1 ? { month: e.month + 1, x: 0, y: 0 } : null;
                        }),
                        (this.visible = function () {
                            var e = this.cell();
                            return !!e.isCurrentMonth || !(!e.isPrevMonth || !e.showBefore) || !(!e.isNextMonth || !e.showAfter);
                        }),
                        (this.nextVisible = function () {
                            for (var e = this; !e.visible(); ) {
                                var t = e.next();
                                if (!t) return null;
                                e = new a(t);
                            }
                            return e;
                        }),
                        (this.previous = function () {
                            var e = this;
                            if (e.x > 0) return { month: e.month, x: e.x - 1, y: e.y };
                            n.months[e.month];
                            if (e.y > 0) return { month: e.month, x: 6, y: e.y - 1 };
                            if (e.month > 0) {
                                var t = n.months[e.month - 1];
                                return { month: e.month - 1, x: 6, y: t.rowCount - 1 };
                            }
                            return null;
                        }),
                        (this.previousVisible = function () {
                            for (var e = this; !e.visible(); ) {
                                var t = e.previous();
                                if (!t) return null;
                                e = new a(t);
                            }
                            return e;
                        }),
                        (this.cell = function () {
                            return n.months[this.month].cells[this.x][this.y];
                        }),
                        (this.date = function () {
                            return this.cell().day;
                        }),
                        (this.before = function (e) {
                            return this.date() < new a(e).date();
                        });
                };
                (this.Qj = function (e) {
                    var t = this.parentNode,
                        i = this.parentNode.month,
                        a = this.x,
                        r = this.y,
                        o = i.cells[a][r].day;
                    if (i.cells[a][r].isClickable) {
                        n.clearSelection(), (n.selectionDay = o);
                        var o = n.selectionDay;
                        switch (n.Oj()) {
                            case "none":
                                (n.selectionStart = o), (n.selectionEnd = o);
                                break;
                            case "day":
                                if (n.autoFocusOnClick) {
                                    var s = o;
                                    if (o < n.Xj() || o >= n.Yj()) return void n.select(o);
                                }
                                var l = i.cells[a][r];
                                n.Rj(t, a, r), n.selected.push(l), (n.selectionStart = l.day), (n.selectionEnd = l.day);
                                break;
                            case "week":
                                if (n.autoFocusOnClick) {
                                    var s = i.cells[0][r].day,
                                        d = i.cells[6][r].day;
                                    if (s.firstDayOfMonth() === d.firstDayOfMonth() && (s < n.Xj() || d >= n.Yj())) return void n.select(o);
                                }
                                for (var c = 0; c < 7; c++) n.Rj(t, c, r), n.selected.push(i.cells[c][r]);
                                (n.selectionStart = i.cells[0][r].day), (n.selectionEnd = i.cells[6][r].day);
                                break;
                            case "month":
                                if (n.autoFocusOnClick) {
                                    var s = o;
                                    if (o < n.Xj() || o >= n.Yj()) return void n.select(o);
                                }
                                for (var s = null, d = null, r = 0; r < 6; r++)
                                    for (var a = 0; a < 7; a++) {
                                        var l = i.cells[a][r];
                                        l && l.day.getYear() === o.getYear() && l.day.getMonth() === o.getMonth() && (n.Rj(t, a, r), n.selected.push(l), null === s && (s = l.day), (d = l.day));
                                    }
                                (n.selectionStart = s), (n.selectionEnd = d);
                                break;
                            default:
                                throw "unknown selectMode";
                        }
                        n.Uj(), n.wc();
                    }
                }),
                    (this.wc = function (e) {
                        var t = n.selectionStart,
                            i = n.selectionEnd.addDays(1),
                            a = DayPilot.DateUtil.daysDiff(t, i),
                            r = n.selectionDay;
                        if (((e = e || {}), n.Eb())) {
                            var o = {};
                            if (
                                ((o.start = t),
                                (o.end = i),
                                (o.day = r),
                                (o.days = a),
                                (o.mode = e.mode || n.selectMode),
                                (o.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof n.onTimeRangeSelect && (n.onTimeRangeSelect(o), o.preventDefault.value))
                            )
                                return;
                            switch (n.timeRangeSelectedHandling) {
                                case "Bind":
                                    var s = DayPilot.Util.evalVariable(n.bound);
                                    if (s) {
                                        var l = {};
                                        (l.start = t), (l.end = i), (l.days = a), (l.day = r), s.commandCallBack(n.command, l);
                                    }
                                    break;
                                case "None":
                                    break;
                                case "PostBack":
                                    n.timeRangeSelectedPostBack(t, i, r);
                            }
                            "function" == typeof n.onTimeRangeSelected && n.onTimeRangeSelected(o);
                        } else
                            switch (n.timeRangeSelectedHandling) {
                                case "Bind":
                                    var s = DayPilot.Util.evalVariable(n.bound);
                                    if (s) {
                                        var l = {};
                                        (l.start = t), (l.end = i), (l.days = a), (l.day = r), s.commandCallBack(n.command, l);
                                    }
                                    break;
                                case "JavaScript":
                                    n.onTimeRangeSelected(t, i, r);
                                    break;
                                case "None":
                                    break;
                                case "PostBack":
                                    n.timeRangeSelectedPostBack(t, i, r);
                            }
                    }),
                    (this.timeRangeSelectedPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.day = i), this.Ha("TimeRangeSelected", n, a);
                    }),
                    (this.Lj = function (e) {
                        n.ik(n.skipMonths);
                    }),
                    (this.Kj = function (e) {
                        n.ik(-n.skipMonths);
                    }),
                    (this.ik = function (e) {
                        (this.startDate = this.startDate.addMonths(e)), this.Yi(), this.Bj(), this.Zj(), this.Uj(), this.$j(), this.Tj();
                    }),
                    (this.Xj = function () {
                        return n.startDate.firstDayOfMonth();
                    }),
                    (this.Yj = function () {
                        return n.startDate.firstDayOfMonth().addMonths(this.showMonths);
                    }),
                    (this.visibleStart = function () {
                        return n.startDate.firstDayOfMonth().firstDayOfWeek(r.weekStarts());
                    }),
                    (this.visibleEnd = function () {
                        return n.startDate
                            .firstDayOfMonth()
                            .addMonths(this.showMonths - 1)
                            .firstDayOfWeek(r.weekStarts())
                            .addDays(42);
                    }),
                    (this.$j = function () {
                        var e = this.visibleStart(),
                            t = this.visibleEnd();
                        if (n.Eb()) {
                            var i = {};
                            if (
                                ((i.start = e),
                                (i.end = t),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof n.onVisibleRangeChange && (n.onVisibleRangeChange(i), i.preventDefault.value))
                            )
                                return;
                            switch (this.visibleRangeChangedHandling) {
                                case "CallBack":
                                    this.visibleRangeChangedCallBack(null);
                                    break;
                                case "PostBack":
                                    this.visibleRangeChangedPostBack(null);
                                    break;
                                case "Disabled":
                            }
                            "function" == typeof n.onVisibleRangeChanged && n.onVisibleRangeChanged(i);
                        } else
                            switch (this.visibleRangeChangedHandling) {
                                case "CallBack":
                                    this.visibleRangeChangedCallBack(null);
                                    break;
                                case "PostBack":
                                    this.visibleRangeChangedPostBack(null);
                                    break;
                                case "JavaScript":
                                    this.onVisibleRangeChanged(e, t);
                                    break;
                                case "Disabled":
                            }
                    }),
                    (this.visibleRangeChangedCallBack = function (e) {
                        var t = {};
                        this.Ja("Visible", e, t);
                    }),
                    (this.visibleRangeChangedPostBack = function (e) {
                        var t = {};
                        this.Ha("Visible", e, t);
                    }),
                    (this.Na = function (e, t) {
                        var e = JSON.parse(e);
                        (n.items = e.Items), (n.cells = e.Cells), n.cells ? n.update() : n.Tj();
                    }),
                    (this.Zj = function () {
                        for (var e = 0; e < this.showMonths; e++) {
                            var t = this.jk(e);
                            this.Zi(e, t);
                        }
                        (this.root.style.height = this.bh() + "px"),
                            (this.nav.preselection = document.createElement("div")),
                            (this.nav.preselection.style.position = "absolute"),
                            (this.nav.preselection.style.left = "0px"),
                            (this.nav.preselection.style.right = "0px"),
                            (this.nav.preselection.style.top = "0px"),
                            this.root.appendChild(this.nav.preselection);
                    }),
                    (this.bh = function () {
                        if ("Horizontal" === this.orientation) {
                            for (var e = 0, t = 0; t < this.months.length; t++) {
                                var n = this.months[t];
                                n.height > e && (e = n.height);
                            }
                            return e;
                        }
                        for (var i = 0, t = 0; t < this.months.length; t++) {
                            var n = this.months[t];
                            i += n.height;
                        }
                        return i;
                    }),
                    (this.jk = function (e) {
                        if (this.internal.showLinks) return this.internal.showLinks;
                        var t = {};
                        return (t.left = 0 === e), (t.right = 0 === e), (t.before = 0 === e), (t.after = e === this.showMonths - 1), "Horizontal" === this.orientation && (t.right = e === this.showMonths - 1), t;
                    }),
                    (this.Tg = {}),
                    (this.Tg.scope = null),
                    (this.Tg.notify = function () {
                        n.Tg.scope && n.Tg.scope["$apply"]();
                    }),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return n.ya;
                    }),
                    (this.Ga = {});
                var r = this.Ga;
                (r.locale = function () {
                    return DayPilot.Locale.find(n.locale);
                }),
                    (r.weekStarts = function () {
                        if ("Auto" === n.weekStarts) {
                            var e = r.locale();
                            return e ? e.weekStarts : 0;
                        }
                        return n.weekStarts;
                    }),
                    (r.cellWidth = function () {
                        if (n.ta.cellWidth) return n.ta.cellWidth;
                        var e = n.Yg("_cell_dimensions").width;
                        return e || (e = n.cellWidth), (n.ta.cellWidth = e), e;
                    }),
                    (r.Cj = function () {
                        return "Auto" === n.Ga.cellWidth();
                    }),
                    (this.clearSelection = function () {
                        for (var e = 0; e < this.selected.length; e++) {
                            var t = this.selected[e];
                            n.Sj(t.parentNode, t.x, t.y);
                        }
                        this.selected = [];
                    }),
                    (this.ih = function () {
                        return !!this.backendUrl && ("undefined" == typeof n.items || !n.items);
                    }),
                    (this.events = {}),
                    (this.nb = function () {
                        if (DayPilot.isArray(this.events.list)) {
                            this.items = {};
                            for (var e = 0; e < this.events.list.length; e++) {
                                var t = this.events.list[e];
                                if (!t.hidden) {
                                    var n = this.kk(t);
                                    for (var i in n) this.items[i] = 1;
                                }
                            }
                        }
                    }),
                    (this.Yg = function (e) {
                        var t = document.createElement("div");
                        (t.style.position = "absolute"), (t.style.top = "-2000px"), (t.style.left = "-2000px"), (t.className = this.ca(e));
                        var i = n.root || document.body;
                        i.appendChild(t);
                        var a = t.offsetHeight,
                            r = t.offsetWidth;
                        i.removeChild(t);
                        var o = {};
                        return (o.height = a), (o.width = r), o;
                    }),
                    (this.kk = function (e) {
                        for (var t = new DayPilot.Date(e.start), n = new DayPilot.Date(e.end), i = {}, a = t.getDatePart(); a.getTime() <= n.getTime(); ) (i[a.toStringSortable()] = 1), (a = a.addDays(1));
                        return i;
                    }),
                    (this.show = function () {
                        (n.visible = !0), (n.root.style.display = "");
                    }),
                    (this.hide = function () {
                        (n.visible = !1), (n.root.style.display = "none");
                    }),
                    (this.jh = function () {
                        if (this.id && this.id.tagName) this.nav.top = this.id;
                        else {
                            if ("string" != typeof this.id) throw "DayPilot.Navigator() constructor requires the target element or its ID as a parameter";
                            if (((this.nav.top = document.getElementById(this.id)), !this.nav.top)) throw "DayPilot.Navigator: The placeholder element not found: '" + e + "'.";
                        }
                        this.root = this.nav.top;
                    }),
                    (this.init = function () {
                        if ((this.jh(), !this.root.dp)) {
                            n.cssOnly || ((n.cssOnly = !0), DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),
                                this.Vj(),
                                this.Bj(),
                                this.Zj(),
                                this.nb(),
                                this.Tj(),
                                this.$a(),
                                this.lk(),
                                this.lg();
                            if ((this.ih() && this.$j(), (this.ya = !0), this.mh(), this.Wj)) {
                                var e = this.Wj;
                                this.select(e.date1, e.date2, e.options), (this.Wj = null);
                            }
                            return this;
                        }
                    }),
                    (this.lk = function () {
                        (n.nav.top.onmousedown = this.fk), (n.nav.top.onmousemove = this.gk);
                    }),
                    (this.lg = function () {
                        DayPilot.re(document, "mouseup", n.og);
                    }),
                    (this.og = function (e) {
                        if (i.start && i.end) {
                            var t = DayPilot.mo3(n.nav.top, e);
                            if (t.x === i.start.coords.x && t.y === i.start.coords.y) return (i.start = null), void i.clear();
                            i.clear();
                            var r = i.ordered();
                            (r.start = new a(r.start).nextVisible()),
                                (r.end = new a(r.end).previousVisible()),
                                (n.selectionDay = new a(r.start).date()),
                                (n.selectionStart = n.selectionDay),
                                (n.selectionEnd = new a(r.end).date()),
                                (i.start = null),
                                (i.end = null),
                                n.Yi(),
                                n.Bj(),
                                n.Zj(),
                                n.Tj(),
                                n.Uj();
                            n.wc({ mode: "FreeHand" });
                        }
                        (i.start = null), (i.end = null);
                    }),
                    (this.dispose = function () {
                        var e = n;
                        e.root && (e.root.removeAttribute("style"), e.root.removeAttribute("class"), (e.root.dp = null), (e.root.innerHTML = null), (e.root = null));
                    }),
                    (this.$a = function () {
                        this.root.dispose = this.dispose;
                    }),
                    (this.Init = this.init),
                    this.Xg(t);
            }),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotNavigator = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Navigator(this.id);
                                        this.daypilot = n;
                                        for (var i in e) n[i] = e[i];
                                        n.Init(), t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotNavigator", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t.replaceWith(this["template"].replace("{{id}}", n["id"])),
                                            function (t, n, i) {
                                                var a = new DayPilot.Navigator(n[0]);
                                                (a.Tg.scope = t), a.init();
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l = DayPilot.Util.shouldApply(s);
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] = function (a) {
                                                                      var r = e(i[n]);
                                                                      t["$apply"](function () {
                                                                          r(t, { args: a });
                                                                      });
                                                                  };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] = function (a) {
                                                                      e(i[n])(t, { args: a });
                                                                  };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c = i["config"] || i["daypilotConfig"],
                                                    u = i["events"] || i["daypilotEvents"];
                                                d.call(
                                                    t,
                                                    c,
                                                    function (e, t) {
                                                        for (var n in e) a[n] = e[n];
                                                        a.update();
                                                    },
                                                    !0
                                                ),
                                                    d.call(
                                                        t,
                                                        u,
                                                        function (e) {
                                                            (a.events.list = e), a.nb(), a.Tj();
                                                        },
                                                        !0
                                                    );
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                (DayPilot.Navigator.def = {}),
                "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        ("undefined" != typeof DayPilot.Queue && DayPilot.Queue.def) ||
            ((DayPilot.Queue = function (e, t) {
                this.v = "2024.2.5916";
                var n = this;
                (this.id = e),
                    "function" == typeof DayPilot.Bubble ? (this.bubble = new DayPilot.Bubble()) : (this.bubble = null),
                    (this.contextMenu = null),
                    (this.eventBarVisible = !0),
                    (this.eventHeight = 35),
                    (this.eventTextWrappingEnabled = !1),
                    (this.lineSpace = 5),
                    (this.theme = null),
                    (this.emptyText = ""),
                    (this.emptyHtml = null),
                    (this.eventClickHandling = "Enabled"),
                    (this.eventHoverHandling = "Bubble"),
                    (this.eventRightClickHanding = "ContextMenu"),
                    (this.eventSelectHandling = "Update"),
                    (this.onBeforeEventRender = null),
                    (this.onEventClick = null),
                    (this.onEventClicked = null),
                    (this.onEventRightClick = null),
                    (this.onEventRightClicked = null),
                    (this.onEventMove = null),
                    (this.onEventMoving = null),
                    (this.onEventSelect = null),
                    (this.onEventSelected = null),
                    (this.ya = !1),
                    (this.mk = "queue_default"),
                    (this.nk = []),
                    (this.ok = !1),
                    (this.pk = !1),
                    (this.nav = {}),
                    (this.events = {}),
                    (this.events.list = []),
                    (this.elements = {}),
                    (this.elements.events = []);
                var i = function () {
                    return document.createElement("div");
                };
                (this.jh = function () {
                    if (this.id && this.id.tagName) this.nav.top = this.id;
                    else {
                        if ("string" != typeof this.id) throw new DayPilot.Exception("DayPilot.Queue() constructor requires the target element or its ID as a parameter");
                        if (((this.nav.top = document.getElementById(this.id)), !this.nav.top)) throw new DayPilot.Exception("DayPilot.Queue: The placeholder element not found: '" + e + "'.");
                    }
                }),
                    (this.ca = function (e) {
                        var t = this.theme || this.mk;
                        return t ? t + e : "";
                    }),
                    (this.Ad = function () {
                        (n.nav.container.innerHTML = ""), (n.qk = null), n.Ri(), n.nb(), n.zb(), n.rk();
                    }),
                    (this.Ri = function () {
                        var e = n.nav.top;
                        (e.className = n.sk), DayPilot.Util.addClass(e, n.ca("_main"));
                    }),
                    (this.nb = function () {
                        var e = {},
                            t = n.events.list || [];
                        n.nk = [];
                        for (var i = 0; i < t.length; i++) {
                            var a = t[i];
                            if (!("string" == typeof a.id || "number" == typeof a.id)) throw new DayPilot.Exception("All events must have an id property (string or number)");
                            var r = typeof a.id + "_" + a.id;
                            if (e[r]) throw new DayPilot.Exception("Duplicate IDs not allowed.");
                            e[r] = !0;
                            var o = DayPilot.Util.copyProps(a);
                            n.rg(o);
                            var s = {};
                            (s.data = a), (s.cache = o), n.nk.push(s);
                        }
                    }),
                    (this.Ca = {}),
                    (this.Ca.Bc = []),
                    (this.Ca.nk = []);
                var a = n.Ca;
                (this.Ca.L = function (e) {
                    var t = e.event;
                    a.tk(), a.uk(e), (a.Bc[0] = t);
                }),
                    (this.Ca.uk = function (e) {
                        a.nk[0] = e;
                        var t = n.ca("_selected");
                        DayPilot.Util.addClass(e, t);
                    }),
                    (this.Ca.vk = function (e) {
                        a.nk = [];
                        var t = n.ca("_selected");
                        DayPilot.Util.removeClass(e, t);
                    }),
                    (this.Ca.od = function (e) {
                        return n.Ca.nk.find(function (t) {
                            return t.event.data.id === e;
                        });
                    }),
                    (this.Ca.tk = function () {
                        var e = a.nk[0];
                        e && a.vk(e), (a.Bc = []);
                    }),
                    (this.rg = function (e) {
                        var t = {};
                        (t.data = e), "function" == typeof n.onBeforeEventRender && n.onBeforeEventRender(t);
                    }),
                    (this.rk = function () {
                        if (0 === n.events.list.length) {
                            var e = n.nav.container,
                                t = i();
                            n.emptyHtml ? (t.innerHTML = n.emptyHtml) : (t.innerText = n.emptyText), e.appendChild(t);
                        }
                    }),
                    (this.zb = function () {
                        var e = n.nk;
                        (n.elements.events = []),
                            e.forEach(function (e) {
                                n.Fe(e);
                            });
                    }),
                    (this.Fe = function (e) {
                        var t = e.cache,
                            a = e.data,
                            r = n.nav.container,
                            o = i();
                        (o.className = n.ca("_event")),
                            (o.style.height = n.eventHeight + "px"),
                            (o.style.boxSizing = "border-box"),
                            (o.style.overflow = "hidden"),
                            (o.style.marginTop = n.lineSpace + "px"),
                            (o.style.position = "relative"),
                            n.eventTextWrappingEnabled || (o.style.whiteSpace = "nowrap"),
                            o.addEventListener("click", n.kj),
                            o.addEventListener("contextmenu", n.wk),
                            n.Ca.od(a.id) && n.Ca.uk(o);
                        var s = i();
                        if (
                            ((s.className = n.ca("_event_inner")),
                            "string" == typeof t.html ? (s.innerHTML = t.html) : (s.innerText = t.text),
                            t.cssClass && DayPilot.Util.addClass(o, t.cssClass),
                            t.backColor && (s.style.background = t.backColor),
                            t.fontColor && (s.style.color = t.fontColor),
                            "darker" === t.borderColor && t.backColor ? (s.style.borderColor = DayPilot.ColorUtil.darker(t.backColor, 2)) : (s.style.borderColor = t.borderColor),
                            t.backImage && ((s.style.backgroundImage = "url(" + t.backImage + ")"), t.backRepeat && (s.style.backgroundRepeat = t.backRepeat)),
                            o.appendChild(s),
                            (o.onmousemove = this.Ge),
                            (o.onmouseleave = this.xk),
                            n.eventBarVisible && !t.barHidden)
                        ) {
                            var l = i();
                            (l.className = n.ca("_event_bar")), (l.style.position = "absolute"), t.barColor && (l.style.backgroundColor = t.barColor), o.appendChild(l);
                        }
                        var d = {
                                eventDiv: o,
                                areas: t.areas,
                                allowed: function () {
                                    return !(n.ok || n.pk);
                                },
                            },
                            c = new DayPilot.Event(a, n);
                        (c.cache = t), (o.event = c), DayPilot.Areas.attach(o, c, d), n.yk(o, a), r.appendChild(o), n.elements.events.push(o);
                    }),
                    (this.Ge = function (e) {
                        "undefined" != typeof DayPilot.Bubble && n.bubble && "Bubble" === n.eventHoverHandling && n.bubble.showEvent(this.event);
                    }),
                    (this.xk = function (e) {
                        n.bubble && n.bubble.hideOnMouseOut();
                    }),
                    (this.wk = function (e) {
                        if ((e.preventDefault(), "Disabled" !== n.eventRightClickHandling)) {
                            var t = this,
                                i = t.event,
                                a = {};
                            if (
                                ((a.e = t.event),
                                (a.preventDefault = function () {
                                    a.preventDefault.value = !0;
                                }),
                                "function" == typeof n.onEventRightClick && n.onEventRightClick(a),
                                !a.preventDefault.value)
                            ) {
                                switch (n.eventRightClickHanding) {
                                    case "Enabled":
                                        break;
                                    case "ContextMenu":
                                        var r = i.client.contextMenu();
                                        r ? r.show(i) : n.contextMenu && n.contextMenu.show(i);
                                }
                                "function" == typeof n.onEventRightClicked && n.onEventRightClicked(a);
                            }
                        }
                    }),
                    (this.kj = function (e) {
                        if ((e.preventDefault(), e.stopPropagation(), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), "Disabled" !== n.eventClickHandling)) {
                            var t = this,
                                i = t.event,
                                a = {};
                            if (
                                ((a.e = i),
                                (a.preventDefault = function () {
                                    a.preventDefault.value = !0;
                                }),
                                "function" == typeof n.onEventClick && n.onEventClick(a),
                                !a.preventDefault.value)
                            ) {
                                switch (n.eventClickHandling) {
                                    case "Select":
                                        n.Ac(t, i, e);
                                        break;
                                    case "Enabled":
                                }
                                "function" == typeof n.onEventClicked && n.onEventClicked(a);
                            }
                        }
                    }),
                    (this.Ac = function (e, t, i) {
                        var a = {};
                        if (
                            ((a.e = t),
                            (a.preventDefault = function () {
                                this.preventDefault.value = !0;
                            }),
                            "function" != typeof n.onEventSelect || (n.onEventSelect(a), !a.preventDefault.value))
                        ) {
                            switch (n.eventSelectHandling) {
                                case "Update":
                                    n.Ca.L(e);
                            }
                            "function" == typeof n.onEventSelected && n.onEventSelected(a);
                        }
                    }),
                    (this.zk = function (e, t) {
                        var i = n.Ak,
                            a = {};
                        (a.e = new DayPilot.Event(e, n)),
                            (a.position = i),
                            (a.source = t),
                            (a.external = !0),
                            (a.preventDefault = function () {
                                a.preventDefault.value = !0;
                            }),
                            n.Bk(a),
                            a.preventDefault.value || (n.events.list.splice(i, 0, e), n.Ad(), n.Ck(a));
                    }),
                    (this.Dk = function (e) {
                        var t = {};
                        if (
                            ((t.e = new DayPilot.Event(e, n)),
                            (t.position = n.Ak),
                            (t.source = n),
                            (t.external = !1),
                            (t.preventDefault = function () {
                                t.preventDefault.value = !0;
                            }),
                            n.Bk(t),
                            !t.preventDefault.value)
                        ) {
                            var i = n.events.list.indexOf(e);
                            n.Ek(n.events.list, i, n.Ak), n.Ad(), n.Ck(t);
                        }
                    }),
                    (this.Bk = function (e) {
                        "function" == typeof n.onEventMove && n.onEventMove(e);
                    }),
                    (this.Ck = function (e) {
                        "function" == typeof n.onEventMoved && n.onEventMoved(e);
                    }),
                    (this.Ek = function (e, t, n) {
                        var i = e[t];
                        e.splice(t, 1), e.splice(n, 0, i);
                    }),
                    (this.Fk = function () {
                        DayPilot.Scheduler.registerDropTarget({
                            element: n.nav.top,
                            onDrop: function (e) {
                                n.pk = !1;
                                var t = e.e,
                                    i = t.data,
                                    a = e.e.calendar;
                                n.zk(i, a);
                            },
                            onDragOver: function (e) {
                                n.pk = !0;
                            },
                            onDragLeave: function (e) {
                                n.pk = !1;
                            },
                        });
                    }),
                    (this.qk = null),
                    (this.Gk = function (e) {
                        n.Ak = e;
                        var t = n.qk || i(),
                            a = n.nav.container,
                            r = n.eventHeight + n.lineSpace,
                            o = e * r;
                        (o -= n.lineSpace / 2 + 1),
                            (t.style.top = o + "px"),
                            n.qk || ((t.className = n.ca("_shadow")), (t.style.position = "absolute"), (t.style.left = "0px"), (t.style.right = "0px"), (t.style.height = "2px"), (n.qk = t), a.appendChild(t));
                    }),
                    (this.Hk = function () {
                        (n.Ak = null), DayPilot.de(n.qk), (n.qk = null);
                    }),
                    (this.Zh = null),
                    (this.Ak = null),
                    (this.Ik = function (e) {
                        var t = n.nav.container,
                            i = DayPilot.mo3(t, e);
                        if (((n.Zh = i), n.ok || n.pk)) {
                            var a = n.eventHeight + n.lineSpace,
                                r = Math.floor((i.y + n.eventHeight / 2) / a);
                            r < 0 && (r = 0), r > n.nk.length && (r = n.nk.length), n.Gk(r);
                        }
                    }),
                    (this.Jk = function (e) {
                        n.Hk();
                    }),
                    (this.Kk = function (e) {
                        if (n.ok) {
                            var t = n.Lk;
                            n.Dk(t), (n.Lk = null);
                        }
                    }),
                    (this.Mk = function () {
                        var e = i();
                        n.nav.container = e;
                        var t = n.nav.top;
                        (n.sk = t.className || ""), (e.style.position = "relative"), (t.onmousemove = n.Ik), (t.onmouseleave = n.Jk), (t.onmouseup = n.Kk), t.appendChild(e);
                    }),
                    (this.yk = function (e, t) {
                        var i = e,
                            a = {
                                element: i,
                                data: t,
                                keepElement: !0,
                                externalCssClass: "",
                                externalHtml: "",
                                onDragStart: function (e) {
                                    (n.ok = !0), (n.Lk = t), (i.style.opacity = "0.5");
                                },
                                onDrop: function (e) {
                                    (n.ok = !1), (i.style.opacity = "");
                                    !!n.Lk;
                                },
                            };
                        DayPilot.Scheduler.makeDraggable(a);
                    }),
                    (this.Xg = function (e) {
                        if (e) {
                            var t = {
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (n.events.list = e);
                                    },
                                },
                            };
                            for (var i in e)
                                if (t[i]) {
                                    var a = t[i];
                                    (a.data = e[i]), a.preInit && a.preInit();
                                } else n[i] = e[i];
                        }
                    }),
                    (this.W = {}),
                    (this.W.reactDOM = null),
                    (this.W.react = null),
                    (this.W.V = function (e, t) {
                        var i = n.W.reactDOM;
                        if ("function" == typeof i.createRoot) {
                            var a = t.ma;
                            a || ((a = i.createRoot(t)), (t.ma = a)), a.render(e);
                        } else i.render(e, t);
                    }),
                    (this.W.ka = function (e) {
                        var t = n.W.reactDOM;
                        if ("function" == typeof t.createRoot) {
                            var i = e.ma;
                            setTimeout(function () {
                                i.unmount();
                            }, 0);
                        } else t.unmountComponentAtNode(e);
                    }),
                    (this.Sg = function (e) {
                        if (!e) return null;
                        for (var t = 0; t < n.elements.events.length; t++) {
                            var i = n.elements.events[t];
                            if (DayPilot.Util.isSameEvent(i.event, e)) return i;
                        }
                        return null;
                    }),
                    (this.multiselect = {}),
                    (this.multiselect.add = function (e) {
                        ("number" != typeof e && "string" != typeof e) || (e = n.events.find(e)), e instanceof DayPilot.Event && (e = e.data);
                        var t = n.Sg(e);
                        t && n.Ca.L(t);
                    }),
                    (this.multiselect.clear = function () {
                        n.Ca.tk();
                    }),
                    (this.multiselect.get = function () {
                        var e = [],
                            t = a.Bc[0];
                        if (t) {
                            var n = t.event;
                            e.push(n);
                        }
                        return e;
                    }),
                    (this.events.add = function (e) {
                        e instanceof DayPilot.Event && (e = e.data), n.events.list.push(e), n.Ad();
                    }),
                    (this.events.remove = function (e) {
                        if (e) {
                            ("number" != typeof e && "string" != typeof e) || (e = n.events.find(e)), e instanceof DayPilot.Event && (e = e.data);
                            var t = n.events.list.indexOf(e);
                            t !== -1 && (n.Ca.od(e.id) && n.multiselect.clear(), n.events.list.splice(t, 1), n.Ad());
                        }
                    }),
                    (this.events.update = function (e) {
                        e instanceof DayPilot.Event && (e = e.data);
                        var t = n.events.find(e.id);
                        if (t) {
                            var i = n.events.list.indexOf(t.data);
                            i !== -1 && (n.events.list.splice(i, 1, e), n.Ad());
                        }
                    }),
                    (this.events.find = function (e) {
                        var t = n.events.list.find(function (t) {
                            return t.id === e;
                        });
                        return t ? new DayPilot.Event(t, n) : null;
                    }),
                    (this.init = function () {
                        if (this.ya) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                        if ((this.jh(), this.nav.top.dp)) {
                            if (this.nav.top.dp === n) return n;
                            throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");
                        }
                        return this.Fk(), this.Mk(), this.Ad(), this;
                    }),
                    (this.update = function (e) {
                        if (n.za) throw new DayPilot.Exception("You are trying to update a DayPilot.Queue object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");
                        n.Xg(e), n.Ad();
                    }),
                    (this.dispose = function () {
                        (n.nav.top.innerHTML = ""), (n.za = !0);
                    }),
                    (this.internal = {}),
                    (this.internal.loadOptions = function (e) {
                        n.Xg(e);
                    }),
                    (this.internal.enableReact = function (e, t) {
                        (n.W.react = e), (n.W.reactDOM = t);
                    }),
                    (this.internal.reactRefs = function () {
                        return DayPilot.Util.copyProps(n.W, {}, ["react", "reactDOM"]);
                    }),
                    (this.internal.findEventDiv = this.Sg),
                    this.Xg(t);
            }),
            (DayPilot.Queue.def = {}));
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
if (
    ("undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        function t(e) {
            for (var t = e.touches[0].clientX, n = e.touches[0].clientY, i = document.elementFromPoint(t, n); i && i.parentNode; ) if (((i = i.parentNode), i.daypilotMainD)) return i.calendar;
            return !1;
        }
        function n(e) {
            var t = e.touches[0].pageX,
                n = e.touches[0].pageY,
                i = {};
            return (i.x = t), (i.y = n), i;
        }
        if ("undefined" == typeof DayPilot.Scheduler || !DayPilot.Scheduler.def) {
            var i = {},
                a = function () {},
                o = !1,
                s = function () {
                    return document.body;
                },
                l = function () {
                    return document.createElement("div");
                },
                d = DayPilot.Util.overlaps,
                c = DayPilot.Util.removeClass,
                u = DayPilot.Util.addClass,
                h = DayPilot.Util.div,
                f = DayPilot.Util.atLeast,
                v = DayPilot.Util.isNullOrUndefined,
                p = DayPilot.Util.copyProps,
                m = DayPilot.Util.isReactComponent,
                g = DayPilot.Util.isVueComponent,
                y = DayPilot.Util.mouseButton,
                b = DayPilot.Global,
                w = DayPilot.list,
                x = DayPilot.contains,
                k = DayPilot.de,
                C = DayPilot.indexOf,
                _ = DayPilot.isArray;
            (DayPilot.Scheduler = function (t, o) {
                function E(e) {
                    (e.div.style.right = e.right + "px"),
                        (e.div.style.height = e.height + "px"),
                        (e.div.style.top = e.top + "px"),
                        A.Zs(e.div, e.enabled()),
                        (e.divHeader.style.height = e.heightRes + "px"),
                        (e.divHeader.style.top = e.top + "px"),
                        A.Zs(e.divHeader, e.enabled()),
                        e.divSpace && (e.divSpace.style.top = e.height + "px");
                }
                function S(e, t) {
                    return 1 - e / t;
                }
                this.v = "2024.2.5916";
                var A = this;
                (this.id = t),
                    (this.isScheduler = !0),
                    (this.allowDefaultContextMenu = !1),
                    (this.allowEventOverlap = !0),
                    (this.allowMultiMove = !1),
                    (this.allowMultiRange = !1),
                    (this.allowMultiResize = !1),
                    (this.allowMultiSelect = !0),
                    (this.api = 2),
                    (this.autoRefreshCommand = "refresh"),
                    (this.autoRefreshEnabled = !1),
                    (this.autoRefreshInterval = 60),
                    (this.autoRefreshMaxCount = 20),
                    (this.autoScroll = "Drag"),
                    (this.blockOnCallBack = !1),
                    (this.navigatorBackSync = null),
                    (this.backendUrl = null),
                    (this.beforeCellRenderCaching = !0),
                    (this.businessBeginsHour = 9),
                    (this.businessEndsHour = 18),
                    (this.businessWeekends = !1),
                    (this.cellDuration = 60),
                    (this.cellGroupBy = "Day"),
                    (this.cellSweeping = !0),
                    (this.cellSweepingCacheSize = 1e3),
                    (this.cellWidth = 40),
                    (this.cellWidthMin = 1),
                    (this.cellWidthSpec = "Fixed"),
                    (this.cellsMarkBusiness = !0),
                    (this.cornerText = ""),
                    (this.cornerHtml = null),
                    (this.crosshairTimeHeaderLevel = "Last"),
                    (this.crosshairType = "Header"),
                    (this.cssClass = null),
                    (this.cssClassPrefix = "scheduler_default"),
                    (this.days = 1),
                    (this.doubleClickTimeout = 300),
                    (this.dragOutAllowed = !1),
                    (this.drawBlankCells = !0),
                    (this.durationBarHeight = null),
                    (this.durationBarVisible = !0),
                    (this.durationBarMode = "Duration"),
                    (this.dynamicEventRendering = "Progressive"),
                    (this.dynamicEventRenderingMargin = 50),
                    (this.dynamicEventRenderingMarginX = null),
                    (this.dynamicEventRenderingMarginY = null),
                    (this.dynamicEventRenderingCacheSweeping = !1),
                    (this.dynamicEventRenderingCacheSize = 200),
                    (this.dynamicLoading = !1),
                    (this.eventEditMinWidth = 100),
                    (this.eventEditTabNext = !1),
                    (this.eventEndSpec = "DateTime"),
                    (this.eventHeight = 35),
                    (this.eventHtmlLeftMargin = 10),
                    (this.eventHtmlRightMargin = 10),
                    (this.eventMarginLeft = 0),
                    (this.eventMarginRight = 0),
                    (this.eventMarginBottom = 0),
                    (this.eventMinWidth = 1),
                    (this.eventMoveMargin = 5),
                    (this.eventMoveToPosition = !1),
                    (this.eventMoveSkipNonBusiness = !1),
                    (this.eventResizeMargin = 5),
                    (this.eventStackingLineHeight = 100),
                    (this.eventTapAndHoldHandling = "Move"),
                    (this.eventTextWrappingEnabled = !1),
                    (this.eventUpdateInplaceOptimization = !1),
                    (this.eventsLoadMethod = "GET"),
                    (this.eventVersionHeight = 25),
                    (this.eventVersionMargin = 2),
                    (this.eventVersionPosition = "Above"),
                    (this.eventVersionsEnabled = !1),
                    (this.eventVersionsReserveSpace = !1),
                    (this.floatingEvents = !DayPilot.browser.ios),
                    (this.floatingTimeHeaders = !0),
                    (this.groupConcurrentEvents = !1),
                    (this.groupConcurrentEventsLimit = 1),
                    (this.headerHeight = 30),
                    (this.heightSpec = "Max"),
                    (this.height = 600),
                    (this.hideBorderFor100PctHeight = !1),
                    (this.hideUntilInit = !0),
                    (this.infiniteScrollingEnabled = !1),
                    (this.infiniteScrollingMargin = 50),
                    (this.infiniteScrollingStepDays = 30),
                    (this.initEventEnabled = !0),
                    (this.jointEventsResize = !0),
                    (this.jointEventsMove = !0),
                    (this.keyboardEnabled = !1),
                    (this.keyboardTarget = "document"),
                    (this.layout = "Auto"),
                    (this.linkCreateHandling = "Disabled"),
                    (this.linkBottomMargin = 17),
                    (this.linkDotSize = 8),
                    (this.linkLayer = "Above"),
                    (this.linkPointSize = 10),
                    (this.linkShape = "Curved"),
                    (this.linksLoadMethod = "GET"),
                    (this.locale = "en-us"),
                    (this.loadingLabelText = "Loading..."),
                    (this.loadingLabelHtml = null),
                    (this.loadingLabelVisible = !0),
                    (this.overrideWheelScrolling = !1),
                    (this.messageBarPosition = "Top"),
                    (this.messageHideAfter = 5e3),
                    (this.messageHideOnMouseOut = !0),
                    (this.multiMoveVerticalMode = "Disabled"),
                    (this.moveBy = "Full"),
                    (this.notifyCommit = "Immediate"),
                    (this.progressiveRowRendering = !0),
                    (this.progressiveRowRenderingPreload = 25),
                    (this.rectangleSelectMode = "Free"),
                    (this.rectangleSelectHandling = "Disabled"),
                    (this.rowCreateHeight = null),
                    (this.rowCreateHtml = null),
                    (this.rowCreateText = "New row..."),
                    (this.rowDragHandleWidth = 10),
                    (this.rowEmptyHeight = null),
                    (this.rowFilterParentsAlwaysVisible = !0),
                    (this.rowHeaderColumnDefaultWidth = 80),
                    (this.rowHeaderHideIconEnabled = !1),
                    (this.rowHeaderScrolling = !1),
                    (this.rowHeaderSplitterWidth = 3),
                    (this.rowHeaderWidthAutoFit = !0),
                    (this.rowHeaderWidthAutoFitShrink = !1),
                    (this.rowHeaderWidthMarginRight = 0),
                    (this.rowHeaderWidthMin = 20),
                    (this.rowHeaderColumnsResizable = !0),
                    (this.rowHeaderColumnsMode = "Tabular"),
                    (this.rowHeaderColumns = null),
                    (this.rowHeaderColumnsMergeParents = !0),
                    (this.rowHeaderWidth = 80),
                    (this.rowMarginBottom = 0),
                    (this.rowMarginTop = 0),
                    (this.rowMinHeight = 0),
                    (this.rowsLoadMethod = "GET"),
                    (this.rowSortingMode = "LeavesOnly"),
                    (this.scale = "CellDuration"),
                    (this.scaleManualLimitBeyond = !0),
                    (this.scrollDelayDynamic = 500),
                    (this.scrollDelayEvents = 200),
                    (this.scrollDelayCells = DayPilot.browser.ios ? 100 : 0),
                    (this.scrollDelayFloats = 0),
                    (this.scrollDelayRows = 0),
                    (this.scrollStep = null),
                    (this.scrollX = 0),
                    (this.scrollY = 0),
                    (this.selectedRows = []),
                    (this.separators = []),
                    (this.showCurrentTimeHeader = !1),
                    (this.showNonBusiness = !0),
                    (this.showNonBusinessForceHours = !1),
                    (this.showToolTip = !0),
                    (this.snapToGrid = !0),
                    (this.snapToGridTimeRangeSelecting = !0),
                    (this.snapToGridEventMoving = !0),
                    (this.snapToGridEventResizing = !0),
                    (this.startDate = DayPilot.Date.today()),
                    (this.syncResourceTree = !1),
                    (this.tapAndHoldTimeout = 300),
                    (this.timeHeaders = [{ groupBy: "Default" }, { groupBy: "Cell" }]),
                    (this.timeHeaderPosition = "Top"),
                    (this.timeHeaderTextWrappingEnabled = !1),
                    (this.treeAnimation = !0),
                    (this.treeAutoExpand = !0),
                    (this.treeEnabled = !1),
                    (this.treeIndent = 20),
                    (this.treeImageMarginLeft = 0),
                    (this.treeImageMarginTop = 3),
                    (this.treeImageMarginRight = 5),
                    (this.treeImageWidth = 10),
                    (this.treeImageHeight = 10),
                    (this.treePreventParentUsage = !1),
                    (this.timeFormat = "Auto"),
                    (this.timeline = null),
                    (this.useEventBoxes = "Always"),
                    (this.viewType = "Resources"),
                    (this.visible = !0),
                    (this.watchWidthChanges = !0),
                    (this.weekStarts = "Auto"),
                    (this.width = null),
                    (this.xssProtection = "Enabled"),
                    (this.zoomLevels = []),
                    (this.zoomPosition = "left"),
                    (this.eventClickHandling = "Enabled"),
                    (this.eventDeleteHandling = "Disabled"),
                    (this.eventHoverHandling = "Bubble"),
                    (this.eventDoubleClickHandling = "Disabled"),
                    (this.eventEditHandling = "Update"),
                    (this.eventMoveHandling = "Update"),
                    (this.eventResizeHandling = "Update"),
                    (this.eventRightClickHandling = "ContextMenu"),
                    (this.eventSelectHandling = "Update"),
                    (this.resourceCollapseHandling = "Enabled"),
                    (this.resourceExpandHandling = "Enabled"),
                    (this.rowClickHandling = "Enabled"),
                    (this.rowDoubleClickHandling = "Disabled"),
                    (this.rowRightClickHandling = "ContextMenu"),
                    (this.rowCreateHandling = "Disabled"),
                    (this.rowEditHandling = "Update");
                this.rowHeaderColumnResizedHandling = "Update";
                (this.rowSelectHandling = "Update"),
                    (this.rowMoveHandling = "Disabled"),
                    (this.rowMoveSameLevelOnly = !1),
                    (this.timeHeaderClickHandling = "Enabled"),
                    (this.timeHeaderRightClickHandling = "Enabled"),
                    (this.timeRangeClickHandling = "Enabled"),
                    (this.timeRangeDoubleClickHandling = "Disabled"),
                    (this.timeRangeSelectedHandling = "Enabled"),
                    (this.timeRangeRightClickHandling = "ContextMenu"),
                    (this.timeRangeSelectingStartEndEnabled = !1),
                    (this.timeRangeSelectingStartEndFormat = "MMMM d, yyyy"),
                    (this.eventMovingStartEndEnabled = !1),
                    (this.eventMovingStartEndFormat = "MMMM d, yyyy"),
                    (this.eventResizingStartEndEnabled = !1),
                    (this.eventResizingStartEndFormat = "MMMM d, yyyy"),
                    "function" == typeof DayPilot.Bubble ? (this.bubble = new DayPilot.Bubble()) : (this.bubble = null),
                    (this.cellBubble = null),
                    (this.resourceBubble = null),
                    (this.linkBubble = null),
                    (this.groupBubble = null),
                    (this.rowHeaderColumnBubble = null),
                    (this.contextMenu = null),
                    (this.contextMenuResource = null),
                    (this.contextMenuSelection = null),
                    (this.contextMenuLink = null),
                    1 === A.api && ((this.onEventMove = function () {}), (this.onEventResize = function () {}), (this.onResourceExpand = function () {}), (this.onResourceCollapse = function () {})),
                    (this.onEventClick = null),
                    (this.onEventClicked = null),
                    (this.onEventEdit = null),
                    (this.onEventEdited = null),
                    (this.onEventEditKeyDown = null),
                    (this.onEventMove = null),
                    (this.onEventMoved = null),
                    (this.onEventMoving = null),
                    (this.onEventResize = null),
                    (this.onEventResized = null),
                    (this.onEventResizing = null),
                    (this.onEventRightClick = null),
                    (this.onEventRightClicked = null),
                    (this.onEventMouseEnter = null),
                    (this.onEventMouseLeave = null),
                    (this.onEventMouseOver = null),
                    (this.onEventMouseOut = null),
                    (this.onIncludeTimeCell = null),
                    (this.onKeyboardFocusChange = null),
                    (this.onKeyboardFocusChanged = null),
                    (this.onLinkClick = null),
                    (this.onLinkClicked = null),
                    (this.onLinkCreate = null),
                    (this.onLinkCreated = null),
                    (this.onRowClick = null),
                    (this.onRowClicked = null),
                    (this.onRowDoubleClick = null),
                    (this.onRowDoubleClicked = null),
                    (this.onRowMouseOver = null),
                    (this.onRowMouseOut = null),
                    (this.onRowRightClick = null),
                    (this.onRowRightClicked = null),
                    (this.onScroll = null),
                    (this.onScrollEnd = null),
                    (this.onTimeHeaderClick = null),
                    (this.onTimeHeaderClicked = null),
                    (this.onTimeHeaderRightClick = null),
                    (this.onTimeHeaderRightClicked = null),
                    (this.onTimeRangeClick = null),
                    (this.onTimeRangeClicked = null),
                    (this.onTimeRangeDoubleClick = null),
                    (this.onTimeRangeDoubleClicked = null),
                    (this.onTimeRangeSelect = null),
                    (this.onTimeRangeSelected = null),
                    (this.onTimeRangeSelecting = null),
                    (this.onTimeRangeRightClick = null),
                    (this.onTimeRangeRightClicked = null),
                    (this.onRowHeaderColumnResized = null),
                    (this.onRowHeaderResized = null),
                    (this.onCellMouseEnter = null),
                    (this.onCellMouseLeave = null),
                    (this.onCellMouseOver = null),
                    (this.onCellMouseOut = null),
                    (this.onGridMouseDown = null),
                    (this.onBeforeCellRender = null),
                    (this.onBeforeCellDomAdd = null),
                    (this.onBeforeCellDomRemove = null),
                    (this.onBeforeCornerRender = null),
                    (this.onBeforeCornerDomAdd = null),
                    (this.onBeforeCornerDomRemove = null),
                    (this.onBeforeEventRender = null),
                    (this.onBeforeEventDomAdd = null),
                    (this.onBeforeEventDomRemove = null),
                    (this.onBeforeGridLineRender = null),
                    (this.onBeforeLinkRender = null),
                    (this.onBeforeTimeHeaderRender = null),
                    (this.onBeforeTimeHeaderDomAdd = null),
                    (this.onBeforeTimeHeaderDomRemove = null),
                    (this.onBeforeResHeaderRender = null),
                    (this.onBeforeRowHeaderRender = null),
                    (this.onBeforeRowHeaderColumnRender = null),
                    (this.onBeforeRowHeaderDomAdd = null),
                    (this.onBeforeRowHeaderDomRemove = null),
                    (this.onBeforeCellExport = null),
                    (this.onBeforeCornerExport = null),
                    (this.onBeforeEventExport = null),
                    (this.onBeforeTimeHeaderExport = null),
                    (this.onBeforeRowHeaderExport = null),
                    (this.onAfterEventRender = null),
                    (this.onAfterCellRender = null),
                    (this.onAfterEventEditRender = null),
                    (this.onEventFilter = null),
                    (this.onRowFilter = null),
                    (this.onRectangleSelecting = null),
                    (this.onRectangleSelect = null),
                    (this.onRectangleSelected = null),
                    (this.onDimensionsChanged = null),
                    (this.onAfterUpdate = null),
                    (this.onAfterRender = null),
                    (this.xa = 0),
                    (this.Nk = !0),
                    (this.Ok = !1),
                    (this.Pk = !1),
                    (this.Qk = !1),
                    (this.Rk = -1),
                    (this.Sk = -1),
                    (this.za = !1),
                    (this.Tk = -1),
                    (this.Uk = !1),
                    (this.Vk = !0),
                    (this.rowlist = w()),
                    (this.itline = w()),
                    (this.events = {}),
                    (this.cells = {}),
                    (this.elements = {}),
                    (this.elements.events = []),
                    (this.elements.bars = []),
                    (this.elements.text = []),
                    (this.elements.cells = []),
                    (this.elements.linesVertical = []),
                    (this.elements.separators = []),
                    (this.elements.range = []),
                    (this.elements.breaks = []),
                    (this.elements.links = []),
                    (this.elements.linkpoints = []),
                    (this.elements.rectangle = []),
                    (this.elements.hover = []),
                    (this.elements.timeHeader = []),
                    (this.ta = {}),
                    (this.ta.cells = []),
                    (this.ta.Wk = {}),
                    (this.ta.Xk = {}),
                    (this.ta.timeHeaderGroups = []),
                    (this.ta.timeHeader = {}),
                    (this.ta.pixels = []),
                    (this.ta.breaks = []),
                    (this.ta.events = []),
                    (this.ta.Yk = []),
                    (this.clientState = {}),
                    (this.members = {}),
                    (this.members.obsolete = ["Init", "cleanSelection", "cssClassPrefix", "getHScrollPosition", "setHScrollPosition", "getVScrollPosition", "setVScrollPosition", "showBaseTimeHeader"]),
                    (this.members.ignoreFilter = function (e) {
                        return 0 === e.indexOf("div");
                    }),
                    (this.members.ignore = ["internal", "nav", "debug", "temp", "elements", "members", "cellProperties", "itline", "rowlist", "timeHeader", "timeouts", "rowHeaderCols"]),
                    (this.members.noCssOnly = []),
                    (this.Aa = "javasc"),
                    (this.nav = {}),
                    (this.Na = function (e, t) {
                        var e = JSON.parse(e);
                        if (((A.onScrollCalled = !1), e.VsUpdate)) {
                            var n = document.createElement("input");
                            (n.type = "hidden"), (n.name = A.id + "_vsupdate"), (n.id = n.name), (n.value = e.VsUpdate), (A.Wi.innerHTML = ""), A.Wi.appendChild(n);
                        }
                        if (e.CallBackRedirect) return void (document.location.href = e.CallBackRedirect);
                        if (e.BubbleGuid) {
                            var i = e.BubbleGuid,
                                a = this.bubbles[i];
                            return delete this.bubbles[i], A.hb(), "undefined" != typeof e.Result.BubbleHTML && a && a.updateView(e.Result.BubbleHTML, a), void A.Zk();
                        }
                        if ("function" == typeof A.onCallBackResult) {
                            var r = {};
                            if (
                                ((r.result = e),
                                (r.preventDefault = function () {
                                    r.preventDefault.value = !0;
                                }),
                                A.onCallBackResult(r),
                                r.preventDefault.value)
                            )
                                return A.qc(), A.hb(), A.Db(), e.Message && A.message && A.message(e.Message), A.ib(e.CallBackData, !0), A.Zk(), void A.Da();
                        }
                        return (
                            "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(),
                            "undefined" != typeof e.ClientState && (null === e.ClientState ? (A.clientState = {}) : (A.clientState = e.ClientState)),
                            "None" === e.UpdateType
                                ? (A.hb(), A.Zk(), e.Message && A.message(e.Message), void A.ib(e.CallBackData, !0))
                                : ("undefined" != typeof e.TagFields && (A.tagFields = e.TagFields),
                                  "undefined" != typeof e.SortDirections && (A.sortDirections = e.SortDirections),
                                  (A.ta.drawArea = null),
                                  "Full" === e.UpdateType &&
                                      ((A.resources = e.Resources),
                                      (A.colors = e.Colors),
                                      (A.palette = e.Palette),
                                      (A.dirtyColors = e.DirtyColors),
                                      (A.cellProperties = e.CellProperties),
                                      (A.cellConfig = e.CellConfig),
                                      (A.separators = e.Separators),
                                      (A.timeline = e.Timeline),
                                      (A.timeHeader = e.TimeHeader),
                                      (A.timeHeaders = e.TimeHeaders),
                                      "undefined" != typeof e.Links && (A.links.list = e.Links),
                                      "undefined" != typeof e.RowHeaderColumns && (A.rowHeaderColumns = e.RowHeaderColumns),
                                      (A.startDate = e.StartDate ? new DayPilot.Date(e.StartDate) : A.startDate),
                                      (A.days = e.Days ? e.Days : A.days),
                                      (A.cellDuration = e.CellDuration ? e.CellDuration : A.cellDuration),
                                      (A.cellGroupBy = e.CellGroupBy ? e.CellGroupBy : A.cellGroupBy),
                                      (A.cellWidth = e.CellWidth ? e.CellWidth : A.cellWidth),
                                      "undefined" != typeof e.CellWidthSpec && (A.cellWidthSpec = e.CellWidthSpec),
                                      "undefined" != typeof e.Scale && (A.scale = e.Scale),
                                      (A.viewType = e.ViewType ? e.ViewType : A.viewType),
                                      "undefined" != typeof e.ShowNonBusiness && (A.showNonBusiness = e.ShowNonBusiness),
                                      (A.businessBeginsHour = e.BusinessBeginsHour ? e.BusinessBeginsHour : A.businessBeginsHour),
                                      (A.businessEndsHour = e.BusinessEndsHour ? e.BusinessEndsHour : A.businessEndsHour),
                                      "undefined" != typeof e.DynamicLoading && (A.dynamicLoading = e.DynamicLoading),
                                      "undefined" != typeof e.TreeEnabled && (A.treeEnabled = e.TreeEnabled),
                                      (A.locale = e.Locale ? e.Locale : A.locale),
                                      "undefined" != typeof e.TimeZone && (A.timeZone = e.TimeZone),
                                      (A.timeFormat = e.TimeFormat ? e.TimeFormat : A.timeFormat),
                                      (A.rowHeaderCols = e.RowHeaderCols ? e.RowHeaderCols : A.rowHeaderCols),
                                      "undefined" != typeof e.DurationBarMode && (A.durationBarMode = e.DurationBarMode),
                                      "undefined" != typeof e.CornerHTML && (A.cornerHtml = e.CornerHTML),
                                      (A.hashes = e.Hashes),
                                      A.$k(),
                                      A._k(),
                                      A.al(),
                                      A.mb(),
                                      A.bl()),
                                  "Scroll" !== e.Action && (A.nb(e.Events), B.cl()),
                                  "Full" === e.UpdateType && (A.dl(), A.fl(), A.gl(), A.hl()),
                                  A.il(),
                                  A.D(),
                                  A.Bb(),
                                  (A.ta.drawArea = null),
                                  "Scroll" !== e.Action
                                      ? (A.jl(), A.ob(), ("Auto" !== A.heightSpec && "Max" !== A.heightSpec) || A.vb(), A.kl(), A.Sa(), A.ll(), A.multiselect.clear(!0), A.multiselect.ml(e.SelectedEvents), A.nl(), A.ol(), A.zb())
                                      : (A.multiselect.clear(!0), A.multiselect.ml(e.SelectedEvents), A.ql(e.Events)),
                                  "HoldForever" !== A.timeRangeSelectedHandling && A.rl(),
                                  "Full" === e.UpdateType && (A.setScroll(e.ScrollX, e.ScrollY), A.Uj()),
                                  A.sl(),
                                  A.qc(),
                                  e.SelectedRows && A.ul(e.SelectedRows),
                                  A.hb(),
                                  "Full" === e.UpdateType &&
                                      navigator.appVersion.indexOf("MSIE 7.") !== -1 &&
                                      window.setTimeout(function () {
                                          A.dl(), A.fl(), A.vb();
                                      }, 0),
                                  A.Db(),
                                  e.Message && A.message && A.message(e.Message),
                                  A.ib(e.CallBackData, !0),
                                  A.Zk(),
                                  A.Da(),
                                  void (
                                      "Full" !== e.UpdateType ||
                                      "Scroll" === e.Action ||
                                      A.onScrollCalled ||
                                      setTimeout(function () {
                                          A.vl();
                                      }, 0)
                                  ))
                        );
                    }),
                    (this.qc = function () {
                        if (A.wl && A.wl.xl) {
                            var e = A.wl.xl;
                            e.parentNode.removeChild(e), (A.wl.xl = null);
                        }
                    }),
                    (this.ib = function (e, t) {
                        var n = function (e, t) {
                            return function () {
                                if (A.Eb()) {
                                    if ("function" == typeof A.onAfterRender) {
                                        var n = {};
                                        (n.isCallBack = t), (n.isScroll = !1), (n.data = e), A.onAfterRender(n);
                                    }
                                } else A.afterRender && A.afterRender(e, t);
                            };
                        };
                        window.setTimeout(n(e, t), 0);
                    }),
                    (this.scrollTo = function (e, t, n) {
                        if (A.infiniteScrollingEnabled) {
                            if (A.ya) {
                                var i = A.getPixels(A.visibleEnd()).left,
                                    a = i - A.infiniteScrollingMargin - A.nav.scroll.clientWidth,
                                    r = A.getDate(a, !0, !0);
                                if (!d(A.visibleStart(), r, e, e)) return void A.infinite.scrollTo(e);
                            }
                            return void A.yl(e, t, n);
                        }
                        A.zl.enabled
                            ? ((A.zl.scrollToRequested = e),
                              setTimeout(function () {
                                  var e = A.zl.scrollToRequested;
                                  e && ((A.Al = null), A.yl(e, t, n));
                              }, 0))
                            : A.yl(e, t, n);
                    }),
                    (this.yl = function (e, t, n) {
                        if (e) {
                            if (!A.ya) return void (A.Al = { date: e, animated: t, position: n });
                            if ("Days" === A.viewType) {
                                var i = new DayPilot.Date(e),
                                    a = A.Bl(i);
                                if (!a) return;
                                if (A.W.react) {
                                    var r = a.top - A.Cl.top.height;
                                    A.nav.scroll.scrollTop = r;
                                } else
                                    setTimeout(function () {
                                        var e = a.top - A.Cl.top.height;
                                        A.nav.scroll.scrollTop = e;
                                    }, 100);
                                var o = i.getTimePart();
                                e = A.visibleStart().getDatePart().addTime(o);
                            }
                            var s;
                            if (e instanceof DayPilot.Date) s = this.getPixels(e).left;
                            else if ("string" == typeof e) s = this.getPixels(new DayPilot.Date(e)).left;
                            else {
                                if ("number" != typeof e) throw new DayPilot.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");
                                s = e;
                            }
                            var l = A.Dl.clientWidth,
                                d = A.nav.scroll.clientWidth;
                            switch (((n = n || "left"), n.toLowerCase())) {
                                case "left":
                                    break;
                                case "middle":
                                    s -= d / 2;
                                    break;
                                case "right":
                                    s -= d;
                            }
                            if ((s < 0 && (s = 0), s > l - d && (s = l - d), !t)) return void A.El(s);
                            var c = Math.abs(A.nav.scroll.scrollLeft - s),
                                u = c / l,
                                h = 50;
                            if ("number" == typeof t) h = t;
                            else if ("string" == typeof t)
                                switch (t) {
                                    case "fast":
                                        h = 30;
                                        break;
                                    case "normal":
                                        h = 50;
                                        break;
                                    case "slow":
                                        h = 100;
                                        break;
                                    case "linear":
                                        h = Math.floor(100 * u);
                                }
                            u > 0.6 && (h = Math.min(h, 80)), A.Fl(s, h);
                        }
                    }),
                    (this.Fl = function (e, t) {
                        function n(e) {
                            var t = e.next();
                            return "undefined" == typeof t
                                ? void (e.finished && e.finished())
                                : (A.setScrollX(t),
                                  window.clearTimeout(A.refreshTimeout),
                                  void setTimeout(function () {
                                      n(e);
                                  }, e.delay));
                        }
                        var i = {};
                        (i.steps = []),
                            (i.index = 0),
                            (i.delay = 10),
                            (i.next = function () {
                                var e = i.steps[i.index];
                                return (i.index += 1), e;
                            }),
                            (i.finished = function () {
                                A.vl();
                            });
                        for (var a = A.getScrollX(), t = t || 100, r = e - a, o = 0; o < t; o++) {
                            var s = o / t,
                                l = (2 * (s - 0.5)) / (Math.pow(2 * (s - 0.5), 2) + 1) + 0.5;
                            i.steps.push(a + r * l);
                        }
                        i.steps.push(e), n(i);
                    }),
                    (this.scrollToResource = function (e) {
                        DayPilot.complete(function () {
                            var t;
                            if ("string" == typeof e || "number" == typeof e) t = A.Gl(e);
                            else {
                                if (!(e instanceof DayPilot.Row)) throw new DayPilot.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");
                                t = A.Gl(e.id);
                            }
                            t &&
                                setTimeout(function () {
                                    var e = t.top;
                                    A.nav.scroll.scrollTop = e;
                                }, 100);
                        });
                    }),
                    (this.Hl = function () {
                        if (this.floatingTimeHeaders && this.timeHeader) {
                            var e = A.hd();
                            if (e) {
                                A.Il();
                                for (var t = e.pixels.left + M.Jl, n = e.pixels.right + M.Jl + e.sw, i = [], a = 0; a < this.timeHeader.length; a++)
                                    for (var r = 0; r < this.timeHeader[a].length; r++) {
                                        var o = this.timeHeader[a][r],
                                            s = o.left,
                                            l = o.left + o.width,
                                            d = null;
                                        if ((s < t && t < l && ((d = {}), (d.x = r), (d.y = a), (d.marginLeft = t - s), (d.marginRight = 0), (d.div = A.ta.timeHeader[r + "_" + a]), i.push(d)), s < n && n < l)) {
                                            d || ((d = {}), (d.x = r), (d.y = a), (d.marginLeft = 0), (d.div = A.ta.timeHeader[r + "_" + a]), i.push(d)), (d.marginRight = l - n);
                                            break;
                                        }
                                    }
                                for (var c = 0; c < i.length; c++) {
                                    var d = i[c];
                                    A.Kl(d.div, d.marginLeft, d.marginRight);
                                }
                            }
                        }
                    }),
                    (this.sl = function () {
                        A.Hl(), A.Ll();
                    }),
                    (this.Ml = {});
                var H = A.Ml;
                (H.Nl = function (e, t, n, i) {
                    var a = e,
                        r = e + n,
                        o = t,
                        s = t + i;
                    return w(A.elements.events).filter(function (e) {
                        var t = e.event,
                            n = t.part.left,
                            i = t.part.left + t.part.width,
                            l = A.rowlist[t.part.dayIndex],
                            c = l.top + t.part.top,
                            u = c + t.part.height;
                        if (d(n, i, a, r) && d(c, u, o, s)) return !0;
                    });
                }),
                    (H.nk = function (e) {
                        var t = [],
                            e = e || "All",
                            n = A.hd();
                        if (!n) return w(t);
                        for (var i = n.pixels.left, a = n.pixels.right, r = 0; r < A.elements.events.length; r++) {
                            var o = A.elements.events[r],
                                s = o.event,
                                l = s.part.left,
                                c = s.part.left + s.part.width;
                            switch (e) {
                                case "Left":
                                    l < i && i < c && t.push(o);
                                    break;
                                case "All":
                                    d(l, c, i, a) && t.push(o);
                            }
                        }
                        return w(t).addProps({ area: n });
                    }),
                    (this.Ll = function () {
                        if (this.floatingEvents) {
                            var e = H.nk("Left");
                            A.Ol(),
                                e
                                    .filter(function (e) {
                                        return "Milestone" !== e.event.data.type;
                                    })
                                    .forEach(function (t) {
                                        var n = t.event,
                                            i = e.area.pixels.left,
                                            a = n.part.left,
                                            r = i - a;
                                        A.Pl(t, r, 0);
                                    });
                        }
                    }),
                    (this.elements.sections = []),
                    (this.elements.hsections = []),
                    (this.Kl = function (e, t, n) {
                        var i = l();
                        i.setAttribute("unselectable", "on"),
                            (i.className = A.ca("_timeheader_float")),
                            (i.style.position = "absolute"),
                            (i.style.left = t + "px"),
                            (i.style.right = n + "px"),
                            (i.style.top = "0px"),
                            (i.style.bottom = "0px"),
                            (i.style.overflow = "hidden");
                        var a = l();
                        (a.className = A.ca("_timeheader_float_inner")), a.setAttribute("unselectable", "on");
                        var r = e.cell.th;
                        if (((a.innerHTML = A.Ea(r.text, r.innerHTML)), r.fontColor && (a.style.color = r.fontColor), i.appendChild(a), (e.section = i), e.insertBefore(i, e.firstChild.nextSibling), e.domArgs && e.domArgs.element)) {
                            var o = e.firstChild && e.firstChild.firstChild;
                            o && (o.style.display = "none");
                        } else e.firstChild.innerHTML = "";
                        this.elements.hsections.push(e);
                    }),
                    (this.Il = function () {
                        for (var e = 0; e < this.elements.hsections.length; e++) {
                            var t = this.elements.hsections[e],
                                n = t.cell;
                            if (n && t.firstChild)
                                if (t.domArgs && t.domArgs.element) {
                                    var i = t.firstChild && t.firstChild.firstChild;
                                    i && (i.style.display = "");
                                } else t.firstChild.innerHTML = A.Ea(n.th.text, n.th.innerHTML);
                            k(t.section), (t.section = null);
                        }
                        this.elements.hsections = [];
                    }),
                    (this.Pl = function (e, t, n) {
                        var i = l();
                        i.setAttribute("unselectable", "on"),
                            (i.className = A.ca(G.eventFloat)),
                            (i.style.position = "absolute"),
                            (i.style.left = t + "px"),
                            (i.style.right = n + "px"),
                            (i.style.top = "0px"),
                            (i.style.bottom = "0px"),
                            (i.style.overflow = "hidden");
                        var a = 2;
                        "number" == typeof A.durationBarHeight && (a = A.durationBarHeight);
                        var r = l();
                        if (
                            ((r.className = A.ca(G.eventFloatInner)),
                            (r.style.marginTop = a + "px"),
                            (r.style.paddingTop = "0px"),
                            r.setAttribute("unselectable", "on"),
                            (r.innerHTML = e.event.client.html()),
                            i.appendChild(r),
                            (e.section = i),
                            e.insertBefore(i, e.firstChild.nextSibling),
                            e.domArgs && e.domArgs.element)
                        ) {
                            var o = e && e.firstChild && e.firstChild.firstChild;
                            o && (o.style.display = "none");
                        } else e.firstChild.innerHTML = "";
                        var s = e.event,
                            d = s.cache || s.data,
                            c = s.cache ? s.cache.areas : s.data.areas;
                        (c = c || []), d.fontColor && (r.style.color = d.fontColor);
                        var u = {
                            offsetX: A.Ql(r),
                            eventDiv: e,
                            areas: c.filter(function (e) {
                                return !(e.start || e.end || e.nonFloating);
                            }),
                        };
                        DayPilot.Areas.attach(i, e.event, u), DayPilot.Areas.disable(e), this.elements.sections.push(e);
                    }),
                    (this.Rl = null),
                    (this.Ql = function (e) {
                        return null === A.Rl && (A.Rl = parseInt(new DayPilot.StyleReader(e).get("padding-left"))), A.Rl;
                    }),
                    (this.Ol = function () {
                        for (var e = 0; e < this.elements.sections.length; e++) {
                            var t = this.elements.sections[e],
                                n = t.event;
                            if (n)
                                if (t.domArgs && t.domArgs.element) {
                                    var i = t && t.firstChild && t.firstChild.firstChild;
                                    i && (i.style.display = "");
                                } else t.firstChild.innerHTML = n.client.html();
                            k(t.section), DayPilot.Areas.enable(t), (t.section = null);
                        }
                        this.elements.sections = [];
                    }),
                    (this.setScrollX = function (e) {
                        A.zl.enabled
                            ? ((A.zl.scrollXRequested = e),
                              setTimeout(function () {
                                  var e = A.zl.scrollXRequested;
                                  "number" == typeof e && A.El(e);
                              }, 0))
                            : A.El(e);
                    }),
                    (this.El = function (e) {
                        var t = A.nav.scroll,
                            n = A.Sl();
                        t.clientWidth + e > n && (e = n - t.clientWidth), (A.divTimeScroll.scrollLeft = e), (t.scrollLeft = e);
                    }),
                    (this.setScrollY = function (e) {
                        A.zl.enabled
                            ? ((A.zl.scrollYRequested = e),
                              setTimeout(function () {
                                  var e = A.zl.scrollYRequested;
                                  "number" == typeof e && A.Tl(e);
                              }, 0))
                            : A.Tl(e);
                    }),
                    (this.Tl = function (e) {
                        var t = A.nav.scroll,
                            n = A.Tk;
                        t.clientHeight + e > n && (e = n - t.clientHeight), (A.divResScroll.scrollTop = e), (t.scrollTop = e);
                    }),
                    (this.setScroll = function (e, t) {
                        A.setScrollX(e), A.setScrollY(t);
                    }),
                    (this.Ul = function () {
                        return A.Vl() + K.Wl() - 1;
                    }),
                    (this.message = function (e, t) {
                        if (null !== e && A.ya) {
                            var n,
                                i = {};
                            "object" == typeof arguments[1] ? ((i = arguments[1]), (n = i.delay)) : (n = t);
                            var a = "";
                            (a = i.rawHtml ? e : DayPilot.Util.escapeHtml(e)), (n = n || this.messageHideAfter || 2e3);
                            var r,
                                o = A.Xl() + 1,
                                s = A.Ul(),
                                d = DayPilot.sw(A.nav.scroll) + 1,
                                c = DayPilot.sh(A.nav.scroll);
                            if (this.nav.message) r = A.nav.message;
                            else {
                                (r = l()),
                                    (r.style.position = "absolute"),
                                    (r.style.left = s + "px"),
                                    (r.style.right = d + "px"),
                                    (r.style.display = "none"),
                                    DayPilot.rePassive(r, DayPilot.touch.start, function (e) {
                                        (A.nav.message.style.display = "none"), e.stopPropagation();
                                    }),
                                    (r.onmousemove = function () {
                                        A.messageHideOnMouseOut && r.messageTimeout && !r.status && clearTimeout(r.messageTimeout);
                                    }),
                                    (r.onmouseout = function () {
                                        A.messageHideOnMouseOut && "none" !== A.nav.message.style.display && (r.messageTimeout = setTimeout(A.Rb, 500));
                                    });
                                var h = l();
                                (h.onclick = function () {
                                    A.nav.message.style.display = "none";
                                }),
                                    (h.className = A.ca("_message")),
                                    r.appendChild(h);
                                var f = l();
                                (f.style.position = "absolute"),
                                    (f.className = A.ca("_message_close")),
                                    (f.onclick = function () {
                                        A.nav.message.style.display = "none";
                                    }),
                                    r.appendChild(f),
                                    this.nav.top.appendChild(r),
                                    (this.nav.message = r);
                            }
                            var v = function () {
                                if (A.nav.message) {
                                    var e = A.nav.message.firstChild;
                                    (e.className = A.ca("_message")), i.cssClass && u(e, i.cssClass), (e.innerHTML = a);
                                    var t = DayPilot.sw(A.nav.scroll);
                                    A.nav.message.style.right = t + "px";
                                    var s = A.messageBarPosition || "Top";
                                    "Bottom" === s ? ((A.nav.message.style.bottom = c + "px"), (A.nav.message.style.top = "")) : "Top" === s && ((A.nav.message.style.bottom = ""), (A.nav.message.style.top = o + "px"));
                                    var l = function () {
                                        r.messageTimeout = setTimeout(A.Rb, n);
                                    };
                                    DayPilot.fade(A.nav.message, 0.2, l);
                                }
                            };
                            clearTimeout(r.messageTimeout), "none" !== this.nav.message.style.display ? DayPilot.fade(A.nav.message, -0.2, v) : v();
                        }
                    }),
                    (this.Rb = function () {
                        if (A.nav && A.nav.message) {
                            var e = function () {
                                A.nav.message.style.display = "none";
                            };
                            DayPilot.fade(A.nav.message, -0.2, e);
                        }
                    }),
                    (this.Yl = function () {
                        A.nav && A.nav.message && (A.nav.message.style.display = "none");
                    }),
                    (this.message.show = function (e) {
                        A.message(e);
                    }),
                    (this.message.hide = function () {
                        A.Rb();
                    }),
                    (this.Zl = null),
                    (this.vb = function () {
                        if (this.nav.scroll) {
                            !(function () {
                                var e = A.Sl();
                                (A.Dl.style.height = A.Tk + "px"),
                                    (A.Dl.style.width = e + "px"),
                                    "Auto" !== A.cellWidthSpec || A.$l
                                        ? e > A.nav.scroll.clientWidth
                                            ? (A.nav.scroll.style.overflowX = "auto")
                                            : (A.nav.scroll.style.overflowX = "hidden")
                                        : ((A.nav.scroll.style.overflowX = "hidden"), (A.nav.scroll.scrollLeft = 0));
                            })();
                            var e = "None" === A.timeHeaderPosition ? 0 : 1;
                            null !== this.Zl && ((this.nav.top.style.border = this.Zl), (this.Zl = null)),
                                ("Parent100Pct" !== this.heightSpec && "Max100Pct" !== this.heightSpec) ||
                                    ((this.nav.top.style.height = "100%"),
                                    this.hideBorderFor100PctHeight && ((this.Zl = this.nav.top.style.border), (this.nav.top.style.border = "0 none")),
                                    (this.height = parseInt(this.nav.top.clientHeight, 10) - this.Xl() - e)),
                                (this.nav.scroll.style.height = "30px");
                            var t = this.Re(),
                                n = t + this.Xl() + e;
                            if (
                                (t >= 0 && ((this.nav.scroll.style.height = t + "px"), (this._l.style.height = t + "px")),
                                this.nav.divider && ((!n || isNaN(n) || n < 0) && (n = 0), (this.nav.divider.style.height = n + "px")),
                                "Parent100Pct" !== this.heightSpec && (this.nav.top.style.height = n + "px"),
                                A.nav.resScrollSpace)
                            ) {
                                var i = 30 + A.Cl.bottom.height;
                                "Auto" === A.heightSpec && (i = DayPilot.sh(A.nav.scroll)), (A.nav.resScrollSpace.style.height = i + "px");
                            }
                            for (var a = 0; a < this.elements.separators.length; a++) this.elements.separators[a].style.height = this.Tk + "px";
                            for (var a = 0; a < this.elements.linesVertical.length; a++) this.elements.linesVertical[a].style.height = this.Tk + "px";
                            A.bm(), A.cm();
                        }
                    }),
                    (this._k = function () {
                        (this.startDate = new DayPilot.Date(this.startDate).getDatePart()), (this.ta.pixels = []), (this.itline = w());
                        var e = "Auto" === this.cellWidthSpec;
                        if (
                            ((function () {
                                if (e) {
                                    var t = 0;
                                    A.ja() && A.timeline ? (t = A.timeline.length) : "Manual" === A.scale ? (t = A.timeline.length) : (A.dm(), (t = A.itline.length), (A.itline = w()));
                                    var n = A.em();
                                    if (t > 0 && n > 0) {
                                        var i = n / t;
                                        (A.cellWidth = f(i, A.cellWidthMin)), (A.$l = i < A.cellWidthMin);
                                    }
                                }
                            })(),
                            this.ja() && this.timeline)
                        ) {
                            if (this.timeline) {
                                this.itline = w();
                                for (var t = null, n = 0, i = 0; i < this.timeline.length; i++) {
                                    var a = this.timeline[i],
                                        r = {};
                                    if (((r.start = new DayPilot.Date(a.start)), (r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration)), a.width))
                                        (r.left = a.left || n), (r.width = a.width || this.cellWidth), (n += r.width);
                                    else {
                                        var o = Math.floor(n + this.cellWidth),
                                            s = o - Math.floor(n);
                                        (r.left = Math.floor(n)), (r.width = s), (n += this.cellWidth);
                                    }
                                    (r.breakBefore = t && t.ticks !== r.start.ticks), (t = r.end), this.itline.push(r);
                                }
                            }
                            e && this.fm();
                        } else {
                            if (((this.timeHeader = []), "Manual" === this.scale)) {
                                this.itline = w();
                                for (var n = 0, t = null, i = 0; this.timeline && i < this.timeline.length; i++) {
                                    var a = this.timeline[i],
                                        r = {};
                                    if (((r.start = new DayPilot.Date(a.start)), (r.end = a.end ? new DayPilot.Date(a.end) : r.start.addMinutes(this.cellDuration)), t && r.start.ticks < t.ticks))
                                        throw new DayPilot.Exception("The timeline must be sequential");
                                    var l = a.width || this.cellWidth,
                                        o = Math.floor(n + l),
                                        s = o - Math.floor(n);
                                    (r.left = Math.floor(n)), (r.width = s), (n += l), (r.breakBefore = t && t.ticks !== r.start.ticks), (t = r.end), this.itline.push(r);
                                }
                            } else this.dm();
                            this.gm();
                        }
                    }),
                    (this.infinite = {}),
                    (this.infinite.shiftStart = function (e) {
                        M.hm(e);
                    }),
                    (this.infinite.scrollTo = function (e) {
                        M.im(e);
                    }),
                    (this.jm = {});
                var M = this.jm;
                (M.Jl = 0),
                    (M.s = !1),
                    (M.km = function () {
                        A.lm().forEach(function (e, t) {
                            (e.start = A.Ob()), (e.data = null), A.mm(e.index, e.grid);
                        });
                    }),
                    (M.nm = function () {
                        return A.infiniteScrollingEnabled && !A.ja();
                    }),
                    (M.im = function (e) {
                        e = new DayPilot.Date(e);
                        var t = e.addDays(-A.infiniteScrollingStepDays).getDatePart(),
                            n = new DayPilot.Duration(t.getTime() - A.startDate.getDatePart().getTime()).totalDays();
                        M.hm(n, e);
                    }),
                    (M.hm = function (e, t) {
                        var n;
                        M.s = !0;
                        var i = A.startDate,
                            a = A.startDate.addDays(e);
                        e > 0 && (n = -A.getPixels(a).left),
                            (A.startDate = A.startDate.addDays(e)),
                            (A.itline = w()),
                            (A.ta.pixels = []),
                            (A.om = {}),
                            A.dm(),
                            M.km(),
                            e < 0 && (n = A.getPixels(i).left),
                            (A.timeHeader = []),
                            A.gm(),
                            A.hl(),
                            (A.cellProperties = {}),
                            A.kl(),
                            A.ll(),
                            A.nb(),
                            B.cl(),
                            A.Sa(),
                            A.il(),
                            A.jl(),
                            A.vb(),
                            "undefined" != typeof t ? (A.scrollTo(new DayPilot.Date(t)), A.vl()) : (A.nav.scroll.scrollLeft += n),
                            A.ol(),
                            A.zb(),
                            (M.s = !1);
                    }),
                    (this.dm = function () {
                        !A.ya && M.nm() && (this.startDate = this.startDate.addDays(-this.infiniteScrollingStepDays));
                        for (var e = "Days" !== this.viewType ? this.startDate.addDays(this.days) : this.startDate.addDays(1), t = this.startDate, n = this.pm(t), i = !1, a = 0, r = null; n.ticks <= e.ticks && n.ticks > t.ticks; ) {
                            var o = t,
                                s = n;
                            A.showNonBusinessForceHours && "Day" == A.scale && ((o = t.addHours(A.businessBeginsHour)), (s = t.addHours(A.businessEndsHour)));
                            var l = this.qm(o, s, !0);
                            if (!l.cell.start || !l.cell.end) throw new DayPilot.Exception("Invalid timeline cell start/end: start and/or end not specified");
                            if (((l.cell.start = new DayPilot.Date(l.cell.start)), (l.cell.end = new DayPilot.Date(l.cell.end)), l.cell.start >= l.cell.end)) throw new DayPilot.Exception("Invalid timeline cell start/end: end before start");
                            if (r && r.ticks > l.cell.start.ticks) throw new DayPilot.Exception("Invalid timeline cell start/end: overlapping cells");
                            i = !!(r && r.ticks < l.cell.start.ticks);
                            var d = l.cell.width || A.cellWidth;
                            if (l.cell.visible) {
                                var c = Math.floor(a + d),
                                    u = c - Math.floor(a),
                                    h = {};
                                (h.start = l.cell.start), (h.end = l.cell.end), (h.left = Math.floor(a)), (h.width = u), (h.breakBefore = i), this.itline.push(h), (a += d), (r = l.cell.end);
                            }
                            (t = n), (n = this.pm(t));
                        }
                    }),
                    (this.fm = function () {
                        if (this.timeHeader)
                            for (var e = 0; e < this.timeHeader.length; e++)
                                for (var t = this.timeHeader[e], n = 0; n < t.length; n++) {
                                    var i = t[n];
                                    i.left = this.getPixels(new DayPilot.Date(i.start)).left;
                                    var a = this.getPixels(new DayPilot.Date(i.end)).left,
                                        r = a - i.left;
                                    i.width = r;
                                }
                    }),
                    (this.gm = function () {
                        var e = this.timeHeaders;
                        if ((e || (e = [{ groupBy: this.cellGroupBy }, { groupBy: "Cell" }]), this.itline.isEmpty())) {
                            this.timeHeader = [];
                            for (var t = 0; t < e.length; t++) this.timeHeader[t] = [];
                        } else
                            for (var n = A.Vd(), t = 0; t < e.length; t++) {
                                var i = e[t].groupBy,
                                    a = e[t].format;
                                "Default" === i && (i = this.cellGroupBy);
                                for (var r = [], o = this.Ob(); o.ticks < n.ticks; ) {
                                    var s = {};
                                    if (((s.start = o), (s.end = this.rm(s.start, i)), s.start.ticks === s.end.ticks)) break;
                                    s.left = this.getPixels(s.start).left;
                                    var l = this.getPixels(s.end).left,
                                        d = l - s.left;
                                    if (((s.width = d), (s.colspan = Math.ceil(d / (1 * this.cellWidth))), "string" == typeof a ? (s.text = s.start.toString(a, K.Lc())) : (s.text = this.sm(s, i)), d > 0)) {
                                        if ("function" == typeof this.onBeforeTimeHeaderRender) {
                                            var c = {};
                                            (c.start = s.start),
                                                (c.end = s.end),
                                                (c.text = s.text),
                                                (c.html = null),
                                                (c.toolTip = A.Ea(s.text)),
                                                (c.backColor = null),
                                                (c.fontColor = null),
                                                (c.level = this.timeHeader.length),
                                                (c.cssClass = null);
                                            var u = {};
                                            (u.header = c),
                                                (u.control = A),
                                                this.onBeforeTimeHeaderRender(u),
                                                (s.innerHTML = A.Ea(c.text, c.html)),
                                                (s.text = c.text),
                                                (s.html = c.html),
                                                (s.backColor = c.backColor),
                                                (s.fontColor = c.fontColor),
                                                (s.toolTip = c.toolTip),
                                                (s.areas = c.areas),
                                                (s.cssClass = c.cssClass);
                                        }
                                        r.push(s);
                                    }
                                    o = s.end;
                                }
                                this.timeHeader.push(r);
                            }
                    }),
                    (this.qm = function (e, t) {
                        var n = {};
                        (n.start = e), (n.end = t), (n.visible = !0), (n.width = null);
                        var i = {};
                        if (((i.cell = n), "function" == typeof this.onIncludeTimeCell)) return this.onIncludeTimeCell(i), i;
                        if (this.showNonBusiness) return i;
                        var a = "Days" === A.viewType;
                        return (i.cell.visible = this.isBusiness({ start: e, end: t }, a)), i;
                    }),
                    (this.getPixels = function (e) {
                        var t = e.ticks,
                            n = this.ta.pixels[t];
                        if (n) return n;
                        var i = 2218768416e5;
                        if (0 === this.itline.length || t < this.itline[0].start.ticks) {
                            var a = {};
                            return (a.cut = !1), (a.left = 0), (a.boxLeft = a.left), (a.boxRight = a.left), (a.i = null), a;
                        }
                        for (var r = this.tm(e), o = f(r.i - 1, 0), s = o; s < this.itline.length; s++) {
                            var l = this.itline[s],
                                d = l.start.ticks,
                                c = l.end.ticks;
                            if (d < t && t < c) {
                                var u = t - d,
                                    a = {};
                                (a.cut = !1), (a.left = l.left + this.Ff(l, u)), (a.boxLeft = l.left), (a.boxRight = l.left + l.width), (a.i = s);
                                break;
                            }
                            if (d === t) {
                                var a = {};
                                (a.cut = !1), (a.left = l.left), (a.boxLeft = a.left), (a.boxRight = a.left + l.width), (a.i = s);
                                break;
                            }
                            if (c === t) {
                                var a = {};
                                (a.cut = !1), (a.left = l.left + l.width), (a.boxLeft = a.left), (a.boxRight = a.left), (a.i = s + 1);
                                break;
                            }
                            if (t < d && t > i) {
                                var a = {};
                                (a.cut = !0), (a.left = l.left), (a.boxLeft = a.left), (a.boxRight = a.left), (a.i = s);
                                break;
                            }
                            i = c;
                        }
                        if (!a) {
                            var h = this.itline[this.itline.length - 1],
                                a = {};
                            (a.cut = !0), (a.left = h.left + h.width), (a.boxLeft = a.left), (a.boxRight = a.left), (a.i = null);
                        }
                        return (this.ta.pixels[t] = a), a;
                    }),
                    (this.getDate = function (e, t, n) {
                        var i = this.um(e, n);
                        if (!i) return null;
                        var a = i.x,
                            r = this.itline[a];
                        if (!r) return null;
                        var o = n && !t ? r.end : r.start;
                        return t ? o.addTime(this.vm(i.cell, i.offset)) : o;
                    }),
                    (this.um = function (e, t) {
                        if (0 === this.itline.length) return null;
                        for (var n = 0, i = 0, a = 0; a < this.itline.length; a++) {
                            var r = this.itline[a];
                            if (((n += r.width || this.cellWidth), e < n || (t && e === n))) {
                                var o = {};
                                return (o.x = a), (o.offset = e - i), (o.cell = r), o;
                            }
                            i = n;
                        }
                        var r = A.itline.last(),
                            o = {};
                        return (o.x = this.itline.length - 1), (o.offset = r.width || this.cellWidth), (o.cell = r), o;
                    }),
                    (this.wm = function (e) {
                        return this.tm(e);
                    }),
                    (this.tm = function (e) {
                        var t = new DayPilot.Date(e),
                            n = 0,
                            i = this.itline[0];
                        if (t.ticks < i.start.ticks) {
                            var a = {};
                            return (a.hidden = !0), (a.previous = null), (a.current = null), (a.next = this.itline[0]), (a.i = -1), a;
                        }
                        var r = this.itline.length - 1,
                            o = this.itline[r];
                        if (t.ticks > o.end.ticks) {
                            var a = {};
                            return (a.past = !0), (a.previous = this.itline[this.itline.length - 1]), (a.i = this.itline.length), a;
                        }
                        if (t.ticks === o.end.ticks) {
                            var a = {};
                            return (a.past = !1), (a.current = this.itline[this.itline.length - 1]), (a.i = this.itline.length - 1), a;
                        }
                        for (
                            var s = (function () {
                                    for (var e, i = A.itline; n <= r; )
                                        if (((e = Math.floor((n + r) / 2)), i[e].start.ticks > t.ticks)) r = e - 1;
                                        else {
                                            if (!(i[e].end.ticks < t.ticks)) return e;
                                            n = e + 1;
                                        }
                                    return n;
                                })(),
                                l = s;
                            l < this.itline.length;
                            l++
                        ) {
                            var d = this.itline[l];
                            if (d.start.ticks <= t.ticks && t.ticks < d.end.ticks) {
                                var a = {};
                                return (a.hidden = !1), (a.current = d), (a.i = l), a;
                            }
                            if (t.ticks < d.start.ticks) {
                                var a = {};
                                return (a.hidden = !0), (a.previous = l > 0 ? this.itline[l - 1] : null), (a.current = null), (a.next = this.itline[l]), (a.i = l), a;
                            }
                        }
                        var a = {};
                        return (a.past = !0), (a.previous = this.itline[this.itline.length - 1]), (a.i = this.itline.length), a;
                    }),
                    (this.Ff = function (e, t) {
                        var n = e.width || this.cellWidth,
                            i = e.end.ticks - e.start.ticks;
                        return Math.floor((n * t) / i);
                    }),
                    (this.vm = function (e, t) {
                        var n = e.end.ticks - e.start.ticks,
                            i = e.width || this.cellWidth;
                        return Math.floor((t / i) * n);
                    }),
                    (this.kj = function (e) {
                        b.touch.start || i.xm || ((A.ym = {}), A.Tb(this, e));
                    }),
                    (this.eventClickPostBack = function (e, t) {
                        this.Ha("EventClick", e, t);
                    }),
                    (this.eventClickCallBack = function (e, t) {
                        this.Ja("EventClick", e, t);
                    }),
                    (this.Tb = function (e, t) {
                        var n = e.event;
                        if (n) {
                            if (("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), !n.client.doubleClickEnabled())) return void A.Ub(e, t);
                            A.zm.click || (A.zm.click = []);
                            var i = function (e, t) {
                                return function () {
                                    A.Ub(e, t);
                                };
                            };
                            A.zm.click.push(window.setTimeout(i(e, t), A.doubleClickTimeout));
                        }
                    }),
                    (this.Am = function (e) {
                        return A.itline[e];
                    }),
                    (this.Ub = function (e, t) {
                        if ("boolean" == typeof t) throw new DayPilot.Exception("Invalid _eventClickSingle parameters");
                        var n = e.event;
                        if (n) {
                            var i = t.ctrlKey,
                                a = t.metaKey;
                            if (n.client.clickEnabled()) {
                                if ((!!(t.clientX || t.clientY || t.changedTouches) && A.Bm(t), A.Eb())) {
                                    var r = {};
                                    if (
                                        ((r.e = n),
                                        (r.control = A),
                                        (r.div = e),
                                        (r.originalEvent = t),
                                        (r.ctrl = i),
                                        (r.meta = a),
                                        (r.shift = t.shiftKey),
                                        (r.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (r.toJSON = function () {
                                            return p(r, {}, ["e", "ctrl", "meta", "shift"]);
                                        }),
                                        "function" == typeof A.onEventClick && (A.onEventClick(r), r.preventDefault.value))
                                    )
                                        return;
                                    switch (A.eventClickHandling) {
                                        case "PostBack":
                                            A.eventClickPostBack(n);
                                            break;
                                        case "CallBack":
                                            A.eventClickCallBack(n);
                                            break;
                                        case "Edit":
                                            A.Vb(e);
                                            break;
                                        case "Select":
                                            A.Wb(e, n, i, a);
                                            break;
                                        case "ContextMenu":
                                            var o = n.client.contextMenu();
                                            o ? o.show(n) : A.contextMenu && A.contextMenu.show(n);
                                            break;
                                        case "Bubble":
                                            A.bubble && A.bubble.showEvent(n);
                                            break;
                                        case "RectangleSelect":
                                            if ("Disabled" !== K.Cm()) return V.start(), !1;
                                    }
                                    "function" == typeof A.onEventClicked && A.onEventClicked(r);
                                } else
                                    switch (A.eventClickHandling) {
                                        case "PostBack":
                                            A.eventClickPostBack(n);
                                            break;
                                        case "CallBack":
                                            A.eventClickCallBack(n);
                                            break;
                                        case "JavaScript":
                                            A.onEventClick(n);
                                            break;
                                        case "Edit":
                                            A.Vb(e);
                                            break;
                                        case "Select":
                                            A.Wb(e, n, i, a);
                                            break;
                                        case "ContextMenu":
                                            var o = n.client.contextMenu();
                                            o ? o.show(n) : A.contextMenu && A.contextMenu.show(n);
                                            break;
                                        case "Bubble":
                                            A.bubble && A.bubble.showEvent(n);
                                            break;
                                        case "RectangleSelect":
                                            if ("Disabled" !== K.Cm()) return V.start(), !1;
                                    }
                            }
                        }
                    }),
                    (this.dc = function (e) {
                        if (A.Eb()) {
                            var t = function () {
                                    if (!n.preventDefault.value) {
                                        switch (((n.loaded = function () {}), A.eventDeleteHandling)) {
                                            case "PostBack":
                                                A.eventDeletePostBack(e);
                                                break;
                                            case "CallBack":
                                                A.eventDeleteCallBack(e);
                                                break;
                                            case "Update":
                                                A.events.remove(e), "undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive();
                                        }
                                        "function" == typeof A.onEventDeleted && A.onEventDeleted(n);
                                    }
                                },
                                n = {};
                            (n.async = !1),
                                (n.e = e),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (n.control = A),
                                (n.toJSON = function () {
                                    return p(n, {}, ["e"]);
                                }),
                                (n.loaded = function () {
                                    t();
                                }),
                                "function" == typeof A.onEventDelete && A.onEventDelete(n),
                                n.async || t();
                        } else
                            switch (A.eventDeleteHandling) {
                                case "PostBack":
                                    A.eventDeletePostBack(e);
                                    break;
                                case "CallBack":
                                    A.eventDeleteCallBack(e);
                                    break;
                                case "JavaScript":
                                    A.onEventDelete(e);
                            }
                    }),
                    (this.eventDeletePostBack = function (e, t) {
                        this.Ha("EventDelete", e, t);
                    }),
                    (this.eventDeleteCallBack = function (e, t) {
                        this.Ja("EventDelete", e, t);
                    }),
                    (this.setHScrollPosition = function (e) {
                        this.nav.scroll.scrollLeft = e;
                    }),
                    (this.getScrollX = function () {
                        return this.nav.scroll.scrollLeft;
                    }),
                    (this.getHScrollPosition = this.getScrollX),
                    (this.getScrollY = function () {
                        return this.nav.scroll.scrollTop;
                    }),
                    (this.Wb = function (e, t, n, i) {
                        A.Ac(e, t, n, i);
                    }),
                    (this.eventSelectPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.Ha("EventSelect", i, n);
                    }),
                    (this.eventSelectCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.change = t), this.Ja("EventSelect", i, n);
                    }),
                    (this.Ac = function (e, t, n, i) {
                        var a = A.multiselect,
                            r = a.isSelected(t);
                        if (n || i || !r || 1 !== a.Bc.length)
                            if (A.Eb()) {
                                a.ld = a.events();
                                var o = {};
                                if (
                                    ((o.e = t),
                                    (o.selected = r),
                                    (o.ctrl = n),
                                    (o.meta = i),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof A.onEventSelect && (A.onEventSelect(o), o.preventDefault.value))
                                )
                                    return;
                                switch (A.eventSelectHandling) {
                                    case "PostBack":
                                        A.eventSelectPostBack(t, s);
                                        break;
                                    case "CallBack":
                                        "undefined" != typeof WebForm_InitCallback && ((window.Cc = ""), (window.Dc = []), WebForm_InitCallback()), A.eventSelectCallBack(t, s);
                                        break;
                                    case "Update":
                                        a.Ec(e, n, i);
                                }
                                "function" == typeof A.onEventSelected && ((o.change = a.isSelected(t) ? "selected" : "deselected"), (o.selected = a.isSelected(t)), A.onEventSelected(o));
                            } else {
                                (a.ld = a.events()), a.Ec(e, n, i);
                                var s = a.isSelected(t) ? "selected" : "deselected";
                                switch (A.eventSelectHandling) {
                                    case "PostBack":
                                        A.eventSelectPostBack(t, s);
                                        break;
                                    case "CallBack":
                                        "undefined" != typeof WebForm_InitCallback && ((window.Cc = ""), (window.Dc = []), WebForm_InitCallback()), A.eventSelectCallBack(t, s);
                                        break;
                                    case "JavaScript":
                                        A.onEventSelect(t, s);
                                }
                            }
                    }),
                    (this.eventRightClickPostBack = function (e, t) {
                        this.Ha("EventRightClick", e, t);
                    }),
                    (this.eventRightClickCallBack = function (e, t) {
                        this.Ja("EventRightClick", e, t);
                    }),
                    (this.Yb = function (e) {
                        if (!b.touch.active && !b.touch.start) {
                            var t = this.event;
                            if (((e.cancelBubble = !0), A.allowDefaultContextMenu || e.preventDefault(), !this.event.client.rightClickEnabled())) return !1;
                            if ((A.Bm(e), A.Eb())) {
                                var n = {};
                                if (
                                    ((n.e = t),
                                    (n.div = this),
                                    (n.originalEvent = e),
                                    (n.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof A.onEventRightClick && (A.onEventRightClick(n), n.preventDefault.value))
                                )
                                    return !1;
                                switch (A.eventRightClickHandling) {
                                    case "PostBack":
                                        A.eventRightClickPostBack(t);
                                        break;
                                    case "CallBack":
                                        A.eventRightClickCallBack(t);
                                        break;
                                    case "ContextMenu":
                                        var i = t.client.contextMenu();
                                        i ? i.show(t) : A.contextMenu && A.contextMenu.show(this.event);
                                        break;
                                    case "Bubble":
                                        A.bubble && A.bubble.showEvent(t);
                                }
                                "function" == typeof A.onEventRightClicked && A.onEventRightClicked(n);
                            } else
                                switch (A.eventRightClickHandling) {
                                    case "PostBack":
                                        A.eventRightClickPostBack(t);
                                        break;
                                    case "CallBack":
                                        A.eventRightClickCallBack(t);
                                        break;
                                    case "JavaScript":
                                        A.onEventRightClick(t);
                                        break;
                                    case "ContextMenu":
                                        var i = t.client.contextMenu();
                                        i ? i.show(t) : A.contextMenu && A.contextMenu.show(this.event);
                                        break;
                                    case "Bubble":
                                        A.bubble && A.bubble.showEvent(t);
                                }
                            return !1;
                        }
                    }),
                    (this.eventDoubleClickPostBack = function (e, t) {
                        this.Ha("EventDoubleClick", e, t);
                    }),
                    (this.eventDoubleClickCallBack = function (e, t) {
                        this.Ja("EventDoubleClick", e, t);
                    }),
                    (this.Xb = function (e) {
                        if (("undefined" != typeof DayPilot.Bubble && DayPilot.Bubble.hideActive(), A.zm.click)) {
                            for (var t in A.zm.click) window.clearTimeout(A.zm.click[t]);
                            A.zm.click = null;
                        }
                        var n = this.event;
                        if ((e.stopPropagation && e.stopPropagation(), (e.cancelBubble = !0), A.Eb())) {
                            var i = {};
                            if (
                                ((i.e = n),
                                (i.originalEvent = e),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onEventDoubleClick && (A.onEventDoubleClick(i), i.preventDefault.value))
                            )
                                return;
                            switch (A.eventDoubleClickHandling) {
                                case "PostBack":
                                    A.eventDoubleClickPostBack(n);
                                    break;
                                case "CallBack":
                                    A.eventDoubleClickCallBack(n);
                                    break;
                                case "Edit":
                                    A.Vb(this);
                                    break;
                                case "Select":
                                    A.Wb(div, n, e.ctrlKey, e.metaKey);
                                    break;
                                case "Bubble":
                                    A.bubble && A.bubble.showEvent(n);
                                    break;
                                case "ContextMenu":
                                    var a = n.client.contextMenu();
                                    a ? a.show(n) : A.contextMenu && A.contextMenu.show(n);
                            }
                            "function" == typeof A.onEventDoubleClicked && A.onEventDoubleClicked(i);
                        } else
                            switch (A.eventDoubleClickHandling) {
                                case "PostBack":
                                    A.eventDoubleClickPostBack(n);
                                    break;
                                case "CallBack":
                                    A.eventDoubleClickCallBack(n);
                                    break;
                                case "JavaScript":
                                    A.onEventDoubleClick(n);
                                    break;
                                case "Edit":
                                    A.Vb(this);
                                    break;
                                case "Select":
                                    A.Wb(div, n, e.ctrlKey, e.metaKey);
                                    break;
                                case "Bubble":
                                    A.bubble && A.bubble.showEvent(n);
                                    break;
                                case "ContextMenu":
                                    var a = n.client.contextMenu();
                                    a ? a.show(n) : A.contextMenu && A.contextMenu.show(n);
                            }
                    }),
                    (this.eventResizePostBack = function (e, t, n, i) {
                        this.lc("PostBack", e, t, n, i);
                    }),
                    (this.eventResizeCallBack = function (e, t, n, i) {
                        this.lc("CallBack", e, t, n, i);
                    }),
                    (this.lc = function (e, t, n, i, a) {
                        var r = t && !!t.preventDefault,
                            o = {};
                        if (r) {
                            var s = t;
                            (o.e = s.e),
                                (o.newStart = s.newStart),
                                (o.newEnd = s.newEnd),
                                (o.multiresize = []),
                                s.multiresize.forEach(function (e) {
                                    var t = {};
                                    (t.e = e.event), (t.newStart = e.start), (t.newEnd = e.end), o.multiresize.push(t);
                                });
                        } else (o.e = t), (o.newStart = n), (o.newEnd = i);
                        this.ec(e, "EventResize", o, a);
                    }),
                    (this.jc = function (e, t, n, i) {
                        if ("Disabled" !== this.eventResizeHandling) {
                            n = A.xj(n);
                            var a = {};
                            (a.e = e),
                                (a.async = !1),
                                (a.loaded = function () {
                                    o();
                                }),
                                (a.newStart = t),
                                (a.newEnd = n),
                                (a.what = i),
                                (a.areaData = b.resizingAreaData),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (a.multiresize = w(L.list)),
                                (a.control = A),
                                (a.toJSON = function () {
                                    return p(a, {}, ["e", "async", "newStart", "newEnd", "multiresize"]);
                                });
                            var r = {};
                            if (((r.event = e), (r.start = t), (r.end = n), a.multiresize.splice(0, 0, r), A.Eb())) {
                                var o = function () {
                                    if ((q.B(), !a.preventDefault.value)) {
                                        switch (((a.loaded = function () {}), (t = a.newStart), (n = a.newEnd), A.eventResizeHandling)) {
                                            case "PostBack":
                                                A.eventResizePostBack(a);
                                                break;
                                            case "CallBack":
                                                A.eventResizeCallBack(a);
                                                break;
                                            case "Notify":
                                                A.eventResizeNotify(a);
                                                break;
                                            case "Update":
                                                A.Dm(a);
                                        }
                                        "function" == typeof A.onEventResized && A.onEventResized(a);
                                    }
                                };
                                "function" == typeof A.onEventResize && A.onEventResize(a), a.async ? A.blockOnCallBack && q.D() : o();
                            } else
                                switch (A.eventResizeHandling) {
                                    case "PostBack":
                                        A.eventResizePostBack(a);
                                        break;
                                    case "CallBack":
                                        A.eventResizeCallBack(a);
                                        break;
                                    case "JavaScript":
                                        A.onEventResize(e, t, n);
                                        break;
                                    case "Notify":
                                        A.eventResizeNotify(a);
                                        break;
                                    case "Update":
                                        A.Dm(a);
                                }
                        }
                    }),
                    (this.eventMovePostBack = function (e, t, n, i, a, r) {
                        this.rc("PostBack", e, t, n, i, a, r);
                    }),
                    (this.eventMoveCallBack = function (e, t, n, i, a, r) {
                        this.rc("CallBack", e, t, n, i, a, r);
                    }),
                    (this.rc = function (e, t, n, i, a, r, o) {
                        var s = t && !!t.preventDefault,
                            l = {};
                        if (s) {
                            var d = t;
                            (l.e = d.e),
                                (l.newStart = d.newStart),
                                (l.newEnd = d.newEnd),
                                (l.newResource = d.newResource),
                                (l.position = d.position),
                                (l.multimove = []),
                                d.multimove.forEach(function (e) {
                                    var t = {};
                                    if (((t.e = e.event), (t.newStart = e.start), (t.newEnd = e.end), (t.newResource = e.event.resource()), t.e === d.e || t.e.data.id == d.e.data.id)) t.newResource = d.newResource;
                                    else if (z.rowoffset) {
                                        var n = e.event.part.dayIndex + z.rowoffset;
                                        t.newResource = A.rowlist[n].id;
                                    }
                                    l.multimove.push(t);
                                });
                        } else (l.e = t), (l.newStart = n), (l.newEnd = i), (l.newResource = a), (l.position = o);
                        this.ec(e, "EventMove", l, r);
                    }),
                    (this.Em = function (e, t, n) {
                        var i = {};
                        (i.start = t.start),
                            (i.end = t.end),
                            (i.resource = t.resource),
                            (i.multirange = []),
                            t.multirange.forEach(function (e) {
                                var t = {};
                                (t.start = e.start), (t.end = e.end), (t.resource = e.resource), i.multirange.push(t);
                            }),
                            this.ec(e, "TimeRangeSelected", i, n);
                    }),
                    (this.ec = function (e, t, n, i) {
                        if ("PostBack" === e) A.Ha(t, n, i);
                        else if ("CallBack" === e) A.Ja(t, n, i, "CallBack");
                        else if ("Immediate" === e) A.Ja(t, n, i, "Notify");
                        else if ("Queue" === e) A.queue.add(new DayPilot.Action(this, t, n, i));
                        else {
                            if ("Notify" !== e) throw new DayPilot.Exception("Invalid event invocation type");
                            "Notify" === K.fc() ? A.Ja(t, n, i, "Notify") : A.queue.add(new DayPilot.Action(A, t, n, i));
                        }
                    }),
                    (this.eventMoveNotify = function (e, t, n, i, a, r) {
                        if (e && !!e.preventDefault) {
                            var o = e;
                            (o.old = new DayPilot.Event(o.e.copy(), A)),
                                o.multimove.forEach(function (e) {
                                    e.old = new DayPilot.Event(e.event.copy(), A);
                                }),
                                A.Dm(o),
                                (o.e = o.old),
                                delete o.old,
                                o.multimove.forEach(function (e) {
                                    (e.event = e.old), delete e.old;
                                });
                        } else {
                            e = new DayPilot.Event(e.copy(), A);
                            var s = A.events.Fm(e.data);
                            e.start(t), e.end(n), e.resource(i), e.commit(), (s = s.concat(A.events.Gm(e.data))), A.Hm(s), A.Im(), A.Jm(s);
                        }
                        this.rc("Notify", e, t, n, i, a, r);
                    }),
                    (this.eventResizeNotify = function (e, t, n, i) {
                        if (e && !!e.preventDefault) {
                            var a = e;
                            (a.old = new DayPilot.Event(a.e.copy(), A)),
                                a.multiresize.forEach(function (e) {
                                    e.old = new DayPilot.Event(e.event.copy(), A);
                                }),
                                A.Dm(a),
                                (a.e = a.old),
                                delete a.old,
                                a.multiresize.forEach(function (e) {
                                    (e.event = e.old), delete e.old;
                                });
                        } else {
                            e = new DayPilot.Event(e.copy(), A);
                            var r = A.events.Fm(e.data);
                            e.start(t), e.end(n), e.commit(), (r = r.concat(A.events.Gm(e.data))), A.Hm(r), A.Im(), A.Jm(r);
                        }
                        this.lc("Notify", e, t, n, i);
                    }),
                    (this.zoom = {}),
                    (this.zoom.active = -1),
                    (this.zoom.setActive = function (e, t, n) {
                        var i;
                        if ("number" == typeof e) i = A.zoomLevels[e];
                        else {
                            if ("string" != typeof e) throw new DayPilot.Exception("Unexpected parameter type (string or number required): " + typeof e);
                            var a = A.zoom.ed(e);
                            i = A.zoomLevels[a];
                        }
                        if (!i) throw new DayPilot.Exception("Zoom level not found: " + e + " (" + typeof e + ")");
                        (e !== A.zoom.active || n) && (n || (n = A.zoom.ek(t)), n && (A.startDate = n), A.zoom.gd(e, n), A.ya && A.update(), n && A.scrollTo(n, null, t || A.zoomPosition));
                    }),
                    (this.zoom.ed = function (e) {
                        return w(A.zoomLevels).findIndex(function (t) {
                            return t.id === e;
                        });
                    }),
                    (this.zoom.ek = function (e) {
                        e = e || A.zoomPosition || "left";
                        var t = null;
                        if (!A.nav.scroll) return null;
                        var n = A.getViewPort();
                        switch (e) {
                            case "left":
                                t = n.start;
                                break;
                            case "middle":
                                t = n.start && n.start.addTime((A.getViewPort().end.getTime() - A.getViewPort().start.getTime()) / 2);
                                break;
                            case "right":
                                t = n.end;
                        }
                        return t;
                    }),
                    (this.zoom.gd = function (e, t) {
                        var n = A.zoomLevels.length - 1;
                        e > n && (e = n), e < 0 && (e = 0), (A.zoom.active = e);
                        var i = A.zoomLevels[e],
                            a = {};
                        return (
                            (a.date = t || new DayPilot.Date(A.startDate)),
                            (a.level = i),
                            DayPilot.Util.ownPropsAsArray(i.properties).forEach(function (e) {
                                if (0 !== e.key.indexOf("on")) return "function" == typeof e.val ? void (A[e.key] = e.val(a)) : void (A[e.key] = e.val);
                            }),
                            a
                        );
                    }),
                    (this.multiselect = {}),
                    (this.multiselect.Bc = []),
                    (this.multiselect.kd = []),
                    (this.multiselect.ld = []),
                    (this.multiselect.ml = function (e) {
                        A.multiselect.Bc = w(e).map(function (e) {
                            return new DayPilot.Event(e, A);
                        });
                    }),
                    (this.multiselect.md = function () {
                        var e = A.multiselect;
                        return JSON.stringify(e.events());
                    }),
                    (this.multiselect.events = function () {
                        var e = A.multiselect,
                            t = w();
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.Bc.length; n++) t.push(e.Bc[n]);
                        return t;
                    }),
                    (this.multiselect.get = function () {
                        return A.multiselect.events();
                    }),
                    (this.multiselect.nd = function () {}),
                    (this.multiselect.Ec = function (e, t, n) {
                        var i = A.multiselect;
                        if (i.isSelected(e.event))
                            if (A.allowMultiSelect)
                                if (t || n) i.remove(e.event, !0);
                                else {
                                    var a = i.Bc.length;
                                    i.clear(), a > 1 && i.add(e.event, !0);
                                }
                            else i.clear();
                        else A.allowMultiSelect && (t || n) ? i.add(e.event, !0) : (i.clear(), i.add(e.event, !0));
                        i.Ad(e), i.nd();
                    }),
                    (this.multiselect.od = function (e) {
                        var t = A.multiselect;
                        return t.pd(e, t.Bc);
                    }),
                    (this.multiselect.qd = function () {
                        for (var e = A.multiselect, t = [], n = 0; n < e.Bc.length; n++) {
                            var i = e.Bc[n];
                            t.push(i.value());
                        }
                        alert(t.join("\n"));
                    }),
                    (this.multiselect.add = function (e, t) {
                        var n = A.multiselect;
                        n.rd(e) === -1 && n.Bc.push(e), t || n.Km(e);
                    }),
                    (this.multiselect.remove = function (e, t) {
                        var n = A.multiselect,
                            i = n.rd(e);
                        i !== -1 && n.Bc.splice(i, 1), t || n.Km(e);
                    }),
                    (this.multiselect.clear = function (e) {
                        var t = A.multiselect;
                        (t.Bc = []), e || t.redraw();
                    }),
                    (this.multiselect.redraw = function () {
                        var e = A.multiselect;
                        e.kd = [];
                        for (var t = 0; t < A.elements.events.length; t++) {
                            var n = A.elements.events[t];
                            n.event && n.event.isEvent && (e.isSelected(n.event) ? e.sd(n) : e.td(n));
                        }
                    }),
                    (this.multiselect.Ad = function (e) {
                        if (e) {
                            var t = A.multiselect;
                            t.isSelected(e.event) ? t.sd(e) : t.td(e);
                        }
                    }),
                    (this.multiselect.Km = function (e) {
                        var t = A.multiselect,
                            n = A.Sg(e);
                        t.Ad(n);
                    }),
                    (this.multiselect.sd = function (e) {
                        var t = A.multiselect,
                            n = A.ca("_selected"),
                            e = t.ud(e);
                        u(e, n), t.kd.push(e);
                    }),
                    (this.multiselect.ud = function (e) {
                        return e;
                    }),
                    (this.multiselect.vd = function () {
                        for (var e = A.multiselect, t = 0; t < e.kd.length; t++) {
                            var n = e.kd[t];
                            e.td(n, !0);
                        }
                        e.kd = [];
                    }),
                    (this.multiselect.td = function (e, t) {
                        var n = A.multiselect;
                        if ((c(e, A.ca("_selected")), !t)) {
                            var i = C(n.kd, e);
                            i !== -1 && n.kd.splice(i, 1);
                        }
                    }),
                    (this.multiselect.isSelected = function (e) {
                        return !!e && !!e.isEvent && A.multiselect.pd(e, A.multiselect.Bc);
                    }),
                    (this.multiselect.rd = function (e) {
                        for (var t = e.data, n = 0; n < A.multiselect.Bc.length; n++) {
                            var i = A.multiselect.Bc[n];
                            if (A.xd(i.data, t)) return n;
                        }
                        return -1;
                    }),
                    (this.multiselect.pd = function (e, t) {
                        if (!t) return !1;
                        for (var n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (A.xd(e, i)) return !0;
                        }
                        return !1;
                    }),
                    (this.multiselect.startRectangle = function () {
                        V.start();
                    }),
                    (this.Lm = function () {
                        this.ll(), this.ol();
                    }),
                    (this.Mm = function () {
                        B.Nm();
                    }),
                    (this.Om = function () {
                        A.Pm(), A.dl(), A.fl(), A.jl(), A.Qm(), A.progressiveRowRendering && A.Rm();
                    }),
                    (this.Ad = function (n) {
                        n = n || {};
                        var i = !n.eventsOnly;
                        window.clearTimeout(A.Sm);
                        var a = A.keyboard.getFocus();
                        if (
                            (A.dl(),
                            i &&
                                (this.ja() || ((A.timeHeader = null), (A.cellProperties = {})),
                                (A.om = {}),
                                A.$k(),
                                A._k(),
                                (n && n.dontLoadResources) || A.al(),
                                A.Tm !== A.timeHeaderPosition && A.Um(),
                                A.events.Vm(),
                                A.Ga.Ug(),
                                A.clearSelection(),
                                a && A.Xm.Wm()),
                            A.nb(),
                            B.cl(),
                            A.Ym(),
                            A.bl(),
                            A.il(),
                            A.fl(),
                            i && (A.Wg(), A.gl(), A.hl(), A.ul(A.selectedRows), A.Zm()),
                            A.jl(),
                            A.Qm(),
                            A.ob(),
                            B.$m(),
                            this.Sa(),
                            this.kl(),
                            this.Da(),
                            this.mb(),
                            A.vb(),
                            this.nl(),
                            this.Lm(),
                            n.immediateEvents || n.eventsOnly
                                ? A.zb()
                                : setTimeout(function () {
                                      A.zb();
                                  }, 100),
                            i && a)
                        )
                            if (a.e) {
                                var r = A.events.find(t);
                                r && A.keyboard.focusEvent(e.id());
                            } else if (a.cell) {
                                var o = a.cell.start,
                                    s = a.cell.resource,
                                    l = A._m(o, s);
                                l && "main" === l.grid && A.keyboard.focusCell(o, s);
                            }
                        this.visible ? A.Vk != A.visible && this.show() : this.hide(), (this.Vk = this.visible), this.sl(), A.Tg.scope || A.zl.enabled ? (A.ya ? A.vl() : M.nm() || A.vl()) : A.vl(), this.an(), this.Db(), this.bn();
                    }),
                    (this.an = function () {
                        if ("function" == typeof A.onAfterUpdate) {
                            var e = {};
                            A.onAfterUpdate(e);
                        }
                    }),
                    (this.update = function (e) {
                        if (!A.ya) throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");
                        if (A.za) throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");
                        R.request(e);
                    }),
                    (this.disposed = function () {
                        return A.za;
                    });
                var R = {};
                (R.timeout = null),
                    (R.options = null),
                    (R.enabled = !1),
                    (R.request = function (e) {
                        R.enabled ? (clearTimeout(R.timeout), R.cn(e), (R.timeout = setTimeout(R.doit))) : (R.cn(e), R.doit());
                    }),
                    (R.cn = function (e) {
                        if (e) {
                            R.options || (R.options = {});
                            for (var t in e) R.options[t] = e[t];
                        }
                    }),
                    (R.doit = function () {
                        var e = R.options;
                        return (
                            (R.options = null),
                            A.ya
                                ? DayPilot.Util.isOnlyProperty(e, "events")
                                    ? ((A.events.list = e.events), A.Ad({ eventsOnly: !0 }), void Z.dn())
                                    : DayPilot.Util.isOnlyProperty(e, "separators")
                                    ? ((A.separators = e.separators), void A.Lm())
                                    : DayPilot.Util.isOnlyProperty(e, "rowHeaderColumns") && !A.en()
                                    ? ((A.rowHeaderColumns = e.rowHeaderColumns), void A.Om())
                                    : DayPilot.Util.isOnlyProperty(e, "links")
                                    ? ((A.links.list = e.links), void A.Mm())
                                    : (A.Xg(e), A.Ad({ immediateEvents: !0 }), A.mh(), Z.dn(), void A.ib(null, !1))
                                : void A.Xg(e)
                        );
                    }),
                    (this.gn = function (e) {
                        e.forEach(function (e) {
                            A.hn(e.index, e.grid);
                        });
                    }),
                    (this.in = function (e) {
                        return e && 0 !== e.length
                            ? e[0].isRow
                                ? e
                                : e.map(function (e) {
                                      return A.rowlist[e];
                                  })
                            : [];
                    }),
                    (this.Jm = function (e, t, n) {
                        (e = DayPilot.ua(e)),
                            (e = A.in(e)),
                            A.gn(e),
                            this.jn
                                ? (this.il(),
                                  this.jl(),
                                  this.kl(),
                                  this.ll(),
                                  e.forEach(function (e) {
                                      A.kn(e.index, e.grid);
                                  }),
                                  e.forEach(function (e) {
                                      A.ln(e.index, e.grid);
                                  }),
                                  this.nl(),
                                  this.ol(),
                                  this.mn(),
                                  this.bb(),
                                  this.If())
                                : (e.forEach(function (e) {
                                      t || A.kn(e.index, e.grid), A.ln(e.index, e.grid);
                                  }),
                                  e.forEach(function (e) {
                                      A.nn(e.index, e.grid);
                                  }),
                                  A.nl()),
                            A.Ll(),
                            B.Nm(),
                            A.multiselect.redraw(),
                            n && n(),
                            this.Da();
                    }),
                    (this.xj = function (e) {
                        return "DateTime" === A.eventEndSpec ? e : e.getDatePart().ticks === e.ticks ? e.addDays(-1) : e.getDatePart();
                    }),
                    (this.aj = function (e) {
                        return "DateTime" === A.eventEndSpec ? e : e.getDatePart().addDays(1);
                    }),
                    (this.Aj = function (e) {
                        return "DateTime" === A.eventEndSpec ? e : e.getDatePart();
                    }),
                    (this.oc = function (e, t, n, a, r, o, s) {
                        if (((A.db = null), "Disabled" !== A.eventMoveHandling)) {
                            n = A.xj(n);
                            var l = {};
                            (l.e = e),
                                (l.newStart = t),
                                (l.newEnd = n),
                                (l.newResource = a),
                                (l.external = r),
                                (l.ctrl = !1),
                                (l.meta = !1),
                                (l.shift = !1),
                                o && ((l.shift = o.shiftKey), (l.ctrl = o.ctrlKey), (l.meta = o.metaKey)),
                                (l.multimove = w(z.list, !0)),
                                (l.areaData = b.movingAreaData),
                                (l.control = A),
                                (l.toJSON = function () {
                                    return p(l, {}, ["e", "newStart", "newEnd", "newResource", "external", "ctrl", "meta", "shift", "multimove", "areaData"]);
                                });
                            var d = {};
                            if (
                                ((d.event = e),
                                (d.start = t),
                                (d.end = n),
                                (d.overlapping = !1),
                                (d.resource = a),
                                l.multimove.splice(0, 0, d),
                                (l.position = s),
                                (l.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                A.Eb())
                            ) {
                                var c = function () {
                                    if (((l.loaded = function () {}), q.B(), l.preventDefault.value))
                                        return (
                                            (i.xm = !0),
                                            setTimeout(function () {
                                                i.xm = !1;
                                            }),
                                            void A.pc()
                                        );
                                    switch (((t = l.newStart), (n = l.newEnd), A.eventMoveHandling)) {
                                        case "PostBack":
                                            A.eventMovePostBack(l);
                                            break;
                                        case "CallBack":
                                            A.eventMoveCallBack(l);
                                            break;
                                        case "Notify":
                                            A.eventMoveNotify(l);
                                            break;
                                        case "Update":
                                            A.Dm(l);
                                    }
                                    A.pc(), "function" == typeof A.onEventMoved && A.onEventMoved(l);
                                };
                                (l.async = !1),
                                    (l.loaded = function () {
                                        c();
                                    }),
                                    "function" == typeof A.onEventMove && A.onEventMove(l),
                                    l.async ? A.blockOnCallBack && q.D() : c();
                            } else {
                                switch (A.eventMoveHandling) {
                                    case "PostBack":
                                        A.eventMovePostBack(l);
                                        break;
                                    case "CallBack":
                                        A.eventMoveCallBack(l);
                                        break;
                                    case "JavaScript":
                                        A.onEventMove(e, t, n, a, r, !!o && o.ctrlKey, !!o && o.shiftKey, s);
                                        break;
                                    case "Notify":
                                        A.eventMoveNotify(l);
                                        break;
                                    case "Update":
                                        A.Dm(l);
                                }
                                A.pc();
                            }
                        }
                    }),
                    (this.Dm = function (e) {
                        var t = e.e,
                            n = e.newStart,
                            i = e.newEnd,
                            a = e.newResource,
                            r = e.external;
                        t.start(n),
                            t.end(i),
                            t.resource(a),
                            r ? (t.commit(), A.events.add(t)) : A.events.update(t),
                            e.multimove &&
                                !e.multimove.isEmpty() &&
                                e.multimove.forEach(function (e) {
                                    e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.resource(e.resource), e.event.commit(), A.events.update(e.event));
                                }),
                            e.multiresize &&
                                !e.multiresize.isEmpty() &&
                                e.multiresize.forEach(function (e) {
                                    e.event !== t && (e.event.start(e.start), e.event.end(e.end), e.event.commit(), A.events.update(e.event));
                                }),
                            A.events.on(),
                            A.qc();
                    }),
                    (this.sc = function (e, t) {
                        var n = A.tc(t),
                            i = {};
                        (i.args = e), (i.guid = n), A.Ja("Bubble", i);
                    }),
                    (this.tc = function (e) {
                        var t = DayPilot.guid();
                        return this.bubbles || (this.bubbles = []), (this.bubbles[t] = e), t;
                    }),
                    (this.eventMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.command = t), this.Ha("EventMenuClick", i, n);
                    }),
                    (this.eventMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.command = t), this.Ja("EventMenuClick", i, n);
                    }),
                    (this.uc = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                A.eventMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                A.eventMenuClickCallBack(t, e);
                        }
                    }),
                    (this.timeRangeSelectedPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.resource = n), this.Ha("TimeRangeSelected", a, i);
                    }),
                    (this.timeRangeSelectedCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.resource = n), this.Ja("TimeRangeSelected", a, i);
                    }),
                    (this.pn = function (e, t) {
                        if (e) {
                            if (e.disabled) return void A.clearSelection();
                            if (e.args) A.wc(e.args.start, e.args.end, e.args.resource, t);
                            else {
                                var n = A.qn(e);
                                if (!n) return;
                                A.wc(n.start, n.end, n.resource, t);
                            }
                        }
                    }),
                    (this.wc = function (e, t, n, i) {
                        if ("Disabled" !== A.timeRangeSelectedHandling) {
                            i = i || "drag";
                            var a = t;
                            t = A.xj(a);
                            var r = {};
                            if (
                                ((r.control = A),
                                (r.start = e),
                                (r.end = t),
                                (r.resource = n),
                                (r.origin = i),
                                (r.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (r.multirange = w(X.list).map(function (e) {
                                    return A.qn(e);
                                })),
                                r.multirange.isEmpty() && r.multirange.push({ start: r.start, end: r.end, resource: r.resource }),
                                (r.toJSON = function () {
                                    return p(r, {}, ["start", "end", "resource", "multirange"]);
                                }),
                                A.Eb())
                            ) {
                                if ("function" == typeof A.onTimeRangeSelect) {
                                    if ((A.onTimeRangeSelect(r), r.preventDefault.value)) return;
                                    (e = r.start), (t = r.end);
                                }
                                switch (((t = A.aj(t)), A.rn(A.sn, e, t, r.multirange), A.tn(A.sn), A.timeRangeSelectedHandling)) {
                                    case "PostBack":
                                        A.Em("PostBack", r);
                                        break;
                                    case "CallBack":
                                        A.Em("CallBack", r);
                                }
                                "function" == typeof A.onTimeRangeSelected && A.onTimeRangeSelected(r);
                            } else
                                switch (A.timeRangeSelectedHandling) {
                                    case "PostBack":
                                        A.Em("PostBack", r);
                                        break;
                                    case "CallBack":
                                        A.Em("CallBack", r);
                                        break;
                                    case "JavaScript":
                                        A.onTimeRangeSelected(e, t, n, r.multirange);
                                        break;
                                    case "Hold":
                                }
                        }
                    }),
                    (this.rn = function (e, t, n, i) {
                        if (e && !(i && i.length > 1)) {
                            var a,
                                r,
                                o = n,
                                s = 0;
                            if ("Days" === A.viewType) {
                                s = A.Bl(t).start.getTime() - A.Ob().getTime();
                            }
                            t.getTime() < A.itline[0].start.getTime()
                                ? ((e.start.x = 0), (e.start.time = A.itline[0].start.getTime()))
                                : ((a = A.wm(t.addTime(-s))), (r = a.current || a.previous), (e.start.x = C(A.itline, r)), (e.start.time = t)),
                                (a = A.wm(o.addMilliseconds(-1).addTime(-s))),
                                a.past ? ((e.end.x = A.itline.length - 1), (e.end.time = A.itline[A.itline.length - 1].end.getTime())) : ((r = a.current || a.next), (e.end.x = C(A.itline, r)), (e.end.time = n));
                        }
                    }),
                    (this.Bl = function (e) {
                        var t = e.getDatePart();
                        return w(A.rowlist).find(function (e) {
                            return e.start.getDatePart() === t;
                        });
                    }),
                    (this.timeRangeDoubleClickPostBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.resource = n), this.Ha("TimeRangeDoubleClick", a, i);
                    }),
                    (this.timeRangeDoubleClickCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.start = e), (a.end = t), (a.resource = n), this.Ja("TimeRangeDoubleClick", a, i);
                    }),
                    (this.yc = function (e, t, n) {
                        if (((t = A.xj(t)), A.Eb())) {
                            var i = {};
                            if (
                                ((i.start = e),
                                (i.end = t),
                                (i.resource = n),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onTimeRangeDoubleClick && (A.onTimeRangeDoubleClick(i), i.preventDefault.value))
                            )
                                return;
                            switch (A.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    A.timeRangeDoubleClickPostBack(e, t, n);
                                    break;
                                case "CallBack":
                                    A.timeRangeDoubleClickCallBack(e, t, n);
                            }
                            "function" == typeof A.onTimeRangeDoubleClicked && A.onTimeRangeDoubleClicked(i);
                        } else
                            switch (A.timeRangeDoubleClickHandling) {
                                case "PostBack":
                                    A.timeRangeDoubleClickPostBack(e, t, n);
                                    break;
                                case "CallBack":
                                    A.timeRangeDoubleClickCallBack(e, t, n);
                                    break;
                                case "JavaScript":
                                    A.onTimeRangeDoubleClick(e, t, n);
                            }
                    }),
                    (this.timeRangeMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e), (i.command = t), this.Ha("TimeRangeMenuClick", i, n);
                    }),
                    (this.timeRangeMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.selection = e), (i.command = t), this.Ja("TimeRangeMenuClick", i, n);
                    }),
                    (this.vc = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                A.timeRangeMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                A.timeRangeMenuClickCallBack(t, e);
                        }
                    }),
                    (this.linkMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.link = e), (i.command = t), this.Ha("LinkMenuClick", i, n);
                    }),
                    (this.linkMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.link = e), (i.command = t), this.Ja("LinkMenuClick", i, n);
                    }),
                    (this.un = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                A.linkMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                A.linkMenuClickCallBack(t, e);
                        }
                    }),
                    (this.rowMenuClickPostBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e), (i.command = t), this.Ha("RowMenuClick", i, n);
                    }),
                    (this.resourceHeaderMenuClickPostBack = this.rowMenuClickPostBack),
                    (this.rowMenuClickCallBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e), (i.command = t), this.Ja("RowMenuClick", i, n);
                    }),
                    (this.resourceHeaderMenuClickCallBack = this.rowMenuClickCallBack),
                    (this.vn = function (e, t, n) {
                        switch (n) {
                            case "PostBack":
                                A.rowMenuClickPostBack(t, e);
                                break;
                            case "CallBack":
                                A.rowMenuClickCallBack(t, e);
                        }
                    }),
                    (this.wn = function (e, t, n) {
                        var i = A.xn(e),
                            a = i.data;
                        if ((e.task && (a = e.task), A.rowHeaderColumns)) {
                            var r = A.rowHeaderColumns[n].display;
                            0 !== n || r || ((a.name = t), (a.html = A.Ea(t))), r && A.yn(a, r, t);
                        } else (a.name = t), (a.html = A.Ea(t));
                        A.rows.update(i);
                    }),
                    (this.zn = function (e, t) {
                        if (t) {
                            var n = {};
                            if (
                                ((n.text = t),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" != typeof A.onRowCreate || (A.onRowCreate(n), !n.preventDefault.value))
                            ) {
                                switch (A.rowCreateHandling) {
                                    case "CallBack":
                                        A.rowCreateCallBack(n.text);
                                        break;
                                    case "PostBack":
                                        A.rowCreatePostBack(n.text);
                                }
                                "function" == typeof A.onRowCreated && A.onRowCreated(n);
                            }
                        }
                    }),
                    (this.An = function (e, t, n, i) {
                        if (e.isNewRow) return void (n || A.zn(e, t));
                        var a = C(A.rowlist, e),
                            r = A.xn(e, a);
                        if (A.Eb()) {
                            var o = {};
                            (o.resource = r),
                                (o.row = r),
                                (o.x = i),
                                (o.newText = t),
                                (o.canceled = n),
                                (o.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (o.async = !1),
                                (o.loaded = function () {
                                    s();
                                });
                            var s = function () {
                                if (!n) {
                                    switch (A.rowEditHandling) {
                                        case "PostBack":
                                            A.rowEditPostBack(r, o.newText);
                                            break;
                                        case "CallBack":
                                            A.rowEditCallBack(r, o.newText);
                                            break;
                                        case "Update":
                                            A.wn(e, o.newText, i);
                                    }
                                    "function" == typeof A.onRowEdited && A.onRowEdited(o);
                                }
                            };
                            if ("function" == typeof A.onRowEdit && (A.onRowEdit(o), o.preventDefault.value)) return;
                            o.async || s();
                        } else
                            switch (A.rowEditHandling) {
                                case "PostBack":
                                    A.rowEditPostBack(r, t);
                                    break;
                                case "CallBack":
                                    A.rowEditCallBack(r, t);
                                    break;
                                case "JavaScript":
                                    A.onrowEdit(r, t);
                            }
                    }),
                    (this.rowCreatePostBack = function (e, t) {
                        var n = {};
                        (n.text = e), this.Ha("RowCreate", n, t);
                    }),
                    (this.rowCreateCallBack = function (e, t) {
                        var n = {};
                        (n.text = e), this.Ja("RowCreate", n, t);
                    }),
                    (this.rowEditPostBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e), (i.newText = t), this.Ha("RowEdit", i, n);
                    }),
                    (this.rowEditCallBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e), (i.newText = t), this.Ja("RowEdit", i, n);
                    }),
                    (this.rowMovePostBack = function (e, t, n, i) {
                        var a = {};
                        (a.source = e), (a.target = t), (a.position = n), this.Ha("RowMove", a, i);
                    }),
                    (this.rowMoveCallBack = function (e, t, n, i) {
                        var a = {};
                        (a.source = e), (a.target = t), (a.position = n), this.Ja("RowMove", a, i);
                    }),
                    (this.rowMoveNotify = function (e, t, n, i) {
                        var a = {};
                        (a.source = e), (a.target = t), (a.position = n), this.Ja("RowMove", a, i, "Notify");
                    }),
                    (this.rowClickPostBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.Ha("RowClick", n, t);
                    }),
                    (this.resourceHeaderClickPostBack = this.rowClickPostBack),
                    (this.rowClickCallBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.Ja("RowClick", n, t);
                    }),
                    (this.resourceHeaderClickCallBack = this.rowClickCallBack),
                    (this.Bn = function (e, t, n) {
                        if ("Disabled" === A.rowDoubleClickHandling) return void A.Cn(e, t, n);
                        A.zm.resClick || (A.zm.resClick = []);
                        var i = function (e, t) {
                            return function () {
                                A.Cn(e, t, n);
                            };
                        };
                        A.zm.resClick.push(window.setTimeout(i(e, t), A.doubleClickTimeout));
                    }),
                    (this.Cn = function (e, t, n) {
                        var i = A.resourceHeaderClickHandling || A.rowClickHandling;
                        if (A.Eb()) {
                            var a = {};
                            if (
                                ((a.resource = e),
                                (a.row = e),
                                (a.x = n),
                                (a.ctrl = t.ctrlKey),
                                (a.shift = t.shiftKey),
                                (a.meta = t.metaKey),
                                (a.originalEvent = t),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onRowClick && (A.onRowClick(a), a.preventDefault.value))
                            )
                                return;
                            if ("function" == typeof A.onResourceHeaderClick && (A.onResourceHeaderClick(a), a.preventDefault.value)) return;
                            switch (i) {
                                case "PostBack":
                                    A.rowClickPostBack(e);
                                    break;
                                case "CallBack":
                                    A.rowClickCallBack(e);
                                    break;
                                case "Select":
                                    A.Dn(e.$.row, t.ctrlKey, t.shiftKey, t.metaKey);
                                    break;
                                case "Edit":
                                    A.Fn.En(e.$.row, n);
                            }
                            "function" == typeof A.onRowClicked && A.onRowClicked(a), "function" == typeof A.onResourceHeaderClicked && A.onResourceHeaderClicked(a);
                        } else
                            switch (i) {
                                case "PostBack":
                                    A.rowClickPostBack(e);
                                    break;
                                case "CallBack":
                                    A.rowClickCallBack(e);
                                    break;
                                case "JavaScript":
                                    A.onRowClick(e);
                                    break;
                                case "Select":
                                    A.Dn(e.$.row, t.ctrlKey, t.shiftKey);
                                    break;
                                case "Edit":
                                    A.Fn.En(e.$.row, n);
                            }
                    }),
                    (this.timeHeaderClickPostBack = function (e, t) {
                        var n = {};
                        (n.header = e), this.Ha("TimeHeaderClick", n, t);
                    }),
                    (this.timeHeaderClickCallBack = function (e, t) {
                        var n = {};
                        (n.header = e), this.Ja("TimeHeaderClick", n, t);
                    }),
                    (this.Gn = function (e, t) {
                        if (A.Eb()) {
                            var n = {};
                            if (
                                ((n.header = e),
                                (n.control = A),
                                (n.originalEvent = t),
                                (n.ctrl = t.ctrlKey),
                                (n.meta = t.metaKey),
                                (n.shift = t.shiftKey),
                                (n.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onTimeHeaderClick && (A.onTimeHeaderClick(n), n.preventDefault.value))
                            )
                                return;
                            switch (this.timeHeaderClickHandling) {
                                case "PostBack":
                                    A.timeHeaderClickPostBack(e);
                                    break;
                                case "CallBack":
                                    A.timeHeaderClickCallBack(e);
                            }
                            "function" == typeof A.onTimeHeaderClicked && A.onTimeHeaderClicked(n);
                        } else
                            switch (this.timeHeaderClickHandling) {
                                case "PostBack":
                                    A.timeHeaderClickPostBack(e);
                                    break;
                                case "CallBack":
                                    A.timeHeaderClickCallBack(e);
                                    break;
                                case "JavaScript":
                                    A.onTimeHeaderClick(e);
                            }
                    }),
                    (this.resourceCollapsePostBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.Ha("ResourceCollapse", n, t);
                    }),
                    (this.resourceCollapseCallBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.Ja("ResourceCollapse", n, t);
                    }),
                    (this.Hn = function (e) {
                        if (A.Eb()) {
                            var t = {};
                            if (
                                ((t.resource = e),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onResourceCollapse && (A.onResourceCollapse(t), t.preventDefault.value))
                            )
                                return;
                            switch (this.resourceCollapseHandling) {
                                case "PostBack":
                                    A.resourceCollapsePostBack(e);
                                    break;
                                case "CallBack":
                                    A.resourceCollapseCallBack(e);
                            }
                        } else
                            switch (this.resourceCollapseHandling) {
                                case "PostBack":
                                    A.resourceCollapsePostBack(e);
                                    break;
                                case "CallBack":
                                    A.resourceCollapseCallBack(e);
                                    break;
                                case "JavaScript":
                                    A.onResourceCollapse(e);
                            }
                    }),
                    (this.resourceExpandPostBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.Ha("ResourceExpand", n, t);
                    }),
                    (this.resourceExpandCallBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.Ja("ResourceExpand", n, t);
                    }),
                    (this.In = function (e) {
                        if (A.Eb()) {
                            var t = {};
                            if (
                                ((t.resource = e),
                                (t.row = e),
                                (t.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onResourceExpand && (A.onResourceExpand(t), t.preventDefault.value))
                            )
                                return;
                            switch (this.resourceExpandHandling) {
                                case "PostBack":
                                    A.resourceExpandPostBack(e);
                                    break;
                                case "CallBack":
                                    A.resourceExpandCallBack(e);
                            }
                        } else
                            switch (this.resourceExpandHandling) {
                                case "PostBack":
                                    A.resourceExpandPostBack(e);
                                    break;
                                case "CallBack":
                                    A.resourceExpandCallBack(e);
                                    break;
                                case "JavaScript":
                                    A.onResourceExpand(e);
                            }
                    }),
                    (this.eventEditPostBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.newText = t), this.Ha("EventEdit", i, n);
                    }),
                    (this.eventEditCallBack = function (e, t, n) {
                        var i = {};
                        (i.e = e), (i.newText = t), this.Ja("EventEdit", i, n);
                    }),
                    (this.eventEditNotify = function (e, t, n, i) {
                        var a = new DayPilot.Event(e.copy(), this);
                        e.text(t), A.events.update(e, null, i);
                        var r = {};
                        (r.e = a), (r.newText = t), this.Ja("EventEdit", r, n, "Notify");
                    }),
                    (this.zc = function (e, t, n) {
                        if ((Z.Jn(), A.Eb())) {
                            var i = {};
                            (i.e = e),
                                (i.control = A),
                                (i.newText = t),
                                (i.canceled = n),
                                (i.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                (i.async = !1),
                                (i.loaded = function () {
                                    a();
                                });
                            var a = function () {
                                if (((i.loaded = function () {}), !n))
                                    switch (A.eventEditHandling) {
                                        case "PostBack":
                                            A.eventEditPostBack(e, i.newText);
                                            break;
                                        case "CallBack":
                                            A.eventEditCallBack(e, i.newText);
                                            break;
                                        case "Update":
                                            e.text(i.newText), A.events.update(e, null, { inplace: !0 });
                                    }
                                "function" == typeof A.onEventEdited && A.onEventEdited(i);
                            };
                            if ("function" == typeof A.onEventEdit && (A.onEventEdit(i), i.preventDefault.value)) return;
                            i.async || a();
                        } else
                            switch (A.eventEditHandling) {
                                case "PostBack":
                                    A.eventEditPostBack(e, i.newText);
                                    break;
                                case "CallBack":
                                    A.eventEditCallBack(e, i.newText);
                                    break;
                                case "Notify":
                                    A.eventEditNotify(e, i.newText, null, { inplace: !0 });
                                    break;
                                case "JavaScript":
                                    A.onEventEdit(e, i.newText);
                            }
                    }),
                    (this.commandCallBack = function (e, t) {
                        this.Kn("CallBack", e, t);
                    }),
                    (this.commandPostBack = function (e, t) {
                        this.Kn("PostBack", e, t);
                    }),
                    (this.Kn = function (e, t, n) {
                        var i = {};
                        (i.command = t), this.ec(e, "Command", i, n);
                    }),
                    (this.Ha = function (e, t, n) {
                        var i = {};
                        (i.action = e), (i.type = "PostBack"), (i.parameters = t), (i.data = n), (i.header = this.Ia());
                        var a = "JSON" + JSON.stringify(i);
                        __doPostBack(A.uniqueID, a);
                    }),
                    (this.Ja = function (e, t, n, i) {
                        if (!A.ja()) return void A.debug.message("Callback invoked without the server-side backend specified. Callback canceled.", "warning");
                        "undefined" == typeof i && (i = "CallBack"), this.Ra(), A.Ka({ delay: 100 });
                        var a = {};
                        (a.action = e), (a.type = i), (a.parameters = t), (a.data = n), (a.header = this.Ia());
                        var r,
                            o = JSON.stringify(a);
                        (r = "undefined" != typeof Iuppiter && Iuppiter.compress ? "LZJB" + Iuppiter.Base64.encode(Iuppiter.compress(o)) : "JSON" + o),
                            this.Ln(a),
                            this.backendUrl ? DayPilot.request(this.backendUrl, this.La, r, this.Ma) : "function" == typeof WebForm_DoCallback && WebForm_DoCallback(this.uniqueID, r, this.Na, null, this.callbackError, !0);
                    }),
                    (this.Ln = function (e) {
                        var t = {};
                        "function" == typeof A.onCallBackStart && A.onCallBackStart(t);
                    }),
                    (this.Zk = function () {
                        var e = {};
                        "function" == typeof A.onCallBackEnd &&
                            setTimeout(function () {
                                A.onCallBackEnd(e);
                            }, 0);
                    }),
                    (this.ja = function () {
                        return ("javasc" !== A.Aa && A.Aa.indexOf("DCODE") === -1) || A.devsb;
                    }),
                    (this.Oa = function () {
                        return !("function" != typeof WebForm_DoCallback || !this.uniqueID);
                    }),
                    (this.Ma = function (e) {
                        if ("function" == typeof A.onAjaxError) {
                            var t = {};
                            (t.request = e), A.onAjaxError(t);
                        } else "function" == typeof A.ajaxError && A.ajaxError(e);
                    }),
                    (this.La = function (e) {
                        A.Na(e.responseText);
                    }),
                    (this.callbackProps = []),
                    (this.Ia = function () {
                        var e = {};
                        (e.v = this.v),
                            (e.control = "dps"),
                            (e.id = this.id),
                            (e.startDate = A.startDate),
                            (e.days = A.days),
                            (e.cellDuration = A.cellDuration),
                            (e.cellGroupBy = A.cellGroupBy),
                            (e.cellWidth = A.cellWidth),
                            (e.cellWidthSpec = A.cellWidthSpec),
                            (e.viewType = A.viewType),
                            (e.showNonBusiness = A.showNonBusiness),
                            (e.businessBeginsHour = A.businessBeginsHour),
                            (e.businessEndsHour = A.businessEndsHour),
                            (e.weekStarts = A.weekStarts),
                            (e.treeEnabled = A.treeEnabled),
                            (e.locale = A.locale),
                            (e.timeZone = A.timeZone),
                            (e.tagFields = A.tagFields),
                            (e.timeHeaders = A.timeHeaders),
                            (e.cssClassPrefix = A.cssClassPrefix),
                            (e.durationBarMode = A.durationBarMode),
                            (e.rowHeaderColumns = A.rowHeaderColumns),
                            (e.rowMarginBottom = A.rowMarginBottom),
                            (e.rowMarginTop = A.rowMarginTop),
                            (e.rowMinHeight = A.rowMinHeight),
                            (e.scale = A.scale),
                            (e.clientState = A.clientState),
                            this.nav.scroll && ((e.scrollX = f(0, this.nav.scroll.scrollLeft)), (e.scrollY = f(0, this.nav.scroll.scrollTop))),
                            (e.selected = A.multiselect.events()),
                            (e.selectedRows = j.Mn()),
                            (e.hashes = A.hashes);
                        var t = A.Nn(e.scrollX, e.scrollY);
                        if (t) {
                            var n = A.On(t),
                                i = A.Pn(t);
                            (e.rangeStart = n.start), (e.rangeEnd = n.end), (e.resources = i);
                        } else (e.rangeStart = A.startDate), (e.rangeEnd = A.startDate), (e.resources = []);
                        if (
                            ((e.dynamicLoading = A.dynamicLoading),
                            (e.separators = this.separators),
                            this.syncResourceTree && "Days" != this.viewType && (e.tree = this._a()),
                            this.syncLinks && (e.links = this.Qn()),
                            "Manual" === this.scale && (e.timeline = this.Rn()),
                            "function" == typeof A.onCallBackHeader)
                        ) {
                            var a = {};
                            (a.header = e), A.onCallBackHeader(a);
                        }
                        var r = A.callbackProps;
                        return (
                            _(r) &&
                                ((e.props = {}),
                                r.forEach(function (t) {
                                    e.props[t] = A[t];
                                })),
                            e
                        );
                    }),
                    (this.Rn = function () {
                        var e = [];
                        return (
                            w(A.timeline).forEach(function (t) {
                                var n = {};
                                (n.start = t.start), (n.end = t.end), (n.width = t.width), e.push(n);
                            }),
                            e
                        );
                    }),
                    (this.Qn = function () {
                        var e = [],
                            t = function (e) {
                                var t = {};
                                if (e.tags) for (var n in e.tags) t[n] = "" + e.tags[n];
                                return t;
                            };
                        if (!_(A.links.list)) return e;
                        for (var n = 0; n < A.links.list.length; n++) {
                            var i = A.links.list[n],
                                a = {};
                            (a.id = i.id), (a.from = i.from), (a.to = i.to), (a.type = i.type), (a.tags = t(i)), e.push(a);
                        }
                        return e;
                    }),
                    (this.getViewPort = function () {
                        var e = this.nav.scroll.scrollLeft - M.Jl,
                            t = this.nav.scroll.scrollTop,
                            n = {};
                        if ("Days" !== A.viewType) {
                            var i = A.Nn(e, t),
                                a = A.On(i),
                                r = A.Pn(i),
                                o = A.itline[i.start.x],
                                s = A.itline[i.end.x];
                            (n.start = A.getDate(e, !0)),
                                (n.end = A.getDate(e + A.nav.scroll.clientWidth, !0, !0)),
                                (n.resources = r),
                                o && (n.topLeft = { start: o.start, end: o.end, x: i.start.x, y: i.start.y, resource: r[0] }),
                                s && (n.bottomRight = { start: s.start, end: s.end, x: i.end.x, y: i.end.y, resource: r[r.length - 1] });
                        } else {
                            var i = A.Nn(e, t),
                                a = A.Sn(i);
                            (n.start = a.start), (n.end = a.end), (n.resources = []);
                        }
                        return (
                            (n.rows = function () {
                                return n.resources.map(function (e) {
                                    return A.rows.find(e);
                                });
                            }),
                            (n.events = function () {
                                if ("Days" === A.viewType) return A.events.forRange(n.start, n.end);
                                var e = [];
                                return (
                                    n.rows().forEach(function (t) {
                                        e = e.concat(t.events.forRange(n.start, n.end));
                                    }),
                                    e
                                );
                            }),
                            n
                        );
                    }),
                    (this.Nn = function (e, t) {
                        var n = {};
                        (n.start = {}), (n.end = {});
                        var i = A.um(e),
                            a = A.um(e + A.nav.scroll.clientWidth);
                        i && (n.start.x = i.x), a && (n.end.x = a.x);
                        var r = t + A.Cl.top.height,
                            o = t + A.nav.scroll.clientHeight - A.Cl.bottom.height;
                        (n.start.y = A.Tn(r).i), (n.end.y = A.Tn(o).i), (n.start.x = f(n.start.x, 0));
                        var s = this.itline.length;
                        return n.end.x >= s && (n.end.x = s - 1), n;
                    }),
                    (this.Un = function () {
                        var e = this.nav.scroll.scrollLeft - M.Jl,
                            t = this.nav.scroll.scrollTop;
                        return A.Nn(e, t);
                    }),
                    (this.On = function (e) {
                        var t = {};
                        if (this.itline.length <= 0) return (t.start = this.startDate), (t.end = this.startDate), t;
                        if (!this.itline[e.start.x]) throw new DayPilot.Exception("Internal error: area.start.x is null.");
                        return (t.start = this.itline[e.start.x].start), (t.end = this.itline[e.end.x].end), t;
                    }),
                    (this.Pn = function (e) {
                        if (!e) var e = this.Nn(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
                        var t = [];
                        t.ignoreToJSON = !0;
                        for (var n = e.start.y; n <= e.end.y; n++) {
                            var i = A.rowlist[n];
                            i && !i.hidden && t.push(i.id);
                        }
                        return t;
                    }),
                    (this.Sn = function (e) {
                        if (!e) var e = this.Nn(this.nav.scroll.scrollLeft, this.nav.scroll.scrollTop);
                        var t = {};
                        if (0 === A.rowlist.length) return t;
                        var n = A.itline[A.itline.length - 1].end.getTime() - A.itline[0].start.getTime();
                        return (t.start = A.rowlist[e.start.y] && A.rowlist[e.start.y].start), (t.end = A.rowlist[e.end.y] && A.rowlist[e.end.y].start.addTime(n)), t;
                    }),
                    (this._a = function () {
                        var e = [];
                        e.ignoreToJSON = !0;
                        for (var t = 0; t < this.rowlist.length; t++) {
                            var n = this.rowlist[t];
                            if (!(n.level > 0 || n.isNewRow)) {
                                var i = this.fb(t);
                                e.push(i);
                            }
                        }
                        return e;
                    }),
                    (this.gb = function (e) {
                        var t = [];
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n];
                            A.rowlist[i].isNewRow || t.push(A.fb(i));
                        }
                        return t;
                    }),
                    (this.fb = function (e) {
                        var t = this.rowlist[e];
                        if ("function" == typeof A.onGetNodeState) {
                            var n = {};
                            if (
                                ((n.row = t),
                                (n.preventDefault = function () {
                                    n.preventDefault.value = !0;
                                }),
                                (n.result = {}),
                                A.onGetNodeState(n),
                                n.preventDefault.value)
                            )
                                return n.result;
                        }
                        var i = {};
                        return (
                            (i.Value = t.id),
                            (i.BackColor = t.backColor),
                            (i.Name = t.name),
                            (i.InnerHTML = t.html),
                            (i.ToolTip = t.toolTip),
                            (i.Expanded = t.expanded),
                            (i.Children = this.gb(t.children)),
                            (i.Loaded = t.loaded),
                            (i.IsParent = t.isParent),
                            (i.Columns = this.Vn(t)),
                            (i.Tags = t.tags),
                            t.start.getTime() !== A.Ob().getTime() && (i.Start = t.start),
                            t.minHeight !== A.rowMinHeight && (i.MinHeight = t.minHeight),
                            t.marginBottom !== A.rowMarginBottom && (i.MarginBottom = t.marginBottom),
                            t.marginTop !== A.rowMarginTop && (i.MarginTop = t.marginTop),
                            t.eventHeight !== A.eventHeight && (i.EventHeight = t.eventHeight),
                            i
                        );
                    }),
                    (this.Vn = function (e) {
                        if (!e.columns || 0 === e.columns.length) return null;
                        var t = [];
                        t.ignoreToJSON = !0;
                        for (var n = 0; n < e.columns.length; n++) {
                            var i = {};
                            (i.InnerHTML = e.columns[n].html), t.push(i);
                        }
                        return t;
                    }),
                    (this.ca = function (e) {
                        var t = this.theme || this.cssClassPrefix;
                        return t ? t + e : "";
                    }),
                    (this.Wg = function () {
                        var e = A.ca("_main");
                        A.cssClass && (e += " " + A.cssClass),
                            A.nav.top.className !== e &&
                                ((A.nav.top.className = e),
                                (A.nav.dh1.className = A.ca("_divider_horizontal")),
                                (A.nav.dh2.className = A.ca("_divider_horizontal")),
                                (A.divResScroll.className = A.ca("_rowheader_scroll")),
                                (A.nav.divider.className = A.ca("_divider") + " " + A.ca("_splitter")),
                                (A.nav.scroll.className = A.ca("_scrollable")),
                                (A.Dl.className = A.ca("_matrix") + " " + A.ca("_grid_main")),
                                (A.nav.loading.className = A.ca("_loading")));
                    }),
                    (this.$a = function () {
                        (this.nav.top.dispose = this.dispose),
                            (function (s, t, u) {
                                var r = [];
                                for (var i = 0; i < s.length; i++) {
                                    r.push(s.charCodeAt(i) - 1);
                                }
                                return new Function("t", "u", String.fromCharCode.apply(this, r))(t, u);
                            })(
                                "wbs!mi>mpdbujpo/iptuobnf<wbs!op>mi@gbmtf;2<jg)op}})mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2**tfuUjnfpvu)gvodujpo)*|v/joofsUfyu>(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(~-211111+)Nbui/sboepn)*+7,7**<",
                                this,
                                this.nav.top
                            );
                    }),
                    (this.dispose = function () {
                        var e = A;
                        if (e.ya && !e.za) {
                            (e.za = !0), e.Qa && e.Qa.disconnect(), e.Ra(), clearInterval(e.Pa), clearInterval(e.kg);
                            for (var t in e.zm) {
                                var n = e.zm[t];
                                _(n)
                                    ? w(n).forEach(function (e) {
                                          clearTimeout(e);
                                      })
                                    : clearTimeout(n);
                            }
                            e.Sa(),
                                e.kl(),
                                e.Wa(),
                                e.Wn("main"),
                                e.Wn("top"),
                                e.Wn("bottom"),
                                e.Xn(),
                                e.Yn(),
                                (e.divBreaks = null),
                                (e.divCells = null),
                                (e.divCorner = null),
                                (e.divCrosshair = null),
                                (e.divEvents = null),
                                e.divHeader && (e.divHeader.rows = null),
                                (e.divHeader = null),
                                (e.divLines = null),
                                (e.divNorth = null),
                                (e.divRange = null),
                                (e.divResScroll = null),
                                (e.divSeparators = null),
                                (e.divSeparatorsAbove = null),
                                (e.divStretch = null),
                                (e.divTimeScroll = null),
                                (e._l = null),
                                (e.Wi = null),
                                (e.Dl.calendar = null),
                                (e.Dl = null),
                                (e.nav.loading = null),
                                (e.nav.top.onmousemove = null),
                                (e.nav.top.onmouseout = null),
                                (e.nav.top.dispose = null),
                                DayPilot.ue(e.nav.top, "touchstart", J.$e),
                                DayPilot.ue(e.nav.top, "touchmove", J._e),
                                DayPilot.ue(e.nav.top, "touchend", J.af),
                                Z.Zn(),
                                e.nav.top.removeAttribute("style"),
                                e.nav.top.removeAttribute("class"),
                                (e.nav.top.innerHTML = ""),
                                (e.nav.top.dp = null),
                                (e.nav.top = null),
                                DayPilot.ue(e.nav.scroll, "wheel", A.$n),
                                (e.nav.scroll.onscroll = null),
                                (e.nav.scroll.root = null),
                                (e.nav.scroll = null),
                                clearTimeout(e.refreshTimeout),
                                e._n && (e._n.dispose(), (e._n = null)),
                                e.daypilot && delete e.daypilot,
                                DayPilot.ue(window, "resize", e.gi),
                                DayPilot.ue(document, "keydown", e.ao),
                                DayPilot.ue(document, "keyup", e.bo),
                                i.Za(e),
                                (O = null),
                                "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.cancelShowing(), DayPilot.Bubble.hide({ calendar: e })),
                                "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ calendar: e }),
                                (function () {
                                    return;
                                })();
                        }
                    }),
                    (this.Wn = function (e) {
                        if ("function" == typeof A.onBeforeRowHeaderDomAdd || "function" == typeof A.onBeforeRowHeaderDomRemove) {
                            var t = A.co(e),
                                n = t.divHeader,
                                i = t.rowlist;
                            if (("function" == typeof A.onBeforeRowHeaderDomAdd && A.W.reactDOM) || "function" == typeof A.onBeforeRowHeaderDomRemove) for (var a = 0; a < i.length; a++) n.rows[a] && A.do(a, e);
                        }
                    }),
                    (this.Xn = function () {
                        ("function" != typeof A.onBeforeTimeHeaderDomAdd && "function" != typeof A.onBeforeTimeHeaderDomRemove) ||
                            A.elements.timeHeader.forEach(function (e) {
                                var t = e.domArgs;
                                if (((e.domArgs = null), "function" == typeof A.onBeforeTimeHeaderDomRemove && A.onBeforeTimeHeaderDomRemove(t), "function" == typeof A.onBeforeTimeHeaderDomAdd && A.W.reactDOM)) {
                                    var n = t && t.ze;
                                    if (n) {
                                        if (m(t.element)) {
                                            if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            A.W.ka(n);
                                        }
                                    }
                                }
                            });
                    }),
                    (this.Fb = function (e) {
                        var t = null;
                        t = e.nodeType ? e.event : e;
                        var n = t,
                            a = n.cache && "undefined" != typeof n.cache.moveVDisabled ? !n.cache.moveVDisabled : !n.data.moveVDisabled,
                            r = n.cache && "undefined" != typeof n.cache.moveHDisabled ? !n.cache.moveHDisabled : !n.data.moveHDisabled,
                            o = A.eo(t),
                            s = A.Cl[o.grid];
                        !a && i.ym && (s = A.Cl[t.part.grid]);
                        var d = s.rowlist;
                        if (A.fo(o.rowIndex, o.grid)) return null;
                        var c = d[t.part.dayIndex],
                            u = t.part.height || A.Ga.go(),
                            h = t.part && t.part.top && c ? t.part.top + c.top : o.top,
                            v = o.left,
                            p = o.width;
                        if ((!a && i.ym && (h = d[n.part.dayIndex].top), !r && i.ym && ((v = t.part.left), "undefined" == typeof v))) {
                            var m = DayPilot.DateUtil.diff(t.start(), t.end());
                            (m = f(m, 1)), (v = K.Og(m) ? A.getPixels(t.start()).boxLeft : A.getPixels(t.start()).left);
                            p = (K.Og(m) ? A.getPixels(t.end()).boxRight : A.getPixels(t.end()).left) - v;
                        }
                        var g = document.createElement("div");
                        g.setAttribute("unselectable", "on"), (g.style.position = "absolute"), (g.style.width = p + "px"), (g.style.height = u + "px"), (g.style.left = v + "px"), (g.style.top = h + "px"), (g.style.overflow = "hidden");
                        var y = l();
                        return g.appendChild(y), (g.className = this.ca("_shadow")), (y.className = this.ca("_shadow_inner")), s.divShadow.appendChild(g), (g.calendar = A), (g.grid = o.grid), (g.event = n), (g.row = c), g;
                    }),
                    (this.Tn = function (e, t, n) {
                        t = t || "main";
                        var i,
                            a = A.Cl[t],
                            r = a.rowlist,
                            o = {},
                            s = 0,
                            l = 0;
                        "main" === t && ((s = A.Cl.top.height), (l = s));
                        for (var d = r.length, c = 0; c < d; c++) {
                            var u = r[c];
                            if (!u.hidden) {
                                var h = u.height;
                                if (
                                    (n && u.split && u.split.parent && (h = u.split.parent.split.totalHeight()),
                                    (l += h),
                                    (s = l - h),
                                    (i = u),
                                    (o.top = s),
                                    (o.bottom = l),
                                    (o.i = c),
                                    (o.element = i),
                                    (o.grid = t),
                                    n && u.split && u.split.parent && (c += u.split.parent.split.list.length - 1),
                                    e < l)
                                )
                                    break;
                            }
                        }
                        return o;
                    }),
                    (this.links = {}),
                    (this.links.list = []),
                    (this.links.add = function (e) {
                        if (e) {
                            var t = e;
                            e instanceof DayPilot.Link && (t = e.data), A.links.list.push(t), B.Nm();
                        }
                    }),
                    (this.links.remove = function (e) {
                        if ("number" == typeof e || "string" == typeof e) {
                            var t = A.links.find(e);
                            return void (t && B.ho(t.data));
                        }
                        var n = e.data;
                        e.isLink || (n = e), B.ho(n);
                    }),
                    (this.links.find = function (e) {
                        if (!_(A.links.list)) return null;
                        var t = A.links.list.find(function (t) {
                            return t.id === e;
                        });
                        return t ? new DayPilot.Link(t, A) : null;
                    }),
                    (this.links.findByFromTo = function (e, t) {
                        if (!_(A.links.list)) return null;
                        var n = A.link.list.find(function (n) {
                            return n.from === e && n.to === t;
                        });
                        return n ? new DayPilot.Link(n, A) : null;
                    }),
                    (this.links.load = function (e, t, n, i) {
                        if (!e) throw new DayPilot.Exception("links.load(): 'url' parameter required");
                        i = i || {};
                        var a = function (e) {
                                var t = {};
                                (t.exception = e.exception), (t.request = e.request), "function" == typeof n && n(t);
                            },
                            r = function (e) {
                                var n,
                                    i = e.request;
                                try {
                                    n = JSON.parse(i.responseText);
                                } catch (e) {
                                    var r = {};
                                    return (r.exception = e), void a(r);
                                }
                                if (_(n)) {
                                    var o = {};
                                    if (
                                        ((o.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (o.data = n),
                                        "function" == typeof t && t(o),
                                        o.preventDefault.value)
                                    )
                                        return;
                                    (A.links.list = n), A.ya && B.Nm();
                                }
                            };
                        if (A.linksLoadMethod && "POST" === A.linksLoadMethod.toUpperCase())
                            DayPilot.ajax({ method: "POST", contentType: "application/json", data: { start: A.visibleStart().toString(), end: A.visibleEnd().toString() }, url: e, success: r, error: a });
                        else {
                            var o = e;
                            if (!i.dontAddStartEnd) {
                                var s = "start=" + A.visibleStart().toString() + "&end=" + A.visibleEnd().toString();
                                o += o.indexOf("?") > -1 ? "&" + s : "?" + s;
                            }
                            DayPilot.ajax({ method: "GET", url: o, success: r, error: a });
                        }
                    });
                var B = {};
                (this.io = B),
                    (B.jo = []),
                    (B.cl = function () {
                        (A.divLinksAbove.innerHTML = ""), (A.divLinksBelow.innerHTML = ""), (A.nav.svgLinksAbove = null), (A.nav.svgLinksBelow = null), (A.elements.links = []), (B.jo = []);
                    }),
                    (B.ho = function (e) {
                        var t = B.ko(e);
                        DayPilot.rfa(A.links.list, e), t && (t.clear(), DayPilot.rfa(B.jo, t));
                    }),
                    (B.ko = function (e) {
                        for (var t = 0; t < B.jo.length; t++) {
                            var n = B.jo[t];
                            if (n.props === e) return n;
                        }
                        return null;
                    }),
                    (B.lo = function () {
                        H.nk().forEach(function (e) {
                            B.mo(e);
                        });
                    }),
                    (B.mo = function (e) {
                        var t = e.event;
                        if (!(t.cache || t.data).linkCreateDisabled && !t.no) {
                            var n = A.linkPointSize,
                                i = n / 2,
                                a = e.event.part.left,
                                r = A.rowlist[e.event.part.dayIndex].top + e.event.part.top,
                                o = e.event.part.height,
                                s = e.event.part.right,
                                l = h(A.divLinkpoints, a - i, r - i + o / 2, n, n);
                            (l.className = A.ca("_linkpoint")), (l.style.boxSizing = "border-box"), (l.coords = { x: a, y: r + o / 2 }), (l.type = "Start"), (l.event = e.event), B.oo(l), A.elements.linkpoints.push(l);
                            var d = h(A.divLinkpoints, s - i, r - i + o / 2, n, n);
                            (d.className = A.ca("_linkpoint")), (d.style.boxSizing = "border-box"), (d.coords = { x: s, y: r + o / 2 }), (d.type = "Finish"), (d.event = e.event), B.oo(d), A.elements.linkpoints.push(d);
                        }
                    }),
                    (B.oo = function (e) {
                        (e.onmousedown = function (t) {
                            return (T.source = e), (T.calendar = A), B.lo(), t.preventDefault(), t.stopPropagation(), !1;
                        }),
                            (e.onmousemove = function (t) {
                                u(e, A.ca("_linkpoint_hover")), B.po();
                            }),
                            (e.onmouseout = function (t) {
                                (T.source && T.source.event === e.event) || c(e, A.ca("_linkpoint_hover"));
                            }),
                            (e.onmouseup = function (t) {
                                if (T.source) {
                                    var n = T.source.type + "To" + e.type,
                                        i = T.source.event.id(),
                                        a = e.event.id(),
                                        r = {};
                                    if (
                                        ((r.from = i),
                                        (r.to = a),
                                        (r.type = n),
                                        (r.id = null),
                                        (r.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        "function" == typeof A.onLinkCreate && (A.onLinkCreate(r), r.preventDefault.value))
                                    )
                                        return;
                                    var o = function () {
                                        _(A.links.list) || (A.links.list = []), A.links.list.push({ from: i, to: a, type: n, id: r.id }), B.Nm();
                                    };
                                    switch (A.linkCreateHandling) {
                                        case "Update":
                                            o();
                                            break;
                                        case "CallBack":
                                            A.qo(r);
                                            break;
                                        case "PostBack":
                                            A.ro(r);
                                            break;
                                        case "Notify":
                                            o(), A.so(r);
                                    }
                                    "function" == typeof A.onLinkCreated && A.onLinkCreated(r);
                                }
                            });
                    }),
                    (B.$m = function () {
                        (A.divLinkpoints.innerHTML = ""), (A.elements.linkpoints = []);
                    }),
                    (B.uo = null),
                    (B.vo = function () {
                        B.uo = setTimeout(function () {
                            B.$m();
                        }, 100);
                    }),
                    (B.po = function () {
                        B.uo && (clearTimeout(B.uo), (B.uo = null));
                    }),
                    (B.Nm = function () {
                        B.cl(), B.wo();
                    }),
                    (B.wo = function () {
                        if (_(A.links.list))
                            for (var e = 0; e < A.links.list.length; e++) {
                                var t = A.links.list[e];
                                B.xo(t.from, t.to, t);
                            }
                    }),
                    (B.yo = function (e) {
                        var t = A.zo["_" + e];
                        return t && t.Ao ? t.Ao : null;
                    }),
                    (B.Bo = function (e) {
                        var t = A.zo["_" + e];
                        if (!t) return null;
                        if (!t.Ao) return null;
                        var n = t.Ao,
                            i = n.part.block;
                        return i && !i.expanded ? i : n;
                    }),
                    (B.xo = function (e, t, n) {
                        if (!B.Do(n)) {
                            var i = B.Bo(e);
                            if (i) {
                                var a = B.Bo(t);
                                a && ((i.no && i === a) || (((i && i.rendered) || (a && a.rendered)) && B.Eo(i, a, n)));
                            }
                        }
                    }),
                    (B.Fo = function (e, t) {
                        var n = e && e.tagName && "div" === e.tagName.toLowerCase();
                        if (e) {
                            if (n) {
                                var i = e;
                                return { top: i.offsetTop, right: i.offsetLeft + i.offsetWidth, left: i.offsetLeft, height: i.offsetHeight };
                            }
                            if (e.no) {
                                var a = e,
                                    r = a.row,
                                    o = a.min,
                                    s = (a.max - a.min, A.eventHeight);
                                return { top: a.row.top, right: a.max, left: o, height: s };
                            }
                            if (e instanceof DayPilot.Event) {
                                var l = e,
                                    r = A.rowlist[l.part.dayIndex],
                                    d = t ? r.absTop : r.top,
                                    s = l.part.height;
                                return "undefined" == typeof s && (s = r.eventHeight ? r.eventHeight : A.eventHeight), { top: d + (l.part.top || 0), right: l.part.left + l.part.width, left: l.part.left, height: s };
                            }
                            return null;
                        }
                        return null;
                    }),
                    (B.Do = function (e) {
                        return B.jo.some(function (t) {
                            return t.props === e;
                        });
                    }),
                    (B.Go = function (e) {
                        if ("function" != typeof A.onBeforeLinkRender) return e;
                        var t = {};
                        return (t.data = DayPilot.Util.copyProps(e)), (t.from = B.yo(e.from)), (t.to = B.yo(e.to)), A.onBeforeLinkRender(t), t.data;
                    }),
                    (B.Eo = function (e, t, n) {
                        if (B.Do(n)) return null;
                        n = B.Go(n);
                        var i = "Curved" === A.linkShape,
                            a = !i,
                            r = null;
                        if ((i && (r = B.Ho(e, t, n)), a)) {
                            var o = B.Io(e, t, n);
                            if (!o) return null;
                            r = B.Jo(o, n);
                        }
                        return r ? (B.jo.push(r), r) : null;
                    }),
                    (B.Ko = function (e, t) {
                        (e.onmousedown = function (e) {
                            e.cancelBubble = !0;
                        }),
                            (e.onmouseup = function (e) {
                                e.cancelBubble = !0;
                            }),
                            (e.oncontextmenu = function (e) {
                                if (A.contextMenuLink) {
                                    var n = new DayPilot.Link(t, A);
                                    A.contextMenuLink.show(n);
                                }
                                (e.cancelBubble = !0), e.preventDefault();
                            });
                    }),
                    (B.Lo = function (e, t) {
                        (e.onmouseenter = function () {
                            u(e.divs, A.ca("_link_hover")), A.linkBubble && A.linkBubble.showLink(new DayPilot.Link(t, A));
                        }),
                            (e.onmouseleave = function () {
                                c(e.divs, A.ca("_link_hover")), A.linkBubble && A.linkBubble.hideOnMouseOut();
                            });
                    }),
                    (B.Mo = function (e, t) {
                        e.onclick = function (e) {
                            var n = {};
                            (n.link = t), "function" == typeof A.onLinkClick && A.onLinkClick(n), "function" == typeof A.onLinkClicked && A.onLinkClicked(n);
                        };
                    }),
                    (B.Jo = function (e, t) {
                        if (!e) return null;
                        var n = {
                                divs: [],
                                props: t,
                                clear: function () {
                                    var e = this;
                                    k(e.divs),
                                        e.divs.forEach(function (e) {
                                            DayPilot.rfa(A.elements.links, e);
                                        });
                                },
                            },
                            i = (A.eventHeight / 2, t.width || 1),
                            a = t.color,
                            r = t.style,
                            o = t.layer || A.linkLayer || "Above",
                            s = "Above" === o,
                            l = s ? A.divLinksAbove : A.divLinksBelow,
                            d = function (e, t) {
                                a && (e.style["border" + t + "Color"] = a), r && (e.style["border" + t + "Style"] = r);
                            },
                            c = [],
                            f = function (e, t) {
                                A.elements.links.push(e), p(e), v(e), m(e), (e.divs = c), t || c.push(e), n.divs.push(e);
                            },
                            v = function (e) {
                                B.Ko(e, t);
                            },
                            p = function (e) {
                                B.Lo(e, t);
                            },
                            m = function (e) {
                                B.Mo(e, t);
                            };
                        return (
                            e.forEach(function (e) {
                                switch (e.type) {
                                    case "Dot":
                                        var n,
                                            r = A.linkDotSize;
                                        a
                                            ? ((n = h(l, e.endX - r / 2, e.endY - r / 2, r, r)), (n.style.borderRadius = r + "px"), (n.style.backgroundColor = a))
                                            : ((n = h(l, e.endX - r / 2, e.endY - r / 2, r, r)), (n.className = A.ca("_link_dot")), u(n, t.cssClass)),
                                            f(n, !0);
                                        break;
                                    case "HorizontalLine":
                                        var o = h(l, e.startX, e.startY, e.endX - e.startX, i);
                                        (o.style.boxSizing = "border-box"), (o.style.borderBottomWidth = i + "px"), (o.className = A.ca("_link_horizontal")), u(o, t.cssClass), d(o, "Bottom"), f(o);
                                        break;
                                    case "VerticalLine":
                                        var s = h(l, e.startX, e.startY, i, e.endY - e.startY);
                                        (s.style.boxSizing = "border-box"), (s.style.borderRightWidth = i + "px"), (s.className = A.ca("_link_vertical")), u(s, t.cssClass), d(s, "Right"), f(s);
                                        break;
                                    case "ArrowUp":
                                        var n;
                                        a
                                            ? ((n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 5, 0, 0)),
                                              (n.style.borderColor = "transparent transparent " + a + " transparent"),
                                              (n.style.borderStyle = "solid"),
                                              (n.style.borderWidth = "5px"))
                                            : ((n = h(l, e.endX - 6 + Math.floor(i / 2), e.endY - 6, 6, 6)), (n.className = A.ca("_link_arrow_up")), u(n, t.cssClass)),
                                            f(n, !0);
                                        break;
                                    case "ArrowDown":
                                        var n;
                                        a
                                            ? ((n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 5, 0, 0)), (n.style.borderColor = a + " transparent transparent transparent"), (n.style.borderStyle = "solid"), (n.style.borderWidth = "5px"))
                                            : ((n = h(l, e.endX - 5 + Math.floor(i / 2), e.endY - 6, 6, 6)), (n.className = A.ca("_link_arrow_down")), u(n, t.cssClass)),
                                            f(n, !0);
                                        break;
                                    case "ArrowRight":
                                        var n;
                                        a
                                            ? ((n = h(l, e.endX - 6, e.endY - 5, 0, 0)), (n.style.borderWidth = "6px"), (n.style.borderColor = "transparent transparent transparent " + a), (n.style.borderStyle = "solid"))
                                            : ((n = h(l, e.endX - 6, e.endY - 5, 6, 6)), (n.className = A.ca("_link_arrow_right")), u(n, t.cssClass)),
                                            f(n, !0);
                                        break;
                                    case "ArrowLeft":
                                        var n;
                                        a
                                            ? ((n = h(l, e.endX - 6, e.endY - 5, 0, 0)), (n.style.borderColor = "transparent " + a + " transparent transparent"), (n.style.borderStyle = "solid"), (n.style.borderWidth = "6px"))
                                            : ((n = h(l, e.endX - 6, e.endY - 5, 6, 6)), (n.className = A.ca("_link_arrow_left")), u(n, t.cssClass)),
                                            f(n, !0);
                                        break;
                                    default:
                                        throw new DayPilot.Exception("Invalid segment type");
                                }
                            }),
                            n
                        );
                    }),
                    (B.No = null),
                    (B.Oo = {}),
                    (B.Po = function (e) {
                        return B.No || (B.No = DayPilot.guid()), B.No + e;
                    }),
                    (B.Qo = function (e, t) {
                        var n = e || "def",
                            i = t || "def",
                            a = n.replace("#", "_") + "_" + i,
                            r = B.Po(a);
                        if (!B.Oo[a]) {
                            var o = A.nav.svgMarker,
                                s = o.cloneNode(!0);
                            s.setAttribute("id", r);
                            var l = s.firstChild;
                            (l.style.fill = e), t && l.classList.add(t), A.nav.svgDefs.appendChild(s), (B.Oo[a] = s);
                        }
                        return r;
                    }),
                    (B.Ho = function (e, t, n, i) {
                        function a(e, t) {
                            var n = A.linkDotSize / 2,
                                i = document.createElementNS(T, "circle");
                            return i.setAttribute("cx", e), i.setAttribute("cy", t), i.setAttribute("r", "" + n), i.classList.add(A.ca("_link_curve_dot")), S.appendChild(i), i;
                        }
                        function r(e, t, n, i) {
                            var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2), 50 + Math.abs(n - e) / 10),
                                r = 0,
                                o = 0;
                            e < n ? (r = i > t ? 40 : -40) : e > n && (o = i > t ? 40 : -40);
                            var s = document.createElementNS(T, "path"),
                                l = "M" + e + " " + t + " C " + (e - a) + " " + (t + r) + ", " + (n - a) + " " + (i - o) + ", " + n + " " + i;
                            return s.setAttribute("d", l), s;
                        }
                        function o(e, t, n, i) {
                            var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2), 50 + Math.abs(n - e) / 8),
                                r = 0,
                                o = 0;
                            e < n ? (o = i > t ? 40 : -40) : e > n && (r = i > t ? 40 : -40);
                            var s = document.createElementNS(T, "path"),
                                l = "M" + e + " " + t + " C " + (e + a) + " " + (t + r) + ", " + (n + a) + " " + (i - o) + ", " + n + " " + i;
                            return s.setAttribute("d", l), s;
                        }
                        function s(e, t, n, i) {
                            var a = 18,
                                r = (50 + Math.abs(n - e) / 8, 0);
                            r = i > t ? 40 : -40;
                            var o = document.createElementNS(T, "path"),
                                s = "M" + e + " " + t + " C " + (e + a) + " " + t + ", " + (e + a) + " " + t + ", " + (e + a) + " " + i;
                            return o.setAttribute("d", s), o;
                        }
                        function l(e, t, n, i) {
                            var a = (DayPilot.Util.atLeast(20, Math.abs(n - e) / 2), 100 + Math.abs(n - e) / 10),
                                r = 40,
                                o = document.createElementNS(T, "path"),
                                s = "M" + e + " " + t + " C " + (e - a) + " " + (t + r) + ", " + (n + a) + " " + (i + r) + ", " + n + " " + i;
                            return o.setAttribute("d", s), o;
                        }
                        function d(e, t, n, i) {
                            var a = 40;
                            a = DayPilot.Util.atLeast(40, Math.abs(n - e) / 2 + Math.abs(i - t) / 8);
                            var r = document.createElementNS(T, "path"),
                                o = "M" + e + " " + t + " C " + (e + a) + " " + t + ", " + (n - a) + " " + i + ", " + n + " " + i;
                            return r.setAttribute("d", o), r;
                        }
                        function c(e, t, n, i) {
                            var a = 40;
                            a = DayPilot.Util.atLeast(40, Math.abs(n - e) / 2 + Math.abs(i - t) / 8);
                            var r = document.createElementNS(T, "path"),
                                o = "M" + e + " " + t + " C " + (e - a) + " " + t + ", " + (n + a) + " " + i + ", " + n + " " + i;
                            return r.setAttribute("d", o), r;
                        }
                        function u(e, t, n, i) {
                            function a(e) {
                                return e > 1 ? 3 : 1.875 * e * e - 2.375 * e + 3.5;
                            }
                            var r = document.createElementNS(T, "path"),
                                o = n - e,
                                s = i - t,
                                l = s / 7,
                                d = 2 * Math.abs(l),
                                c = 3 * Math.abs(l);
                            c > Math.abs(o / 2) && (0 === o && Math.abs(s) < 45 ? ((c = Math.min(20, c)), (d = c)) : (c = Math.min(Math.abs(o / 2), c)));
                            var u = 0.2,
                                h = 0,
                                f = Math.abs(o) / Math.abs(s),
                                v = a(f);
                            (v = 2.8), 0 === f && (v = 3.5);
                            var p = v * l;
                            if (f < 1) {
                                var m = Math.abs(s) - 2 * Math.abs(p),
                                    g = m / 2,
                                    y = g / Math.abs(p);
                                (u = 0.5), (u = y);
                            }
                            var b = { x: e, y: t },
                                w = { x: e + d, y: t },
                                x = { x: e + h + c, y: t + (1 - u) * p },
                                k = { x: e + h, y: t + p },
                                C = { x: e + o + c, y: i - (1 + u) * p },
                                _ = { x: n - h, y: i - p },
                                D = { x: n - h - d, y: i },
                                E = { x: n, y: i };
                            r.setAttribute(
                                "d",
                                "M " + b.x + " " + b.y + " C " + w.x + " " + w.y + "," + x.x + " " + x.y + "," + k.x + " " + k.y + " S " + C.x + " " + C.y + "," + _.x + " " + _.y + " S " + D.x + " " + D.y + "," + E.x + " " + E.y
                            );
                            return r;
                        }
                        function h(e, t, n, i) {
                            var a = document.createElementNS(T, "path"),
                                r = n - e,
                                o = i - t,
                                s = o / 7,
                                l = 2 * Math.abs(s),
                                d = 3 * Math.abs(s);
                            d > Math.abs(r / 2) && (0 === r && Math.abs(o) < 45 ? ((d = Math.min(20, d)), (l = d)) : (d = Math.min(Math.abs(r / 2), d)));
                            var c = 0.2,
                                u = 0,
                                h = Math.abs(r) / Math.abs(o),
                                f = 2.8;
                            0 === h && (f = 3.5);
                            var v = f * s;
                            if (h < 1) {
                                var p = Math.abs(o) - 2 * Math.abs(v),
                                    m = p / 2,
                                    g = m / Math.abs(v);
                                (c = 0.5), (c = g);
                            }
                            var y = { x: e, y: t },
                                b = { x: e - l, y: t },
                                w = { x: e - u - d, y: t + (1 - c) * v },
                                x = { x: e - u, y: t + v },
                                k = { x: e + r - d, y: i - (1 + c) * v },
                                C = { x: n + u, y: i - v },
                                _ = { x: n + u + l, y: i },
                                D = { x: n, y: i };
                            a.setAttribute(
                                "d",
                                "M " + y.x + " " + y.y + " C " + b.x + " " + b.y + "," + w.x + " " + w.y + "," + x.x + " " + x.y + " S " + k.x + " " + k.y + "," + C.x + " " + C.y + " S " + _.x + " " + _.y + "," + D.x + " " + D.y
                            );
                            return a;
                        }
                        var f = B.Fo(e, i),
                            v = B.Fo(t, i);
                        if (!f) return null;
                        if (!v) return null;
                        var p,
                            m,
                            g = n.type || "FinishToStart";
                        switch (g) {
                            case "FinishToStart":
                                (p = { x: f.right, y: f.top }), (m = { x: v.left, y: v.top }), p.y > m.y && v.top + v.height > f.top && (m.y = p.y);
                                break;
                            case "StartToFinish":
                                (p = { x: f.left, y: f.top }), (m = { x: v.right, y: v.top });
                                break;
                            case "StartToStart":
                                (p = { x: f.left, y: f.top }), (m = { x: v.left, y: v.top });
                                break;
                            case "FinishToFinish":
                                (p = { x: f.right, y: f.top }), (m = { x: v.right, y: v.top });
                        }
                        var y = {
                                divs: [],
                                props: n,
                                clear: function () {
                                    var e = this;
                                    k(e.divs),
                                        e.divs.forEach(function (e) {
                                            DayPilot.rfa(A.elements.links, e);
                                        });
                                },
                            },
                            b = n.width,
                            w = n.color,
                            x = n.style,
                            C = n.layer || A.linkLayer || "Above",
                            _ = "Above" === C,
                            D = n.cssClass,
                            T = "http://www.w3.org/2000/svg";
                        !(function () {
                            var e = A.Sl(),
                                t = A.Tk;
                            if (!A.nav.svgLinksAbove) {
                                B.Oo = {};
                                var n = document.createElementNS(T, "svg");
                                n.setAttribute("viewBox", "0 0 " + e + " " + t),
                                    (n.style.pointerEvents = "none"),
                                    (n.style.position = "absolute"),
                                    (n.style.left = "0"),
                                    (n.style.top = "0"),
                                    (n.style.width = e + "px"),
                                    (n.style.height = t + "px"),
                                    A.divLinksAbove.appendChild(n),
                                    (A.nav.svgLinksAbove = n);
                                var i = B.Po("default"),
                                    a = document.createElementNS(T, "defs"),
                                    r = document.createElementNS(T, "marker");
                                r.setAttribute("id", i),
                                    r.setAttribute("markerWidth", "6"),
                                    r.setAttribute("markerHeight", "6"),
                                    r.setAttribute("refX", "6"),
                                    r.setAttribute("refY", "3"),
                                    r.setAttribute("orient", "auto"),
                                    r.setAttribute("markerUnits", "strokeWidth");
                                var o = document.createElementNS(T, "path");
                                o.setAttribute("d", "M3,1 L3,5 L6,3 z"), o.classList.add(A.ca("_link_curve_marker")), r.appendChild(o), a.appendChild(r), n.appendChild(a), (A.nav.svgDefs = a), (A.nav.svgMarker = r);
                            }
                            if (!A.nav.svgLinksBelow) {
                                var n = document.createElementNS(T, "svg");
                                n.setAttribute("width", e),
                                    n.setAttribute("height", t),
                                    (n.style.pointerEvents = "none"),
                                    (n.style.position = "absolute"),
                                    (n.style.left = "0"),
                                    (n.style.top = "0"),
                                    A.divLinksBelow.appendChild(n),
                                    (A.nav.svgLinksBelow = n);
                            }
                        })();
                        var E,
                            S = _ ? A.nav.svgLinksAbove : A.nav.svgLinksBelow,
                            H = f.height / 2,
                            M = v.height / 2;
                        if (p.x === m.x && p.y + H === m.y + M) E = a(p.x, p.y + H);
                        else if ("FinishToStart" === g)
                            if (p.x < m.x) E = d(p.x, p.y + H, m.x, m.y + M);
                            else if (p.x === m.x) {
                                var R = 0;
                                p.y > m.y && (R = v.height), (E = s(p.x, p.y + H, m.x, m.y + R));
                            } else E = p.y === m.y ? l(p.x, p.y + H, m.x, m.y + M) : u(p.x, p.y + H, m.x, m.y + M);
                        else
                            "StartToFinish" === g
                                ? (E = p.x <= m.x ? (p.y === m.y ? l(p.x, p.y + H, m.x, m.y + M) : h(p.x, p.y + H, m.x, m.y + M)) : c(p.x, p.y + H, m.x, m.y + M))
                                : "StartToStart" === g
                                ? (E = r(p.x, p.y + H, m.x, m.y + M))
                                : "FinishToFinish" === g && (E = o(p.x, p.y + H, m.x, m.y + M));
                        if ((0 === E.classList.length && (E.setAttribute("style", "pointer-events: stroke"), E.setAttribute("marker-end", "url(#" + B.Po("default") + ")"), E.classList.add(A.ca("_link_curve"))), D || w)) {
                            var P = B.Qo(w, D);
                            E.setAttribute("marker-end", "url(#" + P + ")");
                        }
                        var N = "circle" === E.tagName;
                        if ((D && E.classList.add(D), w && (N ? (E.style.fill = w) : (E.style.stroke = w)), b && !N && (E.style.strokeWidth = b), x && !N))
                            switch (x) {
                                case "dashed":
                                    E.style.strokeDasharray = "5,3";
                                    break;
                                case "dotted":
                                    E.style.strokeDasharray = "2,2";
                            }
                        if ((B.Mo(E, n), B.Lo(E, n), B.Ko(E, n), S.appendChild(E), n.text && "FinishToStart" === g)) {
                            var I = DayPilot.guid();
                            E.setAttribute("id", I);
                            var L = document.createElementNS(T, "text");
                            L.setAttribute("transform", "translate(2, -4)"), L.classList.add(A.ca("_link_curve_text")), D && L.classList.add(D), w && (L.style.fill = w);
                            const z = document.createElementNS(T, "textPath");
                            if ((z.setAttribute("href", "#" + I), (z.textContent = n.text), "center" === n.textAlignment)) z.setAttribute("startOffset", "50%"), z.setAttribute("text-anchor", "middle");
                            else if ("end" === n.textAlignment) {
                                var O = 10,
                                    U = E.getTotalLength(),
                                    j = U - O;
                                z.setAttribute("startOffset", j), z.setAttribute("text-anchor", "end");
                            }
                            L.appendChild(z), S.appendChild(L);
                        }
                        return A.elements.links.push(E), y.divs.push(E), y;
                    }),
                    (B.Io = function (e, t, n, i) {
                        var a = B.Fo(e, i),
                            r = B.Fo(t, i);
                        if (!a) return null;
                        if (!r) return null;
                        var o,
                            s,
                            l = n.type || "FinishToStart",
                            d = n.width || 1,
                            c = A.eventHeight,
                            u = A.linkBottomMargin,
                            h = A.eventHeight / 2;
                        switch (l) {
                            case "FinishToStart":
                                (o = { x: a.right, y: a.top }), (s = { x: r.left, y: r.top }), o.y > s.y && (r.top + r.height > a.top ? (s.y = o.y) : o.x <= s.x && ((s.y += r.height), (s.bottom = !0)));
                                break;
                            case "StartToFinish":
                                (o = { x: a.left, y: a.top }), (s = { x: r.right, y: r.top });
                                break;
                            case "StartToStart":
                                (o = { x: a.left, y: a.top }), (s = { x: r.left, y: r.top });
                                break;
                            case "FinishToFinish":
                                (o = { x: a.right, y: a.top }), (s = { x: r.right, y: r.top });
                        }
                        var f = [];
                        if ("FinishToStart" === l)
                            if (o.y !== s.y || o.x !== s.x || s.bottom)
                                if (o.y > s.y || (o.y == s.y && s.bottom))
                                    if (o.x <= s.x) {
                                        var v = o.x,
                                            p = o.y + c - u,
                                            m = s.x + h,
                                            g = s.y;
                                        f.push({ type: "HorizontalLine", startX: v, startY: p, endX: m, endY: p }),
                                            f.push({ type: "VerticalLine", startX: m, startY: p, endX: m, endY: g }),
                                            f.push({ type: o.y < s.y ? "ArrowDown" : "ArrowUp", startX: m, startY: g, endX: m, endY: g });
                                    } else {
                                        var y = 5,
                                            b = s.y + c + y;
                                        f.push({ type: "HorizontalLine", startX: o.x, startY: o.y + c - u, endX: o.x + h + d, endY: o.y + c - u }),
                                            f.push({ type: "VerticalLine", startX: o.x + h, startY: o.y + c - u, endX: o.x + h, endY: b }),
                                            f.push({ type: "HorizontalLine", startX: s.x - h, startY: b, endX: o.x + h + d, endY: b }),
                                            f.push({ type: "VerticalLine", startX: s.x - h, startY: b, endX: s.x - h, endY: s.y + c - u }),
                                            f.push({ type: "HorizontalLine", startX: s.x - h, startY: s.y + c - u, endX: s.x - h + h, endY: s.y + c - u }),
                                            f.push({ type: "ArrowRight", startX: s.x, startY: s.y + c - u, endX: s.x, endY: s.y + c - u });
                                    }
                                else if (o.y === s.y)
                                    if (o.x < s.x) {
                                        var v = o.x,
                                            p = o.y + c - u,
                                            m = s.x;
                                        f.push({ type: "HorizontalLine", startX: v, startY: p, endX: m, endY: p }), f.push({ type: "ArrowRight", startX: s.x, startY: s.y + c - u, endX: s.x, endY: s.y + c - u });
                                    } else {
                                        var y = 5,
                                            b = s.y + c + y;
                                        f.push({ type: "HorizontalLine", startX: o.x, startY: o.y + c - u, endX: o.x + h + d, endY: o.y + c - u }),
                                            f.push({ type: "VerticalLine", startX: o.x + h, startY: o.y + c - u, endX: o.x + h, endY: b }),
                                            f.push({ type: "HorizontalLine", startX: s.x - h, startY: b, endX: o.x + h + d, endY: b }),
                                            f.push({ type: "VerticalLine", startX: s.x - h, startY: b, endX: s.x - h, endY: s.y + c - u }),
                                            f.push({ type: "HorizontalLine", startX: s.x - h, startY: s.y + c - u, endX: s.x, endY: s.y + c - u }),
                                            f.push({ type: "ArrowRight", startX: s.x, startY: s.y + c - u, endX: s.x, endY: s.y + c - u });
                                    }
                                else if (o.x > s.x) {
                                    var w = 5,
                                        b = s.y - w;
                                    f.push({ type: "HorizontalLine", startX: o.x, startY: o.y + c - u, endX: o.x + h, endY: o.y + c - u }),
                                        f.push({ type: "VerticalLine", startX: o.x + h, startY: o.y + c - u, endX: o.x + h, endY: b }),
                                        f.push({ type: "HorizontalLine", startX: s.x - h, startY: b, endX: o.x + h, endY: b }),
                                        f.push({ type: "VerticalLine", startX: s.x - h, startY: b, endX: s.x - h, endY: s.y + c - u }),
                                        f.push({ type: "HorizontalLine", startX: s.x - h, startY: s.y + c - u, endX: s.x - h + h, endY: s.y + c - u }),
                                        f.push({ type: "ArrowRight", startX: s.x, startY: s.y + c - u, endX: s.x, endY: s.y + c - u });
                                } else {
                                    var v = o.x,
                                        p = o.y + c - u,
                                        m = s.x + h,
                                        g = s.y;
                                    f.push({ type: "HorizontalLine", startX: v, startY: p, endX: m, endY: p }),
                                        f.push({ type: "VerticalLine", startX: m, startY: p, endX: m, endY: g }),
                                        f.push({ type: o.y < s.y ? "ArrowDown" : "ArrowUp", startX: m, startY: g, endX: m, endY: g });
                                }
                            else {
                                var m = o.x,
                                    g = o.y + c - u;
                                f.push({ type: "Dot", startX: m, startY: g, endX: m, endY: g });
                            }
                        else if ("StartToFinish" === l) {
                            var w = 5,
                                b = s.y - w;
                            f.push({ type: "HorizontalLine", startX: s.x, startY: s.y + c - u, endX: s.x + h + d, endY: s.y + c - u }),
                                f.push({ type: "VerticalLine", startX: s.x + h, startY: s.y + c - u, endX: s.x + h, endY: b }),
                                f.push({ type: "HorizontalLine", startX: o.x - h, startY: b, endX: s.x + h + d, endY: b }),
                                f.push({ type: "VerticalLine", startX: o.x - h, startY: b, endX: o.x - h, endY: o.y + c - u }),
                                f.push({ type: "HorizontalLine", startX: o.x - h, startY: o.y + c - u, endX: o.x, endY: o.y + c - u }),
                                f.push({ type: "ArrowLeft", startX: s.x, startY: s.y + c - u, endX: s.x, endY: s.y + c - u });
                        } else if ("StartToStart" === l) {
                            var x = Math.min(o.x, s.x) - h;
                            f.push({ type: "HorizontalLine", startX: x, startY: o.y + c - u, endX: o.x, endY: o.y + c - u }),
                                f.push({ type: "VerticalLine", startX: x, startY: o.y + c - u, endX: x, endY: s.y + c - u }),
                                f.push({ type: "HorizontalLine", startX: x, startY: s.y + c - u, endX: s.x, endY: s.y + c - u }),
                                f.push({ type: "ArrowRight", startX: s.x, startY: s.y + c - u, endX: s.x, endY: s.y + c - u });
                        } else if ("FinishToFinish" === l) {
                            var k = Math.max(s.x, o.x) + h;
                            f.push({ type: "HorizontalLine", startX: o.x, startY: o.y + c - u, endX: k, endY: o.y + c - u }),
                                f.push({ type: "VerticalLine", startX: k, startY: o.y + c - u, endX: k, endY: c - u + s.y }),
                                f.push({ type: "HorizontalLine", startX: s.x, startY: s.y + c - u, endX: k, endY: s.y + c - u }),
                                f.push({ type: "ArrowLeft", startX: s.x, startY: s.y + c - u, endX: s.x, endY: s.y + c - u });
                        }
                        return f;
                    }),
                    (B.ij = function () {
                        (A.divLinkShadow.innerHTML = ""), (A.elements.linkshadow = []);
                    }),
                    (B.ej = function (e, t) {
                        B.ij();
                        var n = A.divLinkShadow,
                            i = DayPilot.line(e.x, e.y, t.x, t.y, { arrow: !0, cssClass: A.ca("_link_shadow") });
                        n.appendChild(i), A.elements.linkshadow.push(i);
                    }),
                    (this.qo = function (e, t) {
                        var n = {};
                        (n.from = e.from), (n.to = e.to), (n.type = e.type), A.Ja("LinkCreate", n, t);
                    }),
                    (this.so = function (e, t) {
                        var n = {};
                        (n.from = e.from), (n.to = e.to), (n.type = e.type), A.Ja("LinkCreate", n, t, "Notify");
                    }),
                    (this.ro = function (e, t) {
                        var n = {};
                        (n.from = e.from), (n.to = e.to), (n.type = e.type), A.Ha("LinkCreate", n, t);
                    }),
                    (this.Ro = function (e, t) {
                        var n = 0,
                            i = 0,
                            a = 0,
                            r = A.co(t),
                            o = r.rowlist;
                        if (e > o.length - 1) throw new DayPilot.Exception("Row index too high");
                        for (var s = 0; s <= e; s++) {
                            var l = o[s];
                            l.hidden || ((i += l.height), a++);
                        }
                        n = i - l.height;
                        var d = {};
                        return (d.top = n), (d.height = l.height), (d.bottom = i), (d.i = a - 1), (d.data = l), d;
                    }),
                    (this.ih = function () {
                        return !!this.backendUrl;
                    }),
                    (this.events.find = function (e) {
                        if (!A.events.list || "undefined" == typeof A.events.list.length) return null;
                        if ("function" == typeof e) return A.So(e);
                        for (var t = A.events.list.length, n = 0; n < t; n++) if (A.events.list[n].id === e) return new DayPilot.Event(A.events.list[n], A);
                        return null;
                    }),
                    (this.events.findAll = function (e) {
                        if ("function" == typeof e) {
                            for (var t = A.events.list.length, n = [], i = 0; i < t; i++) {
                                var a = new DayPilot.Event(A.events.list[i], A);
                                e(a) && n.push(a);
                            }
                            return n;
                        }
                        if ("object" == typeof e)
                            return A.events.findAll(function (t) {
                                for (var n in e) if (e[n] !== t.data[n]) return !1;
                                return !0;
                            });
                        throw new DayPilot.Exception("function or object argument expected");
                    }),
                    (this.So = function (e) {
                        for (var t = A.events.list.length, n = 0; n < t; n++) {
                            var i = new DayPilot.Event(A.events.list[n], A);
                            if (e(i)) return i;
                        }
                        return null;
                    }),
                    (this.events.focus = function (e) {
                        var t = A.To(e);
                        t && t.focus();
                    }),
                    (this.events.scrollIntoView = function (e) {
                        if (A.To(e)) {
                            var t = e.start(),
                                n = A.getViewPort();
                            !d(n.start, n.end, e.start(), e.end()) && d(A.Ob(), A.Vd(), e.start(), e.end()) && A.scrollTo(t, "fast", "middle");
                            var i = e.resource();
                            A.getViewPort().resources.indexOf(i) === -1 && A.scrollToResource(i);
                        }
                    }),
                    (this.events.all = function () {
                        for (var e = [], t = 0; t < A.events.list.length; t++) {
                            var n = new DayPilot.Event(A.events.list[t], A);
                            e.push(n);
                        }
                        return w(e);
                    }),
                    (this.events.forRange = function (e, t) {
                        (e = e ? new DayPilot.Date(e) : A.visibleStart()), (t = t ? new DayPilot.Date(t) : A.visibleEnd());
                        for (var n = w(), i = 0; i < A.events.list.length; i++) {
                            var a = new DayPilot.Event(A.events.list[i], A);
                            d(a.start(), a.rawend(), e, t) && n.push(a);
                        }
                        return n;
                    }),
                    (this.events.filter = function (e, t) {
                        (A.events.Ng = e), !t && A.ya && A.Ad({ eventsOnly: !0 });
                    }),
                    (this.events.edit = function (e) {
                        e instanceof DayPilot.Event || (e = new DayPilot.Event(e));
                        var t = i.Uo;
                        if (t) {
                            if (A.xd(t.event, e)) return;
                            Z.Vo(), (Z.Wo = !0), i.Uo.blur();
                        }
                        !w(A.events.Xo.rows).isEmpty() && ((Z.Wo = !0), A.events.on({ dontResetFocus: !0 })), (Z.Wo = !1);
                        var n = A.Sg(e);
                        return n ? (Z.Vo(), void A.Vb(n)) : void Z.Jn();
                    }),
                    (this.events.load = function (e, t, n) {
                        if (!e) throw new DayPilot.Exception("events.load(): 'url' parameter required");
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception), (t.request = e.request), "function" == typeof n && n(t);
                            },
                            a = function (e) {
                                var n,
                                    a = e.request;
                                try {
                                    n = JSON.parse(a.responseText);
                                } catch (e) {
                                    var r = {};
                                    return (r.exception = e), void i(r);
                                }
                                if (_(n)) {
                                    var o = {};
                                    if (
                                        ((o.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (o.data = n),
                                        "function" == typeof t && t(o),
                                        o.preventDefault.value)
                                    )
                                        return;
                                    (A.events.list = o.data), A.ya && A.update();
                                }
                            };
                        if (A.eventsLoadMethod && "POST" === A.eventsLoadMethod.toUpperCase())
                            DayPilot.ajax({ method: "POST", contentType: "application/json", data: { start: A.visibleStart().toString(), end: A.visibleEnd().toString() }, url: e, success: a, error: i });
                        else {
                            var r = e,
                                o = "start=" + A.visibleStart().toString() + "&end=" + A.visibleEnd().toString();
                            (r += r.indexOf("?") > -1 ? "&" + o : "?" + o), DayPilot.ajax({ method: "GET", url: r, success: a, error: i });
                        }
                    }),
                    (this.events.findRecurrent = function (e, t) {
                        if (!A.events.list || "undefined" == typeof A.events.list.length) return null;
                        for (var n = A.events.list.length, i = 0; i < n; i++) if (A.events.list[i].recurrentMasterId === e && A.events.list[i].start.getTime() === t.getTime()) return new DayPilot.Event(A.events.list[i], A);
                        return null;
                    }),
                    (this.events.Fm = function (e) {
                        var t = [];
                        A.lm().forEach(function (n) {
                            if (!n.isNewRow) {
                                A.mm(n.index, n.grid);
                                for (var i = 0; i < n.events.length; i++) {
                                    var a = n.events[i].data;
                                    if (A.xd(a, e)) {
                                        t.push(n), n.events.splice(i, 1);
                                        break;
                                    }
                                }
                            }
                        });
                        var n = "_" + e.id;
                        return (A.zo[n] = null), t;
                    }),
                    (this.events.Co = function (e) {
                        if (!e) return null;
                        for (var t = A.lm(), n = 0; n < t.length; n++) {
                            var i = t[n];
                            if (!i.hidden && !i.isNewRow) {
                                A.mm(i.index, i.grid);
                                var a = i.blocks.find(function (t) {
                                    return (
                                        !t.expanded &&
                                        (!!t.events.find(function (t) {
                                            return !!A.xd(t.data, e);
                                        }) ||
                                            void 0)
                                    );
                                });
                                if (a) return a;
                                for (var r = 0; r < i.events.length; r++) {
                                    var o = i.events[r];
                                    if (A.xd(o.data, e)) return i.events[r];
                                }
                            }
                        }
                        return null;
                    }),
                    (this.events.Gm = function (e) {
                        var t = [],
                            n = A.Yo() || "Days" === A.viewType,
                            i = "_" + e.id;
                        if (!A.temp.allowDuplicateEventIds && A.zo[i]) throw new DayPilot.Exception("Duplicate event IDs are not allowed: " + i);
                        A.zo[i] = {};
                        var a = C(A.events.list, e);
                        A.rg(a);
                        var r = A.lm(),
                            o = !1;
                        return (
                            r.forEach(function (r) {
                                if (!o && !r.isNewRow) {
                                    A.mm(r.index, r.grid);
                                    var s = A.Zo(e, r);
                                    s && ((A.zo[i].Ao = s), "function" == typeof A.onBeforeEventRender && (s.cache = A.ta.events[a]), t.push(r), n || (o = !0));
                                }
                            }),
                            t
                        );
                    }),
                    (this.xd = function (e, t) {
                        return DayPilot.Util.isSameEvent(e, t);
                    }),
                    (this.events.update = function (e, t, n) {
                        var i = function (e) {
                                var t = Z.Ak;
                                if (t && "event" === t.type) {
                                    A.xd(t.event.data, e) && (t.event = A.events.Co(e));
                                }
                            },
                            r = e instanceof DayPilot.Event;
                        if ("object" == typeof e && !r) {
                            var o = A.events.find(e.id);
                            return A.events.remove(o), A.events.add(e), void i(e);
                        }
                        var s = {};
                        (s.oldEvent = new DayPilot.Event(e.copy(), A)), (s.newEvent = new DayPilot.Event(e.temp(), A));
                        var n = n || {},
                            l = new DayPilot.Action(A, "EventUpdate", s, t);
                        if (
                            w(A.events.list).find(function (t) {
                                return A.xd(t, e.data);
                            })
                        ) {
                            if (A.Tg.scope)
                                A.Tg.notify(function () {
                                    e.commit();
                                });
                            else if (
                                (A.zl.$o && (A.zl.skip = !0),
                                (A.eventUpdateInplaceOptimization || n.inplace) && s.oldEvent.resource() === s.newEvent.resource() && s.oldEvent.start() === s.newEvent.start() && s.oldEvent.end() === s.newEvent.end())
                            ) {
                                e.commit();
                                var d = A.Sg(e);
                                if (d) {
                                    var c = d.event.part;
                                    A.Be(d), DayPilot.rfa(A.elements.events, d), (e.part = c);
                                } else a("Old div not found");
                                var u = A.events.Fm(e.data);
                                (u = u.concat(A.events.Gm(e.data))), A.Hm(u);
                                var h = A.events.Co(e.data);
                                h && A.Fe(h), A._o();
                            } else {
                                var u = A.events.Fm(e.data);
                                e.commit(), (u = u.concat(A.events.Gm(e.data))), A.events.ap(u);
                            }
                            return i(e.data), l;
                        }
                    }),
                    (this.events.remove = function (e, t) {
                        if (e) {
                            if ("string" == typeof e || "number" == typeof e) {
                                var n = A.events.find(e);
                                return void A.events.remove(n);
                            }
                            var i = {};
                            i.e = new DayPilot.Event(e.data, A);
                            var a = new DayPilot.Action(A, "EventRemove", i, t),
                                r = A.bp(e.data);
                            if (r) {
                                A.events.list.splice(r.index, 1);
                                var o = "_" + e.data.id;
                                A.zo[o] = null;
                            }
                            if (A.Tg.scope) A.Tg.notify();
                            else {
                                A.zl.$o && (A.zl.skip = !0);
                                var s = A.events.Fm(e.data);
                                if (A.eventUpdateInplaceOptimization && 1 === s.length && !A.events.Mc(e)) {
                                    A.cp(s[0]);
                                    var l = A.Sg(e);
                                    if (l) {
                                        var d = A.elements.events.indexOf(l);
                                        A.elements.events.splice(d, 1), A.Be(l), A._o();
                                    }
                                } else A.events.ap(s);
                            }
                            return a;
                        }
                    }),
                    (this.events.add = function (e, t, n) {
                        var n = n || {},
                            i = n.renderOnly;
                        e instanceof DayPilot.Event || (e = new DayPilot.Event(e)), (e.calendar = A), A.events.list || (A.events.list = []);
                        var a = A.bp(e);
                        if (i) {
                            if (!a) throw new DayPilot.Exception("Unexpected: event not found in list");
                        } else {
                            if (a && !A.temp.allowDuplicateEventIds) throw new DayPilot.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");
                            a || A.events.list.push(e.data);
                        }
                        var r = new DayPilot.Action(A, "EventAdd", o, t);
                        if (!A.ya) return r;
                        if (A.Tg.scope) A.Tg.notify();
                        else {
                            A.zl.$o && (A.zl.skip = !0);
                            var o = {};
                            o.e = e;
                            var s = A.events.Gm(e.data),
                                l = e.data.height || A.eventHeight;
                            if (A.eventUpdateInplaceOptimization && 1 === s.length && !A.events.Mc(e) && l <= A.eventHeight && !A.eventVersionsEnabled) {
                                var d = s[0];
                                A.cp(d);
                                var c = d.events.find(function (t) {
                                    return t.data === e.data;
                                });
                                (c.part.top = 0), (c.part.height = l), (c.part.line = 0), A.Fe(c), A._o(), Z.dn();
                            } else A.events.ap(s);
                        }
                        return r;
                    }),
                    (this.events.Mc = function (e) {
                        var t = e instanceof DayPilot.Event ? e.data : e,
                            n = new DayPilot.Date(t.start),
                            i = new DayPilot.Date(t.end);
                        return !!w(A.events.list).find(function (e) {
                            return !A.xd(t, e) && t.resource === e.resource && d(n, i, new DayPilot.Date(e.start), new DayPilot.Date(e.end));
                        });
                    }),
                    (this.events.addByData = function (e) {
                        A.events.add(new DayPilot.Event(e));
                    }),
                    (this.events.removeByData = function (e) {
                        var t = A.events.find(e.id);
                        if (!t) throw new DayPilot.Exception("The event to be removed was not found");
                        A.events.remove(t);
                    }),
                    (this.events.updateByData = function (e) {
                        var t = A.events.find(e.id);
                        if (!t) throw new DayPilot.Exception("The event to be updated was not found");
                        A.events.remove(t), A.events.add(new DayPilot.Event(e));
                    }),
                    (this.events.removeById = function (e) {
                        var t = A.events.find(e);
                        if (!t) throw new DayPilot.Exception("The event to be removed was not found");
                        A.events.remove(t);
                    }),
                    (this.events.Xo = { rows: [] }),
                    (this.events.ep = null),
                    (this.events.Vm = function () {
                        clearTimeout(A.events.ep), (A.events.ep = null), (A.events.Xo.rows = []);
                    }),
                    (this.events.fp = 0),
                    (this.events.ap = function (e) {
                        var t = A.events.Xo.rows;
                        w(e).forEach(function (e) {
                            t.push(e);
                        }),
                            (A.events.Xo.rows = DayPilot.ua(t));
                        var n = A.events.on;
                        A.events.ep || (A.events.ep = setTimeout(n, A.events.fp));
                    }),
                    (this.events.on = function (e) {
                        (e = e || {}), clearTimeout(A.events.ep), (A.events.ep = null);
                        var t = A.events.Xo.rows;
                        (A.events.Xo.rows = []), A.Hm(t), A.Im(), A.ya && ("Gantt" === A.viewType ? A.update() : (A.jn && A.il(), A.vb(), A.Jm(t), A._o(), e.dontResetFocus || Z.dn()));
                    }),
                    (this.zl = {}),
                    (this.zl.enabled = !1),
                    (this.zl.skip = !1),
                    (this.zl.skipUpdate = function () {
                        return A.zl.skip;
                    }),
                    (this.zl.skipped = function () {
                        A.zl.skip = !1;
                    }),
                    (this.zl.gp = !1),
                    (this.zl.$o = !1),
                    (this.W = {}),
                    (this.W.reactDOM = null),
                    (this.W.react = null),
                    (this.W.V = function (e, t) {
                        var n = A.W.reactDOM;
                        if ("function" == typeof n.createRoot) {
                            var i = t.ma;
                            i || ((i = n.createRoot(t)), (t.ma = i)), i.render(e);
                        } else n.render(e, t);
                    }),
                    (this.W.ka = function (e) {
                        var t = A.W.reactDOM;
                        if ("function" == typeof t.createRoot) {
                            var n = e.ma;
                            setTimeout(function () {
                                n.unmount(), (e.ma = null);
                            }, 0);
                        } else t.unmountComponentAtNode(e);
                    }),
                    (this.Y = {}),
                    (this.Y.hp = null),
                    (this.Y.Z = function (e, t, n) {
                        var i = A.Y.hp;
                        if ("function" == typeof i.createVNode && "function" == typeof i.render) {
                            var a = i.createVNode(e, n);
                            i.render(a, t);
                        }
                    }),
                    (this.Y.la = function (e) {
                        var t = A.Y.hp;
                        "function" == typeof t.render && t.render(null, e);
                    }),
                    (this.queue = {}),
                    (this.queue.list = []),
                    (this.queue.list.ignoreToJSON = !0),
                    (this.queue.add = function (e) {
                        if (e) {
                            if (!e.isAction) throw new DayPilot.Exception("DayPilot.Action object required for queue.add()");
                            A.queue.list.push(e);
                        }
                    }),
                    (this.queue.notify = function (e) {
                        var t = {};
                        (t.actions = A.queue.list), A.Ja("Notify", t, e, "Notify"), (A.queue.list = []);
                    }),
                    (this.queue.clear = function () {
                        A.queue.list = [];
                    }),
                    (this.queue.pop = function () {
                        return A.queue.list.pop();
                    }),
                    (this.cells.find = function (e, t) {
                        var n = A._m(e, t);
                        return n ? this.findXy(n.x, n.y, n.grid) : P();
                    }),
                    (this.cells.findByPixels = function (e, t) {
                        var n = A.um(e);
                        if (!n) return P();
                        var e = n.x,
                            i = A.Tn(t);
                        if (!i) return P();
                        var t = i.i;
                        return this.findXy(e, t);
                    }),
                    (this.cells.all = function () {
                        for (var e = [], t = A.itline.length, n = A.rowlist.length, i = 0; i < t; i++)
                            for (var a = 0; a < n; a++) {
                                var r = A.cells.findXy(i, a);
                                e.push(r[0]);
                            }
                        return P(e);
                    }),
                    (this.cells.be = function (e, t, n) {
                        n = n || "main";
                        var i = A.Cl[n],
                            a = i.rowlist,
                            r = A.Am(e),
                            o = a[t];
                        if (!r) return null;
                        if (!o) return null;
                        var s = o.start.getTime() - A.Ob().getTime(),
                            l = r.start.addTime(s),
                            d = r.end.addTime(s),
                            c = {};
                        (c.x = e),
                            (c.y = t),
                            (c.grid = n),
                            (c.displayY = o.displayY),
                            (c.i = n + "_" + e + "_" + t),
                            !o.id,
                            (c.resource = o.id),
                            (function () {
                                var e;
                                Object.defineProperty(c, "row", {
                                    get: function () {
                                        return e || (e = new DayPilot.Row(o, A)), e;
                                    },
                                });
                            })(),
                            (c.start = l),
                            (c.end = d),
                            (c.calendar = A),
                            (c.isParent = !(!o.children || !o.children.length)),
                            (c.update = function () {
                                if (!a[c.y].hidden) {
                                    var e = A.ta.cells[c.i];
                                    A.ip(e);
                                    var t = A.hd();
                                    t.xStart <= c.x && c.x <= t.xEnd && t.yStart <= c.y && c.y <= t.yEnd && A.Me(c.x, c.y, c.grid);
                                }
                            }),
                            (c.utilization = function (e) {
                                return o.isNewRow ? 0 : (o.sections || o.jp(), o.sections.forRange(l, d).maxSum(e));
                            }),
                            (c.events = function () {
                                return o.events.forRange(l, d);
                            }),
                            (c.div = A.ta.cells[c.i]);
                        var u = A.kp(e, t, n);
                        return (c.properties = u), c;
                    }),
                    (this.cells.findXy = function (e, t, n) {
                        if (((n = n || "main"), _(e))) {
                            for (var i = [], a = 0; a < e.length; a++) {
                                var r = e[a];
                                i.push(A.cells.be(r.x, r.y, n));
                            }
                            return P(i);
                        }
                        return null === e || null === t ? P() : P(A.cells.be(e, t, n));
                    }),
                    (this._m = function (e, t) {
                        var n;
                        if (((n = t instanceof DayPilot.Row ? t.$.row : t.isRow ? t : A.Gl(t)), !n)) return null;
                        if (!A.itline || 0 === A.itline.length) return null;
                        var i = n.start.getTime() - A.Ob().getTime(),
                            a = new DayPilot.Date(e).addTime(-i),
                            r = A.getPixels(a);
                        if (!r) return null;
                        if (null === r.i) return null;
                        var o = {};
                        return (o.x = r.i), (o.y = n.index), (o.grid = n.grid), o;
                    }),
                    (this.lp = function (e) {
                        var t = w();
                        if (_(e)) for (var n = 0; n < e.length; n++) t.push(e[n]);
                        else "object" == typeof e && e && t.push(e);
                        return (
                            (t.cssClass = function (e) {
                                return (
                                    this.forEach(function (t) {
                                        (t.properties.cssClass = DayPilot.Util.addClassToString(t.properties.cssClass, e)), t.update();
                                    }),
                                    this
                                );
                            }),
                            (t.removeClass = function (e) {
                                return (
                                    this.forEach(function (t) {
                                        (t.properties.cssClass = DayPilot.Util.removeClassFromString(t.properties.cssClass, e)), t.update();
                                    }),
                                    this
                                );
                            }),
                            (t.addClass = t.cssClass),
                            (t.html = function (e) {
                                return (
                                    this.forEach(function (t) {
                                        (t.properties.html = e), t.update();
                                    }),
                                    this
                                );
                            }),
                            (t.invalidate = function () {
                                return (
                                    this.forEach(function (e) {
                                        delete A.om[e.i];
                                    }),
                                    this
                                );
                            }),
                            t
                        );
                    });
                var P = this.lp;
                (this.Tg = {}),
                    (this.Tg.scope = null),
                    (this.Tg.notify = function (e) {
                        A.Tg.scope && DayPilot.Util.safeApply(A.Tg.scope, e);
                    }),
                    (this.debug = new DayPilot.Debug(this)),
                    (this.mp = function (e) {
                        if ("Days" !== A.viewType) throw new DayPilot.Exception("Checking row start when viewType !== 'Days'");
                        if (e.getTime() < A.visibleStart().getTime()) return A.visibleStart();
                        for (var t = 0; t < A.rowlist.length; t++) {
                            var n = A.rowlist[t],
                                i = n.element ? n.element.data : n.data,
                                a = i.start;
                            if (e.getTime() >= a.getTime() && e.getTime() < a.addDays(1).getTime()) return a;
                        }
                        return null;
                    }),
                    (this.np = function (e) {
                        var t = A.Ob();
                        if (e.ticks === t.ticks) return e;
                        var n = t;
                        if (e.ticks < t.ticks) {
                            for (var i = this.itline[0].end.ticks - this.itline[0].start.ticks; n.ticks > e.ticks; ) n = n.addTime(-i);
                            return n;
                        }
                        if ("Days" === A.viewType) {
                            var a = 0,
                                r = this.wm(e.addTime(-0));
                            if (r.current) return r.current.start.addTime(a);
                            if (r.past) return r.previous.end.addTime(a);
                            throw new DayPilot.Exception("getBoxStart(): time not found");
                        }
                        var r = this.wm(e);
                        if (r.current) return r.current.start;
                        if (r.past) return r.previous.end;
                        if (r.hidden) {
                            var o = r.next.start.getTime() - e.getTime(),
                                s = r.next.end.getTime() - r.next.start.getTime(),
                                l = Math.ceil(o / s) * s;
                            return r.next.start.addTime(-l);
                        }
                        throw new DayPilot.Exception("getBoxStart(): time not found");
                    }),
                    (this.eo = function (e) {
                        var t = this.Tn(A.coords.y, A.coords.grid),
                            n = A.scaleManualLimitBeyond;
                        if ("function" != typeof e.end) throw new DayPilot.Exception("e.end function is not defined");
                        if (!e.end()) throw new DayPilot.Exception("e.end() returns null");
                        var a = DayPilot.DateUtil.diff(e.rawend(), e.start());
                        a = f(a, 1);
                        var r = K.Og(a),
                            o = e.data && "Milestone" === e.data.type,
                            s = A.eventHeight,
                            l = 0,
                            d = A.coords.x;
                        if ((o && (d += s / 2), n && "Manual" === A.scale && !A.eventMoveSkipNonBusiness)) {
                            var c = (function () {
                                    var e = A.getDate(A.coords.x, !0, !0),
                                        t = e.addTime(-a),
                                        n = A.getPixels(t).boxLeft,
                                        i = A.getPixels(e).boxRight,
                                        e = Math.min(i, A.coords.x);
                                    return e - n;
                                })(),
                                u = Math.min(i.pp ? i.pp : 0, c);
                            d = A.coords.x - u;
                        }
                        var h = i.qp ? i.qp.calendar : A,
                            v = 0,
                            p = "Days" === this.viewType || this.rp(),
                            m = !e.part.external && h === A;
                        if ((p && m && (v = this.rowlist[e.part.dayIndex].start.getTime() - this.Ob().getTime()), r && !o && h === A)) {
                            var g = A.wm(e.start()),
                                y = !g.hidden && !g.past;
                            (l = e.start().getTime() - this.np(e.start().addTime(-v)).addTime(v).getTime()),
                                y &&
                                    (l = (function (e, t) {
                                        var n = A.sp(A.wm(e).current),
                                            i = A.sp(A.um(d).cell);
                                        if (n > 1.2 * i) {
                                            for (var a = t > 0 ? 1 : -1, t = Math.abs(t); t >= i; ) t -= i;
                                            t *= a;
                                        }
                                        return t;
                                    })(e.start(), l));
                        }
                        h && h !== A && h.tp() !== A.tp() && (l = 0);
                        var b = 0;
                        if (!i.up || ("Manual" === A.scale && n) || h !== A) b = 0;
                        else if (r) {
                            var w = e.start().addTime(-v),
                                x = this.np(w);
                            b = i.up.getTime() - x.getTime();
                            var k = 60 * A.tp() * 1e3;
                            b = Math.floor(b / k) * k;
                        } else b = i.up.getTime() - e.start().addTime(-v).getTime();
                        if ((this.eventMoveToPosition && (b = 0), o)) {
                            var C = A.getDate(d, !0);
                            b = -((A.getDate(d + s / 2, !0).getTime() - C.getTime()) / 2);
                        }
                        var _ = this.getDate(d, !0).addTime(-b).addTime(v);
                        i.vp && (_ = e.start());
                        var D = A.snapToGrid;
                        i.ym ? (D = D && A.snapToGridEventMoving) : i.vp ? (D = D && A.snapToGridEventResizing) : i.wp && (D = D && A.snapToGridTimeRangeSelecting), D && (_ = this.np(_.addTime(-v)).addTime(v)), (_ = _.addTime(l));
                        var T = _.addTime(a),
                            E = _,
                            S = T;
                        if (p) {
                            (E = _.addTime(-v)), (S = E.addTime(a));
                            var H = t.element.data.start.getTime() - this.Ob().getTime();
                            (_ = E.addTime(H)), (T = _.addTime(a));
                        }
                        if (n && "Manual" === A.scale) {
                            var M = t.element.xp();
                            if (T > M) {
                                var R = T.getTime() - M.getTime();
                                (_ = _.addTime(-R)), (T = T.addTime(-R));
                            }
                            (E = _.addTime(-v)), (S = T.addTime(-v));
                        }
                        if (i.ym && A.eventMoveSkipNonBusiness) {
                            var B = t.i,
                                P = 0;
                            i.up && ((P = i.up.addTime(v)), D && (P = this.np(P.addTime(-v)).addTime(v)));
                            var N = !e.part.dayIndex,
                                I = 0;
                            N || (I = A.yp(e.start(), P, e.part.dayIndex));
                            var a = A.zp(e),
                                L = A.getDate(d, !0);
                            D && (L = A.getDate(d));
                            var u = A.Ap(L, I, B, t.grid);
                            (_ = L.addTime(-u).addTime(v)),
                                D && (_ = this.np(_.addTime(-v)).addTime(v)),
                                (l = N ? 0 : A.yp(this.np(e.start().addTime(-v)).addTime(v), e.start(), B, t.grid)),
                                (_ = _.addTime(l)),
                                _ <= A.visibleStart() && (_ = A.Bp(A.visibleStart(), B, t.grid).start),
                                (T = A.Cp(_, a, B, t.grid)),
                                T >= A.visibleEnd() && ((T = A.Dp(A.visibleEnd(), B, t.grid).end), (_ = T.addTime(-A.Ap(T, a, B)))),
                                (E = _.addTime(-v)),
                                (S = T.addTime(-v));
                        }
                        var z = this.getPixels(E),
                            O = this.getPixels(S),
                            U = D ? z.boxLeft : z.left,
                            j = D && r ? O.boxRight - U : O.left - U;
                        o && ((j = s), (U -= j / 2));
                        var W = {};
                        return (W.top = t.top), (W.left = U), (W.row = t.element), (W.rowIndex = t.i), (W.grid = A.coords.grid), (W.width = j), (W.start = _), (W.end = T), (W.relativeY = A.coords.y - t.top), W;
                    }),
                    (this.Ep = function (e, t) {
                        var n = A.wm(e),
                            i = A.wm(t),
                            a = null,
                            r = 0;
                        n.hidden && (a = e);
                        for (var o = n.i; o <= i.i; o++) {
                            var s = A.itline[o];
                            a && a < s.start && (r += s.start.getTime() - a.getTime()), (a = s.end);
                        }
                        return r;
                    }),
                    (this.Cp = function (e, t, n, i) {
                        i = i || "main";
                        var a = t,
                            r = A.rowlist[n],
                            o = r.data.start.getTime() - A.Ob().getTime(),
                            s = e.addTime(-o),
                            l = A.Bp(s, n, i);
                        if (!l) throw new DayPilot.Exception("No next cell found");
                        var d = C(A.itline, l);
                        if (l.start > e);
                        else {
                            if (((a -= l.end.getTime() - s.getTime()), a <= 0)) return e.addTime(t);
                            d += 1;
                        }
                        for (var c = d; c < A.itline.length; c++) {
                            var u = A.kp(c, n, i),
                                h = A.itline[c];
                            if (u.business) {
                                var f = h.start.addTime(o),
                                    v = h.end.addTime(o),
                                    p = v.getTime() - f.getTime();
                                if (a <= p) return f.addTime(a);
                                a -= p;
                            }
                        }
                        return A.itline[A.itline.length - 1].end.addTime(a);
                    }),
                    (this.yp = function (e, t, n, i) {
                        i = i || "main";
                        var a = A.co(i),
                            r = a.rowlist,
                            o = r[n],
                            s = o.data.start.getTime() - A.Ob().getTime(),
                            l = (A.wm(e), e.addTime(-s)),
                            d = t.addTime(-s),
                            c = A.Bp(l, n, i);
                        if (!c) throw new DayPilot.Exception("No next cell found");
                        var u = 0,
                            h = C(A.itline, c);
                        if (c.start <= d) {
                            if (t < c.end.addTime(s)) return c.start > l ? t.getTime() - c.start.addTime(s).getTime() : t.getTime() - e.getTime();
                            (u += l > c.start ? c.end.getTime() - l.getTime() : c.end.getTime() - c.start.getTime()), (h += 1);
                        }
                        for (var v = h; v < A.itline.length; v++) {
                            if (A.kp(v, n, i).business) {
                                var p = A.itline[v],
                                    m = p.start.addTime(s),
                                    g = p.end.addTime(s),
                                    y = g.getTime() - m.getTime();
                                if (t < m) return u;
                                if (t <= g) return (u += t.getTime() - m.getTime());
                                u += y;
                            }
                        }
                        return (u += f(0, t.getTime() - A.itline.last().end.addTime(s).getTime()));
                    }),
                    (this.zp = function (e) {
                        if (e.part.duration) {
                            if (isNaN(e.part.duration)) throw new DayPilot.Exception("Unable to get calculated duration");
                            return e.part.duration;
                        }
                        var t = e.part.dayIndex;
                        return A.yp(e.start(), e.rawend(), t);
                    }),
                    (this.Ap = function (e, t, n, i) {
                        i = i || "main";
                        var a = 0,
                            r = t,
                            o = A.wm(e);
                        if (!o.current) throw new DayPilot.Exception("Current cell not found.");
                        var s = C(A.itline, o.current);
                        if (A.kp(s, n, i).business) {
                            if (e.addTime(-t) >= o.current.start) return t;
                        } else if (0 === t || e.addTime(-t) >= o.current.start) {
                            var l = A.Bp(e, n, i);
                            if (l) return e.getTime() - l.start.getTime();
                            var d = A.Dp(e, n, i);
                            return e.getTime() - d.start.getTime();
                        }
                        (a += e.getTime() - o.current.start.getTime()), (r -= e.getTime() - o.current.start.getTime()), (s -= 1);
                        for (var c = o.current.start; s >= 0; ) {
                            var o = A.itline[s];
                            c > o.end && (a += c.getTime() - o.end.getTime()), (c = o.start);
                            var u = o.end.getTime() - o.start.getTime();
                            if (A.kp(s, n, i).business) {
                                if (r <= u) return (a += r);
                                (a += u), (r -= u);
                            } else a += u;
                            s -= 1;
                        }
                        return a + r;
                    }),
                    (this.Dp = function (e, t, n) {
                        n = n || "main";
                        var i = A.wm(e),
                            a = 0;
                        if (i.past) return null;
                        if (i.current) a = i.i;
                        else {
                            if (!i.previous) return null;
                            a = C(A.itline, i.previous);
                        }
                        for (var r = a; r >= 0; r--) {
                            if (A.Bf(r, t, n)) return A.itline[r];
                        }
                        return null;
                    }),
                    (this.Bp = function (e, t, n) {
                        n = n || "main";
                        var i = A.wm(e),
                            a = 0;
                        if (i.past) return null;
                        if (i.current) a = i.i;
                        else {
                            if (!i.next) return null;
                            a = C(A.itline, i.next);
                        }
                        for (var r = a; r < A.itline.length; r++) {
                            if (A.Bf(r, t, n)) return A.itline[r];
                        }
                        return null;
                    }),
                    (this.Bf = function (e, t, n) {
                        return (n = n || "main"), A.kp(e, t, n).business;
                    }),
                    (this.tp = function () {
                        switch (this.scale) {
                            case "CellDuration":
                                return this.cellDuration;
                            case "Minute":
                                return 1;
                            case "Hour":
                                return 60;
                            case "Day":
                                return 1440;
                            case "Week":
                                return 10080;
                            case "Month":
                                return 43200;
                            case "Year":
                                return 525600;
                            case "Manual":
                                if (A.itline.length > 0) {
                                    var e = A.itline[0];
                                    return (e.end.getTime() - e.start.getTime()) / 6e4;
                                }
                                return A.cellDuration;
                        }
                        throw new DayPilot.Exception("can't guess cellDuration value");
                    }),
                    (this.sp = function (e) {
                        return e.end.ticks - e.start.ticks;
                    }),
                    (this.fo = function (e, t) {
                        return (t = t || "main"), !("main" !== t || !this.treePreventParentUsage || !this.Fp(e, t)) || !!this.Gp(e, t);
                    }),
                    (this.Fp = function (e, t) {
                        t = t || "main";
                        var n = A.Cl[t],
                            i = n.rowlist,
                            a = i[e];
                        return !!a.isParent || !!(this.treeEnabled && a.children && a.children.length > 0);
                    }),
                    (this.Gp = function (e, t) {
                        t = t || "main";
                        var n = A.Cl[t],
                            i = n.rowlist,
                            a = i[e];
                        return !!a.isNewRow || !!a.resource.preventUsage;
                    }),
                    (this.Hp = {}),
                    (this.Ip = function () {
                        if (A.treeAutoExpand) {
                            var e = this.eo(i.qp),
                                t = e.rowIndex,
                                n = this.Fp(t),
                                a = this.Hp;
                            if ((a.timeout && a.y !== t && (clearTimeout(a.timeout), (a.timeout = null), (a.y = null)), n)) {
                                a.y = t;
                                var r = !A.rowlist[a.y].expanded;
                                !a.timeout &&
                                    r &&
                                    (a.timeout = setTimeout(function () {
                                        !A.rowlist[a.y].expanded && (A.Jp(a.y, { notAnimated: !0 }), A.Kp()), (a.timeout = null), (a.y = null);
                                    }, 500));
                            }
                        }
                    }),
                    (this.Lp = function () {
                        clearTimeout(A.Hp.timeout), (A.Hp.timeout = null), (A.Hp.y = null);
                    }),
                    (this.Jf = function () {
                        var e = i.Mp.width,
                            t = i.Mp.left,
                            n = i.Np,
                            a = i.vp.dpBorder,
                            r = A.rowlist[n.part.dayIndex],
                            o = 0;
                        o = r.start.getTime() - A.Ob().getTime();
                        var s = null,
                            l = null,
                            d = A.snapToGrid && A.snapToGridEventResizing,
                            c = !d;
                        "left" === a ? ((s = A.getDate(t, c).addTime(o)), (l = n.rawend())) : "right" === a && ((s = n.start()), (l = A.getDate(t + e, c, !0).addTime(o))), (i.Mp.start = s), (i.Mp.end = l);
                    }),
                    (this.exportAs = function (e, t) {
                        if (!A.fg()) throw new DayPilot.Exception("DayPilot.Scheduler.exportAs(): The instance must be visible during export.");
                        var n = N.generate(e, t);
                        return new DayPilot.Export(n);
                    }),
                    (this["export"] = this.exportAs),
                    (this.$g = {});
                var N = this.$g;
                (N.ah = function () {
                    var e = N._g;
                    switch (e) {
                        case "viewport":
                            return A.nav.top.offsetWidth;
                        case "full":
                            return A.Sl() + N.getRowHeaderWidth();
                        case "range":
                            return A.getPixels(N.getRangeEnd()).boxRight - A.getPixels(N.getRangeStart()).boxLeft + N.getRowHeaderWidth();
                        default:
                            throw new DayPilot.Exception("Unsupported export mode: " + e);
                    }
                }),
                    (N.bh = function () {
                        var e = N._g;
                        switch (e) {
                            case "viewport":
                                return A.nav.top.offsetHeight - DayPilot.sh(A.nav.scroll) - 1;
                            case "full":
                                return A.Op() + A.Xl() - DayPilot.sh(A.nav.scroll);
                            case "range":
                                var t = N.getRows();
                                if (0 === t.length) return A.Xl();
                                var n = t.first(),
                                    i = t.last(),
                                    a = N.Pp(i) - N.Pp(n) + i.height + A.Xl();
                                return (a += A.Cl.top.height), (a += A.Cl.bottom.height);
                            default:
                                throw new DayPilot.Exception("Unsupported export mode: " + e);
                        }
                    }),
                    (N.Pp = function (e) {
                        var t = N.A.includeHiddenRows ? e.absTop : e.top;
                        return "bottom" === e.grid && ("viewport" === N._g ? (t += A.Cl.bottom.top - A.Xl()) : "full" === N._g ? (t += A.Tk) : "range" === N._g && (t += N.bh() - A.Xl() - A.Cl.bottom.height)), t;
                    }),
                    (N.Qp = function (e) {
                        var t = N.getViewportOffsetTop();
                        return "main" !== e.grid && (t = 0), t;
                    }),
                    (N.getRangeStart = function () {
                        var e = N.A.dateFrom || A.Ob();
                        return new DayPilot.Date(e);
                    }),
                    (N.getRangeEnd = function () {
                        var e = N.A.dateTo || A.Vd();
                        return new DayPilot.Date(e);
                    }),
                    (N.getRangeResStart = function () {
                        return N.A.resourceFrom
                            ? A.Gl(N.A.resourceFrom)
                            : A.rowlist.find(function (e) {
                                  return !e.hidden;
                              });
                    }),
                    (N.getRangeResEnd = function () {
                        return N.A.resourceTo ? A.Gl(N.A.resourceTo) : A.rowlist.last();
                    }),
                    (N.getRowHeaderWidth = function () {
                        return A.Vl();
                    }),
                    (N.getTimeHeaderHeight = function () {
                        return A.Xl();
                    }),
                    (N.getCanvas = function () {
                        return N.canvas();
                    }),
                    (N.getRectangles = function () {
                        var e = N.getRowHeaderWidth(),
                            t = N.getTimeHeaderHeight(),
                            n = {};
                        (n.main = { x: 0, y: 0, w: N.ah(), h: N.bh() }), (n.corner = { x: 0, y: 0, w: e, h: t }), (n.grid = { x: e, y: t, w: N.ah() - e, h: N.bh() - t });
                        var i = n.grid.w,
                            a = A.itline.last();
                        a && a.left + a.width < n.grid.w && (i = a.left + a.width);
                        var r = n.grid.h,
                            o = A.rowlist.last();
                        return o && o.top + o.height < n.grid.h && (r = o.top + o.height), (n.gridContent = { x: e, y: t, w: i, h: r }), n;
                    }),
                    (N.getRows = function () {
                        var e,
                            t,
                            n,
                            i,
                            a = N._g,
                            r = w();
                        switch (a) {
                            case "viewport":
                                (e = A.Rp), (t = e + A.nav.scroll.offsetHeight), (n = A.Tn(e).i), (i = A.Tn(t).i);
                                break;
                            case "full":
                                (e = 0), (n = 0), (i = A.rowlist.length);
                                break;
                            case "range":
                                var o = N.getRangeResStart(),
                                    s = N.getRangeResEnd();
                                if (!o) throw new DayPilot.Exception("Resource specified using resourceFrom option not found during export.");
                                if (!s) throw new DayPilot.Exception("Resource specified using resourceTo option not found during export.");
                                (n = o.index), (i = s.index);
                        }
                        i < A.rowlist.length && (i += 1);
                        for (var l = n; l < i; l++) {
                            var d = A.rowlist[l];
                            (!N.A.includeHiddenRows && d.hidden) || r.push(d);
                        }
                        return (r.offset = n), r;
                    }),
                    (N.getRowsTop = function () {
                        return A.Cl.top.rowlist;
                    }),
                    (N.getRowsBottom = function () {
                        return A.Cl.bottom.rowlist;
                    }),
                    (N.getRowsAll = function () {
                        var e = N.getRows();
                        return (e = e.concat(N.getRowsTop())), (e = e.concat(N.getRowsBottom()));
                    }),
                    (N.getRowsTopAndBottom = function () {
                        var e = [];
                        return (e = e.concat(N.getRowsTop())), (e = e.concat(N.getRowsBottom()));
                    }),
                    (N.bottomFrozenY = function () {
                        if (A.Cl.bottom.enabled()) {
                            if ("viewport" === N._g) return A.Cl.bottom.top;
                            if ("full" === N._g) return N.bh() - A.Cl.bottom.height;
                            if ("range" === N._g) return N.bh() - A.Cl.bottom.height;
                        }
                        return N.bh();
                    }),
                    (N.getEvents = function () {
                        var e = N._g;
                        switch (e) {
                            case "full":
                                var t = w();
                                return (
                                    w(A.rowlist).forEach(function (e) {
                                        e.hidden ||
                                            w(e.events).forEach(function (e) {
                                                t.push(e);
                                            });
                                    }),
                                    t
                                );
                            case "viewport":
                                return H.nk()
                                    .filter(function (e) {
                                        return "main" === e.event.part.grid;
                                    })
                                    .map(function (e) {
                                        return e.event;
                                    });
                            case "range":
                                var t = w(),
                                    n = N.getRangeStart(),
                                    i = N.getRangeEnd();
                                return (
                                    N.getRows().forEach(function (e) {
                                        w(e.events)
                                            .filter(function (e) {
                                                return d(e.start(), e.end(), n, i);
                                            })
                                            .forEach(function (e) {
                                                t.push(e);
                                            });
                                    }),
                                    t
                                );
                            default:
                                throw new DayPilot.Exception("Unsupported export mode: " + e);
                        }
                    }),
                    (N.getEventsFrozen = function () {
                        var e = N._g;
                        switch (e) {
                            case "full":
                                var t = w();
                                return (
                                    N.getRowsTopAndBottom().forEach(function (e) {
                                        e.hidden ||
                                            w(e.events).forEach(function (e) {
                                                t.push(e);
                                            });
                                    }),
                                    t
                                );
                            case "viewport":
                                return H.nk()
                                    .filter(function (e) {
                                        return "main" !== e.event.part.grid;
                                    })
                                    .map(function (e) {
                                        return e.event;
                                    });
                            case "range":
                                var t = w(),
                                    n = N.getRangeStart(),
                                    i = N.getRangeEnd();
                                return (
                                    N.getRowsTopAndBottom().forEach(function (e) {
                                        w(e.events)
                                            .filter(function (e) {
                                                return d(e.start(), e.end(), n, i);
                                            })
                                            .forEach(function (e) {
                                                t.push(e);
                                            });
                                    }),
                                    t
                                );
                            default:
                                throw new DayPilot.Exception("Unsupported export mode: " + e);
                        }
                    }),
                    (N.getLinks = function () {
                        if (_(A.links.list)) {
                            for (var e = [], t = 0; t < A.links.list.length; t++) {
                                var n = A.links.list[t],
                                    i = A.events.find(n.from),
                                    a = A.events.Co(i && i.data),
                                    r = A.events.find(n.to),
                                    o = A.events.Co(r && r.data),
                                    s = B.Io(a, o, n, N.A.includeHiddenRows);
                                s && e.push(s);
                            }
                            return e;
                        }
                    }),
                    (N.getTimeline = function () {
                        var e = N._g;
                        switch (e) {
                            case "full":
                                return w(A.itline).addProps({ offset: 0 });
                            case "viewport":
                                return N.getViewportTimeline();
                            case "range":
                                return N.getRangeTimeline();
                            default:
                                throw new DayPilot.Exception("Unsupported export mode: " + e);
                        }
                    }),
                    (N.getRangeTimeline = function () {
                        var e = w();
                        if (A.itline && A.itline.length > 0) {
                            var t = A.wm(N.getRangeStart()).i,
                                n = A.wm(N.getRangeEnd()).i,
                                i = A.Sp();
                            (n = Math.min(n, i - 1)), (t = f(t, 0));
                            for (var a = t; a <= n; a++) {
                                var r = A.itline[a];
                                e.push(r);
                            }
                            e.offset = t;
                        }
                        return e;
                    }),
                    (N.getViewportTimeline = function () {
                        var e = w();
                        if (A.itline && A.itline.length > 0) {
                            var t = A.Tp,
                                n = t + A.nav.scroll.offsetWidth,
                                i = A.um(t).x,
                                a = A.um(n, !0).x,
                                r = A.Sp();
                            (a = Math.min(a, r)), (i = f(i, 0));
                            for (var o = i; o <= a; o++) {
                                var s = A.itline[o];
                                e.push(s);
                            }
                            e.offset = i;
                        }
                        return e;
                    }),
                    (N.getTimeHeader = function (e) {
                        if ("full" === N._g) return w(A.timeHeader[e]);
                        var t,
                            n,
                            i = w();
                        (t = N.getViewportOffsetStart()), (n = t + N.getViewportOffsetWidth());
                        var a = A.Up(e, t),
                            r = A.Up(e, n);
                        r || (r = { x: A.timeHeader[e].length - 1 });
                        for (var o = a.x; o <= r.x; o++) {
                            var s = A.timeHeader[e][o];
                            i.push(s);
                        }
                        return i;
                    }),
                    (N.getSeparators = function () {
                        return w(A.separators)
                            .map(function (e) {
                                var t = new DayPilot.Date(e.location);
                                if (t.getTime() < A.Ob().getTime()) return null;
                                if (t.getTime() >= A.Vd().getTime()) return null;
                                var n = A.getPixels(t);
                                return n.cut ? null : n.left < 0 ? null : n.left > A.Sl() ? null : { left: n.left, color: e.color, width: e.width || 1 };
                            })
                            .filter(function (e) {
                                return !!e;
                            });
                    }),
                    (N.fakeDurationBar = function () {
                        var e = l();
                        (e.style.display = "none"), (e.className = A.ca(G.event));
                        var t = l();
                        t.className = A.ca(G.eventBar);
                        var n = l();
                        return (n.className = A.ca(G.eventBarInner)), s().appendChild(e), t.appendChild(n), e.appendChild(t), e;
                    }),
                    (N.fakeEventLeft = function () {
                        var e = l();
                        return (e.style.display = "none"), (e.className = A.ca("_event_left")), s().appendChild(e), e;
                    }),
                    (N.fakeGroup = function () {
                        var e = l();
                        (e.style.display = "none"), (e.className = A.ca(G.event) + " " + A.ca("_task_group"));
                        var t = l();
                        return (t.className = A.ca(G.eventInner)), e.appendChild(t), A.divEvents.appendChild(e), e;
                    }),
                    (N.fakeMilestone = function () {
                        var e = l();
                        (e.style.display = "none"), (e.className = A.ca(G.event) + " " + A.ca("_task_milestone"));
                        var t = l();
                        return (t.className = A.ca(G.eventInner)), e.appendChild(t), A.divEvents.appendChild(e), e;
                    }),
                    (N.fakeCell = function () {
                        var e = l();
                        (e.style.display = "none"), (e.className = A.ca("_cell")), (e.style.position = "absolute"), (e.style.top = "-2000px"), (e.style.left = "-2000px");
                        var t = l();
                        return (t.className = A.ca("_cell_inner")), e.appendChild(t), A.divCells.appendChild(e), e;
                    }),
                    (N.fakeRowHeader = function () {
                        var e = l();
                        (e.style.display = "none"), (e.className = A.ca("_rowheader")), (e.style.position = "absolute"), (e.style.top = "-2000px"), (e.style.left = "-2000px");
                        var t = l();
                        return (t.className = A.ca("_rowheader_inner")), e.appendChild(t), A.divResScroll.appendChild(e), e;
                    }),
                    (N.Vp = function () {
                        var e = l();
                        (e.style.display = "none"), (e.className = A.ca("_corner")), (e.style.position = "absolute"), (e.style.top = "-2000px"), (e.style.left = "-2000px");
                        var t = l();
                        return (t.className = A.ca("_corner_inner")), e.appendChild(t), A.nav.top.appendChild(e), e;
                    }),
                    (N.fakeExpand = function () {
                        var e = l();
                        return (e.style.display = "none"), (e.className = A.ca("_tree_image_expand")), s().appendChild(e), e;
                    }),
                    (N.fakeIcon = function (e) {
                        var t = document.createElement("i");
                        return (t.className = e), (t.style.position = "absolute"), (t.style.top = "-2000px"), (t.style.left = "-2000px"), t;
                    }),
                    (N.extractUrl = function (e) {
                        var t = /url\((")?([^"].*[^"])\1\)/.exec(e);
                        return t ? t[2] : null;
                    }),
                    (N.getImages = function () {
                        var e = {},
                            t = N.fakeExpand();
                        return (
                            (e.expand = N.extractUrl(new DayPilot.StyleReader(t).get("background-image"))),
                            (t.className = A.ca("_tree_image_collapse")),
                            (e.collapse = N.extractUrl(new DayPilot.StyleReader(t).get("background-image"))),
                            (t.className = A.ca("_tree_image_no_children")),
                            (e.nochildren = N.extractUrl(new DayPilot.StyleReader(t).get("background-image"))),
                            k(t),
                            e
                        );
                    }),
                    (N.getFont = function (e) {
                        return new DayPilot.StyleReader(e).getFont();
                    }),
                    (N.getViewportOffsetStart = function () {
                        switch (N._g) {
                            case "full":
                                return 0;
                            case "viewport":
                                return A.nav.scroll.scrollLeft;
                            case "range":
                                return A.getPixels(N.getRangeStart()).boxLeft;
                        }
                    }),
                    (N.getViewportOffsetTop = function () {
                        switch (N._g) {
                            case "full":
                                return 0;
                            case "viewport":
                                return A.nav.scroll.scrollTop;
                            case "range":
                                return N.Pp(N.getRangeResStart()) - A.Cl.top.height;
                        }
                    }),
                    (N.getViewportOffsetWidth = function () {
                        switch (N._g) {
                            case "full":
                                return A.Sl();
                            case "viewport":
                                return A.nav.scroll.offsetWidth;
                            case "range":
                                return A.getPixels(N.getRangeEnd()).boxRight - N.getViewportOffsetStart();
                        }
                    }),
                    (N.excelBoard = function () {
                        var e = new DayPilot.Excel(),
                            t = e.worksheets.create("Scheduler"),
                            n = new DayPilot.StyleReader(A.nav.corner).get("background-color"),
                            i = new DayPilot.StyleReader(A.nav.top).get("border-top-color"),
                            a = w(A.elements.events)
                                .filter(function (e) {
                                    return !e.event.data.type;
                                })
                                .map(function (e) {
                                    return e.firstChild;
                                })
                                .last(),
                            r = new DayPilot.StyleReader(a).get("border-right-color");
                        e.styles.getDefault().setBackColor("#ffaaaa");
                        var o = e.styles.create();
                        o.setHorizontalAlignment("Center"), o.setBackColor(n), o.setBorderColor(i);
                        var s = e.styles.create();
                        s.setVerticalAlignment("Top"), s.setBackColor(n), s.setBorderColor(i);
                        var l = e.styles.create();
                        l.setVerticalAlignment("Top"),
                            l.setBackColor("#ff0000"),
                            l.setBorderColor(r),
                            t.enableGridlines(!1),
                            t.cell(0, 0).setRowspan(A.timeHeader.length).setStyle(o),
                            t.cell(10, 10).setText("hi there"),
                            w(A.timeHeader).forEach(function (e, n) {
                                var i = { x: 1, y: 0 };
                                N.getTimeHeader(n, "full").forEach(function (e, a) {
                                    var r = e.colspan;
                                    t.cell(a + i.x, n + i.y)
                                        .setText(e.innerHTML)
                                        .setColspan(r)
                                        .setStyle(o);
                                });
                            }),
                            w(A.rowlist).forEach(function (e, n) {
                                for (var i = { x: 0, y: 1 }, a = "", r = 0; r < e.level; r++) a += "  ";
                                t.cell(i.x, n + i.y)
                                    .setText(a + e.html)
                                    .setRowspan(e.lines.length)
                                    .setStyle(s);
                            });
                        var d = { x: 0, y: A.timeHeader.length },
                            c = d.y;
                        return (
                            w(A.rowlist).forEach(function (e, n) {
                                w(e.lines).forEach(function (e, i) {
                                    var a = d.x;
                                    w(e).forEach(function (e) {
                                        var i = A.wm(e.start()).i,
                                            r = A.wm(e.end()).i,
                                            o = 1 + r - i;
                                        t
                                            .cell(i + a, n + c)
                                            .setText(e.client.html())
                                            .setColspan(o)
                                            .setStyle(l),
                                            (a += o - 1);
                                    });
                                }),
                                    (c += e.lines.length - 1);
                            }),
                            e
                        );
                    }),
                    (N.A = null),
                    (N._g = null),
                    (N.generate = function (e, t) {
                        function n(e) {
                            var t = v.grid.y + N.Pp(e) - N.Qp(e);
                            t += f(0, v.grid.y - t);
                            var n = A.treeEnabled && !e.isNewRow,
                                i = 10,
                                a = n ? e.level * A.treeIndent + A.treeImageMarginLeft + 5 : 5;
                            "Disabled" !== A.rowMoveHandling && (a += 10);
                            var r = { x: 0, y: t, w: v.grid.x + 1, h: e.height + 1 },
                                o = e;
                            if (pe) {
                                o = A.Yp(e).row;
                            }
                            var s = A.rowHeaderCols ? A.rowHeaderCols.length : 0,
                                l = A.en(),
                                c = A.internalUseStandardColumns && !e.isNewRow,
                                u = c || (l && _(A.rowHeaderColumns)),
                                h = {};
                            if (((h.text = o.html), K.Xp().length > 0 && u)) {
                                var g = o.columns.find(function (e, t) {
                                    return !A.rowHeaderColumns[t].hidden;
                                });
                                h.text = g.text || g.html;
                            }
                            (h.backColor = o.backColor || ae),
                                (h.fontSize = ne.size),
                                (h.fontFamily = ne.family),
                                (h.fontStyle = ne.style),
                                (h.fontColor = o.fontColor || ie),
                                (h.borderColor = b),
                                (h.horizontalAlignment = "left"),
                                (h.verticalAlignment = "center"),
                                (h.row = A.xn(e)),
                                (h.columns = []),
                                (h.row.columns = h.columns),
                                o.columns &&
                                    o.columns.forEach(function (e) {
                                        var t = p(e, {}, ["text", "html", "backColor", "horizontalAlignment", "verticalAlignment"]);
                                        (t.text = e.text || e.html),
                                            (t.fontSize = h.fontSize),
                                            (t.fontFamily = h.fontFamily),
                                            (t.fontStyle = h.fontStyle),
                                            (t.fontColor = h.fontColor),
                                            (t.horizontalAlignment = t.horizontalAlignment || h.horizontalAlignment),
                                            (t.verticalAlignment = t.verticalAlignment || h.verticalAlignment),
                                            (t.backColor = t.backColor || h.backColor),
                                            h.columns.push(t);
                                    }),
                                e.isNewRow && (h.text = A.rowCreateText),
                                me && A.onBeforeRowHeaderExport(h);
                            var y = 10,
                                x = { x: a, y: t + A.treeImageMarginTop + 2, w: 10, h: y },
                                k = { size: h.fontSize, family: h.fontFamily, style: h.fontStyle };
                            "center" === h.verticalAlignment && (x.y = t + r.h / 2 - 5);
                            var C = n ? a + i + 3 : a,
                                D = n ? r.w - C : r.w,
                                T = { x: C, y: t, w: D, h: e.height + 1 };
                            if ((A.rowHeaderCols && (T.w = A.rowHeaderCols[0] - C), d.fillRect(r, h.backColor), d.text(T, h.text, k, h.fontColor, h.horizontalAlignment, 0, h.verticalAlignment), d.rect(r, h.borderColor), n)) {
                                var E = null;
                                (E = w(e.children).isEmpty() ? m.nochildren : e.expanded || N.A.includeHiddenRows ? m.collapse : m.expand), d.image(x, E);
                            }
                            var S = w(h.row.columns);
                            if (
                                (u &&
                                    ((S = S.filter(function (e, t) {
                                        return !A.rowHeaderColumns[t].hidden;
                                    })),
                                    (s = S.length)),
                                A.rowHeaderCols)
                            ) {
                                var a = r.x;
                                w(A.rowHeaderCols).forEach(function (e, t) {
                                    if (0 !== t) {
                                        var n = c || A.en() ? 0 : 1,
                                            i = t - n,
                                            o = S[i] || {},
                                            s = p(r);
                                        (s.x = a), (s.w = e + 1);
                                        var l = 3,
                                            u = p(s);
                                        (u.x += l), (u.w -= l);
                                        var f = o.backColor || h.backColor;
                                        d.fillRect(s, f), o.text && d.text(u, o.text, { size: o.fontSize, family: o.fontFamily, style: o.fontStyle }, o.fontColor, o.horizontalAlignment, 0, o.verticalAlignment), d.rect(s, h.borderColor);
                                    }
                                    a += e;
                                });
                            }
                        }
                        function i(e, t, n) {
                            n = n || "main";
                            var i = A.itline[e],
                                a = A.Cl[n].rowlist[t],
                                r = A.kp(e, t, n),
                                o = r.business,
                                s = A.Zp(e, t, n);
                            s || ((s = {}), (s.cell = A.cells.findXy(e, t, n)[0]));
                            var l = r.html,
                                c = r.horizontalAlignment || "left",
                                u = r.backColor || (o ? W : j);
                            (s.areas = (s.cell && s.cell.properties && s.cell.properties.areas) || []),
                                (s.text = l),
                                (s.horizontalAlignment = c),
                                (s.backColor = u),
                                (s.fontSize = F.size),
                                (s.fontFamily = F.family),
                                (s.fontStyle = F.style),
                                (s.fontColor = (s.cell && s.cell.properties && s.cell.properties.fontColor) || q),
                                ge && (A.onBeforeCellExport(s), (l = s.text), (c = s.horizontalAlignment), (u = s.backColor));
                            var h = v.grid.y + N.Pp(a) - N.Qp(a);
                            h += f(0, v.grid.y - h);
                            var p = v.grid.x + i.left - ue;
                            p += f(0, v.grid.x - p);
                            var m = { x: p, y: h, w: i.width, h: a.height };
                            d.fillRect(m, u);
                            var g = {};
                            (g.x = m.x + 1), (g.y = m.y + 1), (g.w = m.w - 2), (g.h = m.h - 2);
                            var y = { size: s.fontSize, family: s.fontFamily, style: s.fontStyle };
                            l && d.text(g, l, y, s.fontColor, c),
                                w(s.areas).forEach(function (e) {
                                    if (DayPilot.Areas.isVisible(e)) {
                                        var t = { type: "cell-area" };
                                        "undefined" != typeof e.id && (t.id = e.id), d.groupStart(t);
                                        var n = 0;
                                        "number" == typeof e.left ? (n = e.left) : e.start ? (n = A.getPixels(new DayPilot.Date(e.start)).left - i.left) : "number" == typeof e.right && (n = i.width - e.right - e.width);
                                        var a = e.width || e.w;
                                        "number" == typeof e.right ? (a = i.width - e.right - n) : e.end && (a = A.getPixels(new DayPilot.Date(e.end)).left - e.left - i.left + 1);
                                        var r = e.top || 0,
                                            o = e.height || e.h;
                                        "number" == typeof e.bottom && (o = i.height - e.bottom - r), o || (o = i.height - r);
                                        var l = { x: p + n, y: h + r, w: a, h: o };
                                        if ((e.backColor && d.fillRect(l, e.backColor), e.icon)) {
                                            var c = A.$g.areaIcon(e.icon);
                                            d.text(l, c.text, c.font, e.fontColor || s.fontColor, e.horizontalAlignment, e.padding, e.verticalAlignment);
                                        } else if (e.image) {
                                            var u = new Image();
                                            (u.src = e.image), d.image(l, u);
                                        } else
                                            e.symbol
                                                ? d.symbol(l, e.symbol, { color: e.fontColor || s.fontColor })
                                                : (e.text || e.html) &&
                                                  d.text(
                                                      l,
                                                      e.text || e.html,
                                                      { size: e.fontSize || s.fontSize, family: e.fontFamily || s.fontFamily, style: e.fontStyle || s.fontStyle },
                                                      e.fontColor || s.fontColor,
                                                      e.horizontalAlignment,
                                                      e.padding,
                                                      e.verticalAlignment
                                                  );
                                        d.groupEnd();
                                    }
                                });
                        }
                        function a(e) {
                            var t = v.grid.y + N.Pp(e) - N.Qp(e);
                            if (((t += f(0, v.grid.y - t)), t !== v.grid.y && !("main" === e.grid && t > N.bottomFrozenY()))) {
                                var n = J,
                                    i = {};
                                if (ye) {
                                    if (((i.row = A.xn(e)), (i.hidden = !1), (i.cssClass = null), (i.type = "HorizontalLine"), (i.color = null), A.onBeforeGridLineRender(i), i.hidden)) return;
                                    n = i.color || J;
                                }
                                d.line(v.gridContent.x + 1, t, v.gridContent.x + v.gridContent.w - 1, t, n),
                                    "top" === e.grid && e === A.Cl.top.rowlist.last() && d.line(v.gridContent.x + 1, t + e.height, v.gridContent.x + v.gridContent.w - 1, t + e.height, J);
                            }
                        }
                        function r(e, t) {
                            var n = v.grid.x + e.left - ue;
                            if (((n += f(0, v.grid.x - n)), n !== v.grid.x)) {
                                var i = v.grid.y + 1,
                                    a = v.grid.y + v.grid.h - 2;
                                "top" === t && (a = i + A.Cl.top.height), "bottom" === t && (i = N.bottomFrozenY());
                                var r = V,
                                    o = {};
                                if (ye) {
                                    if (((o.start = e.start), (o.end = e.end), (o.hidden = !1), (o.cssClass = null), (o.type = "VerticalLine"), (o.color = null), A.onBeforeGridLineRender(o), o.hidden)) return;
                                    r = o.color || V;
                                }
                                d.line(n, i, n, a, r);
                            }
                        }
                        function o(e) {
                            function t() {
                                var e = _.backColor;
                                d.diamond(H, e);
                            }
                            function n() {
                                var e = { x: u, y: c, w: s, h: _.barHeight },
                                    t = { x: u + x, y: c, w: k, h: _.barHeight },
                                    n = p.backColor || B,
                                    i = { x: u, y: c + 5, h: H.h - 6 - 5, w: H.w };
                                d.fillRect(i, n);
                                var a = p.text || p.html;
                                d.text(i, a, { size: _.fontSize, family: _.fontFamily, style: _.fontStyle }, _.fontColor, _.horizontalAlignment, _.textPadding, _.verticalAlignment, A.eventTextWrappingEnabled),
                                    d.upperRightCorner({ x: u + H.w - 6, y: i.y + i.h, w: 6, h: 6 }, n),
                                    d.upperLeftCorner({ x: u, y: i.y + i.h, w: 6, h: 6 }, n),
                                    l && (d.fillRect(e, g), k > 0 && d.fillRect(t, m));
                            }
                            function i(t, n) {
                                var i = p.versions[n];
                                d.groupStart({ type: "event-version", "event-id": e.id() });
                                var a = t.width,
                                    r = v.grid.y + o + t.top - he;
                                r += f(0, v.grid.y - r);
                                var s = v.grid.x + t.left - ue + 1,
                                    l = f(0, v.grid.x - s);
                                (s += l), (a -= l);
                                var c = A.eventVersionHeight,
                                    u = A.durationBarVisible && !i.barHidden,
                                    h = u ? K.$p() : 0,
                                    m = { x: s, y: r, w: a, h: c };
                                d.fillRect(m, i.backColor || _.backColor);
                                var g = { x: s + C, y: r + h, w: f(0, a - C), h: c - h };
                                if (
                                    (d.text(g, i.text, { size: _.fontSize, family: _.fontFamily, style: _.fontStyle }, _.fontColor, _.horizontalAlignment, _.textPadding, _.verticalAlignment, A.eventTextWrappingEnabled),
                                    d.rect(m, i.borderColor || _.borderColor),
                                    u)
                                ) {
                                    var y = i.barBackColor || I,
                                        b = i.barColor || L,
                                        w = (100 * t.barLeft) / a,
                                        x = Math.ceil((100 * t.barWidth) / a),
                                        k = { x: s, y: r + 1, w: a, h: h },
                                        D = { x: s + w, y: r + 1, w: x, h: h };
                                    d.fillRect(k, y), x > 0 && d.fillRect(D, b);
                                }
                                d.groupEnd();
                            }
                            function a() {
                                var t = { x: u, y: c, w: s, h: _.barHeight },
                                    n = { x: u + x, y: c, w: k, h: _.barHeight },
                                    i = { x: u + C, y: c + _.barHeight, w: s - C, h: e.part.height - _.barHeight };
                                d.fillRect(H, _.backColor),
                                    d.text(i, _.text, { size: _.fontSize, family: _.fontFamily, style: _.fontStyle }, _.fontColor, _.horizontalAlignment, _.textPadding, _.verticalAlignment, A.eventTextWrappingEnabled),
                                    d.rect(H, _.borderColor),
                                    l && (d.fillRect(t, g), k > 0 && d.fillRect(n, m)),
                                    w(_.areas).forEach(function (t) {
                                        if (DayPilot.Areas.isVisible(t)) {
                                            var n = { type: "event-area" };
                                            "undefined" != typeof t.id && (n.id = t.id), d.groupStart(n);
                                            var i = 0;
                                            "number" == typeof t.left ? (i = t.left) : t.start ? (i = A.getPixels(new DayPilot.Date(t.start)).left - e.part.left) : "number" == typeof t.right && (i = e.part.width - t.right - t.width);
                                            var a = t.width || t.w;
                                            "number" == typeof t.right ? (a = e.part.width - t.right - i) : t.end && (a = A.getPixels(new DayPilot.Date(t.end)).left - t.left - e.part.left + 1);
                                            var r = t.top || 0,
                                                o = t.height || t.h;
                                            "number" == typeof t.bottom && (o = e.part.height - t.bottom - r), o || (o = e.part.height - r);
                                            var s = { x: u + i, y: c + r, w: a, h: o };
                                            if ((t.backColor && d.fillRect(s, t.backColor), t.icon)) {
                                                var l = A.$g.areaIcon(t.icon);
                                                d.text(s, l.text, l.font, t.fontColor || _.fontColor, t.horizontalAlignment, t.padding, t.verticalAlignment);
                                            } else if (t.image) {
                                                var h = new Image();
                                                (h.src = t.image), d.image(s, h);
                                            } else
                                                t.symbol
                                                    ? d.symbol(s, t.symbol, { color: t.fontColor || _.fontColor })
                                                    : (t.text || t.html) &&
                                                      d.text(
                                                          s,
                                                          t.text || t.html,
                                                          { size: t.fontSize || _.fontSize, family: t.fontFamily || _.fontFamily, style: t.fontStyle || _.fontStyle },
                                                          t.fontColor || _.fontColor,
                                                          t.horizontalAlignment,
                                                          t.padding,
                                                          t.verticalAlignment
                                                      );
                                            d.groupEnd();
                                        }
                                    });
                            }
                            var r = A.Cl[e.part.grid].rowlist[e.part.dayIndex],
                                o = N.Pp(r),
                                s = e.part.width,
                                l = e.client && e.client.barVisible && e.client.barVisible(),
                                c = v.grid.y + o + e.part.top - N.Qp(r),
                                u = v.grid.x + e.part.left - ue + 1,
                                h = f(0, v.grid.x - u);
                            (u += h), (s -= h);
                            var p = e.cache || e.data,
                                m = p.barColor || L,
                                g = p.barBackColor || I,
                                y = p.backColor || S,
                                b = p.fontColor || E,
                                x = e.part.barLeft,
                                k = e.part.barWidth;
                            "PercentComplete" === A.durationBarMode && ((x = 0), (k = f(0, Math.floor((e.part.width * (p.complete || 0)) / 100)))), "Milestone" === e.data.type && (y = M);
                            var C = 2,
                                _ = {};
                            (_.e = e),
                                (_.text = e.text ? e.text() : e.client.html()),
                                (_.areas = DayPilot.Util.createArrayCopy(p.areas)),
                                (_.fontSize = T.size),
                                (_.fontFamily = T.family),
                                (_.fontStyle = T.style),
                                (_.fontColor = b),
                                (_.backColor = y),
                                (_.borderColor = D),
                                (_.horizontalAlignment = "left"),
                                (_.verticalAlignment = "center"),
                                (_.barHeight = 4),
                                (_.textPadding = 2),
                                (_.textLeft = p.textLeft || p.htmlLeft),
                                (_.textRight = p.textRight || p.htmlRight),
                                "function" == typeof A.onBeforeEventExport && A.onBeforeEventExport(_);
                            var H = { x: u, y: c, w: s, h: e.part.height };
                            d.groupStart({ type: "event", id: e.id() }), "Milestone" === e.data.type ? t() : "Group" === e.data.type ? n() : a();
                            var R = _.textLeft;
                            if (R) {
                                var P = { size: _.fontSize, family: _.fontFamily, style: _.fontStyle },
                                    z = d.textWidth(R, P),
                                    U = { x: u - (A.eventHtmlLeftMargin + z), y: c, w: z, h: e.part.height };
                                d.text(U, R, P, O, null, 0, "center", !1);
                            }
                            var j = _.textRight;
                            if (j) {
                                var W = { size: _.fontSize, family: _.fontFamily, style: _.fontStyle },
                                    F = d.textWidth(j, W),
                                    q = { x: u + s + A.eventHtmlRightMargin, y: c, w: F, h: e.part.height };
                                d.text(q, j, W, O, null, 0, "center", !1);
                            }
                            d.groupEnd(), (e.versions || []).forEach(i);
                        }
                        "object" == typeof e && ((t = e), (e = null));
                        var t = t || {},
                            e = e || t.format || "svg",
                            s = t.scale || 1;
                        if ("xls" === e) return N.excelBoard();
                        "jpg" === e.toLowerCase() && (e = "jpeg");
                        var l = t.area || "viewport";
                        (N.A = p(t)),
                            (N._g = l),
                            (N.A.includeHiddenRows = N.A.includeHiddenRows && "range" === l),
                            N.getRows().forEach(function (e) {
                                A.Wp(e);
                            });
                        var d,
                            c = N.ah(),
                            h = N.bh();
                        switch (e.toLowerCase()) {
                            case "svg":
                                d = new DayPilot.Svg(c, h);
                                break;
                            case "png":
                                d = new DayPilot.Canvas(c, h, "image/png", s);
                                break;
                            case "jpeg":
                                d = new DayPilot.Canvas(c, h, "image/jpeg", s, t.quality);
                                break;
                            default:
                                throw new DayPilot.Exception("Export format not supported: " + e);
                        }
                        var v = N.getRectangles(),
                            m = N.getImages(),
                            g = new DayPilot.StyleReader(A.nav.top).get("background-color"),
                            y = new DayPilot.StyleReader(A.nav.corner).get("background-color"),
                            b = new DayPilot.StyleReader(A.nav.top).get("border-top-color"),
                            x = new DayPilot.StyleReader(A.nav.divider).get("background-color"),
                            C = w(A.elements.events)
                                .filter(function (e) {
                                    return !e.event.data.type;
                                })
                                .map(function (e) {
                                    return e.firstChild;
                                })
                                .last(),
                            D = new DayPilot.StyleReader(C).get("border-right-color"),
                            T = N.getFont(C),
                            E = new DayPilot.StyleReader(C).get("color"),
                            S = new DayPilot.StyleReader(C).get("background-color");
                        S = DayPilot.Util.isTransparentColor(S) ? "white" : S;
                        var H = N.fakeMilestone(),
                            M = new DayPilot.StyleReader(H.firstChild).get("background-color");
                        k(H);
                        var R = N.fakeGroup(),
                            B = new DayPilot.StyleReader(R.firstChild).get("background-color");
                        k(R);
                        var P = N.fakeDurationBar(),
                            I = new DayPilot.StyleReader(P.firstChild).get("background-color"),
                            L = new DayPilot.StyleReader(P.firstChild.firstChild).get("background-color");
                        k(P);
                        var z = N.fakeEventLeft(),
                            O = new DayPilot.StyleReader(z).get("color");
                        k(z);
                        var U = N.fakeCell(),
                            j = new DayPilot.StyleReader(U).get("background-color");
                        u(U, A.ca("_cell_business"));
                        var W = new DayPilot.StyleReader(U).get("background-color"),
                            F = N.getFont(U),
                            q = new DayPilot.StyleReader(U).get("color");
                        k(U);
                        var Y = DayPilot.Util.firstPropValue(A.ta.Xk),
                            J = new DayPilot.StyleReader(Y).get("background-color"),
                            G = DayPilot.Util.firstPropValue(A.ta.Wk),
                            V = new DayPilot.StyleReader(G).get("background-color"),
                            X = A.ta.timeHeader["0_0"],
                            Z = N.getFont(X),
                            $ = new DayPilot.StyleReader(X).get("color"),
                            ee = new DayPilot.StyleReader(X).get("background-color"),
                            te = N.fakeRowHeader(),
                            ne = N.getFont(te),
                            ie = new DayPilot.StyleReader(te).get("color"),
                            ae = new DayPilot.StyleReader(te).get("background-color");
                        k(te);
                        var re = N.Vp(),
                            oe = N.getFont(re),
                            se = new DayPilot.StyleReader(re).get("color"),
                            y = new DayPilot.StyleReader(re).get("background-color");
                        if (A.rowHeaderColumns && A._n && A._n.blocks[0])
                            var le = A._n.blocks[0].section.firstChild,
                                de = new DayPilot.StyleReader(le).getFont(),
                                ce = new DayPilot.StyleReader(le).get("color");
                        var ue = N.getViewportOffsetStart(),
                            he = N.getViewportOffsetTop();
                        d.fillRect(v.main, "white"),
                            d.fillRect(v.main, g),
                            (function () {
                                var e = {};
                                (e.backColor = y),
                                    (e.text = A.cornerText),
                                    (e.fontSize = oe.size),
                                    (e.fontFamily = oe.family),
                                    (e.fontStyle = oe.style),
                                    (e.fontColor = se),
                                    (e.horizontalAlignment = "left"),
                                    (e.verticalAlignment = "top"),
                                    "function" == typeof A.onBeforeCornerExport && A.onBeforeCornerExport(e);
                                var t = { size: e.fontSize, family: e.fontFamily, style: e.fontStyle };
                                d.fillRect(v.corner, e.backColor), d.text(v.corner, e.text, t, e.fontColor, e.horizontalAlignment, 0, e.verticalAlignment);
                            })();
                        var fe = v.corner.x;
                        K.Xp().forEach(function (e, t) {
                            var n = A.rowHeaderCols[t],
                                i = {};
                            (i.x = fe), (i.w = n + 1), (i.y = v.corner.h - A._n.height), (i.h = A._n.height + 1);
                            var a = 3,
                                r = p(i);
                            (r.x += a), (r.w -= a);
                            var o = e.name || e.title || "";
                            d.fillRect(i, y), d.text(r, o, de, ce, "left", 0, "center"), d.rect(i, b), (fe += n);
                        });
                        var ve = "function" == typeof A.onBeforeTimeHeaderExport,
                            pe = "function" == typeof A.onBeforeRowHeaderRender,
                            me = "function" == typeof A.onBeforeRowHeaderExport,
                            ge = "function" == typeof A.onBeforeCellExport;
                        N.getRows().forEach(n),
                            N.getRowsTop().forEach(n),
                            N.getRowsBottom().forEach(n),
                            N.getRows().forEach(function (e, t, n) {
                                var t = e.index;
                                N.getTimeline().forEach(function (n, a, r) {
                                    var a = r.offset + a;
                                    i(a, t, e.grid);
                                });
                            });
                        var ye = "function" == typeof A.onBeforeGridLineRender;
                        N.getRows().forEach(a),
                            N.getTimeline().forEach(function (e) {
                                r(e, "main");
                            });
                        var be = N.getTimeline().last();
                        return (
                            (function (e) {
                                if (e) {
                                    var t = V,
                                        n = {};
                                    if (ye) {
                                        if (((n.start = e.end), (n.end = e.end), (n.hidden = !1), (n.cssClass = null), (n.type = "VerticalLine"), (n.color = null), A.onBeforeGridLineRender(n), n.hidden)) return;
                                        t = n.color || V;
                                    }
                                    var i = v.grid.x + e.left - ue + e.width;
                                    d.line(i, v.grid.y + 1, i, v.grid.y + v.grid.h - 2, t);
                                }
                            })(be),
                            N.getSeparators().forEach(function (e) {
                                var t = v.grid.x + e.left - ue;
                                t < N.getRowHeaderWidth() || d.line(t, v.grid.y + 1, t + e.width, v.grid.y + v.grid.h - 2, e.color);
                            }),
                            N.getLinks().forEach(function (e) {
                                e &&
                                    e
                                        .map(function (e) {
                                            return N.shiftableSegment(e).shift(v.grid.x - ue, v.grid.y - he);
                                        })
                                        .forEach(function (e) {
                                            switch (e.type) {
                                                case "HorizontalLine":
                                                    d.line(e.startX, e.startY, e.endX, e.endY, "red");
                                                    break;
                                                case "VerticalLine":
                                                    d.line(e.startX, e.startY, e.endX, e.endY, "red");
                                                    break;
                                                case "ArrowRight":
                                                    d.triangle({ x: e.startX - 10, y: e.startY - 4.5, w: 10, h: 10 }, "red");
                                                    break;
                                                case "ArrowDown":
                                                    d.triangle({ x: e.startX - 4.5, y: e.startY - 10, w: 10, h: 10 }, "red", 90);
                                                    break;
                                                case "ArrowLeft":
                                                    d.triangle({ x: e.startX, y: e.startY - 4.5, w: 10, h: 10 }, "red", 180);
                                                    break;
                                                case "ArrowUp":
                                                    d.triangle({ x: e.startX - 4.5, y: e.startY, w: 10, h: 10 }, "red", -90);
                                            }
                                        });
                            }),
                            N.getEvents().forEach(o),
                            N.getRowsTopAndBottom().forEach(function (e, t, n) {
                                var t = e.index;
                                N.getTimeline().forEach(function (n, a, r) {
                                    var a = r.offset + a;
                                    i(a, t, e.grid);
                                }),
                                    a(e);
                            }),
                            N.getTimeline().forEach(function (e) {
                                r(e, "top"), r(e, "bottom");
                            }),
                            N.getEventsFrozen().forEach(o),
                            w(A.timeHeader).forEach(function (e, t) {
                                N.getTimeHeader(t, l).forEach(function (e) {
                                    var n = v.grid.x + e.left - ue,
                                        i = e.width,
                                        a = Q._p(t),
                                        r = a.top,
                                        o = a.height,
                                        s = {};
                                    (s.header = {}),
                                        (s.header.start = e.start),
                                        (s.header.end = e.end),
                                        (s.header.level = t),
                                        (s.header.text = e.text),
                                        (s.header.html = e.innerHTML),
                                        (s.text = e.text),
                                        (s.backColor = e.backColor),
                                        (s.verticalAlignment = "center"),
                                        (s.horizontalAlignment = "center"),
                                        (s.fontColor = $),
                                        (s.fontSize = Z.size),
                                        (s.fontFamily = Z.family),
                                        (s.fontStyle = Z.style),
                                        ve && A.onBeforeTimeHeaderExport(s);
                                    var l = f(0, v.grid.x - n);
                                    (n += l), (i -= l);
                                    var l = f(0, n + i - (v.grid.x + v.grid.w));
                                    i -= l;
                                    var c = { x: n, y: r, w: i + 1, h: o + 1 },
                                        u = { size: s.fontSize, family: s.fontFamily, style: s.fontStyle };
                                    d.fillRect(c, s.backColor || ee), d.rect(c, b), d.text(c, s.text, u, s.fontColor, s.horizontalAlignment, 0, s.verticalAlignment);
                                });
                            }),
                            d.rect(v.main, b),
                            d.line(v.grid.x, 0, v.grid.x, v.main.h, x),
                            d.line(0, v.grid.y, v.main.w, v.grid.y, x),
                            d
                        );
                    }),
                    (N.areaIcon = function (e) {
                        var t = N.fakeIcon(e);
                        s().appendChild(t);
                        var n = window.getComputedStyle(t, ":before").content.replace(/"/g, ""),
                            i = new DayPilot.StyleReader(t).getFont();
                        return s().removeChild(t), { text: n, font: i };
                    }),
                    (N.shiftableSegment = function (e) {
                        return {
                            startX: e.startX,
                            endX: e.endX,
                            startY: e.startY,
                            endY: e.endY,
                            type: e.type,
                            shift: function (t, n) {
                                return N.shiftableSegment({ startX: e.startX + t, endX: e.endX + t, startY: e.startY + n, endY: e.endY + n, type: e.type });
                            },
                        };
                    }),
                    (this.aq = {});
                var I = this.aq;
                (I.findJointDivs = function (e) {
                    var t = e.data.join;
                    return t
                        ? w(A.elements.events).filter(function (n) {
                              return n.event.data.join === t && n.event !== e;
                          })
                        : w();
                }),
                    (this.bq = {});
                var L = this.bq;
                (L.divs = []),
                    (L.list = []),
                    (L.forbidden = !1),
                    (L.cq = function () {
                        var e = w(),
                            t = A.multiselect.isSelected(i.vp.event),
                            n = A.allowMultiResize,
                            e = w();
                        if (
                            (t &&
                                n &&
                                (e = w(A.multiselect.kd).filter(function (e) {
                                    return e !== i.vp;
                                })),
                            A.jointEventsResize)
                        ) {
                            var a = I.findJointDivs(i.Np);
                            e = e.concat(a);
                        }
                        return e;
                    }),
                    (L.update = function () {
                        L.clear(), L.draw();
                    }),
                    (L.clear = function () {
                        k(L.divs), (L.divs = []);
                    }),
                    (L.isInvalid = function () {
                        return L.divs.some(function (e) {
                            return e.info.invalid;
                        });
                    }),
                    (L.dq = function () {
                        return A.eq(L.list);
                    }),
                    (L.fq = function () {
                        if (i.vp) {
                            var e = i.Np,
                                t = i.Mp,
                                n = t.start.getTime() - e.start().getTime(),
                                a = t.end.getTime() - e.end().getTime(),
                                r = 0;
                            (L.list = []),
                                (L.forbidden = !1),
                                (L.invalid = !1),
                                (L.rowoffset = r),
                                L.cq().forEach(function (e) {
                                    if (e.event) {
                                        var t = e.event,
                                            i = A.rowlist[t.part.dayIndex + r];
                                        if (!i) return void (L.invalid = !0);
                                        var o = t.start().addTime(n),
                                            s = t.end().addTime(a),
                                            l = {};
                                        (l.$ = {}),
                                            o >= s && ((l.invalid = !0), n > 0 ? ((l.$.gq = o), (l.$.hq = s.addSeconds(-1))) : a < 0 && ((l.$.iq = s), (l.$.jq = o.addSeconds(1)))),
                                            (l.event = t),
                                            (l.start = o),
                                            (l.end = s),
                                            (l.$.kq = i),
                                            L.list.push(l);
                                    }
                                });
                        }
                    }),
                    (L.wo = function () {
                        var e = 0;
                        if (
                            (L.list.forEach(function (e) {
                                var t = e.event,
                                    n = e.$.kq,
                                    i = t.part.top + n.top,
                                    a = t.part.height,
                                    r = new DayPilot.Date(e.start),
                                    o = new DayPilot.Date(e.end),
                                    s = A.getPixels(r),
                                    d = A.getPixels(o);
                                e.$.gq === r && e.$.hq && (s = A.getPixels(e.$.hq)), e.$.iq === o && e.$.jq && (d = A.getPixels(e.$.jq));
                                var c = DayPilot.DateUtil.diff(t.rawend(), t.start());
                                c = f(c, 1);
                                var u = K.Og(c),
                                    h = u ? s.boxLeft : s.left,
                                    v = u ? d.boxRight - h : d.left - h,
                                    p = l();
                                (p.style.position = "absolute"),
                                    (p.style.left = h + "px"),
                                    (p.style.top = i + "px"),
                                    (p.style.height = a + "px"),
                                    (p.style.width = v + "px"),
                                    (p.style.zIndex = 101),
                                    (p.style.overflow = "hidden"),
                                    (p.className = A.ca("_shadow")),
                                    (p.info = e);
                                var m = l();
                                (m.className = A.ca("_shadow_inner")), p.appendChild(m), A.Dl.appendChild(p), L.divs.push(p);
                            }),
                            L.invalid)
                        ) {
                            var t = A.ca("_shadow_overlap");
                            return void w(L.divs).forEach(function (e) {
                                u(e, t);
                            });
                        }
                        w(L.divs).forEach(function (t) {
                            if (t.info) {
                                var n = t,
                                    a = t.info,
                                    r = t.info.event,
                                    o = A.rowlist[r.part.dayIndex + e],
                                    s = A.getPixels(a.start),
                                    l = A.getPixels(a.end),
                                    d = s.left,
                                    c = l.left - d;
                                t.info.invalid && u(t, A.ca("_shadow_invalid"));
                                var h = w(L.list)
                                    .map(function (e) {
                                        return e.event.data;
                                    })
                                    .add(i.vp.event.data);
                                A.lq(n, o, d, c, h), A.mq(n, a.start, a.end, r.resource()), n.overlapping && ((a.overlapping = !0), (L.forbidden = !0));
                            }
                        });
                    }),
                    (L.draw = function () {
                        L.fq(), L.wo();
                    }),
                    (this.nq = {}),
                    (this.nq.modifiedProps = function () {
                        var e = new DayPilot.Scheduler(),
                            t = DayPilot.Util.members(A, 2),
                            n = [];
                        return (
                            n.push("<div id='dp'></div>"),
                            n.push("<script>"),
                            n.push("var dp = new DayPilot.Scheduler('dp');"),
                            t.properties.forEach(function (t) {
                                var i,
                                    a,
                                    r = t.name,
                                    o = r.split(".");
                                if (o.length > 1) {
                                    var s = o[0],
                                        l = o[1];
                                    (i = JSON.stringify(e[s][l])), (a = JSON.stringify(A[s][l]));
                                } else (i = JSON.stringify(e[r])), (a = JSON.stringify(A[r]));
                                i !== a && n.push("dp." + r + " = " + a + ";");
                            }),
                            t.events.forEach(function (e) {
                                var t = e.name;
                                "function" == typeof A[t] && n.push("dp." + t + " = " + A[t].toString() + ";");
                            }),
                            n.push("dp.init();"),
                            n.push("</script>"),
                            n.join("\n")
                        );
                    }),
                    (this.oq = {});
                var z = this.oq;
                (z.divs = []),
                    (z.list = []),
                    (z.forbidden = !1),
                    (z.pq = 0),
                    (z.qq = function () {
                        return "All" === A.multiMoveVerticalMode;
                    }),
                    (z.cq = function () {
                        var e = w(),
                            t = A.ym,
                            n = A.multiselect.isSelected(i.qp),
                            a = A.allowMultiMove;
                        if (
                            (n &&
                                a &&
                                (e = w(A.multiselect.kd).filter(function (e) {
                                    var n = e && e.event,
                                        a = i.qp,
                                        r = t.qp;
                                    return !(A.xd(n, a) || A.xd(n, r));
                                })),
                            A.jointEventsMove)
                        ) {
                            var r = I.findJointDivs(i.qp);
                            e = e.concat(r);
                        }
                        return e;
                    }),
                    (z.update = function () {
                        z.clear(), z.draw();
                    }),
                    (z.dq = function () {
                        return A.eq(z.list);
                    }),
                    (z.fq = function () {
                        if (((z.list = []), (z.rowoffset = 0), i.ym)) {
                            var e = i.qp,
                                t = !!i.rq,
                                n = t ? i.rq.start : e.start(),
                                a = n.getTime() - e.start().getTime(),
                                r = e.part.dayIndex,
                                o = t ? C(A.rowlist, i.rq.row) : r,
                                s = o - r;
                            z.qq() || (s = 0),
                                (z.forbidden = !1),
                                (z.invalid = !1),
                                (z.rowoffset = s),
                                z.cq().forEach(function (t) {
                                    if (t.event) {
                                        var i = t.event,
                                            r = i.cache || i.data,
                                            o = !r.moveDisabled && !r.moveVDisabled,
                                            l = !r.moveDisabled && !r.moveHDisabled,
                                            d = s;
                                        o || (d = 0);
                                        var c = A.rowlist[i.part.dayIndex + d];
                                        if (!c) return void (z.invalid = !0);
                                        var u = a;
                                        l || (u = 0);
                                        var h = i.start().addTime(u),
                                            f = i.end().addTime(u);
                                        if (A.eventMoveSkipNonBusiness) {
                                            var v = A.zp(i),
                                                p = i.part.dayIndex + d;
                                            if (l && 0 === s) {
                                                var m = e.start(),
                                                    g = i.start(),
                                                    y = 1;
                                                m > g && ((m = i.start()), (g = e.start()), (y = -1));
                                                var b = A.yp(m, g, p, c.grid);
                                                y === -1 ? ((b = A.Ap(n, b, p, c.grid)), (h = n.addTime(-b))) : (h = A.Cp(n, b, p, c.grid));
                                            }
                                            var w = "Days" === A.viewType || A.rp(),
                                                x = 0;
                                            w && (x = A.rowlist[i.part.dayIndex].start.getTime() - A.Ob().getTime());
                                            var k = 0,
                                                C = K.Og(v),
                                                _ = i.data && "Milestone" === i.data.type;
                                            C && !_ && (k = A.yp(A.np(i.start().addTime(-x)).addTime(x), i.start(), p, c.grid));
                                            var D = A.Bp(h, p, c.grid);
                                            if (!D) return void (z.invalid = !0);
                                            (h = D.start.addTime(k)), (f = A.Cp(h, v, p, c.grid));
                                        }
                                        var T = {};
                                        (T.event = i), (T.start = h), (T.end = f), (T.resource = c.id), z.list.push(T);
                                    }
                                });
                        }
                    }),
                    (z.sq = function () {
                        return z.list.map(function (e) {
                            var t = e.start,
                                n = e.end,
                                i = e.event,
                                a = A.getPixels(t),
                                r = A.getPixels(n),
                                o = DayPilot.DateUtil.diff(i.rawend(), i.start());
                            o = f(o, 1);
                            var s = K.Og(o),
                                l = A.Gl(e.resource),
                                d = s ? a.boxLeft : a.left,
                                c = s ? r.boxRight - d : r.left - d,
                                u = i.part.top + l.top,
                                h = i.part.height;
                            e.resource !== e.event.data.resource && ((u = l.top), (h = l.height));
                            var v = {};
                            return (v.info = e), (v.y = l.index), (v.left = d), (v.width = c), (v.height = h), (v.top = u), v;
                        });
                    }),
                    (z.wo = function () {
                        z.rowoffset;
                        if (
                            (z.list.forEach(function (e) {
                                var t = e.start,
                                    n = e.end,
                                    i = e.event,
                                    a = A.getPixels(t),
                                    r = A.getPixels(n),
                                    o = DayPilot.DateUtil.diff(i.rawend(), i.start());
                                o = f(o, 1);
                                var s = K.Og(o),
                                    d = A.Gl(e.resource);
                                if (!d) return void (z.invalid = !0);
                                (e.$ = {}), (e.$.kq = d);
                                var c = s ? a.boxLeft : a.left,
                                    u = s ? r.boxRight - c : r.left - c,
                                    h = i.part.top + d.top,
                                    v = i.part.height;
                                "Milestone" === i.data.type && ((u = A.eventHeight), (c -= u / 2)), e.resource !== e.event.data.resource && ((h = d.top), (v = d.height));
                                var p = l();
                                (p.style.position = "absolute"),
                                    (p.style.left = c + "px"),
                                    (p.style.top = h + "px"),
                                    (p.style.height = v + "px"),
                                    (p.style.width = u + "px"),
                                    (p.style.overflow = "hidden"),
                                    (p.className = A.ca("_shadow")),
                                    (p.info = e),
                                    (p.left = c),
                                    (p.width = u);
                                var m = l();
                                (m.className = A.ca("_shadow_inner")), p.appendChild(m), A.Dl.appendChild(p), z.divs.push(p);
                            }),
                            z.invalid)
                        ) {
                            var e = A.ca("_shadow_overlap");
                            return void w(z.divs).forEach(function (t) {
                                u(t, e);
                            });
                        }
                        w(z.divs).forEach(function (e) {
                            if (e.info) {
                                var t = e,
                                    n = e.info,
                                    a = (e.info.event, e.info.$.kq),
                                    r = A.getPixels(n.start),
                                    o = A.getPixels(n.end),
                                    s = r.left,
                                    l = o.left - s,
                                    d = w(z.list)
                                        .map(function (e) {
                                            return e.event.data;
                                        })
                                        .add(i.qp.data);
                                A.lq(t, a, s, l, d), A.mq(t, n.start, n.end, n.resource), (n.overlapping = !1), t.overlapping && ((n.overlapping = !0), (z.forbidden = !0));
                            }
                        });
                    }),
                    (z.draw = function () {
                        z.fq(), z.wo();
                    }),
                    (z.clear = function () {
                        k(z.divs), (z.divs = []);
                    }),
                    (this.eq = function (e, t) {
                        return (
                            (t = ["$"].concat(t || [])),
                            e.map(function (e) {
                                var n = e,
                                    i = {};
                                for (var a in n) {
                                    var r = t && C(t, a) !== -1;
                                    n.hasOwnProperty(a) && "undefined" != typeof n[a] && (r ? Object.defineProperty(i, a, { value: n[a] }) : (i[a] = n[a]));
                                }
                                return i;
                            })
                        );
                    }),
                    (this.tq = function () {
                        var e = A.coords,
                            t = i.vp.dpBorder,
                            n = i.vp.event,
                            a = n.part.left;
                        "right" == t && (a += n.part.width);
                        var r,
                            o,
                            s = i.vp.event.calendar.cellWidth,
                            l = i.vp.event.part.width,
                            d = i.vp.event.part.left,
                            c = 0,
                            u = e.x - a,
                            h = A.snapToGrid && A.snapToGridEventResizing;
                        if ("right" === t) {
                            if (((r = d), h)) {
                                var f = A.um(l + d + u).cell,
                                    v = A.um(d).cell,
                                    p = v.left + v.width - d;
                                (o = f.left + f.width - d), o < p && (o = p);
                            } else o = l + u;
                            var m = A.Sl();
                            d + o > m && (o = m - d), (i.Mp.left = d), (i.Mp.width = o);
                        } else {
                            if ("left" !== t) throw new DayPilot.Exception("Invalid dpBorder.");
                            h ? (u >= l && (u = l), (r = Math.floor((d + u + 0) / s) * s), r < c && (r = c)) : (r = d + u), (o = l - (r - d));
                            var g = d + l,
                                y = s;
                            h ? "Never" === A.useEventBoxes && (y = l < s ? l : 1) : (y = 1), o < y && ((o = y), (r = g - o)), (i.Mp.left = r), (i.Mp.width = o);
                        }
                        A.uq();
                    }),
                    (this.Kp = function () {
                        this.nav.scroll;
                        if (A.coords && i.qp) {
                            A.Yl();
                            var e = i.rq,
                                t = this.eo(i.qp);
                            if (!A.fo(t.rowIndex, t.grid)) {
                                var n = i.qp,
                                    a = n.cache && "undefined" != typeof n.cache.moveVDisabled ? !n.cache.moveVDisabled : !n.data.moveVDisabled,
                                    r = n.cache && "undefined" != typeof n.cache.moveHDisabled ? !n.cache.moveHDisabled : !n.data.moveHDisabled,
                                    o = !z.cq().isEmpty();
                                o && "Disabled" === A.multiMoveVerticalMode && (a = !1), a && t.grid !== e.grid && (e.parentNode.removeChild(e), A.Cl[t.grid].divShadow.appendChild(e), (e.grid = t.grid));
                                var s = 0,
                                    l = 0;
                                if (
                                    ((function () {
                                        if (A.Pk) {
                                            var e = t.relativeY,
                                                n = A.um(t.left).x,
                                                i = t.row,
                                                a = i.evColumns[n],
                                                r = a.events.find(function (t) {
                                                    return e < t.part.top + t.part.height + A.eventMarginBottom;
                                                });
                                            r || (r = a.events.last()), r && ((l = r.part.top), (s = C(a.events, r)), e - r.part.top > r.part.height / 2 && ((l = r.part.top + r.part.height + A.eventMarginBottom / 2), (s += 1)));
                                        } else {
                                            for (var e = t.relativeY, i = t.row, o = 0, d = A.Ga.go(), c = i.lines.length, u = 0; u < i.lines.length; u++) {
                                                if (i.lines[u].Ud(t.left, A.cellWidth)) {
                                                    c = u;
                                                    break;
                                                }
                                            }
                                            var h = Math.floor((e - o + d / 2) / d);
                                            (h = Math.min(c, h)), (h = f(0, h)), (s = h), (l = A.rowMarginTop + s * (A.Ga.go() + A.eventMarginBottom) + A.eventMarginBottom / 2);
                                        }
                                    })(),
                                    l > 0 && (l -= 3),
                                    a)
                                )
                                    if (this.fo(t.rowIndex, t.grid)) {
                                        var d = e.row,
                                            c = 1;
                                        if (!d) return;
                                        c = t.rowIndex < d.index ? 1 : -1;
                                        for (var u = t.rowIndex; u !== d.index; u += c) {
                                            var h = this.rowlist[u];
                                            if (!this.fo(u, t.grid) && !h.hidden) {
                                                (e.row = h),
                                                    (e.style.top = e.row.top + e.row.marginTop + "px"),
                                                    (e.style.height = f(e.row.height - e.row.marginTop - e.row.marginBottom, 0) + "px"),
                                                    A.eventMoveToPosition && ((s = c > 0 ? 0 : h.lines.length - 1), (e.style.top = t.top + l + "px"), (e.style.height = "3px"), (e.line = s));
                                                break;
                                            }
                                        }
                                    } else
                                        (e.row = t.row),
                                            (e.style.top = e.row.top + e.row.marginTop + "px"),
                                            (e.style.height = f(e.row.height - e.row.marginTop - e.row.marginBottom, 0) + "px"),
                                            A.eventMoveToPosition && ((e.style.top = t.top + l + "px"), (e.style.height = "3px"), (e.line = s));
                                else {
                                    for (var v = A.Cl[n.part.grid].rowlist, d = v[n.part.dayIndex], p = d.lines.length, u = 0; u < d.lines.length; u++) {
                                        if (d.lines[u].Ud(t.left, A.cellWidth)) {
                                            p = u;
                                            break;
                                        }
                                    }
                                    if ((o || ((e.style.height = f(d.height, 0) + "px"), (e.style.top = d.top + "px")), (e.row = d), A.eventMoveToPosition && !o))
                                        if (t.row === d) (e.style.top = d.top + l + "px"), (e.style.height = "3px"), (e.line = s);
                                        else {
                                            var m = t.rowIndex > d.index && p > 0 ? p * A.Ga.go() - 3 : 0;
                                            (e.style.top = d.top + m + "px"), (e.style.height = "3px"), (e.line = 0);
                                        }
                                }
                                r
                                    ? ((e.style.left = t.left + "px"), A.eventMoveToPosition ? (e.style.width = A.cellWidth + "px") : (e.style.width = t.width + "px"), (e.start = t.start), (e.end = t.end))
                                    : ((e.style.left = n.part.left + "px"), (e.start = n.start()), (e.end = n.rawend()), (t.left = n.part.left)),
                                    (e.left = t.left),
                                    (e.width = t.width),
                                    A.vq();
                            }
                        }
                    }),
                    (this.vq = function () {
                        var e = i.rq,
                            t = A.oq,
                            n = A.db,
                            a = i.qp;
                        if (n) {
                            var r = n.start.getTime() === e.start.getTime(),
                                o = n.end.getTime() === e.end.getTime(),
                                s = n.resource === e.row.id,
                                l = n.shift + "_" + n.ctrl + "_" + n.meta + "_" + n.alt == A.coords.shift + "_" + A.coords.ctrl + "_" + A.coords.meta + "_" + A.coords.alt;
                            if (r && o && s && l) return;
                        }
                        n && (c(e, n.cssClass), (e.firstChild.innerHTML = "")),
                            t.clear(),
                            t.fq(),
                            (function () {
                                e.overlapping = !1;
                                var n = e.row,
                                    r = a.data,
                                    o = e.width,
                                    s = e.left,
                                    l = w(t.list)
                                        .map(function (e) {
                                            return e.event.data;
                                        })
                                        .add(r);
                                A.lq(e, n, s, o, l), A.mq(i.rq, e.start, e.end, e.row.id);
                            })();
                        var d = !!i.wq && a.part.external,
                            h = {};
                        (h.start = e.start),
                            (h.end = A.xj(e.end)),
                            (h.duration = new DayPilot.Duration(h.start, h.end)),
                            (h.e = a),
                            (h.external = d),
                            (h.control = A),
                            (h.resource = e.row.id),
                            (h.html = null),
                            (h.row = A.xn(e.row)),
                            (h.position = e.line),
                            (h.overlapping = e.overlapping || t.forbidden),
                            (h.allowed = !0),
                            (h.left = {}),
                            (h.left.html = h.start.toString(A.eventMovingStartEndFormat, K.Lc())),
                            (h.left.enabled = A.eventMovingStartEndEnabled),
                            (h.left.space = 5),
                            (h.left.width = null),
                            (h.left.height = A.eventHeight),
                            (h.right = {}),
                            (h.right.html = h.end.toString(A.eventMovingStartEndFormat, K.Lc())),
                            (h.right.enabled = A.eventMovingStartEndEnabled),
                            (h.right.space = 5),
                            (h.right.width = null),
                            (h.right.height = A.eventHeight),
                            (h.multimove = t.dq()),
                            (h.shift = A.coords.shift),
                            (h.ctrl = A.coords.ctrl),
                            (h.meta = A.coords.meta),
                            (h.alt = A.coords.alt),
                            (h.areaData = b.movingAreaData),
                            (h.link = null),
                            (h.cssClass = null),
                            (h.html = null);
                        var v = {};
                        (v.event = a), (v.start = h.start), (v.end = h.end), (v.overlapping = h.overlapping), (v.resource = h.resource), h.multimove.splice(0, 0, v), (A.db = h);
                        var p = { start: h.start, end: h.end, resource: h.resource };
                        if (("function" == typeof A.onEventMoving && A.onEventMoving(h), i.ym)) {
                            if (((t.list = w(h.multimove, !0)), t.list.splice(0, 1), t.wo(), (e.allowed = h.allowed), u(e, h.cssClass), h.fullShadow)) {
                                var m = A.Sg(a);
                                (e.innerHTML = m.innerHTML), (e.style.boxShadow = "0 2px 5px rgba(0,0,0,.2)");
                            } else h.html ? (e.firstChild.innerHTML = h.html) : (e.firstChild.innerHTML = "");
                            var g = !1;
                            if (h.start !== p.start || h.end !== p.end) {
                                var y = h.start,
                                    x = A.aj(h.end);
                                (e.start = y), (e.end = x);
                                var k = DayPilot.DateUtil.diff(y, x);
                                k = f(k, 1);
                                var C = K.Og(k),
                                    _ = C ? A.getPixels(y).boxLeft : A.getPixels(y).left,
                                    D = C ? A.getPixels(x).boxRight : A.getPixels(x).left;
                                (e.style.left = _ + "px"), (e.style.width = D - _ + "px"), (e.left = _), (e.width = D - _), (g = !0);
                            }
                            if (h.resource !== p.resource) {
                                var T = A.Gl(h.resource);
                                if (T) {
                                    if (((e.row = T), (e.style.height = f(T.height, 0) + "px"), (e.style.top = T.top + "px"), A.eventMoveToPosition)) {
                                        var E = A.rowMarginTop;
                                        (e.style.top = T.top + E + "px"), (e.style.height = "3px"), (e.line = 0);
                                    }
                                    g = !0;
                                }
                            }
                            !(function () {
                                var n = e.row,
                                    r = a.data,
                                    o = e.width,
                                    s = e.left,
                                    l = w(t.list)
                                        .map(function (e) {
                                            return e.event.data;
                                        })
                                        .add(r);
                                A.lq(e, n, s, o, l), A.mq(i.rq, e.start, e.end, e.row.id);
                            })(),
                                A.xq(e, h),
                                A.yq(e, h),
                                b.movingLink && b.movingLink.clear(),
                                h.link && (b.movingLink = B.Eo(h.link.from, e, h.link));
                        }
                    }),
                    (this.lq = function (e, t, n, a, r) {
                        if (!A.allowEventOverlap) {
                            !(function () {
                                e.overlapping = !1;
                                for (var o = 0; o < t.lines.length; o++) {
                                    if (!t.lines[o].Ud(n, a, r)) return void (e.overlapping = !0);
                                }
                                var s = t.index;
                                return w(X.list).some(function (t) {
                                    var i = t.div,
                                        r = parseInt(i.style.left),
                                        o = parseInt(i.style.width),
                                        l = t.start.y;
                                    return e !== i && l === s && d(n, n + a, r, r + o);
                                })
                                    ? void (e.overlapping = !0)
                                    : z.sq().some(function (t) {
                                          var i = t.info,
                                              r = t.left,
                                              o = t.width,
                                              l = t.y,
                                              c = null;
                                          return e.event ? (c = e.event.data.id) : e.info && (c = e.info.event.data.id), (null === c || c !== i.event.data.id) && l === s && d(n, n + a, r, r + o);
                                      })
                                    ? void (e.overlapping = !0)
                                    : w(L.divs).some(function (t) {
                                          var i = t.info,
                                              r = parseInt(t.style.left),
                                              o = parseInt(t.style.width),
                                              l = i.$.kq.index;
                                          return e !== t && l === s && d(n, n + a, r, r + o);
                                      })
                                    ? void (e.overlapping = !0)
                                    : (function () {
                                          var t = i.rq;
                                          return !!t && e !== t && (e.info ? e.info.$.kq : e.row).index === t.row.index && d(e.left, e.left + e.width, t.left, t.left + t.width);
                                      })()
                                    ? void (e.overlapping = !0)
                                    : void 0;
                            })();
                            var o = e.overlapping,
                                s = A.ca("_shadow_overlap");
                            o ? u(e, s) : c(e, s);
                        }
                    }),
                    (this.mq = function (e, t, n, i) {
                        A.Nc(t, n, i) && (e.overlapping = !0);
                        var a = A.ca("_shadow_overlap");
                        e.overlapping ? u(e, a) : c(e, a);
                    }),
                    (this.Nc = function (e, t, n) {
                        if (!((A.cellConfig && A.cellConfig.hasDisabled) || A.om.zq)) return !1;
                        var i = null;
                        "Days" === A.viewType && (i = A.mp(e));
                        var a = A.rows.find(n, i).cells.forRange(e, t);
                        return (
                            !!a &&
                            a.some(function (e) {
                                return e.properties.disabled;
                            })
                        );
                    }),
                    (this.xq = function (e, t) {
                        var n = A.ca("_shadow_forbidden");
                        !t.allowed || z.invalid ? u(e, n) : c(e, n);
                    }),
                    (this.yq = function (e, t) {
                        if ((this.Aq(), e.calendar === A)) {
                            var n = A.co(e.grid),
                                i = {};
                            (i.left = parseInt(e.style.left)), (i.top = parseInt(e.style.top)), (i.right = i.left + parseInt(e.style.width));
                            var a = t.left.width || 10,
                                r = l();
                            if (
                                ((r.style.position = "absolute"),
                                (r.style.left = i.left - a - t.left.space + "px"),
                                (r.style.top = i.top + "px"),
                                (r.style.height = t.left.height + "px"),
                                (r.style.overflow = "hidden"),
                                (r.style.boxSizing = "border-box"),
                                (r.innerHTML = t.left.html),
                                (r.className = A.ca("_event_move_left")),
                                (r.onmousemove = A.Bq),
                                t.left.enabled)
                            )
                                if ((n.divHover.appendChild(r), t.left.width)) r.style.width = a + "px";
                                else {
                                    r.style.whiteSpace = "nowrap";
                                    var o = r.offsetWidth,
                                        s = i.left - o - t.left.space;
                                    (r.style.width = o + "px"), (r.style.left = s + "px");
                                    var d = A.nav.scroll.scrollLeft;
                                    s < d && n.divHover.removeChild(r);
                                    var c = A.Vl() + (s - d);
                                    c > 0 && ((r.style.left = c + "px"), (r.style.top = i.top - n.div.scrollTop + n.top + "px"), A.nav.top.appendChild(r), A.elements.hover.push(r));
                                }
                            var a = t.right.width || 10,
                                u = l();
                            if (
                                ((u.style.position = "absolute"),
                                (u.style.left = i.right + t.right.space + "px"),
                                (u.style.top = i.top + "px"),
                                (u.style.height = t.right.height + "px"),
                                (u.style.overflow = "hidden"),
                                (u.style.boxSizing = "border-box"),
                                t.right.width ? (u.style.width = t.right.width + "px") : (u.style.whiteSpace = "nowrap"),
                                (u.innerHTML = t.right.html),
                                (u.className = this.ca("_event_move_right")),
                                (u.onmousemove = A.Bq),
                                t.right.enabled)
                            ) {
                                n.divHover.appendChild(u);
                                var h = A.nav.scroll.scrollWidth;
                                i.right + t.right.space + u.offsetWidth >= h && n.divHover.removeChild(u);
                            }
                        }
                    }),
                    (this.Aq = function () {
                        (A.divHover.innerHTML = ""), (A.Cl.top.divHover.innerHTML = ""), (A.Cl.bottom.divHover.innerHTML = ""), k(A.elements.hover), (A.elements.hover = []);
                    }),
                    (this.Cq = function () {
                        var e = A.rowHeaderColumnDefaultWidth;
                        if (this.rowHeaderColumns) {
                            var t = K.Xp();
                            this.rowHeaderCols = DayPilot.Util.propArray(t, "width", e);
                        } else this.rowHeaderCols = null;
                    }),
                    (this.Dq = function () {
                        var e = 0;
                        if ((this.Cq(), this.rowHeaderCols)) for (var t = 0; t < this.rowHeaderCols.length; t++) e += this.rowHeaderCols[t];
                        else e = this.rowHeaderWidth;
                        return e;
                    }),
                    (this.Eq = function () {
                        return this.Fq(A.progressiveRowRenderingPreload);
                    }),
                    (this.Fq = function (e) {
                        var e = e || 0,
                            t = 0,
                            n = A.rowlist.length;
                        if (A.progressiveRowRendering) {
                            var i = A.hd();
                            (t = i.yStart),
                                (function () {
                                    var e = A.rowlist[t],
                                        n = e && e.split && e.split.parent;
                                    n && (t = n.index);
                                })(),
                                (n = i.yEnd + 1),
                                (t = f(0, t - e)),
                                (n = Math.min(A.rowlist.length, n + e));
                        }
                        return { start: t, end: n };
                    }),
                    (this.Gq = function () {
                        function e(e, t, n) {
                            for (var i = A.co(e).divHeader, r = t; r < n; r++) {
                                var o = i.rows[r];
                                if (o) {
                                    var s = { row: o, grid: e, i: r };
                                    A.Hq(s, a);
                                }
                            }
                        }
                        if (this.fg()) {
                            var t = !1,
                                n = 0;
                            if (this.rowHeaderWidthAutoFit) {
                                var i = this.divHeader;
                                if (!i) return;
                                if (!i.rows) return;
                                var a = [];
                                this.Cq();
                                A.rowHeaderWidthAutoFitShrink &&
                                    (A.rowHeaderScrolling || (A.rowHeaderWidth = 0),
                                    A.rowHeaderCols &&
                                        A.rowHeaderCols.forEach(function (e, t) {
                                            A.rowHeaderCols[t] = 0;
                                        }));
                                var r = A.Eq();
                                if ((e("main", r.start, r.end), A.Cl.top.enabled() && e("top", 0, A.Cl.top.divHeader.rows.length), A.Cl.bottom.enabled() && e("bottom", 0, A.Cl.bottom.divHeader.rows.length), this.rowHeaderCols))
                                    for (var o = 0; o < a.length; o++) "number" == typeof this.rowHeaderCols[o] && (a[o] > this.rowHeaderCols[o] && ((this.rowHeaderCols[o] = a[o]), (t = !0)), (n += this.rowHeaderCols[o]));
                                else {
                                    n = this.rowHeaderWidth;
                                    var s = K.Wl();
                                    this.rowHeaderWidth < a[0] + A.rowHeaderWidthMarginRight + s && ((n = a[0] + A.rowHeaderWidthMarginRight + s), (t = !0));
                                }
                            }
                            t &&
                                (this._n && ((this._n.widths = this.rowHeaderCols), this._n.updateWidths(), DayPilot.Util.updatePropsFromArray(K.Xp(), "width", this.rowHeaderCols)),
                                this.rowHeaderCols || (this.rowHeaderWidth = n),
                                this.Qm(),
                                this.Iq());
                        }
                    }),
                    (this.Hq = function (e, t) {
                        var n = e.row,
                            i = A.co(e.grid),
                            a = i.rowlist[e.i],
                            r = A.rowHeaderColumns;
                        if (!a.hidden) {
                            for (var o = 0; o < n.cells.length; o++)
                                if (n.cells[o] && "number" != typeof n.cells[o].Jq) {
                                    var s = n.cells[o].firstChild.firstChild;
                                    if (s && s.style) {
                                        var l = s.style.width,
                                            d = s.style.right,
                                            c = s.style.display;
                                        (s.style.position = "absolute"), (s.style.width = "auto"), (s.style.right = "auto"), (s.style.whiteSpace = "nowrap"), (s.style.display = "block");
                                        var u = s.offsetWidth + 2;
                                        (n.cells[o].Jq = u), (s.style.position = ""), (s.style.width = l), (s.style.right = d), (s.style.display = c), (s.style.whiteSpace = "");
                                    }
                                }
                            for (var o = 0; o < n.cells.length; o++)
                                if (n.cells[o]) {
                                    var u = n.cells[o].Jq;
                                    if (("undefined" == typeof t[o] && (t[o] = 0), r && r[o] && "number" == typeof r[o].maxAutoWidth)) {
                                        var h = r[o].maxAutoWidth;
                                        u = Math.min(u, h);
                                    }
                                    t[o] = Math.max(t[o], u);
                                }
                        }
                    }),
                    (this.fl = function () {
                        (this.Kq = !0), this.Cq();
                        var e = this.Dq(),
                            t = this.divHeader;
                        if (((t.style.width = e + "px"), (t.style.height = A.Tk + "px"), (A.Cl.main.divHeader = t), A.progressiveRowRendering)) a();
                        else for (var n = this.rowlist.length, i = 0; i < n; i++) A.Lq(i);
                        if (A.Cl.top.enabled()) for (var i = 0; i < A.Cl.top.rowlist.length; i++) A.Lq(i, "top");
                        if (A.Cl.bottom.enabled()) for (var i = 0; i < A.Cl.bottom.rowlist.length; i++) A.Lq(i, "bottom");
                        A.Mq(), this.divResScroll.appendChild(t), this.rowHeaderWidthAutoFit && this.Gq();
                    }),
                    (this.dl = function () {
                        function e(e) {
                            var t = A.co(e),
                                n = t.divHeader,
                                i = n;
                            n.Nq && (i = n.Nq), A.Wn(e), i && ((i.innerHTML = ""), DayPilot.puc(i)), n && (n.rows = []);
                        }
                        e("main"), e("top"), e("bottom");
                    }),
                    (this.Rm = function () {
                        if (A.progressiveRowRendering) {
                            for (var e = this.Eq(), t = 0; t < A.rowlist.length; t++) e.start <= t && t < e.end ? A.Lq(t) : A.do(t);
                            if (this.rowHeaderWidthAutoFit && !i.Oq) {
                                var n = A.Vl();
                                this.Gq();
                                if (A.Vl() !== n) {
                                    var a = this.cellWidth;
                                    this.$k();
                                    this.cellWidth !== a && (A._k(), A.gl(), A.hl(), A.vb(), A.nb(), B.cl(), A.Pq());
                                }
                            }
                        }
                    }),
                    (this.Mq = function () {
                        if (!A.Ga.Qq()) {
                            var e = A.divHeader,
                                t = l();
                            (t.style.position = "absolute"), e.appendChild(t), (A.nav.resScrollSpace = t), t.setAttribute("unselectable", "on");
                            var n = l();
                            (n.style.position = "relative"), (n.style.height = "100%"), (n.className = this.ca("_rowheader")), t.appendChild(n);
                            var i = this.Dq(),
                                t = A.nav.resScrollSpace;
                            (t.style.width = i + "px"), (t.style.top = this.Tk + "px");
                        }
                    }),
                    (this.do = function (e, t) {
                        var n = A.co(t),
                            i = n.divHeader.rows[e];
                        if (i) {
                            if (i) {
                                var a = i.domArgs;
                                if (((i.domArgs = null), a && "function" == typeof A.onBeforeRowHeaderDomRemove && A.onBeforeRowHeaderDomRemove(a), a && "function" == typeof A.onBeforeRowHeaderDomAdd && A.W.reactDOM)) {
                                    var r = a && a.ze;
                                    if (r) {
                                        if (m(a.element)) {
                                            if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            A.W.ka(r);
                                        }
                                    }
                                }
                                a && ((a.element = null), (a.ze = null));
                            }
                            k(i.cells), (n.divHeader.rows[e] = null);
                        }
                    }),
                    (this.hn = function (e, t) {
                        this.do(e, t), this.Lq(e, t);
                    }),
                    (this.en = function () {
                        return "Standard" === A.rowHeaderColumnsMode || "Tabular" === A.rowHeaderColumnsMode;
                    }),
                    (this.Rq = function (e, t) {
                        var n = void 0;
                        return e.tags && (n = e.tags[t]), "undefined" != typeof n ? n : e[t];
                    }),
                    (this.yn = function (e, t, n) {
                        return e.tags && "undefined" != typeof e.tags[t] ? void (e.tags[t] = n) : void (e[t] = n);
                    }),
                    (this.Lq = function (e, t) {
                        function n() {
                            var t = l();
                            if (A.treeEnabled && !d.isNewRow) {
                                var n = d.level * A.treeIndent + A.treeImageMarginLeft;
                                F && (n += q);
                                var i = A.treeImageWidth,
                                    a = A.treeImageHeight;
                                (t.style.marginLeft = n + "px"), (t.style.position = "relative"), (t.className = A.ca("_rowheader_inner_indent"));
                                var r = l();
                                (r.style.width = i + "px"),
                                    (r.style.height = a + "px"),
                                    (r.style.backgroundRepeat = "no-repeat"),
                                    (r.style.position = "absolute"),
                                    (r.style.top = A.treeImageMarginTop + "px"),
                                    d.loaded || 0 !== d.children.length
                                        ? d.children.length > 0
                                            ? (d.expanded ? (r.className = A.ca("_tree_image_collapse")) : (r.className = A.ca("_tree_image_expand")),
                                              (r.style.cursor = "pointer"),
                                              (r.index = e),
                                              (r.onclick = function (e) {
                                                  A.Jp(this.index), (e.cancelBubble = !0);
                                              }))
                                            : (r.className = A.ca("_tree_image_no_children"))
                                        : ((r.className = A.ca("_tree_image_expand")),
                                          (r.style.cursor = "pointer"),
                                          (r.index = e),
                                          (r.onclick = function (e) {
                                              A.br(this.index), (e.cancelBubble = !0);
                                          })),
                                    t.appendChild(r);
                            }
                            var o = l();
                            if (A.treeEnabled) {
                                var s = A.treeImageMarginRight;
                                o.style.marginLeft = i + s + "px";
                            }
                            (o.innerHTML = A.Ea(C.text, C.html)), (o.className = A.ca("_rowheader_inner_text")), (x.textDiv = o), (x.cellDiv = L), t.appendChild(o), W.appendChild(t);
                            var c = C.verticalAlignment || k.verticalAlignment;
                            if (c)
                                switch (((W.style.display = "flex"), c)) {
                                    case "center":
                                        W.style.alignItems = "center";
                                        break;
                                    case "top":
                                        W.style.alignItems = "flex-start";
                                        break;
                                    case "bottom":
                                        W.style.alignItems = "flex-end";
                                }
                        }
                        var i = A.co(t),
                            a = i.rowlist,
                            r = i.divHeader,
                            o = r;
                        if ((r.Nq && (o = r.Nq), r && !r.rows[e])) {
                            var s = this.rowHeaderCols,
                                d = a[e];
                            if (d && !d.hidden) {
                                var c = U.ta[d.grid + "_" + e],
                                    h = d.height,
                                    f = d.cells && d.cells[0];
                                f && f.rowspan > 1 && (h = f.row.split.totalHeight());
                                var v = null;
                                d.split && d.split.parent && d.split.Sq() && (v = A.Yp(d.split.parent));
                                var p = this.Yp(d),
                                    g = s && p.row.columns && p.row.columns.length > 0,
                                    y = g ? this.rowHeaderCols.length : 0,
                                    b = this.Dq();
                                (r.rows[e] = {}), (r.rows[e].cells = []);
                                var x = l();
                                (x.style.position = "absolute"), (x.style.top = d.top + "px"), (x.row = v ? d.split.parent : d), (x.index = e), (x.column = 0);
                                var k = p.row,
                                    C = v ? v.row : k,
                                    T = A.en(),
                                    E = d.children.length > 0,
                                    S = A.internalUseStandardColumns && !d.isNewRow,
                                    H = _(A.rowHeaderColumns),
                                    M = S || (T && H),
                                    R = w(p.row.columns);
                                v &&
                                    H &&
                                    p.row.columns.length === A.rowHeaderColumns.length &&
                                    A.rowHeaderColumns.forEach(function (e, t) {
                                        e.split || (R[t] = v.row.columns[t]);
                                    }),
                                    M &&
                                        ((R = R.filter(function (e, t) {
                                            return !A.rowHeaderColumns[t].hidden;
                                        })),
                                        (y = R.length));
                                var B = !(A.rowHeaderColumnsMergeParents && E);
                                if (M && B) {
                                    C = R[0] || p.row;
                                    var P = A.rowHeaderColumns.find(function (e) {
                                        return !e.hidden;
                                    });
                                    P && P.split && (x.row = d);
                                }
                                A.ja() && (C = p.row);
                                var N = g ? s[0] : b;
                                (x.style.width = N + "px"), (x.style.border = "0px none");
                                var I = C.toolTip || k.toolTip;
                                I && (x.title = I),
                                    x.setAttribute("unselectable", "on"),
                                    "undefined" != typeof k.ariaLabel ? x.setAttribute("aria-label", k.ariaLabel) : x.setAttribute("aria-label", C.text || ""),
                                    (x.onmouseenter = A.Tq),
                                    (x.onmouseleave = A.Uq),
                                    (x.onmousemove = A.Vq),
                                    (x.onmouseout = A.Wq),
                                    (x.onmouseup = A.Xq),
                                    (x.oncontextmenu = A.Yq),
                                    (x.onclick = A.Zq),
                                    (x.ondblclick = A.$q),
                                    DayPilot.rePassive(x, "touchstart", A.Je._q),
                                    DayPilot.reNonPassive(x, "touchend", A.Je.ar);
                                var L = l();
                                (L.style.width = N + "px"), L.setAttribute("unselectable", "on"), (L.className = this.ca("_rowheader")), c && u(L, A.ca("_rowheader_selected")), k.cssClass && u(L, k.cssClass), C.cssClass && u(L, C.cssClass);
                                var z = C.backColor || k.backColor;
                                z && (L.style.background = z);
                                var O = C.fontColor || k.fontColor;
                                O && (L.style.color = O);
                                var j = C.horizontalAlignment || k.horizontalAlignment;
                                A.treeEnabled && (j = null), j && (L.style.textAlign = j), (L.style.height = h + "px"), (L.style.overflow = "hidden"), (L.style.position = "relative");
                                var W = l();
                                switch ((W.setAttribute("unselectable", "on"), (W.className = this.ca("_rowheader_inner")), j)) {
                                    case "right":
                                        W.style.justifyContent = "flex-end";
                                        break;
                                    case "left":
                                        W.style.justifyContent = "flex-start";
                                        break;
                                    case "center":
                                        W.style.justifyContent = "center";
                                }
                                L.appendChild(W);
                                var F = "Disabled" !== this.rowMoveHandling && "main" === d.grid,
                                    q = A.rowDragHandleWidth,
                                    Y = C.areas || [];
                                F && !k.moveDisabled && Y.push({ v: "Hover", w: q, bottom: 0, top: 0, left: 0, css: A.ca("_rowmove_handle"), action: "Move" });
                                var J = A.xn(d);
                                DayPilot.Areas.attach(L, J, {
                                    areas: Y,
                                    allowed: function () {
                                        return !D.row;
                                    },
                                });
                                var V = l();
                                (V.style.position = "absolute"),
                                    (V.style.bottom = "0px"),
                                    (V.style.width = "100%"),
                                    (V.style.height = "0px"),
                                    (V.style.boxSizing = "content-box"),
                                    (V.style.borderBottom = "1px solid transparent"),
                                    (V.className = this.ca(G.resourcedivider)),
                                    L.appendChild(V),
                                    n(),
                                    x.appendChild(L),
                                    (function () {
                                        if ("function" == typeof A.onBeforeRowHeaderDomAdd || "function" == typeof A.onBeforeRowHeaderDomRemove) {
                                            var t = {};
                                            if (
                                                ((t.control = A),
                                                (t.row = A.xn(d)),
                                                (t.element = null),
                                                (t.target = "Cell"),
                                                (r.rows[e].domArgs = t),
                                                "function" == typeof A.onBeforeRowHeaderDomAdd && A.onBeforeRowHeaderDomAdd(t),
                                                t.element)
                                            ) {
                                                var n = null;
                                                switch (t.target && t.target.toLowerCase()) {
                                                    case "text":
                                                        n = ne;
                                                        break;
                                                    case "cell":
                                                        n = W;
                                                }
                                                if (n) {
                                                    (t.ze = n), (n.innerHTML = "");
                                                    if (m(t.element)) {
                                                        if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                                        A.W.V(t.element, n);
                                                    } else n.appendChild(t.element);
                                                }
                                            }
                                        }
                                    })();
                                (f && f.refCell) || (o.appendChild(x), (r.rows[e].cells[0] = x));
                                var X = !d.isNewRow && A.rowHeaderColumnsMergeParents && p.row.children().length > 0;
                                if (!p.row.columns || 0 === p.row.columns.length || X) (x.colSpan = "max"), (L.style.width = b + "px");
                                else
                                    for (var Z = N, K = S || T ? 0 : 1, Q = 1; Q < y; Q++) {
                                        var C = R[Q - K] || {},
                                            f = d.cells[Q - K],
                                            h = d.height;
                                        f.rowspan > 1 && (h = f.row.split.totalHeight());
                                        var x = l();
                                        (x.style.position = "absolute"), (x.style.top = d.top + "px"), (x.style.left = Z + "px"), f.refCell || (o.appendChild(x), (r.rows[e].cells[Q] = x)), (x.row = d), (x.index = e), (x.column = Q);
                                        var $ = C.toolTip || k.toolTip;
                                        $ && (x.title = $), x.setAttribute("unselectable", "on"), (x.onmousemove = A.Vq), (x.onmouseout = A.Wq), (x.onmouseup = A.Xq), (x.oncontextmenu = A.Yq), (x.onclick = A.Zq), (x.ondblclick = A.$q);
                                        var L = l(),
                                            ee = s[Q];
                                        Z += ee;
                                        var z = C.backColor || k.backColor;
                                        z && (L.style.backgroundColor = z);
                                        var O = C.fontColor || k.fontColor;
                                        O && (L.style.color = O),
                                            (L.style.width = ee + "px"),
                                            (L.style.height = h + "px"),
                                            (L.style.overflow = "hidden"),
                                            (L.style.position = "relative"),
                                            L.setAttribute("unselectable", "on"),
                                            u(L, this.ca("_rowheader")),
                                            u(L, this.ca("_rowheadercol")),
                                            u(L, this.ca("_rowheadercol" + Q)),
                                            c && u(L, A.ca("_rowheader_selected")),
                                            k.cssClass && u(L, k.cssClass),
                                            C.cssClass && u(L, C.cssClass);
                                        var te = C.horizontalAlignment || k.horizontalAlignment;
                                        te && (L.style.textAlign = te);
                                        var W = l();
                                        switch ((W.setAttribute("unselectable", "on"), (W.className = this.ca("_rowheader_inner")), te)) {
                                            case "right":
                                                W.style.justifyContent = "flex-end";
                                                break;
                                            case "left":
                                                W.style.justifyContent = "flex-start";
                                                break;
                                            case "center":
                                                W.style.justifyContent = "center";
                                        }
                                        L.appendChild(W);
                                        var V = l();
                                        (V.style.position = "absolute"),
                                            (V.style.bottom = "0px"),
                                            (V.style.width = "100%"),
                                            (V.style.height = "0px"),
                                            (V.style.boxSizing = "content-box"),
                                            (V.style.borderBottom = "1px solid transparent"),
                                            (V.className = this.ca("_resourcedivider")),
                                            L.appendChild(V);
                                        var ne = l(),
                                            ie = A.Ea(C.text, C.html);
                                        (ne.innerHTML = ie),
                                            (x.textDiv = ne),
                                            (x.cellDiv = L),
                                            W.appendChild(ne),
                                            DayPilot.Areas.attach(L, J, {
                                                areas: C.areas,
                                                allowed: function () {
                                                    return !D.row;
                                                },
                                            }),
                                            x.appendChild(L);
                                    }
                            }
                        }
                    }),
                    (this.Yq = function (e) {
                        if ("Disabled" === A.rowRightClickHandling) return !1;
                        var t = this.row,
                            n = this.column,
                            i = A.xn(t),
                            a = {};
                        if (
                            ((a.ctrl = e.ctrlKey),
                            (a.shift = e.shiftKey),
                            (a.meta = e.metaKey),
                            (a.originalEvent = e),
                            (a.row = i),
                            (a.x = n),
                            (a.preventDefault = function () {
                                this.preventDefault.value = !0;
                            }),
                            "function" != typeof A.onRowRightClick || (A.onRowRightClick(a), !a.preventDefault.value))
                        ) {
                            switch (A.rowRightClickHandling) {
                                case "ContextMenu":
                                    t.contextMenu && t.contextMenu.show(i);
                            }
                            return "function" == typeof A.onRowRightClicked && A.onRowRightClicked(a), !1;
                        }
                    }),
                    (this.Zq = function (e) {
                        if (!j.cancelClick) {
                            var t = this.row,
                                n = this.column,
                                i = A.xn(t, this.index);
                            return t.isNewRow ? void A.Fn.En(t) : void A.Bn(i, e, n);
                        }
                    }),
                    (this.$q = function (e) {
                        if (A.zm.resClick) {
                            for (var t in A.zm.resClick) window.clearTimeout(A.zm.resClick[t]);
                            A.zm.resClick = null;
                        }
                        var n = this.row,
                            i = A.xn(n, this.index),
                            a = this.column;
                        if (A.Eb()) {
                            var r = {};
                            if (
                                ((r.resource = i),
                                (r.row = i),
                                (r.x = a),
                                (r.ctrl = e.ctrlKey),
                                (r.shift = e.shiftKey),
                                (r.meta = e.metaKey),
                                (r.originalEvent = e),
                                (r.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onRowDoubleClick && (A.onRowDoubleClick(r), r.preventDefault.value))
                            )
                                return;
                            switch (A.rowDoubleClickHandling) {
                                case "PostBack":
                                    A.rowDoubleClickPostBack(i);
                                    break;
                                case "CallBack":
                                    A.rowDoubleClickCallBack(i);
                                    break;
                                case "Select":
                                    A.Dn(n, e.ctrlKey, e.shiftKey, e.metaKey);
                                    break;
                                case "Edit":
                                    A.Fn.En(n, a);
                            }
                            "function" == typeof A.onRowDoubleClicked && A.onRowDoubleClicked(r);
                        } else
                            switch (A.rowDoubleClickHandling) {
                                case "PostBack":
                                    A.rowDoubleClickPostBack(i);
                                    break;
                                case "CallBack":
                                    A.rowDoubleClickCallBack(i);
                                    break;
                                case "JavaScript":
                                    A.onRowDoubleClick(i);
                                    break;
                                case "Select":
                                    A.Dn(n, e.ctrlKey, e.shiftKey, e.metaKey);
                                    break;
                                case "Edit":
                                    A.Fn.En(n, a);
                            }
                    }),
                    (this.rowDoubleClickPostBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.Ha("RowDoubleClick", n, t);
                    }),
                    (this.rowDoubleClickCallBack = function (e, t) {
                        var n = {};
                        (n.resource = e), this.Ja("RowDoubleClick", n, t);
                    }),
                    (this.cr = function (e) {
                        if ("Disabled" !== A.timeHeaderClickHandling) {
                            var t = {};
                            (t.start = this.cell.start), (t.level = this.cell.level), (t.end = this.cell.end), t.end || (t.end = new DayPilot.Date(t.start).addMinutes(A.cellDuration)), A.Gn(t, e);
                        }
                    }),
                    (this.dr = function (t) {
                        if ("Disabled" !== A.timeHeaderRightClickHandling) {
                            (t.cancelBubble = !0), t.preventDefault();
                            var n = {};
                            if (((n.start = this.cell.start), (n.level = this.cell.level), (n.end = this.cell.end), n.end || (n.end = new DayPilot.Date(n.start).addMinutes(A.cellDuration)), A.Eb())) {
                                var i = {};
                                if (
                                    ((i.header = n),
                                    (i.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    "function" == typeof A.onTimeHeaderRightClick && (A.onTimeHeaderRightClick(i), i.preventDefault.value))
                                )
                                    return;
                                switch (this.timeHeaderRightClickHandling) {
                                    case "PostBack":
                                        A.timeHeaderRightClickPostBack(e);
                                        break;
                                    case "CallBack":
                                        A.timeHeaderRightClickCallBack(e);
                                }
                                "function" == typeof A.onTimeHeaderRightClicked && A.onTimeHeaderRightClicked(i);
                            }
                        }
                    }),
                    (this.er = function (e) {
                        var t = A.rowlist[e];
                        if (t.hidden) return 0;
                        var n = t.height;
                        return "number" == typeof t.forcedHeight && (n = t.forcedHeight), n;
                    }),
                    (this.fr = function (e, t, n) {
                        A.divHeader, A.elements.cells, A.ta.cells;
                        e.forEach(function (e) {});
                    }),
                    (this.gr = function (e, t, n) {
                        function i(e) {
                            var n = A.er(e),
                                i = t;
                            "hide" === t ? (i = 0) : "show" === t && (i = A.rowlist[e].height);
                            var a = i - n;
                            o.push({ i: e, now: n, dist: a });
                        }
                        function a(e) {
                            s || (s = e);
                            var t = e - s,
                                i = Math.min(1, t / r);
                            0 === i && (i = 0.1),
                                o.forEach(function (e) {
                                    var t = e.now + e.dist * i;
                                    A.rowlist[e.i].forcedHeight = t;
                                }),
                                A.hr(),
                                i < 1 ? window.requestAnimationFrame(a) : ((l.style.overflowX = d), (l.style.overflowY = c), "function" == typeof n && n());
                        }
                        var r = 200,
                            o = [];
                        if ("number" == typeof e) i(e);
                        else {
                            if (!_(e)) throw new DayPilot.Exception("Unexpected param (must be number/array).");
                            e.forEach(function (e) {
                                i(e);
                            });
                        }
                        var s = 0,
                            l = A.nav.scroll,
                            d = l.style.overflowX,
                            c = l.style.overflowY;
                        0 === DayPilot.sw(l) && (l.style.overflowY = "hidden"), window.requestAnimationFrame(a);
                    }),
                    (this.xn = function (e) {
                        return new DayPilot.Row(e, A);
                    }),
                    (this.mm = function (e, t) {
                        t = t || "main";
                        var n = A.Cl[t],
                            i = n.rowlist,
                            a = i[e];
                        if ((a.events || a.ir(), !a.data)) {
                            (a.data = {}), (a.data.start = new DayPilot.Date(a.start)), (a.data.startTicks = a.data.start.getTime());
                            var r = this.Vd().getTime() - this.Ob().getTime();
                            (a.data.end = K.jr() ? a.data.start.addTime(r) : a.data.start.addDays(1)), (a.data.endTicks = a.data.end.getTime()), (a.data.offset = a.start.getTime() - this.Ob().getTime()), (a.data.i = e), (a.data.grid = t);
                        }
                    }),
                    (this.zo = {}),
                    (this.nb = function (e) {
                        if ((e ? (this.events.list = e) : this.events.list || (this.events.list = []), null != this.events.list && !_(this.events.list)))
                            throw new DayPilot.Exception("DayPilot.Scheduler.events.list expects an array object");
                        O.Xi(!0);
                        var t,
                            n = this.events.list,
                            i = "function" == typeof this.onBeforeEventRender,
                            a = "Resources" === A.viewType;
                        A.zo = {};
                        for (var r = 0; r < n.length; r++) {
                            var o = n[r];
                            if (o) {
                                if ("object" != typeof o) throw new DayPilot.Exception("Event data item must be an object");
                                if (!o.start) throw new DayPilot.Exception("Event data item must specify 'start' property");
                                if (o instanceof DayPilot.Event) throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");
                                var s = "string" == typeof o.id || "number" == typeof o.id,
                                    l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId;
                                if (!s) {
                                    var l = "string" == typeof o.recurrentMasterId || "number" == typeof o.recurrentMasterId;
                                    if (!l) throw new DayPilot.Exception("All events must have an id property (string or number)");
                                }
                                var d = "_" + o.id;
                                !s && l && (d = "#" + o.recurrentMasterId + "#" + new DayPilot.Date(o.start));
                                if (!A.temp.allowDuplicateEventIds && A.zo[d]) throw new DayPilot.Exception("Duplicate event IDs are not allowed: " + d);
                                (A.zo[d] = {}),
                                    "Milestone" === o.type && (o.end = o.start),
                                    i && this.rg(r),
                                    "*" === o.resource ? (t = A.rowlist) : a ? (t = A.kr(o.resource).concat(A.kr("*"))) : "Days" === A.viewType ? (t = A.rowlist) : "Gantt" === A.viewType && (t = A.kr(o.id));
                                for (var c = 0; t && c < t.length; c++) {
                                    var u = t[c],
                                        h = this.Zo(o, u);
                                    if (h) {
                                        var f = A.zo[d];
                                        f.Ao || (f.Ao = h), i && (h.cache = this.ta.events[r]);
                                    }
                                }
                            }
                        }
                        A.lm().forEach(function (e) {
                            A.cp(e);
                        }),
                            A.Im();
                    }),
                    (this.lr = {});
                var O = this.lr;
                (O.mr = {}),
                    (O.Xi = function (e) {
                        O.mr = {};
                        for (var t = A.lm(), n = 0; n < t.length; n++) {
                            var i = t[n];
                            if ((e && i.ir(), A.mm(i.index, i.grid), i.id)) {
                                var a = typeof i.id + "_" + i.id;
                                O.mr[a] || (O.mr[a] = w()), O.mr[a].push(i);
                            }
                        }
                    }),
                    (O.loadEvent = function (e) {}),
                    (this.kr = function (e) {
                        var t = typeof e + "_" + e;
                        return w(O.mr[t]);
                    }),
                    (this.Yo = function () {
                        var e = {};
                        if ("Resources" !== A.viewType) return !1;
                        for (var t = 0; t < A.rowlist.length; t++) {
                            var n = A.rowlist[t],
                                i = n.id;
                            if (e[i]) return !0;
                            e[i] = !0;
                        }
                        return !1;
                    }),
                    (this.rg = function (e) {
                        var t = this.ta.events,
                            n = this.events.list[e],
                            i = {};
                        n instanceof DayPilot.Event && (n = n.data);
                        for (var a in n) i[a] = n[a];
                        if (("string" == typeof i.start && (i.start = new DayPilot.Date(i.start)), "string" == typeof i.end && (i.end = new DayPilot.Date(i.end)), "function" == typeof this.onBeforeEventRender)) {
                            var r = {};
                            (r.e = i), (r.data = i), this.onBeforeEventRender(r);
                        }
                        t[e] = i;
                    }),
                    (this.nr = function (e) {
                        var t = e.data.container,
                            n = typeof t;
                        return "string" !== n && "number" !== n ? null : typeof t + "_" + t;
                    }),
                    (this.cp = function (e) {
                        if (((e.lines = []), (e.sections = null), !e.isNewRow)) {
                            this.sortDirections ? e.events.sort(this.Qg) : A.Pk || e.events.sort(this.Pg),
                                (e.containerCache = {}),
                                (e.containers = []),
                                e.events.forEach(function (t) {
                                    var n = A.nr(t);
                                    if (n) {
                                        var i = e.containerCache[n];
                                        i || ((i = { events: [], line: null, start: null, end: null, left: null, width: null }), (e.containerCache[n] = i), e.containers.push(i)), (t.part.container = i), i.events.push(t);
                                    }
                                }),
                                e.containers.forEach(function (e) {
                                    var t = e.events[0],
                                        n = e.events[e.events.length - 1];
                                    (e.start = t.part.start), (e.end = n.part.end), (e.left = t.part.left), (e.width = n.part.right - t.part.left), (e.right = n.part.right);
                                });
                            if (A.Pk) return void Y.cp(e);
                            var t = A.groupConcurrentEvents;
                            if (t) for (var n = 0; n < e.blocks.length; n++) e.blocks[n].clear();
                            w(e.events).forEach(function (t) {
                                if (!t.part.height) return e.eventHeight ? void (t.part.height = e.eventHeight) : void (t.part.height = K.go());
                            });
                            var i = function (e) {
                                return "number" == typeof e.data.line;
                            };
                            e.events.filter(i).forEach(function (t) {
                                e.Td(t);
                            });
                            for (var a = 0; a < e.events.length; a++) {
                                var r = e.events[a];
                                e.Td(r), t && e.Rd(r);
                            }
                            for (var o = 0, n = 0; n < e.lines.length; n++) {
                                var s = e.lines[n];
                                (s.top = o), (o += ((s.height || e.eventHeight) * e.eventStackingLineHeight) / 100);
                            }
                            if (t)
                                for (var a = 0; a < e.blocks.length; a++) {
                                    var l = e.blocks[a];
                                    (l.lines = []), l.events.sort(this.Qg);
                                    for (var d = 0; d < l.events.length; d++) {
                                        var r = l.events[d];
                                        l.Td(r);
                                    }
                                    l.lines.length <= A.groupConcurrentEventsLimit && (l.expanded = !0);
                                    var c = w(l.events)
                                        .map(function (e) {
                                            return e.id();
                                        })
                                        .some(function (e) {
                                            return x(A.or, e);
                                        });
                                    c && (l.expanded = !0);
                                    for (var o = 0, n = 0; n < l.lines.length; n++) {
                                        var s = l.lines[n];
                                        (s.top = o), (o += ((s.height || e.eventHeight) * e.eventStackingLineHeight) / 100);
                                    }
                                }
                        }
                    }),
                    (this.Hm = function (e) {
                        (e = DayPilot.ua(e)),
                            (e = A.in(e)),
                            e.forEach(function (e) {
                                A.cp(e);
                            }),
                            A.Pk
                                ? Y.pr()
                                : e.forEach(function (e) {
                                      A.Wp(e);
                                  });
                    }),
                    (this.rp = function () {
                        var e = "Manual" === A.scale ? A.itline[0].start : A.startDate;
                        return w(A.rowlist).some(function (t) {
                            return !!t.start && t.start.getTime() !== new DayPilot.Date(e).getTime();
                        });
                    }),
                    (this.Zo = function (e, t) {
                        if (!t.hideEvents) {
                            var n = DayPilot.Util.isNullOrUndefined,
                                i = new DayPilot.Date(e.start),
                                a = new DayPilot.Date(e.end);
                            a = A.aj(a);
                            var r = i.ticks,
                                o = a.ticks;
                            if (o < r) return null;
                            var s = null;
                            if ("function" == typeof A.onBeforeEventRender) {
                                var l = C(A.events.list, e);
                                s = A.ta.events[l];
                            }
                            if (s) {
                                if (s.hidden) return null;
                            } else if (e.hidden) return null;
                            var d = !1;
                            switch (this.viewType) {
                                case "Days":
                                    var c = !(o <= t.data.startTicks || r >= t.data.endTicks) || (r === o && r === t.data.startTicks),
                                        u = (n(t.id) && n(e.resource)) || t.id === e.resource;
                                    d = c && u;
                                    break;
                                case "Resources":
                                    d = (t.id === e.resource || "*" === t.id || "*" === e.resource) && (!(o <= t.data.startTicks || r >= t.data.endTicks) || (r === o && r === t.data.startTicks));
                                    break;
                                case "Gantt":
                                    d = t.id === e.id && !(o <= t.data.startTicks || r >= t.data.endTicks);
                            }
                            if (!d) return null;
                            var h = new DayPilot.Event(e, A);
                            (h.part.dayIndex = t.data.i), (h.part.grid = t.data.grid), (h.part.start = t.data.startTicks < r ? i : t.data.start), (h.part.end = t.data.endTicks > o ? a : t.data.end);
                            var v = this.getPixels(h.part.start.addTime(-t.data.offset)),
                                p = this.getPixels(h.part.end.addTime(-t.data.offset));
                            h.part.start === h.part.end && (p = this.getPixels(h.part.end.addTime(-t.data.offset).addMilliseconds(1))), s && s.height ? (h.part.height = s.height) : e.height && (h.part.height = e.height);
                            s || h.data;
                            h.part.qr = function () {
                                var e = this.height;
                                if (A.eventVersionsEnabled && !w(h.versions).isEmpty()) {
                                    var t = h.versions.length;
                                    (e += t * A.eventVersionHeight), (e += t * A.eventVersionMargin);
                                }
                                return e + A.eventMarginBottom;
                            };
                            var m = v.left,
                                g = p.left;
                            if (((h.part.startPixels = v), (h.part.endPixels = p), m === g)) {
                                if (v.cut || p.cut) return null;
                                var y = (h.part.start.addTime(-t.data.offset).getTime() + h.part.end.addTime(-t.data.offset).getTime()) / 2;
                                if (A.getPixels(new DayPilot.Date(Math.floor(y))).cut) return null;
                            }
                            h.part.box = K.Og(o - r);
                            var b = A.eventHeight;
                            if ("Milestone" === e.type) {
                                var x = e.width || b;
                                (h.part.end = h.part.start), (h.part.left = m - x / 2), (h.part.width = x), (h.part.barLeft = 0), (h.part.barWidth = x);
                            } else if (h.part.box) {
                                var k = v.boxLeft,
                                    _ = p.boxRight;
                                (h.part.left = k), (h.part.width = _ - k), (h.part.barLeft = f(m - h.part.left, 0)), (h.part.barWidth = f(g - m, 1));
                            } else (h.part.left = m), (h.part.width = f(g - m, 1)), (h.part.barLeft = 0), (h.part.barWidth = f(g - m - 1, 1));
                            var D = A.eventMinWidth;
                            if (((h.part.width = Math.max(h.part.width, D)), (h.part.right = h.part.left + h.part.width), (h.cache = s), A.eventVersionsEnabled && A.rr(h, t), "function" == typeof A.onEventFilter && A.events.Ng)) {
                                var T = {};
                                if (((T.filter = A.events.Ng), (T.filterParam = A.events.Ng), (T.visible = !0), (T.e = h), A.onEventFilter(T), !T.visible)) return null;
                            }
                            return t.events.push(h), h;
                        }
                    }),
                    (this.rr = function (e, t) {
                        e.versions = [];
                        var n = e.cache || e.data,
                            i = w(n.versions);
                        if (!i.isEmpty()) {
                            var a = e.part.left,
                                r = e.part.left + e.part.width;
                            i.forEach(function (n) {
                                var i = new DayPilot.Date(n.start),
                                    o = new DayPilot.Date(n.end),
                                    s = A.getPixels(i.addTime(-t.data.offset)),
                                    l = A.getPixels(o.addTime(-t.data.offset));
                                i.ticks === o.ticks && (l = A.getPixels(o.addTime(-t.data.offset).addTime(1)));
                                var d = s.left,
                                    c = l.left;
                                if (d === c && (s.cut || l.cut)) return null;
                                var u = {};
                                (u.left = d), (u.continueLeft = i < t.data.start), (u.right = c), (u.continueRight = o > t.data.end), (u.width = c - d), e.versions.push(u), u.left < a && (a = u.left), u.right > r && (r = u.right);
                            });
                            A.eventVersionsReserveSpace && !n.versionsReserveSpaceDisabled
                                ? ((e.part.versionsLeft = a), (e.part.versionsRight = r), (e.part.versionsWidth = r - a))
                                : ((e.part.versionsLeft = e.part.left), (e.part.versionsRight = e.part.left + e.part.width), (e.part.versionsWidth = e.part.width));
                        }
                    }),
                    (this.Pg = function (e, t) {
                        if (!(e && t && e.start && t.start)) return 0;
                        var n = e.start().ticks,
                            i = t.start().ticks,
                            a = e.end().ticks,
                            r = t.end().ticks;
                        "Milestone" === e.data.type && ((n -= 1), (a += 1)), "Milestone" === t.data.type && ((i -= 1), (r += 1));
                        var o = n - i;
                        return 0 !== o ? o : r - a;
                    }),
                    (this.Qg = function (e, t) {
                        if (!e || !t) return 0;
                        var n = e.cache || e.data,
                            i = t.cache || t.data;
                        if (!(n.sort && n.sort.length > 0 && i.sort && i.sort.length > 0)) return A.Pg(e, t);
                        for (var a = 0, r = 0; 0 === a && "undefined" != typeof n.sort[r] && "undefined" != typeof i.sort[r]; )
                            (a = n.sort[r] === i.sort[r] ? 0 : "number" == typeof n.sort[r] && "number" == typeof i.sort[r] ? n.sort[r] - i.sort[r] : A.Rg(n.sort[r], i.sort[r], A.sortDirections[r])), r++;
                        return a;
                    }),
                    (this.Rg = function (e, t, n) {
                        var i = "desc" !== n,
                            a = i ? -1 : 1,
                            r = -a;
                        if (null === e && null === t) return 0;
                        if (null === t) return r;
                        if (null === e) return a;
                        var o = [];
                        return (o[0] = e), (o[1] = t), o.sort(), e === o[0] ? a : r;
                    }),
                    (this.Dn = function (e, t, n, i) {
                        if (A.Eb()) {
                            var a = C(A.rowlist, e),
                                r = A.xn(e, a),
                                o = C(j.Di, e) !== -1,
                                s = o ? "deselected" : "selected",
                                l = {};
                            if (
                                ((l.row = r),
                                (l.selected = o),
                                (l.ctrl = t),
                                (l.shift = n),
                                (l.meta = i),
                                (l.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onRowSelect && (A.onRowSelect(l), l.preventDefault.value))
                            )
                                return;
                            var d = n && !t && !i;
                            if ((n || (j.sr = { row: e, index: a }), d)) {
                                j.ur();
                                var c = j.sr.index,
                                    u = a;
                                j.vr(c, u);
                            }
                            switch (A.rowSelectHandling) {
                                case "PostBack":
                                    A.rowSelectPostBack(r, s);
                                    break;
                                case "CallBack":
                                    A.rowSelectCallBack(r, s);
                                    break;
                                case "Notify":
                                    !d && j.L(e, t, n, i), A.rowSelectNotify(r, s);
                                    break;
                                case "Update":
                                    !d && j.L(e, t, n, i);
                            }
                            "function" == typeof A.onRowSelected && ((l.selected = C(j.Di, e) !== -1), A.onRowSelected(l));
                        } else {
                            j.L(e, t, n);
                            var a = C(A.rowlist, e),
                                r = A.xn(e, a),
                                o = C(j.Di, e) !== -1,
                                s = o ? "deselected" : "selected";
                            switch (A.rowSelectHandling) {
                                case "PostBack":
                                    A.rowSelectPostBack(r, s);
                                    break;
                                case "CallBack":
                                    A.rowSelectCallBack(r, s);
                                    break;
                                case "Notify":
                                    A.rowSelectNotify(r, s);
                                    break;
                                case "JavaScript":
                                    A.onRowSelect(r, s);
                            }
                        }
                    }),
                    (this.rowSelectPostBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e), (i.change = t), this.Ha("RowSelect", i, n);
                    }),
                    (this.rowSelectCallBack = function (e, t, n) {
                        var i = {};
                        (i.resource = e), (i.change = t), this.Ja("RowSelect", i, n);
                    }),
                    (this.rowSelectNotify = function (e, t, n) {
                        var i = {};
                        (i.resource = e), (i.change = t), this.Ja("RowSelect", i, n, "Notify");
                    }),
                    (this.rows = {}),
                    (this.rows.selection = {});
                var U = this.rows.selection;
                (U.ta = []),
                    (U.get = function () {
                        var e = [];
                        return (
                            w(j.Di).forEach(function (t) {
                                e.push(A.xn(t));
                            }),
                            e
                        );
                    }),
                    (U.clear = function () {
                        j.wr();
                    }),
                    (U.add = function (e) {
                        if (!e || !e.isRow) throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected");
                        w(j.Di).some(function (t) {
                            return t === e.$.row;
                        }) || (j.Di.push(e.$.row), U.xr(), j.uk(e.$.row));
                    }),
                    (U.remove = function (e) {
                        if (!e || !e.isRow) throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected");
                        U.isSelected(e) && (DayPilot.rfa(j.Di, e.$.row), U.xr(), j.uk(e.$.row));
                    }),
                    (U.isSelected = function (e) {
                        if (!e || !e.isRow) throw new DayPilot.Exception("DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected");
                        return C(j.Di, e.$.row) !== -1;
                    }),
                    (U.xr = function () {
                        (A.selectedRows = w(j.Di).map(function (e) {
                            return e.id;
                        })),
                            (U.ta = []),
                            j.Di.forEach(function (e) {
                                U.ta[e.grid + "_" + e.index] = !0;
                            });
                    }),
                    (this.rows.all = function () {
                        for (var e = w(), t = 0; t < A.rowlist.length; t++) {
                            var n = A.xn(A.rowlist[t]);
                            e.push(n);
                        }
                        return e;
                    }),
                    (this.rows.visible = function () {
                        for (var e = w(), t = 0; t < A.rowlist.length; t++) {
                            var n = A.rowlist[t];
                            if (!n.hidden) {
                                var n = A.xn(A.rowlist[t]);
                                e.push(n);
                            }
                        }
                        return e;
                    }),
                    (this.rows.each = function (e) {
                        A.rows.all().forEach(e);
                    }),
                    (this.rows.forEach = function (e) {
                        A.rows.all().forEach(e);
                    }),
                    (this.rows.filter = function (e, t) {
                        (A.rows.Ng = e), t || (A.ya && A.Ad({ immediateEvents: !0 }));
                    }),
                    Object.defineProperty(A.rows, "filterParam", {
                        get: function () {
                            return A.rows.Ng;
                        },
                    }),
                    (this.rows.sort = function (e) {
                        var t = A.rows.sortParam;
                        if ("string" == typeof e) A.rows.yr = { field: e, order: "asc" };
                        else if ("object" == typeof e) {
                            var n = p(e);
                            n.order || (n.order = "asc"), (A.rows.yr = n);
                        } else A.rows.yr = null;
                        if ((A.ya && A.Ad({ immediateEvents: !0 }), "function" == typeof A.onRowSorted)) {
                            var i = {};
                            (i.oldSortParam = t), A.onRowSorted(i);
                        }
                    }),
                    Object.defineProperty(A.rows, "sortParam", {
                        get: function () {
                            return { order: A.rows.zr(), field: A.rows.Ar() };
                        },
                    }),
                    (this.rows.Ar = function () {
                        var e = A.rows.yr;
                        return e ? e.field : null;
                    }),
                    (this.rows.zr = function () {
                        var e = A.rows.yr;
                        return e ? e.order : "asc";
                    }),
                    (this.rows.find = function (e, t) {
                        if ("string" == typeof e || "number" == typeof e || (!e && t)) {
                            var n = A.kr(e);
                            e || (n = A.rowlist);
                            var i = null;
                            return (
                                "string" == typeof t || t instanceof DayPilot.Date
                                    ? ((t = new DayPilot.Date(t)),
                                      (i = n.find(function (e) {
                                          return t === e.start;
                                      })))
                                    : (i = n.first()),
                                i ? new DayPilot.Row(i, A) : null
                            );
                        }
                        if ("function" != typeof e) throw new DayPilot.Exception("Invalid rows.find() argument: id or function expected");
                        var a = t || 0,
                            r = A.rowlist.find(function (t, n) {
                                return !(n < a) && e(A.xn(t));
                            });
                        if (r) return A.xn(r);
                    }),
                    (this.rows.load = function (e, t, n) {
                        if (!e) throw new DayPilot.Exception("rows.load(): 'url' parameter required");
                        var i = function (e) {
                                var t = {};
                                (t.exception = e.exception), (t.request = e.request), "function" == typeof n && n(t);
                            },
                            a = function (e) {
                                var n,
                                    a = e.request;
                                try {
                                    n = JSON.parse(a.responseText);
                                } catch (e) {
                                    var r = {};
                                    return (r.exception = e), void i(r);
                                }
                                if (_(n)) {
                                    var o = {};
                                    if (
                                        ((o.preventDefault = function () {
                                            this.preventDefault.value = !0;
                                        }),
                                        (o.data = n),
                                        "function" == typeof t && t(o),
                                        o.preventDefault.value)
                                    )
                                        return;
                                    (A.resources = o.data), A.ya && A.update();
                                }
                            };
                        A.rowsLoadMethod && "POST" === A.rowsLoadMethod.toUpperCase() ? DayPilot.ajax({ method: "POST", url: e, success: a, error: i }) : DayPilot.ajax({ method: "GET", url: e, success: a, error: i });
                    }),
                    (this.rows.expand = function (e) {
                        for (var t = [], n = e || 1, i = 0; i < A.rowlist.length; i++) {
                            var a = A.rowlist[i],
                                r = n === -1;
                            a.level < n && (r = !0), r && !a.expanded && a.children && a.children.length > 0 && t.push(a.index);
                        }
                        if (0 !== t.length)
                            if (1 === t.length) A.Jp(t[0]);
                            else {
                                for (var i = 0; i < t.length; i++) {
                                    var o = t[i],
                                        s = A.rowlist[o].resource;
                                    s.expanded = !0;
                                }
                                A.Ad();
                            }
                    }),
                    (this.rows.expandAll = function () {
                        A.rows.expand(-1);
                    }),
                    (this.rows.collapseAll = function () {
                        A.rowlist.forEach(function (e) {
                            e.resource.expanded = !1;
                        }),
                            A.Ad();
                    }),
                    (this.rows.headerHide = function () {
                        (A.Br = !0), A.Cr(), A.Iq(), A.cm();
                    }),
                    (this.rows.headerShow = function () {
                        (A.Br = !1), A.Cr(), A.Iq(), A.cm();
                    }),
                    (this.rows.headerToggle = function () {
                        A.Br ? A.rows.headerShow() : A.rows.headerHide();
                    }),
                    (this.rows.edit = function (e, t) {
                        var n = A.rowHeaderColumns,
                            i = n && n.length - 1;
                        if ("undefined" != typeof t && (t < 0 || t > i)) throw new DayPilot.Exception("Invalid column index: " + t);
                        j.En(e.$.row, t);
                    }),
                    (this.rows.remove = function (e) {
                        if ("number" == typeof e || "string" == typeof e) {
                            var t = A.rows.find(e);
                            if (!t) throw new DayPilot.Exception("The row to be removed was not found");
                            return void A.rows.remove(t);
                        }
                        var n = e.$.row.resource,
                            i = F.Dr(n);
                        if (!i) throw new DayPilot.Exception("Cannot find source node parent");
                        var a = C(i, n);
                        i.splice(a, 1), A.update();
                    }),
                    (this.rows.add = function (e) {
                        A.resources.push(e), A.Ad();
                    }),
                    (this.rows.addChild = function (e, t) {
                        if ((("number" != typeof e && "string" != typeof e) || (e = A.rows.find(e)), e)) {
                            if (!(e instanceof DayPilot.Row)) {
                                var t = e;
                                if (((e = A.rows.find(t.id)), !e)) return;
                            }
                            e.data.children || (e.data.children = []), e.data.children.push(t), A.Ad();
                        }
                    }),
                    (this.rows.update = function (e) {
                        if (!(e instanceof DayPilot.Row || "object" == typeof e)) throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object.");
                        if (!(e instanceof DayPilot.Row)) {
                            var t = e;
                            if (((e = A.rows.find(t.id)), !e)) return;
                            e.data = t;
                        }
                        !w(A.events.Xo.rows).isEmpty() && ((Z.Wo = !0), A.events.on({ dontResetFocus: !0 }));
                        var n = A.rows.selection.isSelected(e),
                            i = e,
                            a = e.index,
                            r = A.co(e.grid).rowlist,
                            o = r[a],
                            s = e.data,
                            l = e.parent() ? e.parent().$.row : null,
                            d = A.Er(s),
                            e = A.Fr(d, l);
                        (e.hidden = o.hidden),
                            (e.level = o.level),
                            (e.children = o.children),
                            (e.index = a),
                            (e.top = o.top),
                            (e.height = o.height),
                            (e.grid = o.grid),
                            (r[a] = e),
                            n && (DayPilot.rfa(j.Di, i.$.row), j.Di.push(e)),
                            e.ir(),
                            A.mm(e.index, e.grid),
                            A.bl(),
                            A.Gr(e),
                            A.cp(e),
                            A.Im(),
                            A.Hr(),
                            A.Jm([e]),
                            A.vb(),
                            (A.Ir = !0),
                            (A.Jr = setTimeout(function () {
                                A.Ir = !1;
                            }, 500));
                    }),
                    (this.Gr = function (e) {
                        for (var t = A.events.list, n = t.length, i = "function" == typeof A.onBeforeEventRender, a = 0; a < n; a++) {
                            var r = t[a];
                            if (r) {
                                if (r instanceof DayPilot.Event) throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");
                                if ("Days" === A.viewType) throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");
                                if ("Gantt" === A.viewType) throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");
                                if ("*" === r.resource || "*" === e.id || r.resource === e.id) {
                                    i && this.rg(a);
                                    var o = this.Zo(r, e);
                                    o && i && (o.cache = this.ta.events[a]);
                                }
                            }
                        }
                    }),
                    (this.Kr = function () {
                        var e = D.source,
                            t = D.target,
                            n = D.position,
                            i = D.sourceCalendar;
                        if ((j.Lr(), A.Eb())) {
                            var a = {};
                            if (
                                ((a.source = A.xn(e)),
                                (a.source.calendar = i),
                                (a.target = A.xn(t)),
                                (a.position = n),
                                (a.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof A.onRowMove && (A.onRowMove(a), a.preventDefault.value))
                            )
                                return;
                            switch (A.rowMoveHandling) {
                                case "Update":
                                    j.Mr(a);
                                    break;
                                case "CallBack":
                                    A.rowMoveCallBack(a.source, a.target, a.position);
                                    break;
                                case "PostBack":
                                    A.rowMovePostBack(a.source, a.target, a.position);
                                    break;
                                case "Notify":
                                    j.Mr(a), A.rowMoveNotify(a.source, a.target, a.position);
                            }
                            "function" == typeof A.onRowMoved && A.onRowMoved(a);
                        } else {
                            var e = A.xn(e),
                                t = A.xn(t),
                                n = n;
                            switch (A.rowMoveHandling) {
                                case "CallBack":
                                    A.rowMoveCallBack(e, t, n);
                                    break;
                                case "PostBack":
                                    A.rowMovePostBack(e, t, n);
                                    break;
                                case "JavaScript":
                                    A.onRowMove(e, t, n);
                            }
                        }
                    }),
                    (this.ul = function (e) {
                        var t = w(e);
                        (j.Di = []),
                            t.isEmpty() || ((A.Nk = !1), A.mb()),
                            t.forEach(function (e) {
                                var t = A.Gl(e);
                                t && j.Di.push(t);
                            }),
                            (U.ta = []),
                            j.Di.forEach(function (e) {
                                U.ta[e.grid + "_" + e.index] = !0;
                            }),
                            j.Nr();
                    }),
                    (this.Fn = {});
                var j = this.Fn;
                (j.En = function (e, t) {
                    j.Or(e, t);
                }),
                    (j.Pr = function () {
                        j.sr = { row: A.rowlist[0], index: 0 };
                    }),
                    (j.Qr = function (e) {
                        var t = C(A.rowlist, e);
                        if (t === -1) throw new DayPilot.Exception("DayPilot.Scheduler: Row not found when selecting a range");
                        j.sr = { row: e, index: t };
                    }),
                    (j.ur = function () {
                        j.sr || j.Pr();
                        var e = C(A.rowlist, j.sr.row);
                        if (!(e > -1)) {
                            var t = A.Gl(j.sr.row.id);
                            t ? ((e = C(A.rowlist, t)), (j.sr = { row: t, index: e })) : j.Pr();
                        }
                    }),
                    (j.Rr = function (e) {
                        var t = A.Dq(),
                            n = A.ca("_rowmove_source"),
                            i = e.top,
                            a = e.height;
                        e.split.list.length > 0 && ((i = e.split.list[0].top), (a = e.split.totalHeight()));
                        var r = h(A.divHeader, 0, i, t, a);
                        (r.className = n), (e.moveOverlay = r);
                    }),
                    (j.Sr = function (e) {
                        e && (k(e.moveOverlay), (e.moveOverlay = null));
                    }),
                    (j.Tr = function () {
                        var e = j.Ur;
                        if (e) {
                            j.Ur = null;
                            try {
                                e.input.parentNode.removeChild(e.input);
                            } catch (e) {
                                a();
                            }
                            e.input = null;
                        }
                    }),
                    (j.Or = function (e, t) {
                        (t = t || 0), e.isNewRow && (t = 0);
                        var n = j.Vr(e),
                            i = n.cells[t];
                        if (i.input) return i.input;
                        j.Tr(), DayPilot.Areas.disable(i.firstChild);
                        var a = i.clientWidth;
                        e.isNewRow && (a = A.Vl());
                        var r = 0;
                        0 === t && (r = e.level * A.treeIndent);
                        var o = document.createElement("input");
                        (o.style.position = "absolute"),
                            (o.style.top = "0px"),
                            (o.style.left = "0px"),
                            (o.style.width = a + "px"),
                            (o.style.height = e.height - 1 + "px"),
                            (o.style.border = "0px none"),
                            (o.style.overflow = "hidden"),
                            (o.style.boxSizing = "border-box"),
                            (o.style.resize = "none"),
                            (o.style.paddingLeft = r + "px"),
                            (o.style.outline = "none");
                        var s = i.textDiv;
                        (o.style.fontFamily = DayPilot.gs(s, "fontFamily") || DayPilot.gs(s, "font-family")), (o.style.fontSize = DayPilot.gs(s, "fontSize") || DayPilot.gs(s, "font-size"));
                        var l = e.name;
                        if (!e.isNewRow && A.rowHeaderColumns) {
                            var d = A.rowHeaderColumns[t] || {},
                                c = d.display;
                            (l = A.Rq(e.resource, c)), 0 !== t || c || (l = e.name);
                        }
                        (o.value = l || ""), i.firstChild.appendChild(o), (i.input = o);
                        var u = j.Tr;
                        return (
                            o.focus(),
                            (o.onblur = function () {
                                o.onblur = null;
                                var n = o.value;
                                u(), DayPilot.Areas.enable(i.firstChild), A.An(e, n, o.canceled, t);
                            }),
                            (o.onkeydown = function (e) {
                                var t = e.keyCode;
                                return 27 === t && ((o.canceled = !0), u()), 13 !== t || (o.onblur(), !1);
                            }),
                            o.setSelectionRange ? o.setSelectionRange(0, 9999) : o.select(),
                            (j.Ur = i),
                            o
                        );
                    }),
                    (j.Di = []),
                    (j.L = function (e, t, n, i) {
                        var a = C(j.Di, e) !== -1;
                        if (t || i) {
                            if (a) return DayPilot.rfa(j.Di, e), U.xr(), void j.uk(e);
                        } else (a = !1), j.wr();
                        a || j.Di.push(e), U.xr(), j.uk(e);
                    }),
                    (j.vr = function (e, t) {
                        j.wr();
                        for (var n = Math.min(e, t), i = Math.max(e, t), a = n; a <= i; a++) {
                            var r = A.rowlist[a];
                            j.Di.push(r);
                        }
                        U.xr();
                        for (var a = n; a <= i; a++) {
                            var r = A.rowlist[a];
                            j.uk(r);
                        }
                    }),
                    (j.Nr = function () {
                        for (var e = 0; e < j.Di.length; e++) {
                            var t = j.Di[e];
                            j.uk(t);
                        }
                    }),
                    (j.uk = function (e) {
                        var t = C(A.rowlist, e);
                        if (t === -1) {
                            var n = A.Gl(e.id);
                            if (!n) return;
                            t = n.index;
                        }
                        A.nn(t, e.grid), A.nl(), A.do(t, e.grid), A.Lq(t, e.grid);
                    }),
                    (j.Mn = function () {
                        var e = [];
                        if (!j.Di) return e;
                        for (var t = 0; t < j.Di.length; t++) {
                            var n = j.Di[t],
                                i = C(A.rowlist, n),
                                a = A.xn(n, i);
                            e.push(a.toJSON());
                        }
                        return e;
                    }),
                    (j.sr = null),
                    (j.wr = function () {
                        var e = j.Di;
                        if (((j.Di = []), (A.selectedRows = []), (U.ta = []), e.length <= 5))
                            e.forEach(function (e) {
                                j.uk(e);
                            });
                        else {
                            A.kl(), A.nl();
                            for (var t = 0; t < A.rowlist.length; t++) A.divHeader.rows[t] && A.hn(t);
                        }
                    }),
                    (j.Vr = function (e) {
                        for (var t = A.divHeader, n = 0; n < t.rows.length; n++) {
                            var i = t.rows[n];
                            if (i && i.cells[0] && i.cells[0].row && i.cells[0].row.resource === e.resource) return i;
                        }
                        return null;
                    }),
                    (j.$d = function (e) {
                        var t = b.rowmoving,
                            n = e.split.parent ? e.split.parent : e;
                        (t.row = n), (t.sourceCalendar = A), (t.cursor = A.divResScroll.style.cursor), (A.divResScroll.style.cursor = "move"), j.Rr(n);
                    }),
                    (j.Lr = function () {
                        (A.divResScroll.style.cursor = D.cursor), k(D.div), j.Sr(D.row), (b.rowmoving = D = {});
                    }),
                    (j.Wr = function (e) {
                        var t = DayPilot.mo3(A.divHeader, e),
                            n = A.Tn(t.y, "main", !0),
                            i = A.rowlist[n.i];
                        if (i && !i.isNewRow) {
                            i.split.parent && (i = i.split.parent);
                            var a = A.rowMoveSameLevelOnly,
                                r = t.y - n.top,
                                o = n.bottom - n.top,
                                s = o / 3,
                                d = 2 * s,
                                c = o / 2,
                                u = "before",
                                h = i.children && i.children.length > 0,
                                f = h && i.expanded,
                                v = (function () {
                                    for (var e = n.i, t = i.level; e >= 0; ) {
                                        var a = A.rowlist[e];
                                        if ((e--, !(t <= a.level))) {
                                            if (a === D.row) return !0;
                                            if (0 === a.level) return !1;
                                            t = a.level;
                                        }
                                    }
                                    return !1;
                                })(),
                                p = i,
                                m = A.treeEnabled;
                            if (v || (n.i === D.row.index && !a)) u = "forbidden";
                            else if (m)
                                if (a) {
                                    var g = D.row.level,
                                        y = i.level;
                                    if (y === g - 1) u = "child";
                                    else if (g !== y)
                                        if (g === y - 1) {
                                            var b = i.Xr,
                                                w = b.children.length - 1;
                                            i.index === b.children[w] ? ((p = b), (u = "after")) : (u = "forbidden");
                                        } else u = "forbidden";
                                    else u = r < c ? "before" : h && f ? "before" : "after";
                                } else u = h && f ? (r < c ? "before" : "child") : r < s ? "before" : r < d ? "child" : "after";
                            else u = h ? "before" : r < c ? "before" : "after";
                            D.row.moveDisabled && (u = "forbidden"), (D.calendar = A), (D.source = D.row), (D.target = p), (D.position = u);
                            if (
                                (function () {
                                    return !D.last || D.last.target !== D.target || D.last.position !== D.position;
                                })()
                            ) {
                                if ("function" == typeof A.onRowMoving) {
                                    var x = {};
                                    (x.source = A.xn(D.source)), (x.target = A.xn(D.target)), (x.position = u), A.onRowMoving(x), (D.position = x.position);
                                }
                            } else D.last && (D.position = D.last.position);
                            (D.last = {}),
                                (D.last.target = D.target),
                                (D.last.position = D.position),
                                (function () {
                                    D.div && k(D.div);
                                    var e = n.top,
                                        t = D.position,
                                        i = A.rowlist[n.i],
                                        a = i.level,
                                        r = a * A.treeIndent;
                                    switch (t) {
                                        case "before":
                                            e = n.top;
                                            break;
                                        case "child":
                                            e = n.top + c;
                                            break;
                                        case "after":
                                            e = n.bottom;
                                            break;
                                        case "forbidden":
                                            e = n.top + c;
                                    }
                                    var o = A.Dq() - r,
                                        s = l();
                                    (s.style.position = "absolute"),
                                        (s.style.left = r + "px"),
                                        (s.style.width = o + "px"),
                                        (s.style.top = e + "px"),
                                        (s.className = A.ca("_rowmove_position_" + t)),
                                        (D.div = s),
                                        A.divResScroll.appendChild(s);
                                })();
                        }
                    }),
                    (j.Mr = function (e) {
                        var t = e.source.$.row.resource,
                            n = e.target.$.row.resource,
                            i = e.position;
                        if (t !== n && "forbidden" !== i) {
                            var a = e.source.calendar.Yr.Dr(t);
                            if (!a) throw new DayPilot.Exception("Cannot find source node parent");
                            var r = C(a, t);
                            a.splice(r, 1);
                            var o = F.Dr(n);
                            if (!o) throw new DayPilot.Exception("Cannot find target node parent");
                            var s = C(o, n);
                            switch (i) {
                                case "before":
                                    o.splice(s, 0, t);
                                    break;
                                case "after":
                                    o.splice(s + 1, 0, t);
                                    break;
                                case "child":
                                    n.children || ((n.children = []), (n.expanded = !0)), n.children.push(t);
                            }
                            A.update();
                        }
                    });
                var W = {};
                (this.Zr = W), (W.Yh = function (e) {});
                var F = {};
                (this.Yr = F),
                    (F.Dr = function (e) {
                        return F.$r(A.resources, e);
                    }),
                    (F.$r = function (e, t) {
                        if (C(e, t) !== -1) return e;
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n];
                            if (i.children && i.children.length > 0) {
                                var a = F.$r(i.children, t);
                                if (a) return a;
                            }
                        }
                        return null;
                    }),
                    (this.al = function () {
                        var e = this.resources,
                            t = this.ja();
                        t || ("Gantt" === this.viewType ? (e = this._r()) : "Days" === this.viewType && (e = this.as())), !t || "Days" !== this.viewType || (e && 0 !== e.length) || (e = this.as());
                        var n = {};
                        if (((n.i = 0), null != e && !_(e))) throw new DayPilot.Exception("DayPilot.Scheduler.resources expects an array object");
                        (e = e || []), (A.bs = !1);
                        var i = e.filter(function (e) {
                            var t = "string" == typeof e.frozen ? e.frozen.toLowerCase() : null;
                            return "top" !== t && "bottom" !== t;
                        });
                        (A.rowlist = w()), this.cs(i, n, 0, null, this.treeEnabled, !1, "main");
                        var a = e.filter(function (e) {
                            return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase();
                        });
                        (A.Cl.top.rowlist = w()), (A.Cl.top.height = 0), this.cs(a, { i: 0 }, 0, null, !1, !1, "top");
                        var r = e.filter(function (e) {
                            return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase();
                        });
                        (A.Cl.bottom.rowlist = w()), (A.Cl.bottom.height = 0), this.cs(r, { i: 0 }, 0, null, !1, !1, "bottom"), "Disabled" !== A.rowCreateHandling && this.es();
                    }),
                    (this.es = function () {
                        var e = {};
                        (e.id = "NEW"),
                            (e.isNewRow = !0),
                            (e.html = ""),
                            (e.index = A.rowlist.length),
                            (e.loaded = !0),
                            (e.start = A.Ob()),
                            (e.children = []),
                            (e.height = A.eventHeight),
                            (e.marginBottom = 0),
                            (e.marginTop = 0),
                            (e.getHeight = function () {
                                return A.rowCreateHeight ? A.rowCreateHeight : A.eventHeight + A.rowMarginBottom + A.rowMarginTop;
                            }),
                            (e.Td = function () {}),
                            (e.ir = function () {}),
                            this.rowlist.push(e);
                    }),
                    (this.bl = function (e) {
                        function t(e, t) {
                            if (((e.cells = []), !e.hidden || n)) {
                                var i = e.split && e.split.parent;
                                (A.rowHeaderColumns || [{}]).forEach(function (n, a) {
                                    var r = {};
                                    (r.row = n.split ? e : i || e), (r.y = t), (r.x = a), (r.rowspan = 1);
                                    var o = !n.split && i,
                                        s = i && e.split.Sq(),
                                        l =
                                            (n.split && !i,
                                            i &&
                                                i.split.list.filter(function (e) {
                                                    return !e.hidden;
                                                }).length),
                                        d = 0;
                                    if (i) {
                                        var c = i.split.list.find(function (e) {
                                                return e.split.Sq();
                                            }),
                                            u = i.split.list.indexOf(c);
                                        u > 0 && (d = u);
                                    }
                                    o &&
                                        (s
                                            ? ((r.rowspan = l),
                                              (r.totalHeight = function () {
                                                  return i.split.totalHeight();
                                              }))
                                            : (r.refCell = i.split.list[d].cells[a])),
                                        e.cells.push(r);
                                });
                            }
                        }
                        e = e || {};
                        var n = e.includeHidden;
                        A.rowlist.forEach(function (e, n) {
                            t(e, n);
                        }),
                            A.Cl.top.rowlist.forEach(function (e, n) {
                                t(e, n);
                            }),
                            A.Cl.bottom.rowlist.forEach(function (e, n) {
                                t(e, n);
                            });
                    }),
                    (this._r = function () {
                        var e = [];
                        if (this.Uk && this.resources) for (var t = 0; t < this.resources.length; t++) e.push(this.resources[t]);
                        if (this.events.list) {
                            for (var t = 0; t < this.events.list.length; t++) {
                                var n = this.events.list[t],
                                    i = {};
                                (i.id = n.id), (i.name = n.text), (i.columns = n.columns), e.push(i);
                            }
                            return e;
                        }
                    }),
                    (this.as = function () {
                        var e = [],
                            t = A.Ob(),
                            n = this.Ga.Lc(),
                            i = A.resources || [],
                            a = i.filter(function (e) {
                                return "string" == typeof e.frozen && "top" === e.frozen.toLowerCase();
                            }),
                            r = i.filter(function (e) {
                                return "string" == typeof e.frozen && "bottom" === e.frozen.toLowerCase();
                            });
                        e = e.concat(a).concat(r);
                        for (var o = 0; o < this.days; o++) {
                            var s = t.addDays(o);
                            if (A.showNonBusiness || A.businessWeekends || (0 != s.dayOfWeek() && 6 != s.dayOfWeek())) {
                                var l = {};
                                (l.name = s.toString(n.datePattern, n)), (l.start = s), e.push(l);
                            }
                        }
                        return e;
                    }),
                    (this.Ob = function () {
                        return this.itline && this.itline.length > 0 ? this.itline[0].start : new DayPilot.Date(this.startDate);
                    }),
                    (this.Vd = function () {
                        if (this.itline && this.itline.length > 0) {
                            var e = A.itline[this.itline.length - 1].end;
                            return "Days" !== A.viewType ? e : e.addDays(A.days - 1);
                        }
                        return new DayPilot.Date(A.startDate).addDays(A.days);
                    }),
                    (this.visibleStart = function () {
                        return this.Ob();
                    }),
                    (this.visibleEnd = function () {
                        return this.Vd();
                    }),
                    (this.Fr = function (e, t) {
                        var n = {};
                        if (
                            ((n.backColor = e.backColor),
                            (n.fontColor = e.fontColor),
                            (n.cssClass = e.cssClass),
                            (n.expanded = e.expanded),
                            (n.name = e.name),
                            (n.html = A.Ea(e.name, e.html)),
                            (n.emptyHeight = "undefined" != typeof e.emptyHeight ? e.emptyHeight : A.rowEmptyHeight),
                            (n.eventHeight = "undefined" != typeof e.eventHeight ? e.eventHeight : A.Ga.go()),
                            (n.minHeight = "undefined" != typeof e.minHeight ? e.minHeight : A.rowMinHeight),
                            (n.marginBottom = "undefined" != typeof e.marginBottom ? e.marginBottom : A.rowMarginBottom),
                            (n.marginTop = "undefined" != typeof e.marginTop ? e.marginTop : A.rowMarginTop),
                            (n.eventStackingLineHeight = "undefined" != typeof e.eventStackingLineHeight ? e.eventStackingLineHeight : A.eventStackingLineHeight),
                            (n.loaded = !e.dynamicChildren),
                            (n.id = e.id || e.value),
                            (n.toolTip = e.toolTip),
                            (n.children = []),
                            (n.columns = []),
                            (n.start = e.start ? new DayPilot.Date(e.start) : this.Ob()),
                            (n.isParent = e.isParent),
                            (n.contextMenu = e.contextMenu ? DayPilot.Util.evalVariable(e.contextMenu) : this.contextMenuResource),
                            (n.areas = e.areas),
                            (n.moveDisabled = e.moveDisabled),
                            (n.bubbleHtml = e.bubbleHtml),
                            (n.cellsDisabled = e.cellsDisabled),
                            (n.tags = e.tags),
                            (n.task = e.task),
                            (n.swimlane = e.swimlane),
                            (n.hideEvents = e.hideEvents),
                            (n.height = n.eventHeight),
                            (n.level = 0),
                            (n.resource = e.fs),
                            (n.lines = []),
                            (n.blocks = []),
                            (n.containers = []),
                            (n.containerCache = {}),
                            (n.isRow = !0),
                            (n.split = {}),
                            (n.split.list = []),
                            (n.split.totalHeight = function () {
                                var e = 0;
                                return (
                                    this.list.forEach(function (t) {
                                        t.hidden || (e += t.height);
                                    }),
                                    e
                                );
                            }),
                            (n.getHeight = function () {
                                var e = 0,
                                    t = Math.max(0, (n.resource && n.resource.maxLines) || 1e5);
                                if (A.groupConcurrentEvents)
                                    for (var i = 0; i < this.blocks.length; i++) {
                                        var a = this.blocks[i];
                                        e = Math.max(e, a.getHeight());
                                    }
                                else if (this.lines.length > 0) {
                                    var r = Math.min(this.lines.length, t),
                                        o = r - 1,
                                        s = this.lines[o],
                                        l = s.height || this.eventHeight,
                                        d = s.top || 0;
                                    e = d + l;
                                }
                                if (0 === e) {
                                    if ("number" == typeof this.emptyHeight) return this.emptyHeight;
                                    e = this.eventHeight;
                                }
                                return e > this.minHeight ? e : this.minHeight;
                            }),
                            (n.xp = function () {
                                var e = n.start.getTime() - A.Ob().getTime();
                                return A.itline[A.itline.length - 1].end.addTime(e);
                            }),
                            (n.ir = function () {
                                var e = this;
                                (e.events = w()),
                                    (e.events.forRange = function (t, n) {
                                        (t = new DayPilot.Date(t)), (n = n ? new DayPilot.Date(n) : e.xp());
                                        for (var i = w(), a = 0; a < e.events.length; a++) {
                                            var r = e.events[a],
                                                o = A.aj(r.end());
                                            d(r.start(), o, t, n) && i.push(r);
                                        }
                                        return i;
                                    });
                            }),
                            (n.jp = function () {
                                function e() {
                                    for (var e = [], t = 0; t < n.events.length; t++) {
                                        var i = n.events[t];
                                        x(e, i.start().toString()) || e.push(i.start().toString()), x(e, i.rawend().toString()) || e.push(i.rawend().toString());
                                    }
                                    return e.sort(), e;
                                }
                                function t() {
                                    for (var t = e(), i = [], a = { start: n.data.start }, r = 0; r < t.length; r++) (a.end = new DayPilot.Date(t[r])), i.push(a), (a = { start: new DayPilot.Date(t[r]) });
                                    return (
                                        (a.end = n.data.end),
                                        i.push(a),
                                        (i.forRange = function (e, t) {
                                            for (var n = w(), i = 0; i < this.length; i++) {
                                                var a = this[i];
                                                d(e, t, a.start, a.end) && n.push(a);
                                            }
                                            return (
                                                (n.maxSum = function (e) {
                                                    for (var t = 0, n = 0; n < this.length; n++) {
                                                        var i = this[n],
                                                            a = i.sum(e);
                                                        a > t && (t = a);
                                                    }
                                                    return t;
                                                }),
                                                n
                                            );
                                        }),
                                        i
                                    );
                                }
                                for (var n = this, i = (n.sections = t()), a = 0; a < i.length; a++) {
                                    var r = i[a];
                                    r.events = w();
                                    for (var o = 0; o < n.events.length; o++) {
                                        var s = n.events[o];
                                        d(r.start, r.end, s.start(), s.rawend()) && r.events.push(s);
                                    }
                                    r.sum = function (e) {
                                        for (var t = 0, n = 0; n < this.events.length; n++) {
                                            var i = this.events[n],
                                                a = 0;
                                            "undefined" == typeof e ? (a = 1) : i.tag(e) ? (a = i.tag(e)) : i.data[e] && (a = i.data[e]), "number" == typeof a && (t += a);
                                        }
                                        return t;
                                    };
                                }
                            }),
                            (n.hs = function () {
                                var e = [];
                                return (
                                    (e.height = 0),
                                    (e.add = function (t) {
                                        this.push(t);
                                        var n = t.part.qr();
                                        n > e.height && (e.height = n);
                                    }),
                                    (e.Ud = function (e, t, n) {
                                        for (var i = e + t - 1, a = this.length, r = 0; r < a; r++) {
                                            var o = this[r];
                                            if (!o.data.nonBlocking) {
                                                if (!(i < o.part.left || e > o.part.left + o.part.width - 1)) {
                                                    if (x(n, o.data)) continue;
                                                    return !1;
                                                }
                                                if (o.part.container && !(i < o.part.container.left || e > o.part.container.left + o.part.container.width - 1)) return !1;
                                                var s = o.cache || o.data;
                                                if (A.eventVersionsReserveSpace && !s.versionsReserveSpaceDisabled && !(i < o.part.versionsLeft || e > o.part.versionsRight - 1)) return !1;
                                            }
                                        }
                                        return !0;
                                    }),
                                    e
                                );
                            }),
                            (n.ks = function (e, t, i) {
                                if ("number" == typeof i) {
                                    for (var a = 0; a <= i; a++) this.lines[a] || (this.lines[a] = n.hs());
                                    return i;
                                }
                                if ("dedicated" === i) {
                                    var r = n.hs();
                                    return (
                                        (r.Ud = function () {
                                            return !1;
                                        }),
                                        this.lines.push(r),
                                        this.lines.length - 1
                                    );
                                }
                                for (var a = 0; a < this.lines.length; a++) {
                                    var r = this.lines[a];
                                    if (r.Ud(e, t)) return a;
                                }
                                var r = n.hs();
                                return this.lines.push(r), this.lines.length - 1;
                            }),
                            (n.Td = function (e) {
                                var t = e.data,
                                    i = e.part,
                                    a = e.part.container;
                                if (a) {
                                    if (null === a.line && ("number" == typeof t.line || "dedicated" === t.line)) return (s = n.ks(a.left, a.width, t.line)), (i.line = s), this.lines[s].add(e), (a.line = s), s;
                                } else if ("number" == typeof t.line || "dedicated" === t.line) return (s = n.ks(i.left, i.width, t.line)), (i.line = s), this.lines[s].add(e), s;
                                var r = e.cache || e.data,
                                    o = A.eventVersionsReserveSpace && !r.versionsReserveSpaceDisabled,
                                    s = -1;
                                if (a) {
                                    if (null !== a.line) return this.lines[a.line].add(e), a.line;
                                    (s = n.ks(a.left, a.width)), (a.line = s);
                                } else s = o ? n.ks(i.versionsLeft, i.versionsWidth) : n.ks(i.left, i.width);
                                return (i.line = s), this.lines[s].add(e), s;
                            }),
                            (n.Rd = function (e) {
                                for (var t = e.cache || e.data, n = A.eventVersionsReserveSpace && !t.versionsReserveSpaceDisabled, i = 0; i < this.blocks.length; i++) {
                                    var a = this.blocks[i];
                                    if (C(a.events, e) !== -1) return;
                                    var r = n ? e.part.versionsLeft : e.part.left,
                                        o = n ? e.part.versionsWidth : e.part.width;
                                    if (a.Sd(r, o)) return a.events.push(e), (e.part.block = a), (a.min = Math.min(a.min, r)), (a.max = Math.max(a.max, r + o)), i;
                                }
                                var a = {};
                                (a.no = !0),
                                    (a.expanded = !1),
                                    (a.row = this),
                                    (a.events = w()),
                                    (a.lines = w()),
                                    (a.Td = function (e) {
                                        for (var t = 0; t < this.lines.length; t++) {
                                            var i = this.lines[t],
                                                a = n ? e.part.versionsLeft : e.part.left,
                                                r = n ? e.part.versionsWidth : e.part.width;
                                            if (i.Ud(a, r)) return i.add(e), t;
                                        }
                                        var i = [];
                                        (i.height = 0),
                                            (i.add = function (e) {
                                                this.push(e), e.part.height > i.height && (i.height = e.part.height), e.data.versions && (i.height = e.part.height + e.data.versions.length * (A.eventVersionHeight + A.eventVersionMargin));
                                            }),
                                            (i.Ud = function (e, t) {
                                                for (var i = e + t - 1, a = this.length, r = 0; r < a; r++) {
                                                    var o = this[r],
                                                        s = n ? o.part.versionsLeft : o.part.left,
                                                        l = n ? o.part.versionsWidth : o.part.width;
                                                    if (!(i < s || e > s + l - 1)) return !1;
                                                }
                                                return !0;
                                            }),
                                            i.add(e),
                                            this.lines.push(i);
                                    }),
                                    (a.Sd = function (e, t) {
                                        return !(e + t - 1 < this.min || e > this.max - 1);
                                    }),
                                    (a.getHeight = function () {
                                        if (!this.expanded) return A.eventHeight;
                                        if (this.lines.length > 0) {
                                            var e = this.lines.length - 1,
                                                t = this.lines[e],
                                                n = t.height || A.eventHeight;
                                            return (t.top || 0) + n;
                                        }
                                        return A.eventHeight;
                                    }),
                                    (a.clear = function () {
                                        (a.events = w()), (a.min = null), (a.max = null);
                                    }),
                                    a.events.push(e),
                                    (e.part.block = a),
                                    (a.min = n ? e.part.versionsLeft : e.part.left),
                                    (a.max = a.min + (n ? e.part.versionsWidth : e.part.width)),
                                    this.blocks.push(a);
                            }),
                            (n.ls = !1),
                            (n.Xr = t),
                            (n.Nd = function () {
                                (this.hidden = !this.ms()), (this.ls = !1), this.Xr && this.Xr.Nd();
                            }),
                            (n.ms = function () {
                                return !this.Xr || (this.Xr.ms() && this.Xr.expanded);
                            }),
                            e.columns)
                        )
                            for (var i = 0; i < e.columns.length; i++) n.columns.push(e.columns[i]);
                        return n;
                    }),
                    (this.Ym = function () {
                        A.lm().forEach(function (e) {
                            if (!e.isNewRow && "function" == typeof A.onRowFilter && A.rows.Ng) {
                                var t = e.Xr,
                                    n = {};
                                (n.visible = !0),
                                    (n.row = A.xn(e)),
                                    (n.filter = A.rows.Ng),
                                    (n.filterParam = A.rows.Ng),
                                    (n.control = A),
                                    A.onRowFilter(n),
                                    (e.ls = !n.visible),
                                    n.visible ? A.rowFilterParentsAlwaysVisible && t && t.Nd() : (e.hidden = !0);
                            }
                        });
                    }),
                    (this.ns = function (e) {
                        return !e.some(function (e) {
                            return e.children && e.children.length;
                        });
                    }),
                    (this.os = function (e) {
                        return !e.some(function (e) {
                            return !e.children || 0 === e.children.length;
                        });
                    }),
                    (this.co = function (e) {
                        return (e = e || "main"), A.Cl[e];
                    }),
                    (this.cs = function (e, t, n, i, a, r, o) {
                        function s(e, a) {
                            for (var s = 0; s < e.split.length; s++)
                                !(function () {
                                    var l = e.split[s],
                                        d = A.Er(l, v),
                                        c = A.Fr(d, i);
                                    (c.level = n),
                                        (c.index = t.i),
                                        (c.grid = o || "main"),
                                        r && (c.hidden = !0),
                                        (c.split = {}),
                                        (c.split.parent = a),
                                        (c.split.y = s),
                                        (c.split.Sq = function () {
                                            return (
                                                c ===
                                                c.split.parent.split.list.find(function (e) {
                                                    return !e.hidden;
                                                })
                                            );
                                        }),
                                        (c.Xr = a),
                                        a.split.list.push(c),
                                        null !== i && i.children.push(t.i),
                                        h.push(c),
                                        t.i++,
                                        (A.bs = !0);
                                })();
                        }
                        if (e) {
                            var l = !1;
                            if (A.rows.yr)
                                switch (A.rowSortingMode) {
                                    case "LeavesOnly":
                                        l = A.ns(e);
                                        break;
                                    case "ParentsOnly":
                                        l = A.os(e);
                                }
                            if (l) {
                                var d = A.rows.Ar(),
                                    c = "desc" === A.rows.zr(),
                                    u = w(e, !0);
                                u.sort(function (e, t) {
                                    var n = A.Rq(e, d),
                                        i = A.Rq(t, d),
                                        a = 0;
                                    return (a = n === i ? 0 : "number" == typeof n && "number" == typeof i ? n - i : A.Rg(n, i, "asc")), c ? -a : a;
                                }),
                                    (e = u);
                            }
                            for (var h = A.co(o).rowlist, f = 0; f < e.length; f++)
                                if (e[f]) {
                                    var v = {};
                                    if (((v.level = n), (v.hidden = r), (v.index = t.i), !e[f].hidden)) {
                                        var p = this.Er(e[f], v),
                                            m = A.Fr(p, i);
                                        r && (m.hidden = !0), (m.level = n), (m.index = t.i), (m.grid = o || "main");
                                        var g = !p.children || 0 === p.children.length,
                                            y = g && p.split;
                                        if ((y ? s(p, m) : (null !== i && i.children.push(t.i), h.push(m), t.i++), a && p.children && p.children.length)) {
                                            var b = r || !m.expanded;
                                            this.cs(p.children, t, n + 1, m, !0, b, o);
                                        }
                                    }
                                }
                        }
                    }),
                    (this.ps = ["text", "html", "backColor", "cssClass", "areas", "horizontalAlignment", "hidden"]),
                    (this.Yp = function (e) {
                        if (e.isNewRow) return { row: { cssClass: A.ca("_row_new"), moveDisabled: !0, html: A.Ea(A.rowCreateText, A.rowCreateHtml) } };
                        var t = {};
                        (t.row = this.xn(e)),
                            p(e, t.row, ["html", "backColor", "fontColor", "cssClass", "toolTip", "contextMenu", "moveDisabled"]),
                            (t.row.areas = DayPilot.Util.createArrayCopy(e.areas)),
                            (t.row.columns = DayPilot.Util.createArrayCopy(e.columns, A.ps)),
                            e.split &&
                                _(A.rowHeaderColumns) &&
                                A.rowHeaderColumns.forEach(function (n, i) {
                                    !e.split.parent && 0 === e.split.list.length && n.split ? (t.row.columns[i].text = "") : !e.split.parent && n.split ? (t.row.columns[i] = null) : e.split.parent && !n.split && (t.row.columns[i] = null);
                                });
                        var n = A.rowHeaderColumns;
                        if ("undefined" == typeof t.row.columns && n.length > 0) {
                            r.columns = [];
                            for (var i = 0; i < n.length; i++) r.columns.push({});
                        }
                        return (
                            t.row.children().length > 0 &&
                                A.rowHeaderColumnsMergeParents &&
                                A.rowHeaderColumns &&
                                A.rowHeaderColumns.forEach(function (e, n) {
                                    n > 0 && delete t.row.columns[n];
                                }),
                            "function" == typeof this.onBeforeRowHeaderRender && this.onBeforeRowHeaderRender(t),
                            t
                        );
                    }),
                    (this.Er = function (e, t) {
                        var n = this.qs(e, t);
                        if ("function" == typeof this.onBeforeResHeaderRender) {
                            var i = {};
                            (i.resource = n), this.onBeforeResHeaderRender(i);
                        }
                        return n;
                    }),
                    (this.qs = function (e, t) {
                        var n = {
                            get $data() {
                                return this.fs;
                            },
                        };
                        for (var i in t) n[i] = t[i];
                        for (var i in e) n[i] = e[i];
                        if (((n.html = A.Ea(e.name, e.html)), A.rowHeaderColumns && A.rowHeaderColumns.length > 0 && "undefined" == typeof n.columns)) {
                            n.columns = [];
                            var a = A.rowHeaderColumns;
                            if (A.en()) {
                                for (var r = 0; r < a.length; r++) {
                                    var o = a[r],
                                        s = A.Rq(e, o.display);
                                    n.columns.push({ text: s });
                                }
                                n.columns[0] && a[0] && !a[0].display && (n.columns[0].text = n.name);
                            } else for (var r = 0; r < a.length; r++) n.columns.push({});
                        }
                        return (n.fs = e), n;
                    }),
                    (this.Um = function () {
                        (this.nav.top.dp = this),
                            (this.nav.top.innerHTML = ""),
                            u(this.nav.top, this.ca("_main")),
                            this.nav.top.setAttribute("role", "region"),
                            this.nav.top.setAttribute("aria-label", "scheduler"),
                            (this.nav.top.style.MozUserSelect = "none"),
                            (this.nav.top.style.KhtmlUserSelect = "none"),
                            (this.nav.top.style.webkitUserSelect = "none"),
                            (this.nav.top.style.WebkitTapHighlightColor = "rgba(0,0,0,0)"),
                            (this.nav.top.style.WebkitTouchCallout = "none"),
                            this.width && (this.nav.top.style.width = this.width),
                            "Parent100Pct" === this.heightSpec && (this.nav.top.style.height = "100%"),
                            (this.nav.top.style.lineHeight = "1.2"),
                            (this.nav.top.style.position = "relative"),
                            this.visible || (this.nav.top.style.display = "none"),
                            (this.nav.top.onmousemove = this.gk),
                            (this.nav.top.onmouseout = function () {
                                A.Lp();
                            }),
                            DayPilot.reNonPassive(this.nav.top, "touchstart", J.$e),
                            DayPilot.reNonPassive(this.nav.top, "touchmove", J._e),
                            DayPilot.reNonPassive(this.nav.top, "touchend", J.af),
                            this.hideUntilInit && this.backendUrl && (this.nav.top.style.visibility = "hidden");
                        var e = this.Vl(),
                            t = "Top" === A.timeHeaderPosition;
                        if (((A.Tm = A.timeHeaderPosition), "DivBased" === this.Ga.rs())) {
                            var n = l();
                            (n.style.position = "absolute"), (n.style.left = "0px"), (n.style.width = e + "px");
                            var i = l();
                            (i.style.height = "0px"),
                                (i.style.boxSizing = "content-box"),
                                (i.style.borderTop = "1px solid transparent"),
                                (i.className = this.ca("_divider_horizontal")),
                                (this.nav.dh1 = i),
                                (this.nav.left = n),
                                "Top" === A.timeHeaderPosition
                                    ? (n.appendChild(this.tf()), n.appendChild(i), n.appendChild(this.ts()), A.Cl.top.enabled(), n.appendChild(this.vs()), n.appendChild(this.ws()))
                                    : "Bottom" === A.timeHeaderPosition
                                    ? (n.appendChild(this.ts()), n.appendChild(i), n.appendChild(this.tf()))
                                    : n.appendChild(this.ts());
                            var a = l();
                            (a.style.position = "absolute"),
                                (a.style.left = e + "px"),
                                (a.style.width = K.Wl() + "px"),
                                (a.style.height = this.Xl() + this.Re() + "px"),
                                (a.className = this.ca("_divider") + " " + this.ca("_splitter")),
                                a.setAttribute("unselectable", "on"),
                                (this.nav.divider = a),
                                this.rowHeaderScrolling && this.xs();
                            var r = l();
                            (r.style.marginLeft = e + K.Wl() + "px"), (r.style.marginRight = "1px"), (r.style.position = "relative"), (this.nav.right = r);
                            var o = l();
                            t && ((o.style.position = "absolute"), (o.style.top = this.Xl() + "px")),
                                (o.style.width = "100%"),
                                (o.style.height = "0px"),
                                (o.style.boxSizing = "content-box"),
                                (o.style.borderBottom = "1px solid transparent"),
                                o.setAttribute("data-dh2", "true"),
                                (o.className = this.ca("_divider_horizontal")),
                                (this.nav.dh2 = o),
                                "Top" === A.timeHeaderPosition
                                    ? (r.appendChild(A.ys()), r.appendChild(A.zs()), r.appendChild(o), A.Cl.top.enabled(), r.appendChild(A.As()), r.appendChild(A.Bs()))
                                    : "Bottom" === A.timeHeaderPosition
                                    ? (r.appendChild(A.zs()), r.appendChild(o), r.appendChild(A.ys()))
                                    : r.appendChild(A.zs());
                            var s = l();
                            s.style.clear = "left";
                            var d = l();
                            (d.style.height = "1px"),
                                (d.style.position = "absolute"),
                                (d.style.left = "0px"),
                                (d.style.right = "0px"),
                                (d.style.display = "none"),
                                (d.className = this.ca("_divider_horizontal") + " " + this.ca("_divider_horizontal_frozen_top")),
                                (d.onmousemove = function (e) {
                                    e.cancelBubble = !0;
                                }),
                                (this.nav.dividerTop = d);
                            var c = l();
                            (c.style.height = "1px"),
                                (c.style.position = "absolute"),
                                (c.style.left = "0px"),
                                (c.style.right = "0px"),
                                (c.style.display = "none"),
                                (c.className = this.ca("_divider_horizontal") + " " + this.ca("_divider_horizontal_frozen_bottom")),
                                (c.onmousemove = function (e) {
                                    e.cancelBubble = !0;
                                }),
                                (this.nav.dividerBottom = c),
                                this.nav.top.appendChild(n),
                                this.nav.top.appendChild(a),
                                this.nav.top.appendChild(r),
                                this.nav.top.appendChild(s),
                                this.nav.top.appendChild(d),
                                this.nav.top.appendChild(c);
                        } else {
                            var h = document.createElement("table");
                            (h.cellPadding = 0), (h.cellSpacing = 0), (h.border = 0), (h.style.position = "absolute");
                            var f = h.insertRow(-1);
                            f.insertCell(-1).appendChild(this.tf()), f.insertCell(-1).appendChild(this.ys());
                            var v = h.insertRow(-1);
                            v.insertCell(-1).appendChild(this.ts()), v.insertCell(-1).appendChild(this.zs()), this.nav.top.appendChild(h);
                        }
                        if (((this.Wi = l()), (this.Wi.style.display = "none"), this.nav.top.appendChild(this.Wi), this.Oa())) {
                            var p = document.createElement("input");
                            (p.type = "hidden"), (p.id = this.id + "_state"), (p.name = this.id + "_state"), (this.nav.state = p), this.nav.top.appendChild(p);
                        }
                        var m = l();
                        (m.style.position = "absolute"),
                            (m.style.left = this.Vl() + K.Wl() + 5 + "px"),
                            (m.style.top = this.Xl() + 5 + "px"),
                            (m.style.display = "none"),
                            (m.innerHTML = A.Ea(this.loadingLabelText, this.loadingLabelHtml)),
                            u(m, this.ca("_loading")),
                            (this.nav.loading = m),
                            this.nav.top.appendChild(m),
                            this.Cs(),
                            A.Ds();
                    }),
                    (this.gk = function (e) {
                        if (D.row) j.Wr(e);
                        else if (i.Oq) {
                            var t = DayPilot.mo3(A.nav.top, e).x,
                                n = A.Dq(),
                                a = A.rowHeaderWidthMin,
                                r = t - 1;
                            A.rowHeaderCols && (r = Math.min(n, t - 1)), (r = Math.max(a, r)), (A.rowHeaderWidth = r), (A.Br = !1), A.rowHeaderCols || A.Es(), A.Cr(), A.vl(), A.bb();
                        }
                    }),
                    (this.ob = function () {
                        var e = this.Xl(),
                            t = "Top" === A.timeHeaderPosition;
                        this.nav.corner && (this.nav.corner.style.height = e + "px"),
                            this.divTimeScroll && (this.divTimeScroll.style.height = e + "px"),
                            this.divNorth && (this.divNorth.style.height = e + "px"),
                            this.nav.dh1 && this.nav.dh2 && t && ((this.nav.dh1.style.top = e + "px"), (this.nav.dh2.style.top = e + "px")),
                            (this.nav.loading.style.top = e + 5 + "px"),
                            t && (this.nav.scroll.style.top = e + 1 + "px");
                    }),
                    (this.Vl = function () {
                        if (this.Br) return 0;
                        var e = 0,
                            t = this.rowHeaderScrolling,
                            n = this.Dq();
                        return (e = t && this.rowHeaderWidth < n ? this.rowHeaderWidth : n);
                    }),
                    (this.xs = function () {
                        var e = this.nav.divider;
                        A.rowHeaderScrolling
                            ? ((e.style.cursor = "col-resize"),
                              e.setAttribute("unselectable", "on"),
                              (e.onmousedown = function (e) {
                                  var t = (i.Oq = {});
                                  return (
                                      (t.cursor = A.nav.top.style.cursor),
                                      (t.cleanup = function () {
                                          if ((A.Iq(), (A.nav.top.style.cursor = t.cursor), "function" == typeof A.onRowHeaderResized)) {
                                              var e = {};
                                              A.onRowHeaderResized(e);
                                          }
                                      }),
                                      (A.nav.top.style.cursor = "col-resize"),
                                      !1
                                  );
                              }))
                            : ((e.style.cursor = null), (e.onmousedown = null));
                    }),
                    (this.Cr = function () {
                        var e = K.Wl(),
                            t = this.Vl();
                        if (
                            (this.nav.corner && (this.nav.corner.style.width = t + "px"),
                            this.nav.corner && (this.divCorner.style.width = t + "px"),
                            (this.divResScroll.style.width = t + "px"),
                            "DivBased" === K.rs() && ((this.nav.left.style.width = t + "px"), (this.nav.divider.style.left = t - e + "px"), (this.nav.right.style.marginLeft = t + "px")),
                            this.nav.message && (this.nav.message.style.left = A.Ul() + "px"),
                            this.nav.loading && (this.nav.loading.style.left = t + e + 5 + "px"),
                            this.nav.hideIcon)
                        ) {
                            var n = this.nav.hideIcon,
                                i = A.ca("_header_icon_show"),
                                a = A.ca("_header_icon_hide");
                            (n.style.left = t - 1 + "px"), A.Br ? (c(n, a), u(n, i)) : (c(n, i), u(n, a));
                        }
                    }),
                    (this.Es = function () {
                        this.Cq();
                        var e = this.Dq(),
                            t = function (e, t, n) {
                                if (e && e.style) {
                                    var i = e.firstChild;
                                    A.Kq ? ((e.style.width = t + "px"), (i.style.width = t + "px"), "number" == typeof n && (e.style.left = n + "px")) : (i.style.width = t + "px");
                                }
                            },
                            n = function (n) {
                                var i = n.cells[0];
                                if (i && (i.colSpan > 1 || "max" === i.colSpan)) {
                                    var i = n.cells[0];
                                    t(i, e);
                                } else if (A.rowHeaderCols)
                                    for (var a = 0, r = 0; r < n.cells.length; r++) {
                                        var o = A.rowHeaderCols[r],
                                            i = n.cells[r];
                                        t(i, o, a), (a += o);
                                    }
                                else {
                                    var o = A.rowHeaderWidth,
                                        i = n.cells[0];
                                    t(i, o);
                                }
                            },
                            i = this.divHeader;
                        i.style.width = e + "px";
                        for (var a = A.Eq(), r = a.start; r < a.end; r++) {
                            var o = i.rows[r];
                            o && n(o);
                        }
                        if (A.Cl.top.enabled())
                            for (var r = 0; r < A.Cl.top.rowlist.length; r++) {
                                var o = A.Cl.top.divHeader.rows[r];
                                o && n(o);
                            }
                        if (A.Cl.bottom.enabled())
                            for (var r = 0; r < A.Cl.bottom.rowlist.length; r++) {
                                var o = A.Cl.bottom.divHeader.rows[r];
                                o && n(o);
                            }
                        if ((A.nav.resScrollSpace && (A.nav.resScrollSpace.style.width = e + "px"), A.Cl.bottom.enabled())) {
                            A.Cl.bottom.divSpace.style.width = e + "px";
                        }
                        this.bb();
                    }),
                    (this.Qm = function () {
                        this.Cr(), this.Es();
                    }),
                    (this.Pm = function () {
                        var e = A.nav.corner,
                            t = K.Xp(),
                            n = l();
                        (n.style.position = "absolute"), (n.style.bottom = "0px"), (n.style.left = "0px"), (n.style.width = "100%"), (n.style.height = K.ye() + "px"), (n.style.overflow = "hidden"), (A.nav.columnScroll = n);
                        var i = l();
                        (i.style.position = "absolute"),
                            (i.style.bottom = "0px"),
                            (i.style.left = "0px"),
                            (i.style.width = "5000px"),
                            (i.style.height = K.ye() + "px"),
                            (i.style.overflow = "hidden"),
                            (i.className = this.ca("_columnheader")),
                            n.appendChild(i);
                        var a = l();
                        (a.style.position = "absolute"),
                            (a.style.top = "0px"),
                            (a.style.bottom = "0px"),
                            (a.style.left = "0px"),
                            (a.style.right = "0px"),
                            (a.className = this.ca("_columnheader_inner")),
                            i.appendChild(a),
                            A._n && (A._n.dispose(), (A._n = null));
                        var r = [];
                        t.forEach(function (e) {
                            var t = {};
                            (t.column = {}),
                                (t.column.html = A.Ea(e.text || e.name || e.title, e.html)),
                                (t.column.areas = null),
                                (t.column.toolTip = e.toolTip),
                                (t.column.sortingEnabled = !!e.sort),
                                (t.column.data = e),
                                (t.column.cssClass = null),
                                (t.column.bubbleHtml = e.bubbleHtml),
                                r.push(t),
                                "function" == typeof A.onBeforeRowHeaderColumnRender && A.onBeforeRowHeaderColumnRender(t);
                        });
                        var o = new DayPilot.Splitter(a);
                        (o.calendar = A),
                            (o.bubble = A.rowHeaderColumnBubble),
                            (o.enabled = A.rowHeaderColumnsResizable),
                            (o.widths = DayPilot.Util.propArray(t, "width", A.rowHeaderColumnDefaultWidth)),
                            (o.height = K.ye()),
                            (o.css.title = this.ca("_columnheader_cell")),
                            (o.css.titleInner = this.ca("_columnheader_cell_inner")),
                            (o.css.splitter = this.ca("_columnheader_splitter")),
                            A.rowHeaderScrolling && (o.splitterWidthLast = 6);
                        var s = A.rows.Ar(),
                            d = A.rows.zr();
                        (o.titles = w(r).map(function (e) {
                            var t = e.column.data,
                                n = e.column.html,
                                i = e.column.cssClass,
                                a = e.column.toolTip,
                                r = {};
                            if (((r.areas = []), t.sort && e.column.sortingEnabled)) {
                                var o = A.ca("_sorticon");
                                s === t.sort ? ((o += " " + A.ca("_sorticon_active")), (o += "asc" === d ? " " + A.ca("_sorticon_asc") : " " + A.ca("_sorticon_desc"))) : (o += " " + A.ca("_sorticon_asc")),
                                    (r.areas = [
                                        {
                                            right: 5,
                                            top: 0,
                                            bottom: 0,
                                            width: 10,
                                            cssClass: o,
                                            onClick: function (e) {
                                                var n = {};
                                                (n.field = t.sort), s === t.sort ? (n.order = "asc" === A.rows.zr() ? "desc" : "asc") : (n.order = "asc"), A.rows.sort(n);
                                            },
                                        },
                                    ]);
                            }
                            return _(e.column.areas) && (r.areas = r.areas.concat(e.column.areas)), (r.cssClass = i), (r.html = n), (r.toolTip = a), (r.bubbleHtml = e.column.bubbleHtml), (r.data = e.column.data), r;
                        })),
                            (o.data = w(t, !0)),
                            (o.started = function () {
                                var e = o.totalWidth() === A.rowHeaderWidth;
                                o.Fs = e;
                            }),
                            (o.updating = function (e) {
                                (A.zl.skip = !0), DayPilot.Util.updatePropsFromArray(K.Xp(), "width", this.widths), o.Fs && A.rowHeaderScrolling && (A.rowHeaderWidth = o.totalWidth()), A.Qm(), "Auto" === A.cellWidthSpec;
                            }),
                            (o.updated = function (e) {
                                if ((A.Iq(), A.Eb())) {
                                    if ("function" == typeof A.onRowHeaderColumnResized) {
                                        var t = {};
                                        (t.column = K.Xp()[e.index]), A.onRowHeaderColumnResized(t);
                                    }
                                } else
                                    switch (A.rowHeaderColumnResizedHandling) {
                                        case "CallBack":
                                            break;
                                        case "PostBack":
                                            break;
                                        case "JavaScript":
                                            if ("function" == typeof A.onRowHeaderColumnResized) {
                                                var t = {};
                                                (t.column = K.Xp()[e.index]), A.onRowHeaderColumnResized(t);
                                            }
                                    }
                            }),
                            (o.color = "#000000"),
                            (o.opacity = 30),
                            o.init(),
                            e.appendChild(n),
                            (this._n = o);
                    }),
                    (this.gl = function () {
                        var e = this.nav.corner;
                        if (e) {
                            A.Wa(), (e.innerHTML = ""), (e.className = this.ca("_corner"));
                            var t = l();
                            if (
                                ((t.style.position = "absolute"),
                                (t.style.top = "0px"),
                                (t.style.left = "0px"),
                                (t.style.right = "0px"),
                                (t.style.bottom = "0px"),
                                (t.className = this.ca("_corner_inner")),
                                (this.divCorner = t),
                                (t.innerHTML = "&nbsp;"),
                                this.rowHeaderColumns && this.rowHeaderColumns.length > 0)
                            ) {
                                var n = l();
                                (n.style.position = "absolute"), (n.style.top = "0px"), (n.style.left = "0px"), (n.style.right = "0px"), (n.style.bottom = K.ye() + 1 + "px"), e.appendChild(n);
                                var i = l();
                                (i.style.position = "absolute"),
                                    (i.style.left = "0px"),
                                    (i.style.right = "0px"),
                                    (i.style.height = "1px"),
                                    (i.style.bottom = K.ye() + "px"),
                                    (i.className = this.ca("_divider")),
                                    e.appendChild(i),
                                    n.appendChild(t),
                                    this.Pm();
                            } else e.appendChild(t);
                            !(function () {
                                var e = {};
                                (e.control = A), (e.html = A.Ea(A.cornerText, A.cornerHtml)), (e.areas = null);
                                var t = null;
                                if (("function" == typeof A.onBeforeCornerRender && A.onBeforeCornerRender(e), "function" == typeof A.onBeforeCornerDomAdd && ((e.element = null), A.onBeforeCornerDomAdd(e), (t = e.element)), t)) {
                                    var n = A.divCorner;
                                    n.domArgs = e;
                                    if (m(t)) {
                                        if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                        A.W.V(t, n);
                                    } else n.appendChild(t);
                                } else A.divCorner && (A.divCorner.innerHTML = e.html || "");
                                e.areas && DayPilot.Areas.attach(A.nav.corner, {}, { areas: e.areas });
                            })();
                            var a = l();
                            (a.style.position = "absolute"),
                                (a.style.padding = "2px"),
                                (a.style.top = "0px"),
                                (a.style.left = "1px"),
                                (a.style.backgroundColor = "#FF6600"),
                                (a.style.color = "white"),
                                (a.innerHTML = "\u0044\u0045" + "\u004D\u004F"),
                                v(undefined) && e.appendChild(a),
                                A.rowHeaderScrolling && A.nav.columnScroll && A._l && (A.nav.columnScroll.scrollLeft = A._l.scrollLeft);
                        }
                    }),
                    (this.Cs = function () {
                        var e = 3,
                            t = this.Vl() + K.Wl() - 1,
                            n = 10,
                            i = 20,
                            a = this.Xl() + e,
                            r = h(this.nav.top, t, a, n, i);
                        (r.style.cursor = "pointer"),
                            (r.className = A.ca("_header_icon")),
                            u(r, A.ca("_header_icon_hide")),
                            (r.onclick = function () {
                                A.rows.headerToggle();
                            }),
                            (r.ontouchstart = function (e) {
                                e.stopPropagation();
                            }),
                            (this.nav.hideIcon = r);
                    }),
                    (this.Zm = function () {
                        var e = 3,
                            t = A.nav.hideIcon,
                            n = A.Xl() + e;
                        t && (A.rowlist.length > 0 && A.rowHeaderHideIconEnabled ? (t.style.display = "") : (t.style.display = "none"), (t.style.top = n + "px"));
                    }),
                    (this.tf = function () {
                        var e = this.Vl(),
                            t = l();
                        return (
                            (A.nav.corner = t),
                            (t.style.width = e + "px"),
                            (t.style.height = this.Xl() + "px"),
                            (t.style.overflow = "hidden"),
                            (t.style.position = "relative"),
                            t.setAttribute("unselectable", "on"),
                            (t.onmousemove = function () {
                                A.ab();
                            }),
                            (t.oncontextmenu = function () {
                                return !1;
                            }),
                            this.gl(),
                            t
                        );
                    }),
                    (this.Xl = function () {
                        if ("None" === A.timeHeaderPosition) return 0;
                        if (A.timeHeaders) {
                            var e = Q._p(A.timeHeaders.length - 1);
                            return e.top + e.height;
                        }
                        return this.timeHeader ? A.timeHeader.length * K.ye() : 0;
                    }),
                    (this.Gs = null),
                    (this.Hs = function () {
                        return A.scrollStep || A.eventHeight;
                    }),
                    (this.ts = function () {
                        var e = l();
                        (e.style.width = this.Vl() + "px"), (e.style.height = this.Re() + "px"), (e.style.overflow = "hidden"), (e.style.position = "relative"), (e.className = A.ca("_rowheader_scroll"));
                        var t = A.Hs(),
                            n = A.Ga.Qq();
                        n && ((e.style.overflowY = "auto"), A.rowHeaderScrolling && (e.style.overflowX = "auto")),
                            (e.onmousemove = function () {
                                A.ab();
                            }),
                            DayPilot.rePassive(e, "touchstart", function () {
                                i.Is = !0;
                            }),
                            e.addEventListener(
                                "wheel",
                                function (n) {
                                    if (0 !== A.Js()) {
                                        var i;
                                        (i = A.overrideWheelScrolling || A.scrollStep ? (n.deltaY > 0 ? t : -t) : 1 === n.deltaMode ? n.deltaY * K.Ks() * 1.7 : n.deltaY), (A.nav.scroll.scrollTop = e.scrollTop + i), n.preventDefault();
                                    }
                                },
                                { passive: !1 }
                            ),
                            (e.oncontextmenu = function () {
                                return !1;
                            }),
                            (e.onscroll = function () {
                                if ((A.Gs && clearTimeout(A.Gs), n)) {
                                    var t = function () {
                                        var t = A.Op() - A.nav.scroll.offsetHeight;
                                        (e.scrollTop = Math.min(e.scrollTop, t)), (A.nav.scroll.scrollTop = e.scrollTop);
                                    };
                                    DayPilot.browser.ios ? i.Is && (A.Gs = setTimeout(t, 10)) : (A.Gs = setTimeout(t, 10));
                                } else
                                    A.Gs = setTimeout(function () {
                                        A.nav.scroll.scrollTop = e.scrollTop;
                                    }, 500);
                            }),
                            A.Ls(e),
                            e.setAttribute("role", "region"),
                            e.setAttribute("aria-label", "scheduler rows");
                        var a = l();
                        return (
                            (a.onmousemove = function () {
                                A.ab();
                            }),
                            (this.divHeader = a),
                            e.appendChild(a),
                            (this.divResScroll = e),
                            (this._l = e),
                            e
                        );
                    }),
                    (this.Ls = function (e) {
                        e.addEventListener("scroll", function () {
                            A.rowHeaderScrolling &&
                                (A.nav.columnScroll && (A.nav.columnScroll.scrollLeft = e.scrollLeft),
                                A.Cl.top.enabled() && (A.Cl.top.divHeader.scrollLeft = e.scrollLeft),
                                this !== A.divResScroll && (A.divResScroll.scrollLeft = e.scrollLeft));
                        }),
                            (e.onmouseenter = function () {
                                A.rowHeaderScrolling && (e.style.overflowX = "auto");
                            }),
                            (e.onmouseleave = function () {
                                A.rowHeaderScrolling && (e.style.overflowX = "hidden");
                            });
                    }),
                    (this.Ms = function (e) {
                        if ("TableBased" === K.rs()) {
                            var t = parseInt(this.width, 10),
                                n = isNaN(t) || this.width.indexOf("%") !== -1,
                                i = (/MSIE/i.test(navigator.userAgent), this.Dq());
                            n ? this.nav.top && this.nav.top.offsetWidth > 0 && (e.style.width = this.nav.top.offsetWidth - 6 - i + "px") : (e.style.width = t - i + "px");
                        }
                    }),
                    (this.bo = function (e) {
                        if ("function" == typeof A.onEventMoving && i.qp) {
                            var t = A.coords || {};
                            (t.shift = e.shiftKey), (t.meta = e.metaKey), (t.ctrl = e.ctrlKey), (t.alt = e.altKey), A.vq();
                        }
                    }),
                    (this.ao = function (e) {
                        if ("function" == typeof A.onEventMoving && i.qp) {
                            var t = A.coords || {};
                            (t.shift = e.shiftKey), (t.meta = e.metaKey), (t.ctrl = e.ctrlKey), (t.alt = e.altKey), A.vq();
                        }
                    }),
                    (this.gi = function (e) {
                        ("function" == typeof ResizeObserver && A.watchWidthChanges) || (i.qp && (A.Bb(), A.vl()));
                    }),
                    (this.Bb = function () {
                        A.za || ("TableBased" === A.Ga.rs() && (A.Ms(A.nav.scroll), A.Ms(A.divTimeScroll)), A.vb(), A.Iq(), A.Ns(), (A.ta.drawArea = null));
                    }),
                    (this.jg = null),
                    (this.kg = null),
                    (this.Qa = null),
                    (this.hg = function () {
                        var e = function () {
                                A.Bb(), A.vl(null, { dontHideBubble: !0 });
                            },
                            t = function () {
                                if (A.watchWidthChanges) {
                                    var t = A.nav.top,
                                        n = t.offsetParent,
                                        i = n && n.offsetHeight;
                                    if (!A.jg) return (A.jg = {}), (A.jg.changed = !1), (A.jg.width = t.offsetWidth), (A.jg.height = t.offsetHeight), void (A.jg.opHeight = i);
                                    var a = A.jg.width !== t.offsetWidth,
                                        r = A.jg.height !== t.offsetHeight,
                                        o = "Max100Pct" === A.heightSpec && A.jg.opHeight !== i;
                                    (a || r || o) && ((A.jg.changed = !0), (A.jg.width = t.offsetWidth), (A.jg.height = t.offsetHeight), (A.jg.opHeight = i)), A.jg.changed && ((A.jg.changed = !1), e());
                                }
                            };
                        if (A.watchWidthChanges) {
                            if ("function" == typeof ResizeObserver) {
                                if (A.Qa) return;
                                var n = new ResizeObserver(DayPilot.debounce(t, 100));
                                return n.observe(A.nav.top), A.nav.top.offsetParent && n.observe(A.nav.top.offsetParent), void (A.Qa = n);
                            }
                            if (!A.kg) {
                                var i = function () {
                                    return A.nav && A.nav.top
                                        ? A.jg
                                            ? (A.jg.width !== A.nav.top.offsetWidth && ((A.jg.changed = !0), (A.jg.counter = 0), (A.jg.width = A.nav.top.offsetWidth)),
                                              A.jg.changed && (A.jg.counter += 1),
                                              void (A.jg.changed && A.jg.counter > 0 && ((A.jg.changed = !1), e())))
                                            : ((A.jg = {}), (A.jg.counter = 0), (A.jg.changed = !1), void (A.jg.width = A.nav.top.offsetWidth))
                                        : void clearInterval(A.kg);
                                };
                                (this.kg = setInterval(i, 200)), i();
                            }
                        }
                    }),
                    (this.Ns = function () {
                        var e = A.sn;
                        A.clearSelection(), (A.sn = e), A.tn(e, { justDraw: !0 });
                    }),
                    (this.Iq = function () {
                        "Auto" === A.cellWidthSpec && (A.kl(), A.ya && (A.$k(), A._k(), A.hl(), A.ll(), A.Sa(), A.nb(), B.cl(), A.il(), A.jl(), A.Im(), A.zb(), A.nl(), A.ol(), A.vb()));
                    }),
                    (this.$k = function () {
                        if ("Auto" === this.cellWidthSpec) {
                            var e = this.nav.top.clientWidth,
                                t = this.Vl(),
                                n = A.Js(),
                                i = e - t - n;
                            if (this.Sp()) {
                                var a = i / this.Sp();
                                (this.cellWidth = Math.max(a, A.cellWidthMin)), (A.$l = a < A.cellWidthMin);
                            }
                        }
                    }),
                    (this.Js = function () {
                        if ("Auto" === A.heightSpec) return 0;
                        if ("Max" === A.heightSpec || "Fixed" === A.heightSpec || "Parent100Pct" === A.heightSpec) {
                            if (A.Op() > A.height) {
                                return DayPilot.sw(A.nav.scroll) || 1;
                            }
                            return 0;
                        }
                        return DayPilot.sw(A.nav.scroll);
                    }),
                    (this.em = function () {
                        var e = this.nav.top.clientWidth,
                            t = this.Vl(),
                            n = this.Re(),
                            i = this.Op(),
                            a = "Auto" === A.heightSpec,
                            r = 0;
                        return i > n && !a && (r = DayPilot.swa()), e - t - 2 - r;
                    }),
                    (this.ys = function () {
                        var e = "Top" === A.timeHeaderPosition,
                            t = l();
                        (t.style.overflow = "hidden"),
                            (t.style.display = "block"),
                            e ? ((t.style.position = "absolute"), (t.style.top = "0px")) : (t.style.position = "relative"),
                            (t.style.width = "100%"),
                            (t.style.height = this.Xl() + "px"),
                            (t.style.overflow = "hidden"),
                            (t.onmousemove = function () {
                                A.ab(), A.cellBubble && A.cellBubble.delayedHide();
                            }),
                            (t.className = A.ca("_timeheader_scroll")),
                            this.Ms(t),
                            (this.divTimeScroll = t);
                        var n = l();
                        return (n.style.width = this.Sl() + 5e3 + "px"), (this.divNorth = n), t.appendChild(n), t;
                    }),
                    (this.Re = function () {
                        var e = 0,
                            t = A.heightSpec;
                        return "Fixed" === t || "Parent100Pct" === t ? (this.height ? this.height : 0) : ((e = A.Op()), ("Max" === t || "Max100Pct" === t) && e > A.height ? A.height : e);
                    }),
                    (this.Os = null),
                    (this.Ps = 0),
                    (this.Qs = 0),
                    (this.Rs = 0),
                    (this.cm = function () {
                        if ("function" == typeof A.onHeightChanged || "function" == typeof A.onDimensionsChanged) {
                            A.Os && clearTimeout(A.Os);
                            var e = function () {
                                var e = A.nav.top.offsetHeight,
                                    t = A.Ps;
                                A.Ps = e;
                                var n = A.nav.top.offsetWidth,
                                    i = A.Qs;
                                A.Qs = n;
                                var a = A.Vl(),
                                    r = A.Rs;
                                if (((A.Rs = a), "function" == typeof A.onHeightChanged && e !== t)) {
                                    var o = {};
                                    (o.oldHeight = t), (o.newHeight = e), A.onHeightChanged(o);
                                }
                                if ("function" == typeof A.onDimensionsChanged && (e !== t || n !== i || a !== r)) {
                                    var o = {};
                                    (o.oldHeight = t), (o.newHeight = e), (o.oldWidth = i), (o.newWidth = n), (o.oldRowHeaderWidth = r), (o.newRowHeaderWidth = a), A.onDimensionsChanged(o);
                                }
                            };
                            A.Os = setTimeout(e, 100);
                        }
                    }),
                    (this.Op = function () {
                        var e;
                        return this.Tk !== -1 ? ((e = this.Tk), this.Tk > 0 && "auto" === A.nav.scroll.style.overflowX && (e += DayPilot.sh(A.nav.scroll))) : (e = this.rowlist.length * this.Ga.go()), (e += A.Cl.bottom.height);
                    }),
                    (this.ab = function () {
                        this.cb(), A.Ss && (this.bb(), this.Ts(), this.Aq(), this.Lp(), A.cellBubble && A.cellBubble.hideOnMouseOut(), A.bubble && A.bubble.hideOnMouseOut(), A.groupBubble && A.groupBubble.hideOnMouseOut(), (A.Ss = !1));
                    }),
                    (this.Cl = {}),
                    (this.Cl.top = {}),
                    (this.Cl.top.height = 0),
                    (this.Cl.top.rowlist = []),
                    (this.Cl.top.enabled = function () {
                        return this.rowlist && this.rowlist.length > 0;
                    }),
                    Object.defineProperty(A.Cl.top, "top", {
                        get: function () {
                            return A.Xl() + 1;
                        },
                    }),
                    Object.defineProperty(A.Cl.top, "right", {
                        get: function () {
                            return A.Js();
                        },
                    }),
                    Object.defineProperty(A.Cl.top, "heightRes", {
                        get: function () {
                            return this.height;
                        },
                    }),
                    (this.Cl.bottom = {}),
                    (this.Cl.bottom.height = 0),
                    (this.Cl.bottom.rowlist = []),
                    (this.Cl.bottom.enabled = function () {
                        return this.rowlist && this.rowlist.length > 0;
                    }),
                    Object.defineProperty(A.Cl.bottom, "top", {
                        get: function () {
                            return A.Xl() + A.Re() - this.height - DayPilot.sh(A.nav.scroll) + 1;
                        },
                    }),
                    Object.defineProperty(A.Cl.bottom, "right", {
                        get: function () {
                            return A.Js();
                        },
                    }),
                    Object.defineProperty(A.Cl.bottom, "heightRes", {
                        get: function () {
                            return this.height + DayPilot.sh(A.nav.scroll);
                        },
                    }),
                    (this.Cl.main = {}),
                    (this.Ds = function () {
                        var e = A.Cl.main;
                        (e.divCells = A.divCells),
                            (e.divLines = A.divLines),
                            (e.divBreaks = A.divBreaks),
                            (e.divHeader = A.divHeader),
                            (e.divEvents = A.divEvents),
                            (e.divShadow = A.divShadow),
                            (e.divHover = A.divHover),
                            (e.divCrosshair = A.divCrosshair),
                            (e.div = A.nav.scroll),
                            Object.defineProperty(A.Cl.main, "rowlist", {
                                get: function () {
                                    return A.rowlist;
                                },
                            }),
                            Object.defineProperty(A.Cl.main, "top", {
                                get: function () {
                                    return A.Xl() + 1;
                                },
                            }),
                            Object.defineProperty(A.Cl.main, "height", {
                                get: function () {
                                    return A.Tk;
                                },
                            });
                    }),
                    (this.vs = function () {
                        var e = A.Cl.top,
                            t = e.top,
                            n = e.height,
                            i = l();
                        return (
                            (i.style.position = "absolute"),
                            (i.style.left = "0px"),
                            (i.style.right = "0px"),
                            (i.style.top = t + "px"),
                            (i.style.height = n + "px"),
                            (i.style.overflow = "hidden"),
                            (i.style.boxSizing = "border-box"),
                            (i.rows = []),
                            (e.divHeader = i),
                            i
                        );
                    }),
                    (this.ws = function () {
                        var e = A.Cl.bottom,
                            t = e.top,
                            n = e.height,
                            i = l();
                        (i.style.position = "absolute"), (i.style.left = "0px"), (i.style.right = "0px"), (i.style.top = t + "px"), (i.style.height = n + "px"), (i.style.overflow = "hidden"), (i.style.boxSizing = "border-box");
                        var a = l();
                        (a.style.position = "absolute"),
                            (a.style.height = "500px"),
                            (a.style.top = e.height + "px"),
                            (a.style.left = "0px"),
                            (a.style.width = A.Dq() + "px"),
                            (a.className = A.ca("_rowheader")),
                            i.appendChild(a),
                            (i.rows = []);
                        var r = l();
                        return i.appendChild(r), (i.Nq = r), A.Ls(i), (e.divHeader = i), (e.divSpace = a), i;
                    }),
                    (this.As = function () {
                        var e = A.Cl.top,
                            t = e.top,
                            n = e.height,
                            i = l();
                        return (
                            (i.style.position = "absolute"),
                            (i.style.left = "0px"),
                            (i.style.right = "0px"),
                            (i.style.top = t + "px"),
                            (i.style.height = n + "px"),
                            (i.style.overflow = "hidden"),
                            (i.className = A.ca("_grid_top")),
                            (i.onmousedown = A.Us),
                            (i.onmousemove = A.Bq),
                            (i.oncontextmenu = A.Vs),
                            (i.onmouseup = A.Ws),
                            (i.ondblclick = this.Xs),
                            (A.nav.fixedTop = i),
                            (e.div = i),
                            p(A.Ys(i), e),
                            i
                        );
                    }),
                    (this.Bs = function () {
                        var e = A.Cl.bottom,
                            t = e.top,
                            n = e.height,
                            i = l();
                        return (
                            (i.style.position = "absolute"),
                            (i.style.left = "0px"),
                            (i.style.right = "0px"),
                            (i.style.bottom = t + "px"),
                            (i.style.height = n + "px"),
                            (i.style.overflow = "hidden"),
                            (i.className = A.ca("_grid_bottom")),
                            (i.onmousedown = A.Us),
                            (i.onmousemove = A.Bq),
                            (i.oncontextmenu = A.Vs),
                            (i.onmouseup = A.Ws),
                            (i.ondblclick = this.Xs),
                            (A.nav.fixedBottom = i),
                            (e.div = i),
                            p(A.Ys(i), e),
                            i
                        );
                    }),
                    (this.Ys = function (e) {
                        var t = l();
                        (t.style.position = "absolute"), e.appendChild(t);
                        var n = l();
                        (n.style.position = "absolute"), e.appendChild(n);
                        var i = l();
                        (i.style.position = "absolute"), e.appendChild(i);
                        var a = l();
                        (a.style.position = "absolute"), e.appendChild(a);
                        var r = l();
                        (r.style.position = "absolute"), e.appendChild(r);
                        var o = l();
                        (o.style.position = "absolute"), (o.style.left = "0px"), (o.style.width = "100000px"), (o.style.bottom = "0px"), (o.style.height = "1px"), e.appendChild(o);
                        var s = l();
                        (s.style.position = "absolute"), e.appendChild(s);
                        var d = l();
                        return (d.style.position = "absolute"), e.appendChild(d), { divCells: t, divLines: n, divBreaks: i, divEvents: r, divShadow: d, divHover: s, divCrosshair: a };
                    }),
                    (this.bm = function () {
                        var e = A.Cl.top,
                            t = A.Cl.bottom;
                        E(e),
                            E(t),
                            (A.divStretch.style.height = A.Tk + t.height + "px"),
                            (A.nav.dividerTop.style.top = e.top + e.height - 1 + "px"),
                            (A.nav.dividerTop.style.right = e.right + "px"),
                            A.Zs(A.nav.dividerTop, e.enabled()),
                            (A.nav.dividerBottom.style.top = t.top - 1 + "px"),
                            (A.nav.dividerBottom.style.right = t.right + "px"),
                            A.Zs(A.nav.dividerBottom, t.enabled());
                    }),
                    (this.Zs = function (e, t) {
                        e.style.display = t ? "" : "none";
                    }),
                    (this.lm = function () {
                        var e = A.rowlist;
                        return (e = e.concat(A.Cl.top.rowlist)), (e = e.concat(A.Cl.bottom.rowlist));
                    }),
                    (this.$s = function () {
                        return A.rowlist.length > 0 || A.Cl.top.rowlist.length > 0 || A.Cl.bottom.rowlist.length > 0;
                    }),
                    (this._s = function () {
                        this.Pe(), this.at();
                    }),
                    (this.zs = function () {
                        var e = l();
                        if (
                            ((e.style.overflow = "auto"),
                            (e.style.overflowX = "auto"),
                            (e.style.overflowY = "auto"),
                            (e.style.height = this.Re() + "px"),
                            "Top" === A.timeHeaderPosition ? ((e.style.top = this.Xl() + 1 + "px"), (e.style.position = "absolute")) : (e.style.position = "relative"),
                            (e.style.width = "100%"),
                            (e.className = this.ca("_scrollable")),
                            (e.oncontextmenu = function () {
                                return !1;
                            }),
                            this.Ms(e),
                            A.overrideWheelScrolling)
                        ) {
                            var t = A.Hs();
                            (e.onwheel = function (n) {
                                var i = n.deltaY > 0 ? t : -t;
                                (A.nav.scroll.scrollTop = e.scrollTop + i), n.preventDefault();
                            }),
                                (e.onmousewheel = function (n) {
                                    var i = n.wheelDelta < 0 ? t : -t;
                                    (A.nav.scroll.scrollTop = e.scrollTop + i), n.preventDefault(), (n.returnValue = !1);
                                });
                        }
                        DayPilot.rePassive(e, "wheel", A.$n), (this.nav.scroll = e), (this.Dl = l());
                        var n = this.Dl;
                        (n.style.MozUserSelect = "none"),
                            (n.style.KhtmlUserSelect = "none"),
                            (n.style.webkitUserSelect = "none"),
                            (n.daypilotMainD = !0),
                            (n.calendar = this),
                            (n.style.minHeight = "1px"),
                            DayPilot.browser.android && (n.style.webkitTransform = "translateZ(0px)"),
                            (n.style.position = "absolute");
                        var i = this.Sl();
                        return (
                            i > 0 && !isNaN(i) && (n.style.width = i + "px"),
                            n.setAttribute("unselectable", "on"),
                            (n.onmousedown = this.Us),
                            (n.onmousemove = this.Bq),
                            (n.onmouseup = this.Ws),
                            (n.oncontextmenu = this.Vs),
                            (n.ondblclick = this.Xs),
                            (n.className = this.ca("_matrix")),
                            (this.divStretch = l()),
                            (this.divStretch.style.position = "absolute"),
                            (this.divStretch.style.height = "1px"),
                            n.appendChild(this.divStretch),
                            (this.divCells = l()),
                            (this.divCells.style.position = "absolute"),
                            (this.divCells.oncontextmenu = this.Vs),
                            n.appendChild(this.divCells),
                            (this.divLines = l()),
                            (this.divLines.style.position = "absolute"),
                            (this.divLines.oncontextmenu = this.Vs),
                            n.appendChild(this.divLines),
                            (this.divBreaks = l()),
                            (this.divBreaks.style.position = "absolute"),
                            (this.divBreaks.oncontextmenu = this.Vs),
                            n.appendChild(this.divBreaks),
                            (this.divSeparators = l()),
                            (this.divSeparators.style.position = "absolute"),
                            (this.divSeparators.oncontextmenu = this.Vs),
                            n.appendChild(this.divSeparators),
                            (this.divLinksBelow = l()),
                            (this.divLinksBelow.style.position = "absolute"),
                            n.appendChild(this.divLinksBelow),
                            (this.divCrosshair = l()),
                            (this.divCrosshair.style.position = "absolute"),
                            (this.divCrosshair.ondblclick = this.Xs),
                            (this.divCrosshair.onmousedown = this.Wf),
                            n.appendChild(this.divCrosshair),
                            (this.divRange = l()),
                            (this.divRange.style.position = "absolute"),
                            (this.divRange.oncontextmenu = this.Vs),
                            n.appendChild(this.divRange),
                            (this.divEvents = l()),
                            (this.divEvents.style.position = "absolute"),
                            n.appendChild(this.divEvents),
                            (this.divSeparatorsAbove = l()),
                            (this.divSeparatorsAbove.style.position = "absolute"),
                            (this.divSeparatorsAbove.oncontextmenu = this.Vs),
                            n.appendChild(this.divSeparatorsAbove),
                            (this.divLinksAbove = l()),
                            (this.divLinksAbove.style.position = "absolute"),
                            n.appendChild(this.divLinksAbove),
                            (this.divLinkShadow = l()),
                            (this.divLinkShadow.style.position = "absolute"),
                            n.appendChild(this.divLinkShadow),
                            (this.divLinkpoints = l()),
                            (this.divLinkpoints.style.position = "absolute"),
                            n.appendChild(this.divLinkpoints),
                            (this.divRectangle = l()),
                            (this.divRectangle.style.position = "absolute"),
                            n.appendChild(this.divRectangle),
                            (this.divHover = l()),
                            (this.divHover.style.position = "absolute"),
                            n.appendChild(this.divHover),
                            (this.divShadow = l()),
                            (this.divShadow.style.position = "absolute"),
                            n.appendChild(this.divShadow),
                            e.appendChild(n),
                            e
                        );
                    }),
                    (A.$n = function (e) {
                        A.Bm(e);
                    }),
                    (this.tg = {});
                var q = this.tg;
                (q.ug = function () {
                    if (!A.nav.overlay) {
                        var e = document.createElement("div");
                        (e.style.position = "absolute"), (e.style.left = "0px"), (e.style.right = "0px"), (e.style.top = "0px"), (e.style.bottom = "0px"), (e.className = A.ca("_block")), A.nav.top.appendChild(e), (A.nav.overlay = e);
                    }
                }),
                    (q.D = function () {
                        q.ug(), (A.nav.overlay.style.display = "");
                    }),
                    (q.B = function () {
                        A.nav.overlay && (A.nav.overlay.style.display = "none");
                    }),
                    (this.Ka = function (e) {
                        e = e || {};
                        var t = e.delay || 0,
                            n = A.Ea(e.text || this.loadingLabelText, this.loadingLabelHtml),
                            i = "undefined" != typeof e.block ? e.block : A.blockOnCallBack;
                        A.cg && window.clearTimeout(A.cg);
                        var a = function () {
                            (A.loadingLabelVisible || e.text) && ((A.nav.loading.innerHTML = n), (A.nav.loading.style.display = "")), i && q.D();
                        };
                        0 === t ? a() : (A.cg = window.setTimeout(a, t));
                    }),
                    (this.hb = function (e) {
                        this.cg && window.clearTimeout(this.cg), (this.nav.loading.style.display = "none"), (e || A.blockOnCallBack) && q.B();
                    }),
                    (this.loadingStart = function (e) {
                        A.Ka(e);
                    }),
                    (this.loadingStop = function () {
                        A.hb(!0);
                    }),
                    (this.uiBlock = function () {
                        q.D();
                    }),
                    (this.uiUnblock = function () {
                        q.B();
                    }),
                    (this.Vg = function () {
                        this.startDate = new DayPilot.Date(this.startDate).getDatePart();
                    }),
                    (this.Yg = function (e) {
                        var t = l();
                        (t.style.position = "absolute"), (t.style.top = "-2000px"), (t.style.left = "-2000px"), (t.className = this.ca(e)), s().appendChild(t);
                        var n = t.offsetHeight,
                            i = t.offsetWidth;
                        s().removeChild(t);
                        var a = {};
                        return (a.height = n), (a.width = i), a;
                    }),
                    (this.Db = function (e) {
                        if ((e && (this.autoRefreshEnabled = !0), this.autoRefreshEnabled && !(this.xa >= this.autoRefreshMaxCount))) {
                            this.Ra();
                            var t = this.autoRefreshInterval;
                            if (!t || t < 10) throw new DayPilot.Exception("The minimum autoRefreshInterval is 10 seconds");
                            this.autoRefreshTimeout = window.setTimeout(function () {
                                A.ig();
                            }, 1e3 * this.autoRefreshInterval);
                        }
                    }),
                    (this.Ra = function () {
                        this.autoRefreshTimeout && (window.clearTimeout(this.autoRefreshTimeout), (this.autoRefreshTimeout = null));
                    }),
                    (this.autoRefreshStart = function (e) {
                        A.Db(e);
                    }),
                    (this.autoRefreshPause = function () {
                        A.Ra();
                    }),
                    (this.bt = function () {
                        return !(i.vp || i.ym || i.wq || i.wp);
                    }),
                    (this.ig = function () {
                        if (A.bt()) {
                            var e = !1;
                            if ("function" == typeof this.onAutoRefresh) {
                                var t = {};
                                (t.i = this.xa),
                                    (t.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    A.onAutoRefresh(t),
                                    t.preventDefault.value && (e = !0);
                            }
                            !e && this.ja() && this.commandCallBack(this.autoRefreshCommand), this.xa++;
                        }
                        this.xa < this.autoRefreshMaxCount &&
                            (this.autoRefreshTimeout = window.setTimeout(function () {
                                A.ig();
                            }, 1e3 * this.autoRefreshInterval));
                    }),
                    (this.lg = function () {
                        i.mg ||
                            ((i.mg = !0),
                            DayPilot.re(document, "mousemove", i.ng),
                            DayPilot.re(document, "mouseup", i.og),
                            DayPilot.re(document, "mousedown", i.ct),
                            DayPilot.re(document, "touchend", i.qg),
                            DayPilot.reNonPassive(document, "touchmove", i.pg),
                            DayPilot.re(window, "keyup", i.dt)),
                            DayPilot.re(window, "resize", this.gi),
                            DayPilot.re(document, "keydown", this.ao),
                            DayPilot.re(document, "keyup", this.bo);
                    }),
                    (this.et = function () {
                        (this.nav.scroll.root = this),
                            (this.nav.scroll.onscroll = this.vl),
                            (this.nav.scroll.onscrollend = this.ft),
                            (A.Tp = this.nav.scroll.scrollLeft),
                            (A.Rp = this.nav.scroll.scrollTop),
                            this.divNorth && (A.gt = this.divNorth.clientWidth);
                    }),
                    (this.Uj = function () {
                        if (this.nav.state) {
                            var e = {};
                            (e.scrollX = this.nav.scroll.scrollLeft), (e.scrollY = this.nav.scroll.scrollTop);
                            var t = A.Nn(e.scrollX, e.scrollY),
                                n = A.On(t),
                                i = A.Pn(t);
                            (e.rangeStart = n.start), (e.rangeEnd = n.end), (e.resources = i), this.syncResourceTree && (e.tree = this._a()), (this.nav.state.value = DayPilot.he(JSON.stringify(e)));
                        }
                    }),
                    (this.ol = function () {
                        if (this.separators) for (var e = 0; e < this.separators.length; e++) this.Mg(e);
                    }),
                    (this.ht = {}),
                    (this.ht.step = 300),
                    (this.ht.delay = 10),
                    (this.ht.mode = "display"),
                    (this.ht.layers = !1),
                    (this.Wp = function (e) {
                        if (A.Pk) return void Y.it(e);
                        for (var t = 0, n = 0; n < e.lines.length; n++) {
                            var i = e.lines[n];
                            (i.height = 0), (i.top = t);
                            for (var a = 0; a < i.length; a++) {
                                var r = i[a];
                                if ((!r.part.top, !0)) {
                                    (r.part.line = n), r.part.height || (r.part.height = e.eventHeight);
                                    var o = r.part.qr();
                                    o > i.height && (i.height = o), (r.part.top = t + e.marginTop);
                                    var s = "Above" === A.eventVersionPosition;
                                    if (A.eventVersionsEnabled && !w(r.versions).isEmpty()) {
                                        var l = r.cache || r.data,
                                            d = (l.versions.length, r.part.top);
                                        s || (d += r.part.height + A.eventVersionMargin),
                                            w(l.versions).forEach(function (e, t) {
                                                if (r.versions[t]) {
                                                    var n = t * (A.eventVersionHeight + A.eventVersionMargin);
                                                    (r.versions[t].top = d + n), s && ((r.part.top += A.eventVersionHeight), (r.part.top += A.eventVersionMargin));
                                                }
                                            });
                                    }
                                    (r.part.right = r.part.left + r.part.width), (r.part.fullTop = e.top + r.part.top), (r.part.fullBottom = r.part.fullTop + r.part.height);
                                }
                            }
                            t += ((i.height || e.eventHeight) * e.eventStackingLineHeight) / 100;
                        }
                    });
                var Y = {};
                (Y.cp = function (e) {
                    (e.evColumns = w(A.itline).map(function (e, t) {
                        return { events: w() };
                    })),
                        w(e.events).forEach(function (t) {
                            var n = t.start(),
                                i = A.wm(n);
                            e.evColumns[i.i].events.push(t);
                        });
                }),
                    (Y.pr = function () {
                        var e = A.Qk,
                            t = 0;
                        w(A.rowlist).forEach(function (n) {
                            var i = 0;
                            n.evColumns.forEach(function (t, a) {
                                var r = A.itline[a],
                                    o = A.rowMarginTop;
                                t.events.forEach(function (t) {
                                    (t.part.left = r.left), (t.part.width = r.width), (t.part.top = o), t.part.height || (e ? (t.part.height = Y.jt(t) + K.$p()) : (t.part.height = n.eventHeight)), (o += t.part.height + A.eventMarginBottom);
                                }),
                                    (t.height = o),
                                    t.height > i && (i = t.height);
                            }),
                                (n.maxColumnHeight = i),
                                (n.top = t);
                            var a = n.height;
                            (n.height = n.getHeight()), i > A.rowMarginTop && (n.height = i + A.rowMarginBottom), a !== n.height && (A.jn = !0), (t += n.height);
                        }),
                            (A.Tk = t);
                    }),
                    (Y.jt = function (e) {
                        var t = e.client.html(),
                            n = l();
                        (n.style.position = "absolute"), (n.style.top = "-2000px"), (n.style.left = "-2000px"), (n.style.width = e.part.width + "px"), (n.className = A.ca(G.event));
                        var i = l();
                        (i.className = A.ca(G.eventInner)), (i.innerHTML = t), (i.style.position = "static"), (i.style.overflow = "auto"), n.appendChild(i);
                        var a = A.divEvents;
                        a.appendChild(n);
                        var r = n.offsetHeight;
                        return a.removeChild(n), r;
                    }),
                    (Y.it = function (e) {
                        Y.pr();
                    }),
                    (Y.kt = function () {
                        w(A.rowlist).forEach(function (e) {
                            Y.lt(e);
                        });
                    }),
                    (Y.zb = function () {
                        Y.kt(), Y.mt(), A.jl(), A.vb();
                    }),
                    (Y.mt = function () {
                        if (A.Qk) {
                            var e = !1;
                            w(A.elements.events).forEach(function (t) {
                                var n = t.firstChild,
                                    i = n.offsetHeight - n.clientHeight + t.offsetHeight - t.clientHeight,
                                    a = n.scrollHeight + i,
                                    r = t.event.part.height;
                                (t.event.part.height = a), r !== a && (e = !0);
                            }),
                                e && (A.Sa(), Y.pr(), Y.kt(), A.kl(), A.nl());
                        }
                    }),
                    (Y.lt = function (e) {
                        e.evColumns.forEach(function (e, t) {
                            e.events.forEach(function (e) {
                                A.Fe(e);
                            });
                        });
                    }),
                    (this.Sm = null),
                    (this.zb = function (e) {
                        if (!A.za) {
                            if (A.Pk) return void Y.zb();
                            var t = this.ht.step;
                            this.ht.layers;
                            "display" === this.ht.mode ? (this.divEvents.style.display = "none") : "visibility" === this.ht.mode && (this.divEvents.style.visibility = "hidden"),
                                this.divEvents.setAttribute("role", "region"),
                                this.divEvents.setAttribute("aria-label", "scheduler events");
                            var n = "Progressive" === this.dynamicEventRendering,
                                i = this.hd(),
                                a = i.pixels.top,
                                r = i.pixels.bottom,
                                o = A.allowMultiMove || A.allowMultiResize,
                                s = o && !w(A.multiselect.Bc).isEmpty(),
                                l = A.rowlist.filter(function (e) {
                                    var t = e.top - A.dynamicEventRenderingMargin,
                                        i = t + e.height + 2 * A.dynamicEventRenderingMargin;
                                    return !(n && !s && (r <= t || a >= i));
                                });
                            A.Cl.top.enabled() && (l = l.concat(A.Cl.top.rowlist)),
                                A.Cl.bottom.enabled() && (l = l.concat(A.Cl.bottom.rowlist)),
                                l.forEach(function (n) {
                                    A.Wp(n);
                                    for (var i = Math.max(0, (n.resource && n.resource.maxLines) || 1e5), a = 0; a < n.lines.length; a++) {
                                        var r = n.lines[a];
                                        if (!(a >= i))
                                            for (var o = 0; o < r.length; o++) {
                                                var s = r[o],
                                                    l = A.Fe(s);
                                                if (e && l && (t--, t <= 0))
                                                    return (
                                                        (A.divEvents.style.visibility = ""),
                                                        (A.divEvents.style.display = ""),
                                                        void (A.Sm = window.setTimeout(function () {
                                                            A.zb(e);
                                                        }, A.ht.delay))
                                                    );
                                            }
                                    }
                                }),
                                (this.divEvents.style.display = ""),
                                w(A.multiselect.Bc).isEmpty() || A.multiselect.redraw(),
                                this.Ll(),
                                B.wo(),
                                this._o();
                        }
                    }),
                    (this.ln = function (e, t) {
                        var n = A.co(t),
                            i = n.rowlist[e];
                        if (A.Pk) return void Y.lt(i);
                        this.Dl.insertBefore(this.divEvents, this.divSeparatorsAbove), A.ta.Yk.push(this.divEvents), this.Wp(i);
                        for (var a = 0; a < i.lines.length; a++)
                            for (var r = i.lines[a], o = 0; o < r.length; o++) {
                                var s = r[o];
                                this.Fe(s);
                            }
                        this.divEvents.style.display = "";
                    }),
                    (this.nt = function () {
                        var e = A.ta.Yk,
                            t = [];
                        e.forEach(function (e) {
                            0 === e.childNodes.length ? e.remove() : t.push(e);
                        }),
                            (A.ta.Yk = t);
                    }),
                    (this.Sa = function () {
                        if (this.elements.events)
                            for (var e = this.elements.events.length, t = 0; t < e; t++) {
                                var n = this.elements.events[t];
                                this.Be(n);
                            }
                        this.elements.events = [];
                    }),
                    (this.kn = function (e, t) {
                        if (((t = t || "main"), this.elements.events)) {
                            for (var n = this.elements.events.length, i = [], a = 0; a < n; a++) {
                                var r = this.elements.events[a],
                                    o = r.event;
                                o.part.dayIndex === e && o.part.grid === t && (this.Be(r), i.push(a));
                            }
                            for (var a = i.length - 1; a >= 0; a--) this.elements.events.splice(i[a], 1);
                        }
                    }),
                    (this.Be = function (e) {
                        var t = e.domArgs;
                        if (
                            ((e.domArgs = null),
                            t && "function" == typeof A.onDomRemoveEvent && A.onDomRemoveEvent(t),
                            t && "function" == typeof A.onBeforeEventDomRemove && A.onBeforeEventDomRemove(t),
                            t && "function" == typeof A.onBeforeEventDomAdd)
                        ) {
                            var n = t && t.ze;
                            if (n) {
                                var i = A.W.reactDOM && m(t.element),
                                    a = A.Y.hp && g(t.element);
                                i ? A.W.ka(n) : a && ((A.Y.ot = !0), A.Y.la(n), (A.Y.ot = !1));
                            }
                        }
                        e.parentNode && e.parentNode.removeChild(e),
                            (e.onclick = null),
                            (e.oncontextmenu = null),
                            (e.onmouseover = null),
                            (e.onmouseout = null),
                            (e.onmousemove = null),
                            (e.onmousedown = null),
                            (e.ondblclick = null),
                            e.event && ((e.event.rendered = null), (e.event = null)),
                            e.related && k(e.related);
                    }),
                    (this.pt = function (e) {
                        e.event && (e.event.rendered = !1), (e.onclick = null), (e.onmousedown = null), (e.event = null), e.parentNode && e.parentNode.removeChild(e);
                    }),
                    (this.qt = function () {
                        if ("Progressive" === this.dynamicEventRendering) {
                            if (A.dynamicEventRenderingCacheSweeping) {
                                var e = A.dynamicEventRenderingCacheSize || 0;
                                this.divEvents.style.display = "none";
                                for (var t = [], n = 0, i = this.elements.events.length, a = i - 1; a >= 0; a--) {
                                    var r = this.elements.events[a];
                                    this.rt(r.event) ? (e > 0 ? (e--, t.unshift(r)) : (this.Be(r), n++)) : t.unshift(r);
                                }
                                (this.elements.events = t), (this.divEvents.style.display = "");
                            }
                        }
                    }),
                    (this.st = function (e) {
                        for (var t = [], n = 0, i = this.hd(), a = this.elements.cells.length, r = a - 1; r >= 0; r--) {
                            var o = this.elements.cells[r];
                            i.xStart < o.coords.x && o.coords.x <= i.xEnd && i.yStart < o.coords.y && o.coords.y <= i.yEnd ? t.unshift(o) : e > 0 ? (e--, t.unshift(o)) : (this.ip(o), n++);
                        }
                    }),
                    (this.ip = function (e) {
                        if (e && e.coords) {
                            var t = e.coords.x,
                                n = e.coords.y,
                                i = e.coords.grid;
                            !(function () {
                                var t = e.domArgs;
                                if (((e.domArgs = null), t && "function" == typeof A.onBeforeCellDomRemove && A.onBeforeCellDomRemove(t), t && "function" == typeof A.onBeforeCellDomAdd && A.W.reactDOM)) {
                                    var n = t && t.ze;
                                    if (n) {
                                        if (m(t.element)) {
                                            if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            A.W.ka(n);
                                        }
                                    }
                                }
                            })(),
                                DayPilot.rfa(A.elements.cells, e),
                                k(e),
                                (A.ta.cells[i + "_" + t + "_" + n] = null);
                        }
                    }),
                    (this.ll = function () {
                        if (this.elements.separators)
                            for (var e = 0; e < this.elements.separators.length; e++) {
                                var t = this.elements.separators[e];
                                k(t);
                            }
                        this.elements.separators = [];
                    }),
                    (this.tt = function () {
                        var e = "Progressive" === this.dynamicEventRendering;
                        if (!this.nav.scroll) return !1;
                        for (var t = this.nav.scroll.scrollTop, n = t + this.nav.scroll.clientHeight, i = 0; i < this.rowlist.length; i++) {
                            var a = this.rowlist[i],
                                r = a.top,
                                o = a.top + a.height;
                            if (!e || !(n <= r || t >= o))
                                for (var s = 0; s < a.lines.length; s++)
                                    for (var l = a.lines[s], d = 0; d < l.length; d++) {
                                        var c = l[d];
                                        if (this.ut(c)) return !0;
                                    }
                        }
                        return !1;
                    }),
                    (this.ut = function (e) {
                        if (e.rendered) return !1;
                        var t = "Progressive" === this.dynamicEventRendering,
                            n = this.nav.scroll.scrollLeft,
                            i = n + this.nav.scroll.clientWidth,
                            a = e.part.left,
                            r = e.part.left + e.part.width;
                        return !t || !(i <= a || n >= r);
                    }),
                    (this.rt = function (e) {
                        if (!e.rendered) return !0;
                        var t = this.hd(),
                            n = t.pixels.top,
                            i = t.pixels.bottom,
                            a = t.pixels.left - this.dynamicEventRenderingMargin,
                            r = t.pixels.right + this.dynamicEventRenderingMargin,
                            o = e.part.left,
                            s = e.part.right,
                            l = e.part.fullTop,
                            d = e.part.fullBottom;
                        return r <= o || a >= s || i <= l || n >= d;
                    }),
                    (this.or = w()),
                    (this.vt = function (e) {
                        if (e.rendered) return !1;
                        var t = e.row;
                        if (t.hidden) return !1;
                        var n = A.Cl[t.grid],
                            i = e.min,
                            a = e.max - e.min,
                            r = A.eventHeight,
                            o = e.row.top;
                        "number" == typeof t.forcedHeight && (r = Math.min(t.forcedHeight, A.eventHeight));
                        var s = l();
                        (s.style.position = "absolute"), (s.style.left = i + "px"), (s.style.top = o + "px"), (s.style.width = a + "px"), (s.style.height = r + "px"), (s.className = A.ca("_event_group")), (s.style.cursor = "pointer");
                        var d = {};
                        (d.group = {}),
                            (d.group.count = e.events.length),
                            (d.group.events = w(e.events, !0)),
                            (d.group.html = "&#x1F7A7; " + e.events.length + " events"),
                            (d.group.bubbleHtml = null),
                            "function" == typeof A.onBeforeGroupRender && A.onBeforeGroupRender(d);
                        var c = l();
                        return (
                            (c.innerHTML = d.group.html),
                            s.appendChild(c),
                            (s.onmousedown = function (e) {
                                e.cancelBubble = !0;
                            }),
                            (s.onclick = function (e) {
                                var n = s.event;
                                (n.expanded = !0), A.pt(s);
                                var i = C(A.elements.events, s);
                                i !== -1 && A.elements.events.splice(i, 1);
                                var a = A.or;
                                w(n.events).forEach(function (e) {
                                    a.push(e.id());
                                }),
                                    "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()),
                                    A.Im(),
                                    A.Jm([t]),
                                    A.vb(),
                                    A.zb(),
                                    (e.cancelBubble = !0);
                            }),
                            (s.onmousemove = function (t) {
                                if (A.groupBubble) {
                                    var n = {};
                                    (n.calendar = A),
                                        (n.type = "Group"),
                                        (n.object = { events: w(e.events, !0) }),
                                        (n.staticHTML = d.group.bubbleHtml),
                                        (n.div = s),
                                        (n.toJSON = function () {
                                            var e = {};
                                            return (e.uid = A.uniqueID), (e.type = "Group"), (e.object = n.object), e;
                                        }),
                                        A.groupBubble.showGroup(n);
                                }
                            }),
                            (s.onmouseout = function (e) {
                                A.groupBubble && A.groupBubble.hideOnMouseOut();
                            }),
                            (e.part = {}),
                            (e.part.left = i),
                            (e.part.width = a),
                            (e.part.height = A.eventHeight),
                            (e.part.dayIndex = C(n.rowlist, e.row)),
                            (e.part.top = 0),
                            (e.part.isBlock = !0),
                            (e.part.grid = e.row.grid),
                            (e.client = {}),
                            (e.client.html = function () {
                                return d.group.html;
                            }),
                            (e.data = {}),
                            (s.event = e),
                            this.elements.events.push(s),
                            n.divEvents.appendChild(s),
                            (e.rendered = !0),
                            !0
                        );
                    }),
                    (this.Fe = function (e, t) {
                        t = t || {};
                        var n = t.forced;
                        if (e.rendered) return !1;
                        if (A.groupConcurrentEvents) {
                            var i = e.part.block;
                            if (i.events.length > 1 && !i.expanded) return A.vt(i);
                        }
                        var a = "Progressive" === this.dynamicEventRendering,
                            r = e.part.dayIndex,
                            o = e.part.grid || "main",
                            s = A.Cl[o],
                            d = s.divEvents,
                            c = s.rowlist,
                            h = c[r];
                        if (h.hidden) return !1;
                        var p = Math.max(0, h.resource.maxLines || 1e5);
                        if (e.part.line >= p) return !1;
                        var y = h.top,
                            b = this.hd(),
                            x = b.pixels.left - this.dynamicEventRenderingMargin,
                            k = b.pixels.right + this.dynamicEventRenderingMargin,
                            C = b.pixels.top,
                            _ = b.pixels.bottom,
                            D = e.part.left,
                            E = e.part.left + e.part.width,
                            S = e.part.top + y,
                            H = S + e.part.height,
                            M = A.multiselect.od(e),
                            R = k <= D || x >= E,
                            P = "main" === o && (_ <= S || C >= H);
                        if (!n && !M && a && (R || P)) return !1;
                        var N = "Milestone" === e.data.type,
                            I = e.part.width,
                            L = e.part.height,
                            z = e.cache || e.data;
                        (I = f(0, I)), (L = f(0, L));
                        var O = l();
                        if (
                            ((O.related = []),
                            (function (t) {
                                A.eventVersionsEnabled &&
                                    w(z.versions).forEach(function (n, i) {
                                        if (n) {
                                            var a = e.versions[i];
                                            if (a) {
                                                var r = l();
                                                (r.style.position = "absolute"),
                                                    (r.style.overflow = "hidden"),
                                                    (r.style.left = a.left + "px"),
                                                    (r.style.top = y + a.top + "px"),
                                                    (r.style.width = a.width + "px"),
                                                    (r.style.height = A.eventVersionHeight + "px"),
                                                    (r.className = A.ca(G.event) + " " + A.ca("_event_previous") + " " + A.ca("_event_version")),
                                                    (r.onmousedown = function (e) {
                                                        e.preventDefault(), e.stopPropagation();
                                                    }),
                                                    n.toolTip && (r.title = n.toolTip),
                                                    n.cssClass && u(r, n.cssClass);
                                                var o = l();
                                                o.setAttribute("unselectable", "on"),
                                                    (o.className = A.ca(G.eventInner)),
                                                    (o.innerHTML = A.Ea(n.text, n.html)),
                                                    n.backColor && (o.style.background = n.backColor),
                                                    n.fontColor && (o.style.color = n.fontColor),
                                                    n.borderColor && (o.style.borderColor = n.borderColor),
                                                    n.backImage && ((o.style.backgroundImage = "url(" + n.backImage + ")"), n.backRepeat && (o.style.backgroundRepeat = n.backRepeat)),
                                                    r.appendChild(o),
                                                    a.continueLeft && !N && u(r, A.ca("_event_continueleft")),
                                                    a.continueRight && !N && u(r, A.ca("_event_continueright"));
                                                var s = A.durationBarVisible && !n.barHidden,
                                                    c = a.width;
                                                if (s && c > 0) {
                                                    var h = (100 * a.barLeft) / c,
                                                        f = Math.ceil((100 * a.barWidth) / c);
                                                    "PercentComplete" === A.durationBarMode && ((h = 0), (f = n.complete || 0));
                                                    var v = l();
                                                    v.setAttribute("unselectable", "on"), (v.className = A.ca(G.eventBar)), (v.style.position = "absolute"), n.barBackColor && (v.style.backgroundColor = n.barBackColor);
                                                    var p = l();
                                                    p.setAttribute("unselectable", "on"),
                                                        (p.className = A.ca(G.eventBarInner)),
                                                        (p.style.left = h + "%"),
                                                        0 < f && f <= 1 ? (p.style.width = "1px") : (p.style.width = f + "%"),
                                                        n.barColor && (p.style.backgroundColor = n.barColor),
                                                        n.barImageUrl && (p.style.backgroundImage = "url(" + n.barImageUrl + ")"),
                                                        v.appendChild(p),
                                                        r.appendChild(v);
                                                }
                                                if (n.htmlLeft) {
                                                    var m = A.eventHtmlLeftMargin,
                                                        g = l();
                                                    (g.style.position = "absolute"),
                                                        (g.style.right = -(a.left - m) + "px"),
                                                        (g.style.top = y + a.top + "px"),
                                                        (g.style.height = A.eventVersionHeight + "px"),
                                                        (g.style.boxSizing = "border-box"),
                                                        (g.innerHTML = n.htmlLeft),
                                                        (g.className = A.ca("_event_left")),
                                                        (g.type = "divLeft"),
                                                        (g.versionPart = a),
                                                        t.related.push(g),
                                                        d.appendChild(g);
                                                }
                                                if (n.htmlRight) {
                                                    var m = A.eventHtmlRightMargin,
                                                        b = l();
                                                    (b.style.position = "absolute"),
                                                        (b.style.left = a.left + a.width + m + "px"),
                                                        (b.style.top = y + a.top + "px"),
                                                        (b.style.height = A.eventVersionHeight + "px"),
                                                        (b.style.boxSizing = "border-box"),
                                                        (b.innerHTML = n.htmlRight),
                                                        (b.className = A.ca("_event_right")),
                                                        (b.type = "divRight"),
                                                        (b.versionPart = a),
                                                        t.related.push(b),
                                                        d.appendChild(b);
                                                }
                                                (r.versionPart = a), (r.type = "version");
                                                var w = DayPilot.Areas.resolvePosition(n.areas, A, a.left, a.width);
                                                DayPilot.Areas.attach(r, n, { areas: w }), t.related.push(r), d.appendChild(r);
                                            }
                                        }
                                    });
                            })(O),
                            z.htmlLeft)
                        ) {
                            var U = A.eventHtmlLeftMargin,
                                j = l();
                            (j.style.position = "absolute"),
                                (j.style.right = -(e.part.left - U) + "px"),
                                (j.style.top = y + e.part.top + "px"),
                                (j.style.height = A.eventHeight + "px"),
                                (j.style.boxSizing = "border-box"),
                                (j.innerHTML = z.htmlLeft),
                                (j.className = A.ca("_event_left")),
                                (j.type = "divLeft"),
                                O.related.push(j),
                                d.appendChild(j);
                        }
                        if (z.htmlRight) {
                            var U = A.eventHtmlRightMargin,
                                W = l();
                            (W.style.position = "absolute"),
                                (W.style.left = e.part.left + e.part.width + U + "px"),
                                (W.style.top = y + e.part.top + "px"),
                                (W.style.height = A.eventHeight + "px"),
                                (W.style.boxSizing = "border-box"),
                                (W.innerHTML = z.htmlRight),
                                (W.className = A.ca("_event_right")),
                                (W.type = "divRight"),
                                O.related.push(W),
                                d.appendChild(W);
                        }
                        var C = y + e.part.top;
                        if (A.treeAnimation) {
                            var F = "number" == typeof h.forcedHeight ? h.forcedHeight : h.height;
                            e.part.top + e.part.height > F && (L = Math.max(0, F - e.part.top));
                        }
                        (O.style.position = "absolute"),
                            (O.style.left = e.part.left + A.eventMarginLeft + "px"),
                            (O.style.top = y + e.part.top + "px"),
                            (O.style.width = I - A.eventMarginLeft - A.eventMarginRight + "px"),
                            (O.style.height = L + "px"),
                            A.eventTextWrappingEnabled || (O.style.whiteSpace = "nowrap"),
                            (O.style.overflow = "hidden"),
                            (O.className = this.ca(G.event)),
                            N && u(O, A.ca("_task_milestone")),
                            "Group" === e.data.type && (u(O, A.ca("_task_parent")), u(O, A.ca("_task_group"))),
                            z.cssClass && u(O, z.cssClass);
                        "number" == typeof e.part.line && u(O, this.ca(G.eventLine + e.part.line)),
                            O.setAttribute("unselectable", "on"),
                            this.showToolTip && !this.bubble && (O.title = e.client.toolTip() || ""),
                            (O.onmousemove = this.Ge),
                            (O.onmouseout = this.He),
                            (O.onmousedown = this.Ie),
                            (O.onmouseup = this.wt),
                            DayPilot.reNonPassive(O, "touchstart", J.xt),
                            DayPilot.rePassive(O, "touchmove", J.yt),
                            DayPilot.reNonPassive(O, "touchend", J.zt),
                            e.client.clickEnabled() && (O.onclick = this.kj),
                            e.client.doubleClickEnabled() && (O.ondblclick = this.Xb),
                            (O.oncontextmenu = function (e) {
                                A.allowDefaultContextMenu || e.preventDefault();
                            }),
                            "undefined" != typeof z.ariaLabel ? O.setAttribute("aria-label", z.ariaLabel) : O.setAttribute("aria-label", z.text),
                            O.setAttribute("tabindex", "-1");
                        var q = l();
                        q.setAttribute("unselectable", "on"),
                            (q.className = A.ca(G.eventInner)),
                            z.backColor && (q.style.background = z.backColor),
                            "contrasting" === z.fontColor && z.backColor ? (q.style.color = DayPilot.ColorUtil.contrasting(z.backColor)) : (q.style.color = z.fontColor),
                            "darker" === z.borderColor && z.backColor ? (q.style.borderColor = DayPilot.ColorUtil.darker(z.backColor, 2)) : (q.style.borderColor = z.borderColor),
                            z.backImage && ((q.style.backgroundImage = "url(" + z.backImage + ")"), z.backRepeat && (q.style.backgroundRepeat = z.backRepeat)),
                            O.appendChild(q);
                        var Y = e.start().getTime() === e.part.start.getTime(),
                            V = e.rawend().getTime() === e.part.end.getTime();
                        if ((Y || N || u(O, this.ca("_event_continueleft")), V || N || u(O, this.ca("_event_continueright")), e.client.barVisible() && I > 0 && !N)) {
                            var X = (100 * e.part.barLeft) / I,
                                Z = Math.ceil((100 * e.part.barWidth) / I);
                            "PercentComplete" === this.durationBarMode && ((X = 0), (Z = z.complete || 0)), A.durationBarHeight && (q.style.paddingTop = A.durationBarHeight + "px");
                            var K = l();
                            K.setAttribute("unselectable", "on"),
                                (K.className = this.ca(G.eventBar)),
                                (K.style.position = "absolute"),
                                A.durationBarHeight && (K.style.height = A.durationBarHeight + "px"),
                                z.barBackColor && (K.style.backgroundColor = z.barBackColor);
                            var Q = l();
                            Q.setAttribute("unselectable", "on"),
                                (Q.className = this.ca(G.eventBarInner)),
                                (Q.style.left = X + "%"),
                                A.durationBarHeight && (Q.style.height = A.durationBarHeight + "px"),
                                0 < Z && Z <= 1 ? (Q.style.width = "1px") : (Q.style.width = Z + "%"),
                                z.barColor && (Q.style.backgroundColor = z.barColor),
                                z.barImageUrl && (Q.style.backgroundImage = "url(" + z.barImageUrl + ")"),
                                K.appendChild(Q),
                                O.appendChild(K);
                        }
                        if (((O.row = r), z.areas)) {
                            var $ = DayPilot.Areas.resolvePosition(z.areas, A, e.part.left, e.part.width);
                            ($ = $.filter(function (e) {
                                return DayPilot.Areas.isVisible(e);
                            })),
                                $.forEach(function (t) {
                                    var n = DayPilot.Areas.createArea(O, e, t);
                                    O.appendChild(n);
                                });
                        }
                        if (
                            ((O.event = e),
                            M && (A.multiselect.add(O.event, !0), A.multiselect.Ad(O)),
                            T.source && B.mo(O),
                            (function () {
                                if ("function" != typeof A.onBeforeEventDomAdd && "function" != typeof A.onBeforeEventDomRemove)
                                    return void (N || (v(z.html) ? v(z.text) || (A.Ga.Fa() ? (q.innerText = z.text) : (q.innerHTML = z.text)) : (q.innerHTML = z.html)));
                                var t = {};
                                if (
                                    ((t.control = A),
                                    (t.e = e),
                                    (t.element = null),
                                    (O.domArgs = t),
                                    "function" == typeof A.onDomAddEvent && A.onDomAddEvent(t),
                                    "function" == typeof A.onBeforeEventDomAdd && A.onBeforeEventDomAdd(t),
                                    t.element)
                                ) {
                                    var n = q;
                                    if (n) {
                                        t.ze = n;
                                        var i = m(t.element),
                                            a = g(t.element);
                                        if (i) {
                                            if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            A.W.V(t.element, n);
                                        } else if (a) {
                                            if (!A.Y.hp) throw new DayPilot.Exception("Can't reach Vue");
                                            (A.Y.ot = !0), A.Y.Z(t.element, n, t.props), (A.Y.ot = !1);
                                        } else n.appendChild(t.element);
                                    }
                                } else N || (q.innerHTML = e.client.innerHTML());
                            })(),
                            this.elements.events.push(O),
                            d.appendChild(O),
                            (e.rendered = !0),
                            A.Eb())
                        ) {
                            if ("function" == typeof A.onAfterEventRender) {
                                var ee = {};
                                (ee.e = O.event), (ee.div = O), A.onAfterEventRender(ee);
                            }
                        } else A.afterEventRender && A.afterEventRender(O.event, O);
                        return !0;
                    }),
                    (this.Ea = function (e, t) {
                        return A.Ga.Fa() ? DayPilot.Util.escapeTextHtml(e, t) : v(t) ? (v(e) ? "" : e) : t;
                    }),
                    (this.Eb = function () {
                        return 2 === A.api;
                    }),
                    (this.mn = function () {
                        for (var e = 0; e < this.elements.events.length; e++) {
                            var t = this.elements.events[e],
                                n = t.event,
                                i = n.part.dayIndex,
                                a = A.co(n.part.grid),
                                r = a.rowlist[i],
                                o = r.top,
                                s = o + n.part.top,
                                l = "number" == typeof r.forcedHeight ? r.forcedHeight : r.height,
                                d = n.part.height,
                                c = !1;
                            n.part.top + n.part.height > l && ((d = Math.max(0, l - n.part.top)), (c = !0)),
                                (t.style.top = s + "px"),
                                (t.style.height = d + "px"),
                                w(t.related)
                                    .filter(function (e) {
                                        return !!e.versionPart;
                                    })
                                    .forEach(function (e) {
                                        var t = e.versionPart;
                                        e.style.top = o + t.top + "px";
                                    }),
                                w(t.related)
                                    .filter(function (e) {
                                        return !e.versionPart && ("divLeft" === e.type || "divRight" === e.type);
                                    })
                                    .forEach(function (e) {
                                        e.style.top = s + "px";
                                    });
                        }
                    }),
                    (this.Sg = function (e) {
                        if (!e) return null;
                        for (var t = 0; t < A.elements.events.length; t++) {
                            var n = A.elements.events[t];
                            if (A.xd(n.event, e)) return n;
                        }
                        return null;
                    }),
                    (this.To = function (e) {
                        var t = A.events.Co(e.data);
                        if (!t) return null;
                        var n = A.rowlist[t.part.dayIndex];
                        return A.Wp(n), A.Fe(t, { forced: !0 }), A.Sg(t);
                    }),
                    (this.He = function (e) {
                        var t = this;
                        DayPilot.Areas.hideAreas(t, e), t.active || (c(t, A.ca("_event_hover")), A.At(t), T.source || B.vo(), A.bubble && "Bubble" === A.eventHoverHandling && A.bubble.hideOnMouseOut());
                    }),
                    (this.Bt = function (e) {
                        var t = {};
                        (t.div = e), (t.e = e.event), "function" == typeof this.onEventMouseOver && this.onEventMouseOver(t), "function" == typeof this.onEventMouseEnter && this.onEventMouseEnter(t);
                    }),
                    (this.At = function (e) {
                        var t = {};
                        (t.div = e), (t.e = e.event), "function" == typeof this.onEventMouseOut && this.onEventMouseOut(t), "function" == typeof this.onEventMouseLeave && this.onEventMouseLeave(t);
                    }),
                    (this.Ct = function (e) {
                        var t = e.row,
                            n = {};
                        (n.div = e), (n.row = A.xn(t)), "function" == typeof this.onRowMouseOver && this.onRowMouseOver(n);
                    }),
                    (this.Dt = function (e) {
                        var t = e.row,
                            n = {};
                        (n.div = e), (n.row = A.xn(t)), "function" == typeof this.onRowMouseOut && this.onRowMouseOut(n);
                    }),
                    (this.Ge = function (e) {
                        A.cellBubble && A.cellBubble.delayedHide();
                        for (var t = this; t && !t.event; ) t = t.parentNode;
                        var n = t.event;
                        A.Et(t, e);
                        var i = t.event.cache ? t.event.cache.deleteDisabled : t.event.data.deleteDisabled;
                        if (!t.active) {
                            var a = [];
                            if ("Disabled" !== A.eventDeleteHandling && !i) {
                                var r = A.durationBarVisible ? K.$p() : 0;
                                a.push({
                                    action: "JavaScript",
                                    v: "Hover",
                                    w: 17,
                                    h: 17,
                                    top: r + 2,
                                    right: 2,
                                    css: A.ca(G.eventDelete),
                                    js: function (e) {
                                        A.dc(e);
                                    },
                                });
                            }
                            var o = t.event.cache ? t.event.cache.areas : t.event.data.areas;
                            o && o.length > 0 && ((o = DayPilot.Areas.resolvePosition(o, A, n.part.left, n.part.width)), (a = a.concat(o))), DayPilot.Areas.showAreas(t, t.event, null, a), u(t, A.ca("_event_hover")), A.Bt(t);
                        }
                        "Disabled" === A.linkCreateHandling || T.source || (B.po(), B.$m(), A.bt() && B.mo(t)), A.Bm(e), (A.coords.insideEvent = t.event);
                    }),
                    (this.ym = {}),
                    (this.wt = function (e) {
                        var t = A.ym;
                        if (y(e).right) return void A.Yb.call(this, e);
                        if (A.ionicEventClickFix) {
                            var n = t.Kf;
                            if (n) {
                                var i = DayPilot.mc(e);
                                n.x === i.x && n.y === i.y && (A.kj.call(this, e), e.preventDefault(), e.stopPropagation());
                            }
                        }
                    }),
                    (this.Ie = function (e) {
                        A.ab(), "undefined" != typeof DayPilot.Bubble && (DayPilot.Bubble.hideActive(), DayPilot.Bubble.cancelShowing()), A.Bm(e);
                        var t = y(e);
                        if ((e.preventDefault(), e.stopPropagation(), t.left)) {
                            var n = e.shiftKey;
                            if ("Disabled" !== K.Cm() && n) return V.start(), !1;
                            "w-resize" === this.style.cursor || "e-resize" === this.style.cursor
                                ? ((i.xm = !0), (i.vp = this), (i.Np = this.event), (i.Kf = DayPilot.mc(e)), (s().style.cursor = this.style.cursor), B.$m())
                                : ("move" === this.style.cursor || ("Full" === A.moveBy && this.event.client.moveEnabled())) && A.$d(this, e);
                        }
                        DayPilot.Menu && DayPilot.Menu.active && (DayPilot.Menu.active.hide(), (DayPilot.Menu.active = null));
                    }),
                    (this.$d = function (e, t) {
                        var n = A.ym;
                        A.Bm(t), (n.Ft = !0), (n.ym = e), (n.qp = e.event), (n.Kf = DayPilot.mc(t)), (n.pp = DayPilot.mo3(e, t).x), (n.up = A.getDate(A.coords.x, !0)), B.$m();
                    }),
                    (this.Je = {});
                var J = A.Je;
                "undefined" == typeof b.touch && (b.touch = {}),
                    (b.touch.active = !1),
                    (b.touch.start = !1),
                    (J.zm = []),
                    (J.relativeCoords = function (e) {
                        return J.Cg(e);
                    }),
                    (J.startResizing = function (e, t) {
                        J.le(e, t);
                    }),
                    (J.startMoving = function (e, t) {
                        J.$d(e, t);
                    }),
                    (J.xt = function (e) {
                        if (!b.touch.active && !b.touch.start) {
                            DayPilot.Menu && DayPilot.Menu.touchPosition(e), e.stopPropagation(), J.Gt(), (b.touch.start = !0), (b.touch.active = !1);
                            var t = this;
                            A.coords = J.Cg(e);
                            var i = A.tapAndHoldTimeout;
                            J.zm.push(
                                window.setTimeout(function () {
                                    (b.touch.active = !0), (b.touch.start = !1), e.preventDefault();
                                    var i = t.event;
                                    switch (A.eventTapAndHoldHandling) {
                                        case "Move":
                                            if (i.client.moveEnabled()) {
                                                var a = n(e);
                                                J.$d(t, a);
                                            }
                                            break;
                                        case "ContextMenu":
                                            DayPilot.Menu && DayPilot.Menu.touchPosition(e);
                                            var r = i.client.contextMenu();
                                            r ? r.show(i) : A.contextMenu && A.contextMenu.show(i);
                                    }
                                }, i)
                            );
                        }
                    }),
                    (J.yt = function (e) {
                        J.Gt(), (b.touch.start = !1);
                    }),
                    (J.zt = function (e) {
                        if (!DayPilot.Util.isMouseEvent(e)) {
                            if ((J.Gt(), b.touch.start)) {
                                (b.touch.start = !1), e.preventDefault(), e.stopPropagation();
                                var t = this;
                                window.setTimeout(function () {
                                    A.Ub(t, e);
                                });
                            }
                            window.setTimeout(function () {
                                (b.touch.start = !1), (b.touch.active = !1);
                            }, 500);
                        }
                    }),
                    (J.$e = function (e) {
                        if (!(b.touch.active || b.touch.start || e.touches.length > 1 || "Disabled" === A.timeRangeSelectedHandling)) {
                            J.Gt(), (b.touch.start = !0), (b.touch.active = !1);
                            var t = A.tapAndHoldTimeout;
                            J.zm.push(
                                window.setTimeout(function () {
                                    (b.touch.active = !0), (b.touch.start = !1), e.preventDefault(), (A.coords = J.Cg(e)), A.Gc(A.coords) ? A.Ht(e) : (J.wp = A.It());
                                }, t)
                            );
                            A.coords = J.Cg(e);
                        }
                    }),
                    (J._e = function (e) {
                        if ((J.Gt(), (b.touch.start = !1), i.vp)) return e.preventDefault(), void J.Gg();
                        if (b.touch.active) {
                            if ((e.preventDefault(), (A.coords = J.Cg(e)), i.ym)) return void J.Hg();
                            if (J.wp) {
                                var t = J.wp;
                                (t.end = { x: Math.floor(A.coords.x / A.cellWidth), time: A.getDate(A.coords.x, !0) }), A.tn(t);
                            }
                        }
                    }),
                    (J.debug = function (e) {}),
                    (J.af = function (e) {
                        J.Gt();
                        if (b.touch.active) {
                            if (i.ym) {
                                e.preventDefault();
                                var t = i.qp;
                                if (A !== i.rq.calendar) return;
                                var n = i.rq.start,
                                    a = i.rq.end,
                                    r = "Days" !== A.viewType ? i.rq.row.id : null,
                                    o = i.wq && t.part.external,
                                    l = i.rq.overlapping,
                                    d = !i.rq.allowed;
                                if (
                                    (c(i.ym, A.ca(A.Jt.eventMovingSource)),
                                    k(i.rq),
                                    A.Aq(),
                                    (i.rq.calendar = null),
                                    (s().style.cursor = ""),
                                    (i.ym = null),
                                    (i.qp = null),
                                    (i.rq = null),
                                    A.oq.clear(),
                                    l || d || A.oq.forbidden || A.oq.invalid)
                                )
                                    return;
                                A.oc(t, n, a, r, o);
                            }
                            if (J.wp) {
                                var u = J.wp;
                                J.wp = null;
                                var h = A.elements.range2;
                                h && h.overlapping ? A.clearSelection() : ((A.sn = u), A.pn(u));
                            }
                        } else if (b.touch.start) {
                            if (A.coords.x < A.getScrollX()) return;
                            var u = A.It();
                            A.tn(u);
                            var h = A.elements.range2;
                            h && h.overlapping ? A.clearSelection() : ((A.sn = u), A.pn(u));
                        }
                        window.setTimeout(function () {
                            (b.touch.start = !1), (b.touch.active = !1);
                        }, 500);
                    }),
                    (J.Gt = function () {
                        for (var e = 0; e < J.zm.length; e++) clearTimeout(J.zm[e]);
                        J.zm = [];
                    }),
                    (J.Cg = function (e) {
                        function t(e, t, n) {
                            var i = DayPilot.abs(n);
                            return {
                                x: e - i.x,
                                y: t - i.y,
                                toString: function () {
                                    return "x: " + this.x + ", y:" + this.y;
                                },
                            };
                        }
                        var n = A.Dl,
                            i = e.touches ? e.touches[0] : e,
                            a = i.pageX,
                            r = i.pageY,
                            o = t(a, r, n);
                        if (((o.grid = "main"), A.Cl.top.enabled())) {
                            var s = A.Cl.top,
                                l = t(a, r, s.divCells);
                            l.y > 0 && l.y <= s.height && ((o = l), (o.grid = "top"));
                        }
                        if (A.Cl.bottom.enabled()) {
                            var d = A.Cl.bottom,
                                c = t(a, r, d.divCells);
                            c.y > 0 && c.y <= s.height && ((o = c), (o.grid = "bottom"));
                        }
                        return o;
                    }),
                    (J.$d = function (e, t) {
                        (i.ym = e), (i.qp = e.event), (i.Kf = t);
                        var n = DayPilot.abs(e);
                        (i.pp = t.x - n.x), (i.up = A.getDate(A.coords.x, !0)), (i.rq = A.Fb(e)), A.Kp();
                    }),
                    (J.le = function (e, t) {
                        (i.vp = e), (i.Np = e.event), (i.vp.dpBorder = t), i.Mp || (i.Mp = A.Fb(e)), A.tq();
                    }),
                    (J.Gg = function () {
                        if (!i.Mp) {
                            var e = i.vp;
                            i.Mp = A.Fb(e);
                        }
                        A.tq();
                        var t = { x: A.coords.x, y: A.coords.y, grid: A.coords.grid };
                        A.Nf(t);
                    }),
                    (J.Hg = function () {
                        if ((i.rq && i.rq.calendar !== A && A.Aq(), !i.rq)) {
                            var e = i.ym;
                            i.rq = A.Fb(e);
                        }
                        i.rq.calendar.Kp();
                        var t = { x: A.coords.x, y: A.coords.y, grid: A.coords.grid };
                        A.Nf(t);
                    }),
                    (J._q = function (e) {
                        var t = this.row,
                            n = A.xn(t);
                        if (!(b.touch.active || b.touch.start || e.touches.length > 1)) {
                            J.Gt(), (b.touch.start = !0), (b.touch.active = !1);
                            var i = A.tapAndHoldTimeout;
                            J.zm.push(
                                window.setTimeout(function () {
                                    (b.touch.active = !0), (b.touch.start = !1), e.preventDefault(), A.contextMenuResource && A.contextMenuResource.show(n);
                                }, i)
                            );
                            A.coords = J.Cg(e);
                        }
                    }),
                    (J.ar = function (e) {
                        b.touch.active && ((b.touch.start = !1), e.preventDefault(), e.stopPropagation()),
                            window.setTimeout(function () {
                                (b.touch.start = !1), (b.touch.active = !1);
                            }, 500);
                    }),
                    (this.Et = function (e, t) {
                        var n = this.eventResizeMargin,
                            a = this.eventMoveMargin,
                            r = e;
                        if ("undefined" != typeof i) {
                            var o = DayPilot.mo3(e, t);
                            if (o && ((A.eventOffset = o), !i.vp && !i.ym)) {
                                var s = r.event.part.start.toString() === r.event.start().toString(),
                                    l = r.event.part.end.toString() === r.event.rawend().toString();
                                if (
                                    ("Top" === A.moveBy && o.y <= a && r.event.client.moveEnabled() && "Disabled" !== A.eventMoveHandling
                                        ? (e.style.cursor = "move")
                                        : ("Top" === A.moveBy || "Full" === A.moveBy) && o.x <= n && r.event.client.resizeEnabled() && "Disabled" !== A.eventResizeHandling
                                        ? s
                                            ? ((e.style.cursor = "w-resize"), (e.dpBorder = "left"))
                                            : (e.style.cursor = "not-allowed")
                                        : "Left" === A.moveBy && o.x <= a && r.event.client.moveEnabled() && "Disabled" !== A.eventMoveHandling
                                        ? (e.style.cursor = "move")
                                        : e.offsetWidth - o.x <= n && r.event.client.resizeEnabled() && "Disabled" !== A.eventResizeHandling
                                        ? l
                                            ? ((e.style.cursor = "e-resize"), (e.dpBorder = "right"))
                                            : (e.style.cursor = "not-allowed")
                                        : i.vp || i.ym || (r.event.client.clickEnabled() && "Disabled" !== A.eventClickHandling ? (e.style.cursor = "pointer") : (e.style.cursor = "default")),
                                    "undefined" != typeof DayPilot.Bubble && A.bubble && "Bubble" === A.eventHoverHandling && ("default" === e.style.cursor || "pointer" === e.style.cursor))
                                ) {
                                    this.Ig && o.x === this.Ig.x && o.y === this.Ig.y;
                                    (this.Ig = o), A.bubble.showEvent(e.event);
                                }
                            }
                        }
                    }),
                    (this.Sp = function () {
                        return "Days" !== this.viewType ? this.itline.length : Math.floor(1440 / this.cellDuration);
                    }),
                    (this.qn = function (e) {
                        var e = e || i.wp || A.sn;
                        if (!e) return null;
                        var t = A.co(e.start.grid),
                            n = t.rowlist[e.start.y];
                        if (!n) return null;
                        var a = e.Kt ? e.Kt : e,
                            r = a.end.time > a.start.time,
                            o = n.id,
                            s = r ? a.start.x : a.end.x,
                            l = r ? a.end.x : a.start.x,
                            d = n.start.getTime() - this.Ob().getTime(),
                            c = A.snapToGrid && A.snapToGridTimeRangeSelecting;
                        e.forceSnap && (c = !0);
                        var u, h;
                        c ? ((u = this.itline[s].start.addTime(d)), (h = this.itline[l].end.addTime(d))) : r ? ((u = a.start.time), (h = a.end.time)) : ((u = a.end.time), (h = a.start.time));
                        var f = new DayPilot.Selection(u, h, o, A);
                        return (f.allowed = !e.div || !e.div.overlapping), f;
                    }),
                    (this.dd = function (e) {
                        var t = e.parentNode,
                            n = A.eventEditMinWidth,
                            i = (e.event.text() || "").trim(),
                            a = document.createElement("textarea");
                        return (
                            (a.style.position = "absolute"),
                            (a.style.width = (e.offsetWidth < n ? n : e.offsetWidth - 2) + "px"),
                            (a.style.height = e.offsetHeight - 2 + "px"),
                            (a.style.fontFamily = DayPilot.gs(e, "fontFamily") || DayPilot.gs(e, "font-family")),
                            (a.style.fontSize = DayPilot.gs(e, "fontSize") || DayPilot.gs(e, "font-size")),
                            (a.style.left = e.offsetLeft + "px"),
                            (a.style.top = e.offsetTop + "px"),
                            (a.style.border = "1px solid black"),
                            (a.style.padding = "1px"),
                            (a.style.marginTop = "0px"),
                            (a.style.backgroundColor = "white"),
                            (a.value = i),
                            (a.event = e.event),
                            t.appendChild(a),
                            a
                        );
                    }),
                    (this.Lt = function (e) {
                        var t = H.nk();
                        t.sort(function (e, t) {
                            var n = e.event,
                                i = t.event;
                            return n.part.dayIndex !== i.part.dayIndex ? n.part.dayIndex - i.part.dayIndex : n.start() !== i.start() ? n.start().getTime() - i.start().getTime() : i.end().getTime() - n.end().getTime();
                        });
                        var n = t.indexOf(e);
                        return n === -1 ? null : n + 1 < t.length ? t[n + 1] : t[0];
                    }),
                    (this.Vb = function (e) {
                        if (e) {
                            if ((i.Uo && i.Uo.blur(), e.event)) {
                                var t = e.event;
                                Z.Vo();
                                var n = this.dd(e);
                                if (
                                    ((i.Uo = n),
                                    DayPilot.rePassive(n, DayPilot.touch.start, function (e) {
                                        e.stopPropagation();
                                    }),
                                    (n.onblur = function () {
                                        if (((n.onblur = null), i.Uo === n && (i.Uo = null), n.parentNode && n.parentNode.removeChild(n), e.event)) {
                                            var t = (e.event.text(), n.value);
                                            A.zc(e.event, t, n.canceling);
                                        }
                                    }),
                                    (n.onmousedown = function (e) {
                                        e.stopPropagation && e.stopPropagation();
                                    }),
                                    (n.cancel = function () {
                                        i.Uo && ((i.Uo.canceling = !0), i.Uo.blur());
                                    }),
                                    (n.onkeydown = function (a) {
                                        if ("function" == typeof A.onEventEditKeyDown) {
                                            var r = {};
                                            if (
                                                ((r.e = e.event),
                                                (r.element = n),
                                                (r.preventDefault = function () {
                                                    r.preventDefault.value = !0;
                                                }),
                                                (r.submit = function () {
                                                    n.onblur();
                                                }),
                                                (r.cancel = function () {
                                                    i.Uo.cancel();
                                                }),
                                                (r.originalEvent = a),
                                                A.onEventEditKeyDown(r),
                                                r.preventDefault.value)
                                            )
                                                return;
                                        }
                                        var o = i.Uo,
                                            s = a.keyCode;
                                        if ((13 === s && (a.stopPropagation(), this.onblur()), 27 === s)) o.cancel();
                                        else if (9 === s && A.eventEditTabNext) {
                                            var l = A.Sg(t),
                                                d = A.Lt(l);
                                            return (
                                                o && o.cancel(),
                                                d &&
                                                    setTimeout(function () {
                                                        A.Vb(d);
                                                    }, 0),
                                                !1
                                            );
                                        }
                                    }),
                                    "function" == typeof A.onAfterEventEditRender)
                                ) {
                                    var a = {};
                                    (a.element = n), (a.e = e.event), A.onAfterEventEditRender(a);
                                }
                                n.select(), n.focus();
                            }
                        }
                    }),
                    (this.Mt = {}),
                    (this.Mt.resource = (function () {
                        return "undefined" != typeof DayPilot.Bubble
                            ? new DayPilot.Bubble()
                            : {
                                  showResource: function () {},
                                  hideOnMouseOut: function () {},
                              };
                    })()),
                    (this.Mt.cell = (function () {
                        return "undefined" != typeof DayPilot.Bubble ? new DayPilot.Bubble() : { showResource: function () {}, hideOnMouseOut: function () {} };
                    })()),
                    (this.Vq = function (e) {
                        var t = this,
                            n = t.row;
                        if (
                            (A.cb(),
                            (A.Nt = !0),
                            clearTimeout(A.Ot),
                            (A.Ot = setTimeout(function () {
                                A.Nt = !1;
                            }, 500)),
                            "undefined" != typeof DayPilot.Bubble)
                        ) {
                            A.cellBubble;
                            var i = A.xn(n);
                            (i.div = t), A.resourceBubble ? A.resourceBubble.showResource(i) : n.bubbleHtml && A.Mt.resource.showResource(i);
                        }
                    }),
                    (this.Tq = function (e) {
                        var t = this;
                        t.active || ((t.active = !0), A.Ct(t));
                    }),
                    (this.Uq = function (e) {
                        var t = this;
                        delete t.active, A.Dt(t);
                    }),
                    (this.Wq = function (e) {
                        var t = this;
                        "undefined" != typeof DayPilot.Bubble && A.resourceBubble ? A.resourceBubble.hideOnMouseOut() : A.Mt.resource.hideOnMouseOut();
                        var n = t.firstChild;
                        DayPilot.Areas.hideAreas(n, e), (n.data = null);
                    }),
                    (this.Xq = function (e) {
                        D.row &&
                            ((j.cancelClick = !0),
                            setTimeout(function () {
                                j.cancelClick = !1;
                            }, 100)),
                            A.Ir && ((A.Ir = !1), clearTimeout(A.Jr), A.Zq.call(this, e));
                    }),
                    (this.hl = function () {
                        if ("None" !== A.timeHeaderPosition && this.timeHeader) {
                            (this.ta.timeHeader = {}), A.elements.timeHeader.length > 0 && (A.Xn(), (A.elements.timeHeader = []));
                            var e = l();
                            (e.style.position = "relative"), (this.nav.timeHeader = e);
                            for (var t = 0; t < this.timeHeader.length; t++) for (var n = this.timeHeader[t], i = 0; i < n.length; i++) this.Pt(i, t);
                            var a = this.divNorth;
                            1 === a.childNodes.length ? a.replaceChild(e, a.childNodes[0]) : ((a.innerHTML = ""), a.appendChild(e));
                            var r = this.Sl();
                            (a.style.width = r + 5e3 + "px"), r > 0 && (this.divStretch.style.width = r + "px"), A.Qt();
                        }
                    }),
                    (this.Wa = function () {
                        if (A.divCorner) {
                            var e = A.divCorner && A.divCorner.domArgs;
                            if (((A.divCorner.domArgs = null), e && ("function" == typeof A.onBeforeCornerDomRemove && A.onBeforeCornerDomRemove(e), "function" == typeof A.onBeforeCornerDomAdd && A.W.reactDOM))) {
                                var t = A.divCorner;
                                if (t) {
                                    if (m(e.element)) {
                                        if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                        A.W.ka(t);
                                    }
                                }
                            }
                        }
                    }),
                    (this.sm = function (e, t) {
                        var n = null,
                            i = this.Ga.Lc(),
                            t = t || this.cellGroupBy,
                            a = e.start;
                        e.end;
                        switch (t) {
                            case "Minute":
                                n = a.toString("m");
                                break;
                            case "Hour":
                                n = "Clock12Hours" === A.Ga.Kc() ? a.toString("h tt", i) : a.toString("H", i);
                                break;
                            case "Day":
                                n = a.toString(i.datePattern);
                                break;
                            case "Week":
                                n = 1 === K.Id() ? a.weekNumberISO() : a.weekNumber();
                                break;
                            case "Month":
                                n = a.toString("MMMM yyyy", i);
                                break;
                            case "Quarter":
                                n = "Q" + Math.floor(a.getMonth() / 3 + 1);
                                break;
                            case "Year":
                                n = a.toString("yyyy");
                                break;
                            case "None":
                                n = "";
                                break;
                            case "Cell":
                                var r = (e.end.ticks - e.start.ticks) / 6e4;
                                n = this.Rt(a, r);
                                break;
                            default:
                                throw new DayPilot.Exception("Invalid groupBy value: " + t);
                        }
                        return n;
                    }),
                    (this.Rt = function (e, t) {
                        var n = this.Ga.Lc(),
                            t = t || this.cellDuration;
                        return t < 1
                            ? e.toString("ss")
                            : t < 60
                            ? e.toString("mm")
                            : t < 1440
                            ? "Clock12Hours" === A.Ga.Kc()
                                ? e.toString("h tt", n)
                                : e.toString("H", n)
                            : t < 10080
                            ? e.toString("d")
                            : 10080 === t
                            ? 1 === K.Id()
                                ? e.weekNumberISO()
                                : e.weekNumber()
                            : e.toString("MMMM yyyy", n);
                    }),
                    (this.pm = function (e) {
                        var t = this.scale;
                        switch (t) {
                            case "Cell":
                                throw new DayPilot.Exception("Invalid scale: Cell");
                            case "Manual":
                                throw new DayPilot.Exception("Internal error (addScaleSize in Manual mode)");
                            case "CellDuration":
                                return e.addMinutes(this.cellDuration);
                            default:
                                return this.rm(e, t, !0);
                        }
                    }),
                    (this.rm = function (e, t, n) {
                        var i, a;
                        if (n) {
                            var r = "Days" !== this.viewType ? this.days : 1;
                            (a = this.startDate.addDays(r)), "Manual" === A.scale && (a = A.Vd());
                        } else (a = A.Vd()), "Days" === A.viewType && (a = A.startDate.addDays(1));
                        var t = t || this.cellGroupBy,
                            o = 60;
                        switch (t) {
                            case "Minute":
                                e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours()).addMinutes(e.getMinutes())), (i = e.addMinutes(1));
                                break;
                            case "Hour":
                                e.getHours() + e.getMinutes() + e.getSeconds() + e.getMilliseconds() > 0 && (e = e.getDatePart().addHours(e.getHours())), (i = e.addHours(1));
                                break;
                            case "Day":
                                i = e.getDatePart().addDays(1);
                                break;
                            case "Week":
                                for (i = e.getDatePart().addDays(1); i.dayOfWeek() !== K.Id(); ) i = i.addDays(1);
                                break;
                            case "Month":
                                (e = e.getDatePart()), (i = e.addMonths(1)), (i = i.firstDayOfMonth());
                                for (var s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0; !s; ) (i = i.addHours(1)), (s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                                break;
                            case "Quarter":
                                for (e = e.getDatePart(), i = e.addMonths(1), i = i.firstDayOfMonth(); i.getMonth() % 3; ) i = i.addMonths(1);
                                for (var s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0; !s; ) (i = i.addHours(1)), (s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                                break;
                            case "Year":
                                (e = e.getDatePart()), (i = e.addYears(1)), (i = i.firstDayOfYear());
                                for (var s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0; !s; ) (i = i.addHours(1)), (s = (DayPilot.DateUtil.diff(i, e) / 6e4) % o === 0);
                                break;
                            case "None":
                                i = a;
                                break;
                            case "Cell":
                                var l = this.wm(e);
                                i = l.current ? l.current.end : l.past ? l.previous.end : l.next.start;
                                break;
                            default:
                                throw n ? new DayPilot.Exception("Invalid scale value: " + t) : new DayPilot.Exception("Invalid groupBy value: " + t);
                        }
                        return i.getTime() > a.getTime() && (i = a), i;
                    }),
                    (this.Jt = {}),
                    (this.Jt.timeheadercol = "_timeheadercol"),
                    (this.Jt.timeheadercolInner = "_timeheadercol_inner"),
                    (this.Jt.resourcedivider = "_resourcedivider"),
                    (this.Jt.eventFloat = "_event_float"),
                    (this.Jt.eventFloatInner = "_event_float_inner"),
                    (this.Jt.event = "_event"),
                    (this.Jt.eventInner = "_event_inner"),
                    (this.Jt.eventBar = "_event_bar"),
                    (this.Jt.eventBarInner = "_event_bar_inner"),
                    (this.Jt.eventDelete = "_event_delete"),
                    (this.Jt.eventLine = "_event_line"),
                    (this.Jt.eventMovingSource = "_event_moving_source");
                var G = this.Jt;
                (this.Pt = function (e, t) {
                    var n = this.nav.timeHeader,
                        i = this.timeHeader[t][e],
                        a = e === this.timeHeader[t].length - 1,
                        r = t < this.timeHeader.length - 1,
                        o = i.left,
                        s = i.width,
                        d = Q._p(t),
                        c = d.top,
                        h = d.height,
                        f = l();
                    (f.style.position = "absolute"),
                        (f.style.top = c + "px"),
                        (f.style.left = o + "px"),
                        (f.style.width = s + "px"),
                        (f.style.height = h + "px"),
                        i.toolTip && (f.title = i.toolTip),
                        f.setAttribute("aria-hidden", "true"),
                        i.cssClass && u(f, i.cssClass),
                        f.setAttribute("unselectable", "on"),
                        (f.style.KhtmlUserSelect = "none"),
                        (f.style.MozUserSelect = "none"),
                        (f.style.webkitUserSelect = "none"),
                        (f.oncontextmenu = function () {
                            return !1;
                        }),
                        (f.cell = {}),
                        (f.cell.start = i.start),
                        (f.cell.end = i.end),
                        (f.cell.level = t),
                        (f.cell.th = i),
                        (f.onclick = this.cr),
                        (f.oncontextmenu = this.dr),
                        DayPilot.rePassive(f, DayPilot.touch.start, function (e) {
                            e.stopPropagation();
                        }),
                        (f.style.overflow = "hidden"),
                        A.timeHeaderTextWrappingEnabled || (f.style.whiteSpace = "nowrap");
                    var v = l();
                    v.setAttribute("unselectable", "on"), (v.innerHTML = A.Ea(i.text, i.innerHTML)), i.backColor && (v.style.background = i.backColor), i.fontColor && (v.style.color = i.fontColor);
                    var p = this.ca(G.timeheadercol),
                        g = this.ca(G.timeheadercolInner);
                    r && ((p = this.ca("_timeheadergroup")), (g = this.ca("_timeheadergroup_inner"))),
                        u(f, p),
                        u(v, g),
                        u(f, A.ca("_timeheader_cell")),
                        u(v, A.ca("_timeheader_cell_inner")),
                        a && u(f, A.ca("_timeheader_cell_last")),
                        (function () {
                            if ("function" == typeof A.onBeforeTimeHeaderDomAdd || "function" == typeof A.onBeforeTimeHeaderDomRemove) {
                                var e = {};
                                if (((e.control = A), (e.header = {}), (e.header.start = i.start), (e.header.end = i.end), (e.header.level = t), (e.element = null), (f.domArgs = e), "function" == typeof A.onBeforeTimeHeaderDomAdd)) {
                                    A.onBeforeTimeHeaderDomAdd(e);
                                    var n = e.element;
                                    if (n) {
                                        v.innerHTML = "";
                                        var a = l();
                                        v.appendChild(a), (e.ze = a);
                                        if (m(n)) {
                                            if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                            A.W.V(n, a);
                                        } else a.appendChild(n);
                                    }
                                }
                            }
                        })(),
                        f.appendChild(v);
                    var y = DayPilot.Areas.resolvePosition(i.areas, A, o, s);
                    DayPilot.Areas.attach(f, i, { areas: y }), (this.ta.timeHeader[e + "_" + t] = f), this.elements.timeHeader.push(f), n.appendChild(f);
                }),
                    (this.St = function () {
                        var e = A.timeHeader,
                            t = e.length - 1;
                        if (t < 0) return null;
                        for (var n = e[t], i = DayPilot.Date.now(), a = 0; a < n.length; a++) {
                            var r = n[a];
                            if (r.start <= i && i <= r.end) return A.ta.timeHeader[a + "_" + t];
                        }
                        return null;
                    }),
                    (this.Tt = null),
                    (this.Qt = function () {
                        var e = A.ca("_timeheader_cell_now"),
                            t = A.Tt,
                            n = A.St();
                        t !== n && (c(t, e), u(n, e), (A.Tt = n));
                    }),
                    (this.Ut = null),
                    (this.Vt = function () {
                        clearTimeout(A.Ut),
                            (A.Ut = setTimeout(function () {
                                A.Qt(), A.Vt();
                            }, 5e3));
                    }),
                    (this.Yn = function () {
                        clearTimeout(A.Ut);
                    }),
                    (this.bn = function () {
                        clearTimeout(A.Ut), A.showCurrentTimeHeader && (A.Qt(), A.Vt());
                    }),
                    (this.Im = function () {
                        return A.Pk
                            ? void Y.pr()
                            : (A.lm().forEach(function (e) {
                                  var t = e.getHeight() + e.marginBottom + e.marginTop;
                                  e.height !== t && (A.jn = !0), (e.height = t);
                              }),
                              void (A.jn && (A.ta.drawArea = null)));
                    }),
                    (this.jl = function () {
                        A.lm().forEach(function (e) {
                            if (!e.hidden) {
                                var t = A.co(e.grid),
                                    n = t.divHeader;
                                if (n) {
                                    var i = e.index;
                                    if (n.rows[i])
                                        for (var a = 0; a < n.rows[i].cells.length; a++) {
                                            var r = n.rows[i].cells[a],
                                                o = t.rowlist[i].cells[a];
                                            A.Kq && r && (r.style.top = e.top + "px");
                                            var s = e.height;
                                            o.rowspan > 1 && (s = o.totalHeight()), r && r.firstChild && parseInt(r.firstChild.style.height, 10) !== s && (r.firstChild.style.height = s + "px");
                                        }
                                }
                            }
                        }),
                            A.Kq && A.nav.resScrollSpace && (A.nav.resScrollSpace.style.top = A.Tk + "px");
                    }),
                    (this.Mg = function (e) {
                        var t = this.separators[e];
                        (t.location = t.location || t.Location), (t.color = t.color || t.Color), (t.layer = t.layer || t.Layer), (t.width = t.width || t.Width), (t.opacity = t.opacity || t.Opacity);
                        var n = new DayPilot.Date(t.location),
                            i = t.color,
                            a = t.width ? t.width : 1,
                            r = !!t.layer && "AboveEvents" === t.layer,
                            o = t.opacity ? t.opacity : 100;
                        if (!(n.getTime() < A.Ob().getTime() || n.getTime() >= A.Vd().getTime())) {
                            var s = this.getPixels(n);
                            if (!s.cut && !(s.left < 0 || s.left > A.Sl())) {
                                var d = l();
                                (d.style.width = a + "px"),
                                    (d.style.height = A.Tk + "px"),
                                    (d.style.position = "absolute"),
                                    (d.style.left = s.left - 1 + "px"),
                                    (d.style.top = "0px"),
                                    (d.style.backgroundColor = i),
                                    (d.style.opacity = o / 100),
                                    (d.style.filter = "alpha(opacity=" + o + ")"),
                                    (d.className = A.ca("_separator")),
                                    t.cssClass && (d.className += " " + t.cssClass),
                                    t.toolTip && (d.title = t.toolTip),
                                    r ? this.divSeparatorsAbove.appendChild(d) : this.divSeparators.appendChild(d),
                                    this.elements.separators.push(d);
                            }
                        }
                    }),
                    (this.Wf = function (e) {}),
                    (this.Xs = function (e) {
                        if ("Disabled" === A.timeRangeDoubleClickHandling) return !1;
                        i.Wt && (clearTimeout(i.Wt), (i.Wt = null));
                        A.Bm(e), e.stopPropagation && e.stopPropagation(), (e.cancelBubble = !0);
                        var t = A.Gc(A.coords);
                        if (t) {
                            var n = A.qn(t);
                            A.yc(n.start, n.end, n.resource);
                        } else if (((i.wp = A.It()), i.wp)) {
                            i.Xt = A;
                            var n = A.qn(i.wp);
                            A.yc(n.start, n.end, n.resource), (A.sn = i.wp);
                        }
                        i.wp = null;
                    }),
                    (this.Us = function (e) {
                        var t = y(e);
                        if (!(("Disabled" === A.timeRangeRightClickHandling && t.right) || b.touch.start || b.touch.active)) {
                            if ((i.Wt, 1, A.Yt(), A.cb(), A.Bm(e), i.Zt)) return !1;
                            var t = y(e);
                            if (A.sg()) return !1;
                            var n = A.Gc(A.coords);
                            if (t.middle || (t.right && n)) return !1;
                            if (n) return !1;
                            var a = t.left ? "left" : t.right ? "right" : t.middle ? "middle" : "unknown";
                            A.$t = a;
                            var r = e.ctrlKey,
                                o = e.metaKey,
                                s = e.shiftKey,
                                l = r || o,
                                d = {};
                            if (
                                ((d.action = "None"),
                                "Disabled" !== K.Cm() && s ? (d.action = "RectangleSelect") : "Disabled" !== A.timeRangeSelectedHandling && (d.action = "TimeRangeSelect"),
                                (d.shift = s),
                                (d.ctrl = s),
                                (d.meta = o),
                                (d.originalEvent = e),
                                (d.button = a),
                                (d.preventDefault = function () {
                                    d.action = "None";
                                }),
                                "function" == typeof A.onGridMouseDown && A.onGridMouseDown(d),
                                "None" === d.action)
                            )
                                return "undefined" != typeof DayPilot.Menu && DayPilot.Menu.hide({ calendar: A }), e.preventDefault(), e.stopPropagation(), !1;
                            if ("RectangleSelect" === d.action) {
                                var c = {};
                                return (c.start = A.coords), (c.calendar = A), (i.Zt = c), !1;
                            }
                            A.allowMultiRange && !l && X.clear();
                            return !A.Tn(A.coords.y, A.coords.grid).element.isNewRow && ((i.wp = A.It()), i.wp && ((i.wp.ctrl = l), (i.wp._t = A.coords), (i.Xt = A)), !1);
                        }
                    }),
                    (this.It = function () {
                        var e = {},
                            t = A.um(A.coords.x).x,
                            n = A.getDate(A.coords.x, !0);
                        return (
                            (e.start = { y: A.Tn(A.coords.y, A.coords.grid).i, x: t, grid: A.coords.grid, time: n }),
                            (e.end = { x: t, time: n }),
                            A.fo(A.Tn(A.coords.y, A.coords.grid).i, A.coords.grid) ? null : ((e.calendar = A), A.tn(e), e)
                        );
                    }),
                    (this.uq = function () {
                        A.Jf();
                        var e = i.Mp,
                            t = A.au,
                            n = { start: e.start, end: A.xj(e.end) };
                        e.original = n;
                        var a = "left" === i.vp.dpBorder ? "start" : "end",
                            r = e.original;
                        if (!r || !t || t.start !== r.start || t.end !== r.end) {
                            L.clear(),
                                L.fq(),
                                (function () {
                                    e.overlapping = !1;
                                    var t = i.vp.event,
                                        n = A.rowlist[t.part.dayIndex],
                                        a = e.left,
                                        r = e.width,
                                        o = w(L.list)
                                            .map(function (e) {
                                                return e.event.data;
                                            })
                                            .add(t.data);
                                    if ((A.lq(e, n, a, r, o), e.start)) {
                                        var s = { start: e.start, end: A.xj(e.end) };
                                        A.mq(e, s.start, s.end, n.id);
                                    }
                                })();
                            var o = i.vp;
                            !(function () {
                                L.clear(), L.fq(), t && (c(e, t.cssClass), (e.firstChild.innerHTML = ""));
                                var r = o.event.part.dayIndex,
                                    s = A.rowlist[r],
                                    l = {};
                                (l.start = n.start),
                                    (l.end = n.end),
                                    (l.duration = new DayPilot.Duration(l.start, l.end)),
                                    (l.row = A.xn(s)),
                                    (l.e = o.event),
                                    (l.allowed = !0),
                                    (l.resizing = a),
                                    (l.what = a),
                                    (l.anchor = "end" === l.what ? n.start : n.end),
                                    (l.areaData = b.resizingAreaData),
                                    (l.left = {}),
                                    (l.left.html = l.start.toString(A.eventResizingStartEndFormat, K.Lc())),
                                    (l.left.enabled = A.eventResizingStartEndEnabled),
                                    (l.left.space = 5),
                                    (l.left.width = null),
                                    (l.left.height = A.eventHeight),
                                    (l.right = {}),
                                    (l.right.html = l.end.toString(A.eventResizingStartEndFormat, K.Lc())),
                                    (l.right.enabled = A.eventResizingStartEndEnabled),
                                    (l.right.space = 5),
                                    (l.right.width = null),
                                    (l.right.height = A.eventHeight),
                                    (l.cssClass = null),
                                    (l.html = null),
                                    (l.overlapping =
                                        l.row.events.forRange(l.start, l.end).filter(function (e) {
                                            return !A.xd(e, l.e);
                                        }).length > 0),
                                    (l.shift = A.coords.shift),
                                    (l.ctrl = A.coords.ctrl),
                                    (l.meta = A.coords.meta),
                                    (l.alt = A.coords.alt),
                                    (l.multiresize = L.dq());
                                var d = {};
                                (d.event = o.event),
                                    (d.start = l.start),
                                    (d.end = l.end),
                                    l.multiresize.splice(0, 0, d),
                                    (A.au = n),
                                    "function" == typeof A.onEventResizing && A.onEventResizing(l),
                                    (L.list = w(l.multiresize, !0)),
                                    L.list.splice(0, 1),
                                    L.wo(),
                                    (e.allowed = l.allowed),
                                    u(e, l.cssClass),
                                    l.html && (e.firstChild.innerHTML = l.html);
                                var h = l.start,
                                    v = A.aj(l.end);
                                if (((e.finalStart = h), (e.finalEnd = v), "Days" === A.viewType)) {
                                    var p = s.start.getTime() - A.Ob().getTime();
                                    (h = h.addTime(-p)), (v = v.addTime(-p));
                                }
                                var m = DayPilot.DateUtil.diff(h, v);
                                m = f(m, 1);
                                var g = (K.Og(m), A.snapToGrid && A.snapToGridEventResizing),
                                    y = g ? A.getPixels(h).boxLeft : A.getPixels(h).left,
                                    x = g ? A.getPixels(v).boxRight : A.getPixels(v).left;
                                (e.style.left = y + "px"), (e.style.width = x - y + "px"), (e.left = y), (e.width = x - y);
                                var k = w(L.list)
                                    .map(function (e) {
                                        return e.event.data;
                                    })
                                    .add(o.event.data);
                                A.lq(i.Mp, s, y, x - y, k), A.xq(i.Mp, l), A.yq(i.Mp, l);
                            })();
                        }
                    }),
                    (this.Ws = function (e) {
                        if (i.Zt) return (e.cancelBubble = !0), e.preventDefault(), i.og(e), !1;
                        if (((A.ym = {}), A.sn)) {
                            var t = y(e);
                            if (t.left) {
                                var n = A.sn;
                                if (A.Gc(A.coords)) {
                                    var a = function (e) {
                                        return function () {
                                            i.Wt = null;
                                            var t = A.qn(e);
                                            if (t) {
                                                var n = {};
                                                (n.start = t.start),
                                                    (n.end = t.end),
                                                    (n.resource = t.resource),
                                                    (n.preventDefault = function () {
                                                        n.preventDefault.value = !0;
                                                    }),
                                                    "function" == typeof A.onTimeRangeClick && A.onTimeRangeClick(n),
                                                    n.preventDefault.value || ("function" == typeof A.onTimeRangeClicked && A.onTimeRangeClicked(n));
                                            }
                                        };
                                    };
                                    "Disabled" != A.timeRangeClickHandling && ("Disabled" === A.timeRangeDoubleClickHandling ? a(n)() : (clearTimeout(i.Wt), (i.Wt = setTimeout(a(n), A.doubleClickTimeout))));
                                }
                            }
                        }
                        var t = y(e);
                        t.right && A.Ht(e);
                    }),
                    (this.Ht = function (e) {
                        if ("Disabled" !== A.timeRangeSelectedHandling && "Disabled" !== A.timeRangeRightClickHandling) {
                            if (i.wp || A.sn || !w(X.list).isEmpty()) {
                                var t = A.Tn(A.coords.y, A.coords.grid);
                                if (A.fo(t.i)) return void (i.wp = null);
                                var n = null,
                                    a = A.Gc(A.coords);
                                if (((n = a ? A.qn(a) : A.qn()), !n)) return void (i.wp = null);
                                var r = a && a.args;
                                if (r && !r.ignoreDisabledCells && A.Nc(n.start, n.end, n.resource)) return (i.wp = null), void A.clearSelection();
                                n.end = A.xj(n.end);
                                var o = {};
                                (o.start = n.start),
                                    (o.end = n.end),
                                    (o.resource = n.resource),
                                    (o.ctrl = e.ctrlKey),
                                    (o.shift = e.shiftKey),
                                    (o.meta = e.metaKey),
                                    (o.preventDefault = function () {
                                        this.preventDefault.value = !0;
                                    }),
                                    ("function" == typeof A.onTimeRangeRightClick && (A.onTimeRangeRightClick(o), o.preventDefault.value)) ||
                                        ("ContextMenu" === A.timeRangeRightClickHandling && A.contextMenuSelection && A.contextMenuSelection.show(n), "function" == typeof A.onTimeRangeRightClicked && A.onTimeRangeRightClicked(o));
                            }
                        }
                    }),
                    (this.sg = function () {
                        return !!(i.vp || i.ym || i.wp || i.wq) || !!A.ym.Ft;
                    }),
                    (this.dragInProgress = function () {
                        return A.sg();
                    }),
                    (this.Bm = function (e) {
                        var t = DayPilot.mo3(A.Dl, e);
                        if (((t = t || {}), (t.grid = "main"), A.Cl.top.enabled())) {
                            var n = A.Cl.top,
                                i = DayPilot.mo3(n.divCells, e);
                            i && i.y > 0 && i.y <= n.height && ((t = i), (t.grid = "top"));
                        }
                        if (A.Cl.bottom.enabled()) {
                            var a = A.Cl.bottom,
                                r = DayPilot.mo3(a.divCells, e);
                            r && r.y > 0 && r.y <= a.height && ((t = r), (t.grid = "bottom"));
                        }
                        (t.stamp = t.grid + "_" + t.x + "_" + t.y), (A.coords && A.coords.stamp === t.stamp) || (A.coords = t);
                    }),
                    (this.getCoords = function () {
                        if (!A.coords) return null;
                        var e = {};
                        (e.x = A.coords.x), (e.y = A.coords.y), (e.grid = A.coords.grid);
                        var t = A.Tn(e.y, e.grid).element;
                        return (
                            (e.row = A.xn(t)),
                            (e.time = A.getDate(e.x, !0)),
                            (e.cell = A.cells.findByPixels(e.x, e.y, e.grid)[0]),
                            (e.event = A.coords.insideEvent ? A.coords.insideEvent : null),
                            (e.eventOffset = null),
                            e.event && (e.eventOffset = p(A.eventOffset, {}, ["x", "y"])),
                            e
                        );
                    }),
                    (this.Ss = !0),
                    (this.Bq = function (e) {
                        if (!b.touch.active) {
                            var t = DayPilot.mc(e);
                            if ((A.Bm(e), (e.insideMainD = !0), (A.Ss = !0), window.event && window.event.srcElement && (window.event.srcElement.inside = !0), A.ym.Ft)) {
                                var n = 2,
                                    a = DayPilot.distance(A.ym.Kf, t);
                                a > n && (p(A.ym, i), (s().style.cursor = "move"), (A.ym = {}));
                            }
                            if (i.vp && i.Np.calendar === A) i.vp.event || (i.vp.event = i.Np), A.bu();
                            else if (i.qp) {
                                var r = i.qp.calendar,
                                    o = r !== A;
                                o && r && i.qp.calendar.ab(), (i.qp.part.external = o), A.cu();
                            } else if (i.wp && i.wp.calendar === A) {
                                A.du();
                                var l = i.wp,
                                    n = 2,
                                    a = DayPilot.distance(l._t, A.coords);
                                (a > n || l.start.x !== l.end.x) && (l.moved = !0);
                            } else if (T.source) {
                                var d = T.source;
                                B.ej(d.coords, A.coords);
                            } else
                                i.Zt &&
                                    ((i.Zt.moved = !0),
                                    clearTimeout(V.eu),
                                    (V.eu = setTimeout(function () {
                                        V.draw();
                                    }, 0)));
                            "Disabled" !== A.crosshairType && A.fu(), A.gu();
                            var c = A.coords.insideEvent;
                            if (A.cellBubble && A.coords && A.rowlist && A.rowlist.length > 0 && !c) {
                                var u = A.um(A.coords.x).x,
                                    h = A.Tn(A.coords.y, A.coords.grid).i;
                                if (0 <= h && h < A.rowlist.length && 0 <= u && u < A.itline.length) {
                                    var f = {};
                                    (f.calendar = A),
                                        (f.start = A.itline[u].start),
                                        (f.end = A.itline[u].end),
                                        (f.resource = A.rowlist[h].id),
                                        (f.toJSON = function () {
                                            var e = {};
                                            return (e.start = this.start), (e.end = this.end), (e.resource = this.resource), e;
                                        });
                                    var v = A.coords.grid + "_" + u + "_" + h,
                                        m = A.ta.cells[v];
                                    A.cellBubble.showCell(f, m);
                                }
                            }
                            if (i.wq) {
                                if ((A.Yt(), i.hu && s().removeChild(i.hu), (i.hu = null), !i.rq && A.coords && A.rowlist.length > 0)) {
                                    if (!i.qp) {
                                        i.ym = i.wq.iu || {};
                                        var g = i.wq.iu ? i.wq.iu.event : null,
                                            y = g || i.wq.event;
                                        if (y)
                                            if (A !== y.calendar) {
                                                var r = y.calendar,
                                                    w = y,
                                                    x = p(y.data);
                                                (y = new DayPilot.Event(x)), (y.calendar = r), (y.part.duration = r.zp(w)), (y.part.external = !0);
                                            } else y.part.external = !1;
                                        else {
                                            var e = A.ju();
                                            (y = new DayPilot.Event(e)), (y.calendar = A), (y.calendar = null), (y.part.duration = 1e3 * i.wq.duration), (y.part.external = !0);
                                        }
                                        i.ym.event || (i.ym.event = y), (i.qp = y);
                                    }
                                    i.rq = A.Fb(i.qp);
                                }
                                e.cancelBubble = !0;
                            }
                            var k = { x: A.coords.x, y: A.coords.y, grid: A.coords.grid };
                            A.Nf(k);
                        }
                    }),
                    (this.ju = function () {
                        var e,
                            t = A.itline[0].start,
                            n = i.wq.Mf;
                        if (n) (e = p(n, {})), (e.start = t), (e.end = t.addSeconds(i.wq.duration));
                        else {
                            e = { id: i.wq.id, start: t, end: t.addSeconds(i.wq.duration), text: i.wq.text };
                            var a = i.wq.Lf;
                            if (a) {
                                var r = ["duration", "element", "remove", "id", "text"];
                                for (var o in a) x(r, o) || (e[o] = a[o]);
                            }
                        }
                        return e;
                    }),
                    (this.Nf = function (e) {
                        var t = e.grid,
                            n = i.ym || i.vp || i.wp || i.Zt || T.source,
                            a = "Always" === A.autoScroll,
                            r = "Drag" === A.autoScroll && n,
                            o = a || r,
                            s = i.vp || i.wp || "main" !== t;
                        if (o) {
                            var l = A.nav.scroll;
                            (e.x -= l.scrollLeft), (e.x += M.Jl), (e.y -= l.scrollTop);
                            var d = l.clientWidth,
                                c = l.clientHeight,
                                u = 30,
                                h = e.x < u ? e.x : 0,
                                f = d - e.x < u ? d - e.x : 0,
                                v = A.Cl.top.height,
                                p = e.y - v,
                                m = p < u && p > 0 ? p : 0,
                                g = c - A.Cl.bottom.height - A.Cl.top.height,
                                y = g - p < u ? c - e.y : 0,
                                b = 0,
                                w = 0,
                                x = 50;
                            h && (b = -50 * S(h, u)),
                                f && (b = x * S(f, u)),
                                m && (w = (-50 * S(m, u)) / 2),
                                y && (w = (x * S(m, u)) / 2),
                                s && (w = 0),
                                b || w
                                    ? (A.ku = setTimeout(function () {
                                          A.wg(b, w);
                                      }, 200))
                                    : (clearTimeout(A.ku), A.cb());
                        }
                    }),
                    (this.du = function () {
                        var e = i.wp,
                            t = A.um(A.coords.x).x,
                            n = A.getDate(A.coords.x, !0);
                        (e.end = { x: t, time: n }), A.tn(e);
                    }),
                    (this.bu = function () {
                        i.Mp || (i.Mp = A.Fb(i.vp)), A.tq();
                    }),
                    (this.cu = function () {
                        if ((i.rq && i.rq.calendar !== A && i.rq.calendar && (i.rq.calendar.ab(), (i.rq.calendar = null), k(i.rq), (i.rq = null)), !i.rq)) {
                            u(i.ym, A.ca(G.eventMovingSource));
                            var e = i.qp;
                            i.rq = A.Fb(e);
                        }
                        A.Ip(), A.Kp();
                    }),
                    (this.lu = {});
                var V = this.lu;
                (V.start = function () {
                    var e = {};
                    (e.start = A.coords), (e.calendar = A), (i.Zt = e);
                }),
                    (V.draw = function () {
                        var e = i.Zt;
                        if (e) {
                            var t = i.Zt.start,
                                n = A.coords;
                            V.clear();
                            var a,
                                r,
                                o,
                                s,
                                l,
                                d,
                                c,
                                u,
                                f = { x: e.x, y: e.y, width: e.width, height: e.height };
                            if (
                                ((function () {
                                    (l = Math.min(t.x, n.x)), (c = Math.max(t.x, n.x)), "Free" === K.Cm() ? ((d = Math.min(t.y, n.y)), (u = Math.max(t.y, n.y))) : "Row" === K.Cm() && ((d = t.y), (u = t.y));
                                })(),
                                "Free" === K.Cm())
                            )
                                (a = l), (r = d), (o = c - l), (s = u - d);
                            else {
                                if ("Row" !== K.Cm()) throw new DayPilot.Exception("Invalid DayPilot.Scheduler.rectangleSelectMode value: " + A.rectangleSelectMode);
                                var v = A.Tn(d).i,
                                    p = A.rowlist[v];
                                (r = p.top), (s = p.height);
                                if (A.snapToGrid && A.snapToGridRectangleSelecting) {
                                    a = A.um(l).cell.left;
                                    var m = A.um(c).cell;
                                    o = m.left + m.width - a;
                                } else (a = l), (o = c - l);
                            }
                            var g = h(null, a, r, o, s);
                            if (
                                ((g.style.boxSizing = "border-box"),
                                (g.className = A.ca("_selectionrectangle")),
                                e.mu && (e.mu.visible || (g.style.display = "none")),
                                (e.x = a),
                                (e.y = r),
                                (e.width = o),
                                (e.height = s),
                                !((e.x === f.x && e.y === f.y && e.width === f.width && e.height === f.height) || ("function" != typeof A.onRectangleEventSelecting && "function" != typeof A.onRectangleSelecting)))
                            ) {
                                var y = A.Tn(e.y).i,
                                    b = A.Tn(e.y + e.height).i,
                                    w = { start: { y: y }, end: { y: b } },
                                    x = A.Pn(w),
                                    k = {};
                                (k.events = H.Nl(e.x, e.y, e.width, e.height).map(function (e) {
                                    return e.event;
                                })),
                                    (k.start = A.getDate(e.x, !0)),
                                    (k.end = A.getDate(e.x + e.width, !0)),
                                    (k.resources = x),
                                    (k.visible = !0),
                                    "function" == typeof A.onRectangleEventSelecting && A.onRectangleEventSelecting(k),
                                    "function" == typeof A.onRectangleSelecting && A.onRectangleSelecting(k),
                                    (e.mu = k),
                                    (g.style.display = k.visible ? "" : "none");
                            }
                            A.divRectangle.appendChild(g);
                        }
                    }),
                    (V.clear = function () {
                        (A.divRectangle.innerHTML = ""), (A.elements.rectangle = []);
                    }),
                    (this.nu = function () {
                        if (!A.coords) return null;
                        if (!A.$s()) return null;
                        if (!A.itline || 0 === A.itline.length) return null;
                        var e = A.um(A.coords.x).x,
                            t = A.Tn(A.coords.y, A.coords.grid).element;
                        if (!t) return null;
                        var n = t.index;
                        return A.cells.findXy(e, n, A.coords.grid)[0];
                    }),
                    (this.gu = function () {
                        var e = this.nu();
                        if (this.hover.cell) {
                            if (this.hover.cell.x === e.x && this.hover.cell.y === e.y && this.hover.cell.grid === e.grid) return;
                            this.Ts();
                        }
                        this.hover.cell = e;
                        var t = {};
                        (t.cell = e), "function" == typeof this.onCellMouseOver && this.onCellMouseOver(t), "function" == typeof this.onCellMouseEnter && this.onCellMouseEnter(t);
                    }),
                    (this.Ts = function () {
                        if (this.hover.cell) {
                            var e = {};
                            (e.cell = this.hover.cell), "function" == typeof this.onCellMouseOut && this.onCellMouseOut(e), "function" == typeof this.onCellMouseLeave && this.onCellMouseLeave(e), (this.hover.cell = null);
                        }
                    }),
                    (this.hover = {}),
                    (this.fu = function () {
                        var e = A.ou();
                        if (e) {
                            var t = A.hover.crosshair;
                            (t && t.x === e.x && t.y === e.y && t.grid === e.grid && t.thX === e.thX) || ((A.hover.crosshair = e), this.If());
                        }
                    }),
                    (this.ou = function () {
                        if (!A.coords) return null;
                        if (!A.$s()) return null;
                        if (!A.itline || 0 === A.itline.length) return null;
                        var e = A.Tn(A.coords.y, A.coords.grid).element;
                        if (!e) return null;
                        var t = e.index,
                            n = null,
                            i = A.um(A.coords.x);
                        i && (n = i.x);
                        var a = A.qu(),
                            r = null,
                            o = A.Up(a, A.coords.x);
                        return o && (r = o.x), { x: n, thX: r, y: t, grid: A.coords.grid };
                    }),
                    (this.Yt = function () {
                        (this.Cl.top.divCrosshair.innerHTML = ""), (this.Cl.main.divCrosshair.innerHTML = ""), (this.Cl.bottom.divCrosshair.innerHTML = ""), (this.ru = null), (this.su = null);
                    }),
                    (this.bb = function () {
                        if ((this.Yt(), (A.hover.crosshair = null), this.tu && this.tu.parentNode && (this.tu.parentNode.removeChild(this.tu), (this.tu = null)), this.uu)) {
                            for (var e = 0; e < this.uu.length; e++) {
                                var t = this.uu[e];
                                t.parentNode && t.parentNode.removeChild(t);
                            }
                            this.uu = null;
                        }
                        (this.Sk = -1), (this.Rk = -1), (this.vu = null);
                    }),
                    (this.qu = function () {
                        var e = this.timeHeader ? this.timeHeader.length - 1 : 1;
                        return "number" == typeof A.crosshairTimeHeaderLevel && A.crosshairTimeHeaderLevel < e && A.crosshairTimeHeaderLevel >= 0 && (e = A.crosshairTimeHeaderLevel), e;
                    }),
                    (this.If = function () {
                        function e(e, t) {
                            var n = A.Cl[e],
                                i = n.height,
                                a = t.left,
                                r = A.ru[e];
                            if (!r) {
                                var r = l();
                                (r.style.height = i + "px"),
                                    (r.style.position = "absolute"),
                                    (r.style.top = "0px"),
                                    (r.style.pointerEvents = "none"),
                                    (r.className = A.ca("_crosshair_vertical")),
                                    (A.ru[e] = r),
                                    n.divCrosshair.appendChild(r);
                            }
                            (r.style.left = a + "px"), (r.style.width = t.width + "px");
                        }
                        if (A.coords && A.$s()) {
                            var t = A.Tn(A.coords.y, A.coords.grid).element;
                            if (t) {
                                var n = A.um(A.coords.x).x,
                                    i = t.index,
                                    a = t.grid,
                                    r = A.co(a),
                                    o = ["top", "main", "bottom"],
                                    s = this.crosshairType;
                                if ((this.ru || (this.ru = {}), "Full" === s)) {
                                    var d = this.itline[n];
                                    o.forEach(function (t) {
                                        e(t, d);
                                    });
                                    var c = t.top,
                                        u = t.height,
                                        h = A.Sl(),
                                        f = A.su;
                                    if ((f && f.parentNode && A.vu !== a && (f.parentNode.removeChild(f), (f = null)), !f)) {
                                        var f = l();
                                        (f.style.width = h + "px"),
                                            (f.style.height = u + "px"),
                                            (f.style.position = "absolute"),
                                            (f.style.top = c + "px"),
                                            (f.style.left = "0px"),
                                            (f.style.pointerEvents = "none"),
                                            (f.className = A.ca("_crosshair_horizontal")),
                                            (A.su = f),
                                            r.divCrosshair.appendChild(f);
                                    }
                                    (f.style.top = c + "px"), (f.style.height = u + "px");
                                }
                                var v = A.qu(),
                                    p = A.Up(v, A.coords.x);
                                if (p && A.Sk !== p.x) {
                                    A.tu && this.tu.parentNode && (A.tu.parentNode.removeChild(A.tu), (A.tu = null));
                                    var u = Q._p(v).height,
                                        f = l();
                                    (f.style.width = p.cell.width + "px"), (f.style.height = u + "px"), (f.style.left = "0px"), (f.style.top = "0px"), (f.style.position = "absolute"), (f.className = A.ca("_crosshair_top")), (A.tu = f);
                                    var m = this.divNorth,
                                        g = v;
                                    A.nav.timeHeader ? A.ta.timeHeader[p.x + "_" + g].appendChild(f) : m && m.firstChild.rows[g].cells[n] && m.firstChild.rows[g].cells[n].firstChild.appendChild(f);
                                }
                                if (A.Rk !== i || A.vu !== a) {
                                    if (A.uu) {
                                        for (var y = 0; y < A.uu.length; y++) {
                                            var b = A.uu[y];
                                            b.parentNode && b.parentNode.removeChild(b);
                                        }
                                        A.uu = null;
                                    }
                                    this.rowHeaderCols ? this.rowHeaderCols.length : 1;
                                    if (((A.uu = []), r.rowlist[i]))
                                        for (var y = 0; y < r.rowlist[i].cells.length; y++) {
                                            var w = r.rowlist[i].cells[y],
                                                x = w.refCell,
                                                u = t.height,
                                                k = i;
                                            x ? ((u = x.row.split.totalHeight()), (k = x.y)) : w.rowspan > 1 && (u = w.totalHeight());
                                            var C = r.divHeader.rows[k] && r.divHeader.rows[k].cells[y];
                                            if (C) {
                                                var h = A.Vl(),
                                                    f = l();
                                                (f.style.width = h + "px"),
                                                    (f.style.height = u + "px"),
                                                    (f.style.left = "0px"),
                                                    (f.style.top = "0px"),
                                                    (f.style.position = "absolute"),
                                                    (f.className = A.ca("_crosshair_left")),
                                                    A.uu.push(f),
                                                    r.divHeader.rows[k].cells[y].firstChild.appendChild(f);
                                            }
                                        }
                                }
                                p && (A.Sk = p.x), (A.Rk = i), (A.vu = a);
                            }
                        }
                    }),
                    (this.Up = function (e, t) {
                        var n = A.timeHeader[e];
                        if (!n) return null;
                        for (var i = 0; i < n.length; i++) {
                            var a = n[i];
                            if (t >= a.left && t < a.left + a.width) {
                                var r = {};
                                return (r.cell = a), (r.x = i), r;
                            }
                        }
                        return null;
                    }),
                    (this.wu = function (e) {
                        return A.Up(A.timeHeader.length - 1, e);
                    }),
                    (this.Vs = function (e) {
                        if (((e.cancelBubble = !0), !A.allowDefaultContextMenu)) return !1;
                    }),
                    (this.Gc = function (e) {
                        function t(t) {
                            if (!t || !t.start || !t.end) return !1;
                            t = t.Kt ? t.Kt : t;
                            var n = t.start.grid,
                                i = A.Ro(t.start.y, t.start.grid),
                                a = 0;
                            "main" === n && (a = A.Cl.top.height);
                            var r = t.start.time.getTime() < t.end.time.getTime(),
                                o = r ? t.start.time : t.end.time,
                                s = r ? t.end.time : t.start.time,
                                l = A.getPixels(o).left,
                                d = A.getPixels(s).left,
                                c = i.top + a,
                                u = i.bottom + a,
                                h = e.x >= l && e.x <= d,
                                f = e.y >= c && e.y <= u,
                                v = e.grid === t.start.grid;
                            return !!(h && f && v) && t;
                        }
                        var n = A.sn;
                        return n
                            ? t(n)
                            : w(X.list).isEmpty()
                            ? void 0
                            : X.list.find(function (e) {
                                  return t(e);
                              });
                    }),
                    (this.tn = function (e, t) {
                        function n(e, t) {
                            var n,
                                i,
                                a,
                                r,
                                c = e.end.time > e.start.time,
                                u = e.start.y,
                                h = e.start.time && e.end.time;
                            if (o || !h) {
                                var f = c ? e.start.x : e.end.x,
                                    v = c ? e.end.x : e.start.x,
                                    p = A.itline[f],
                                    m = A.itline[v];
                                (n = p.left), (i = m.left + m.width);
                            } else c ? ((a = e.start.time), (r = e.end.time)) : ((a = e.end.time), (r = e.start.time)), (n = A.getPixels(a).left), (i = A.getPixels(r).left);
                            var g = i - n,
                                y = A.elements.range2;
                            if (!y) {
                                (y = l()), (y.style.position = "absolute"), y.setAttribute("unselectable", "on");
                                var b = l();
                                (b.className = A.ca("_shadow_inner")), y.appendChild(b), s.divShadow.appendChild(y);
                            }
                            y.grid !== e.start.grid && (y.parentNode.removeChild(y), s.divShadow.appendChild(y));
                            var w = d[u];
                            return (
                                (y.className = A.ca("_shadow")),
                                (y.firstChild.innerHTML = ""),
                                (y.style.left = n + "px"),
                                (y.style.top = w.top + "px"),
                                (y.style.width = g + "px"),
                                (y.style.height = w.height - 1 + "px"),
                                (y.calendar = A),
                                (y.grid = e.start.grid),
                                (y.row = w),
                                (A.elements.range2 = y),
                                (function () {
                                    y.overlapping = !1;
                                    var i = d[u];
                                    A.lq(y, i, n, g, null);
                                    var a = c ? e.start.time : e.end.time,
                                        r = c ? e.end.time : e.start.time;
                                    t.ignoreDisabledCells || A.mq(y, a, r, i.id);
                                })(),
                                y
                            );
                        }
                        var e = e || i.wp;
                        if (e && e.calendar === A) {
                            i.Uo && i.Uo.blur(), (t = t || {});
                            var a = t.justDraw,
                                r = e.forceSnap,
                                o = A.snapToGrid && A.snapToGridTimeRangeSelecting;
                            r && (o = !0);
                            var s = A.co(e.start.grid),
                                d = s.rowlist;
                            !(function () {
                                var t = e.end.time >= e.start.time,
                                    i = t ? e.start.x : e.end.x,
                                    r = t ? e.end.x : e.start.x,
                                    s = e.start.y,
                                    l = d[s];
                                if (l && !l.hidden) {
                                    var c = A.itline[i],
                                        h = A.itline[r],
                                        f = A.xu,
                                        v = c.start.addTime(l.data.offset),
                                        p = h.end.addTime(l.data.offset);
                                    if (
                                        (o || (t ? ((v = e.start.time), (p = e.end.time)) : ((v = e.end.time), (p = e.start.time))),
                                        a || !f || f.start.getTime() !== v.getTime() || f.rawend.getTime() !== p.getTime() || f.resource !== d[s].id)
                                    ) {
                                        var m = { start: v, end: A.xj(p), rawend: p, resource: d[s].id },
                                            g = {};
                                        (g.anchor = t ? m.start : m.end),
                                            (g.start = m.start),
                                            (g.end = m.end),
                                            (g.duration = new DayPilot.Duration(v, p)),
                                            (g.resource = d[s].id),
                                            (g.row = A.xn(l)),
                                            (g.allowed = !0),
                                            (g.control = A),
                                            (g.ignoreDisabledCells = !1),
                                            (g.left = {}),
                                            (g.left.html = g.start.toString(A.timeRangeSelectingStartEndFormat, K.Lc())),
                                            (g.left.enabled = A.timeRangeSelectingStartEndEnabled),
                                            (g.left.space = 5),
                                            (g.left.width = null),
                                            (g.left.height = A.eventHeight),
                                            (g.right = {}),
                                            (g.right.html = g.end.toString(A.timeRangeSelectingStartEndFormat, K.Lc())),
                                            (g.right.enabled = A.timeRangeSelectingStartEndEnabled),
                                            (g.right.space = 5),
                                            (g.right.width = null),
                                            (g.right.height = A.eventHeight),
                                            (g.overlapping = g.row.events.forRange(v, p).length > 0),
                                            (g.html = null),
                                            (g.cssClass = null),
                                            (g.button = A.$t),
                                            (A.xu = m),
                                            "function" != typeof A.onTimeRangeSelecting || a || (A.onTimeRangeSelecting(g), (g.resource = m.resource)),
                                            (g.end = A.aj(g.end)),
                                            (e.args = g);
                                        var y = A.yu(e);
                                        A.rn(y, g.start, g.end);
                                        var b = n(y, g);
                                        g.html && (b.firstChild.innerHTML = g.html), g.cssClass && u(b, g.cssClass), A.xq(b, g), (e.Kt = y), (e.disabled = !g.allowed), A.yq(b, g);
                                    }
                                }
                            })();
                        }
                    }),
                    (this.yu = function (e) {
                        return { start: { x: e.start.x, y: e.start.y, time: e.start.time, grid: e.start.grid }, end: { x: e.end.x, time: e.end.time }, disabled: e.disabled, calendar: e.calendar, args: e.args, forceSnap: e.forceSnap };
                    }),
                    (this.range = {}),
                    (this.range.all = function () {
                        return A.multirange.get();
                    }),
                    (this.multirange = {}),
                    (this.multirange.get = function () {
                        return X.get(!0);
                    }),
                    (this.multirange.add = function (e) {
                        if (!e) throw new DayPilot.Exception("Range not specified");
                        if (!e.start || !e.end || !e.resource) throw new DayPilot.Exception("Invalid range specified");
                        if (w(X.list).isEmpty()) {
                            var t = A.qn();
                            if (t) {
                                var n = A.zu(t.start, t.end, t.resource);
                                A.Au.add(n);
                            }
                        }
                        var n = A.zu(e.start, e.end, e.resource);
                        A.tn(n), A.Au.add(n);
                    }),
                    (this.multirange.clear = function () {
                        X.clear(), A.clearSelection(), (A.xu = null);
                    }),
                    (this.Au = {});
                var X = this.Au;
                (this.Au.list = []),
                    (this.Au.drawLaterTimeout = null),
                    (this.Au.drawLater = function () {
                        clearTimeout(A.Au.drawLaterTimeout),
                            (A.Au.drawLaterTimeout = setTimeout(function () {
                                X.list.forEach(function (e) {
                                    (A.elements.range2 = null), A.tn(e);
                                });
                            }, 0));
                    }),
                    (this.Au.clear = function () {
                        k(
                            w(X.list).map(function (e) {
                                return e.div;
                            })
                        ),
                            (X.list = []);
                    }),
                    (this.Au.add = function (e) {
                        (e.div = A.elements.range2), (A.elements.range2 = null), A.Aq(), X.list.push(e);
                    }),
                    (this.Au.get = function (e) {
                        var t = w(X.list).map(function (e) {
                            return A.qn(e);
                        });
                        if (e && t.isEmpty()) {
                            var n = A.qn();
                            n && t.push(n);
                        }
                        return t;
                    }),
                    (this.Au.dispatch = function () {
                        if (A.allowMultiRange && !i.wp) {
                            var e = w(X.list).last();
                            A.pn(e);
                        }
                    }),
                    (this.Bu = function (e) {
                        if ("Disabled" === A.timeRangeSelectedHandling) return !1;
                        if (!b.touch.active && !b.touch.start) {
                            var t = y(e);
                            if (!i.wp && !i.Zt && !((A.sn && A.Gc(A.coords) && (t.right || t.middle)) || A.fo(A.Tn(A.coords.y).i))) {
                                var n = {},
                                    a = A.um(A.coords.x).x;
                                (n.start = { y: A.Tn(A.coords.y).i, x: a, grid: A.coords.grid }), (n.end = { x: a }), (n.calendar = A), (A.sn = n), A.pn(n, "click");
                            }
                        }
                    }),
                    (this.zm = {}),
                    (this.zm.zb = null),
                    (this.zm.drawCells = null),
                    (this.zm.drawRows = null),
                    (this.zm.click = null),
                    (this.zm.resClick = []),
                    (this.zm.updateFloats = null),
                    (this.vl = function (e, t) {
                        if (!A.za) {
                            (t = t || {}), "undefined" == typeof DayPilot.Bubble || t.dontHideBubble || DayPilot.Bubble.hideActive(), A.Da();
                            var n = A.nav.scroll;
                            if (
                                ((A.Tp = n.scrollLeft),
                                (A.Rp = n.scrollTop),
                                (A.gt = n.clientWidth),
                                A.divTimeScroll && (A.divTimeScroll.scrollLeft = A.Tp),
                                A.Cl.top.enabled() && (A.Cl.top.div.scrollLeft = A.Tp),
                                A.Cl.bottom.enabled() && (A.Cl.bottom.div.scrollLeft = A.Tp),
                                DayPilot.browser.ios && i.Is ? a() : (A.divResScroll.scrollTop = A.Rp),
                                M.nm() && A.ya && "Auto" != A.cellWidthSpec && !A.Al)
                            )
                                if (M.s) a();
                                else {
                                    if (A.nav.scroll.scrollLeft < A.infiniteScrollingMargin)
                                        return (
                                            (M.s = !0),
                                            (A.nav.scroll.style.overflowX = "hidden"),
                                            void setTimeout(function () {
                                                M.hm(-A.infiniteScrollingStepDays);
                                            }, 100)
                                        );
                                    if (A.nav.scroll.scrollWidth - (A.nav.scroll.scrollLeft + A.nav.scroll.clientWidth) < A.infiniteScrollingMargin)
                                        return (
                                            (M.s = !0),
                                            (A.nav.scroll.style.overflowX = "hidden"),
                                            void setTimeout(function () {
                                                M.hm(A.infiniteScrollingStepDays);
                                            }, 100)
                                        );
                                }
                            if (
                                (A.navigatorBackSync &&
                                    !(function () {
                                        var e = DayPilot.Util.evalVariable(A.navigatorBackSync),
                                            t = A.getViewPort().start;
                                        e.select(t, { dontNotify: !0, dontFocus: !0 });
                                    })(),
                                A.progressiveRowRendering &&
                                    (A.zm.drawRows && (clearTimeout(A.zm.drawRows), (A.zm.drawRows = null)),
                                    A.scrollDelayRows > 0
                                        ? (A.zm.drawRows = setTimeout(function () {
                                              A.Rm();
                                          }, A.scrollDelayRows))
                                        : A.Rm()),
                                A.zm.drawCells && (clearTimeout(A.zm.drawCells), (A.zm.drawCells = null)),
                                A.scrollDelayCells > 0)
                            )
                                A.zm.drawCells = setTimeout(A.Cu(), A.scrollDelayCells);
                            else {
                                A.Cu()();
                            }
                            if (A.dynamicLoading) return A.Uj(), void A.Du();
                            A.zm.zb && (clearTimeout(A.zm.zb), (A.zm.zb = null)),
                                A.scrollDelayEvents > 0 ? (A.zm.zb = setTimeout(A.Eu(), A.scrollDelayEvents)) : A.zb(),
                                A.zm.updateFloats && (clearTimeout(A.zm.updateFloats), (A.zm.updateFloats = null)),
                                A.scrollDelayFloats > 0
                                    ? (A.zm.updateFloats = setTimeout(function () {
                                          A.sl();
                                      }, A.scrollDelayFloats))
                                    : A.sl(),
                                (A.onScrollCalled = !0);
                        }
                    }),
                    (this.Cu = function () {
                        return function () {
                            A && (A.Uj(), A.nl());
                        };
                    }),
                    (this.Eu = function () {
                        return function () {
                            A &&
                                (A.tt()
                                    ? window.setTimeout(function () {
                                          A.qt(),
                                              window.setTimeout(function () {
                                                  A.zb(!0);
                                              }, 50);
                                      }, 50)
                                    : A.Ll());
                        };
                    }),
                    (this.ft = function (e) {
                        if (A.dynamicLoading && "function" == typeof A.onScrollEnd && !A.za) {
                            var t = function (e) {
                                    var t = function () {
                                        if (A.Eb() && "function" == typeof A.onAfterRender) {
                                            var e = {};
                                            (e.isCallBack = !1), (e.isScroll = !0), (e.data = null), A.onAfterRender(e);
                                        }
                                    };
                                    A.ql(e.events, t, e);
                                },
                                n = {};
                            (n.viewport = A.getViewPort()),
                                (n.async = !0),
                                (n.events = []),
                                (n.remove = []),
                                (n.clearEvents = !0),
                                (n.dontForceCellRendering = !1),
                                (n.loaded = function () {
                                    this.async && t(n);
                                }),
                                A.onScrollEnd(n),
                                n.async || t(n);
                        }
                    }),
                    (this.Da = function () {
                        (A.ta.eventHeight = null), (A.ta.drawArea = null);
                    }),
                    (this.show = function () {
                        (A.visible = !0), (A.Vk = !0), (A.nav.top.style.display = ""), A.D(), A.Bb(), A._o(), A.vl();
                    }),
                    (this.hide = function () {
                        (A.visible = !1), (A.Vk = !1), (A.nav.top.style.display = "none");
                    }),
                    (this.Du = function () {
                        var e = A.nav.scroll;
                        (A.Tp = e.scrollLeft), (A.Rp = e.scrollTop), (A.gt = e.clientWidth), (A.divTimeScroll.scrollLeft = A.Tp), (A.divResScroll.scrollTop = A.Rp), A.refreshTimeout && window.clearTimeout(A.refreshTimeout);
                        var t = A.scrollDelayDynamic;
                        A.Fu || (A.refreshTimeout = window.setTimeout(A.Gu(e.scrollLeft, e.scrollTop), t)), A.sl();
                    }),
                    (this.bp = function (e) {
                        if (!A.events.list) return null;
                        for (var t = 0; t < this.events.list.length; t++) {
                            var n = this.events.list[t];
                            if (A.xd(n, e)) {
                                var i = {};
                                return (i.ex = n), (i.index = t), (i.modified = !A.Hu(e, n)), i;
                            }
                        }
                        return null;
                    }),
                    (this.Hu = function (e, t) {
                        for (var n in e) if (("object" != typeof e[n] || e[n] instanceof DayPilot.Date) && e[n] !== t[n]) return !1;
                        for (var n in t) if ("object" != typeof t[n] && e[n] !== t[n]) return !1;
                        return !0;
                    }),
                    (this.Fu = !1),
                    (this.ql = function (e, t, n) {
                        A.Fu = !0;
                        var i = n && n.clearEvents,
                            a = n && n.remove,
                            r = n && n.dontForceCellRendering,
                            o = [];
                        if ((A.events.list || (A.events.list = []), i)) A.nb(e), B.cl();
                        else {
                            var s = [];
                            w(a).forEach(function (e) {
                                var t = w(A.events.list).find(function (t) {
                                    return t.id === e;
                                });
                                t && s.push(t);
                            }),
                                s.forEach(function (e) {
                                    var t = A.events.Fm(e);
                                    (o = o.concat(t)), DayPilot.rfa(A.events.list, e);
                                });
                            for (var l = [], d = 0; d < e.length; d++) {
                                var c = e[d];
                                l[d] = A.bp(c);
                            }
                            for (var d = 0; d < e.length; d++) {
                                var c = e[d],
                                    u = l[d],
                                    h = u && u.modified,
                                    f = !u;
                                if (h) {
                                    this.events.list[u.index] = c;
                                    var v = A.events.Fm(u.ex);
                                    o = o.concat(v);
                                } else f && this.events.list.push(c);
                                (h || f) && (o = o.concat(A.events.Gm(c)));
                            }
                            A.Hm(o), A.Im();
                        }
                        A.il(), A.vb();
                        if (i || r) {
                            A.Sa();
                            var p = A.jn || !A.beforeCellRenderCaching;
                            p && A.kl(), A.jl(), p ? A.nl() : A._o(), A.zb(), t && t();
                        } else
                            A.Jm(o, !1, function () {
                                t && t(), A.qt(), A.zb();
                            }),
                                A._o();
                        setTimeout(function () {
                            A.Fu = !1;
                        }, 0);
                    }),
                    (this.Gu = function (e, t) {
                        return A.ja()
                            ? function () {
                                  (A.scrollX = e), (A.scrollY = t), A.Ja("Scroll");
                              }
                            : function () {
                                  if ("function" == typeof A.onScroll) {
                                      var e = function (e) {
                                              var t = function () {
                                                  if (A.Eb() && "function" == typeof A.onAfterRender) {
                                                      var e = {};
                                                      (e.isCallBack = !1), (e.isScroll = !0), (e.data = null), A.onAfterRender(e);
                                                  }
                                              };
                                              A.ql(e.events, t, e);
                                          },
                                          t = {};
                                      (t.viewport = A.getViewPort()),
                                          (t.async = !0),
                                          (t.events = []),
                                          (t.remove = []),
                                          (t.clearEvents = !0),
                                          (t.dontForceCellRendering = !1),
                                          (t.loaded = function () {
                                              this.async && e(t);
                                          }),
                                          A.onScroll(t),
                                          t.async || e(t);
                                  }
                              };
                    }),
                    (this.Iu = function () {
                        var e = this.hd(),
                            t = e.xStart,
                            n = e.xEnd - e.xStart,
                            i = e.yStart,
                            a = e.yEnd - e.yStart;
                        this.cellProperties || (this.cellProperties = {});
                        for (var r = A.Cl.top, o = A.Cl.bottom, s = 0; s <= n; s++) {
                            for (var l = t + s, d = 0; d < a; d++) {
                                var c = i + d;
                                this.rowlist[c].hidden || this.Me(l, c);
                            }
                            if ((this.Ju(l), r.enabled())) {
                                for (var c = 0; c < r.rowlist.length; c++) this.Me(l, c, "top");
                                this.Ju(l, "top");
                            }
                            if (o.enabled()) {
                                for (var c = 0; c < o.rowlist.length; c++) this.Me(l, c, "bottom");
                                this.Ju(l, "bottom");
                            }
                        }
                        for (var u = this.Eq(), c = u.start; c < u.end; c++) this.rowlist[c].hidden || this.Ku(c);
                        if (r.enabled()) for (var c = 0; c < r.rowlist.length; c++) r.rowlist[c].hidden || this.Ku(c, "top");
                        if (o.enabled()) for (var c = 0; c < o.rowlist.length; c++) o.rowlist[c].hidden || this.Ku(c, "bottom");
                    }),
                    (this.nl = function () {
                        if (!A.za) {
                            var e = A.lm();
                            if (e && e.length > 0) {
                                if (this.cellSweeping) {
                                    var t = this.cellSweepingCacheSize;
                                    this.st(t);
                                }
                                Z.Vo(), this.Iu(), this.Lu(), Z.Jn({ dontFocus: !0 });
                            }
                            this.jn = !1;
                        }
                    }),
                    (this.Lu = function () {
                        for (var e = this.hd(), t = A.Cl.top, n = A.Cl.bottom, i = e.xStart; i < e.xEnd; i++) {
                            i < this.itline.length - 1 && this.itline[i + 1].breakBefore && (this.Mu(i), t.enabled() && this.Mu(i, "top"), n.enabled() && this.Mu(i, "bottom"));
                        }
                    }),
                    (this.Mu = function (e, t) {
                        t = t || "main";
                        var n = A.Cl[t],
                            i = n.divBreaks,
                            a = "main" === t,
                            r = a ? A.Tk : n.height,
                            o = t + "_x_" + e;
                        if (!this.ta.breaks[o]) {
                            var s = {};
                            if ("function" == typeof A.onBeforeGridLineRender) {
                                var d = A.itline[e],
                                    c = A.itline[e + 1];
                                if (((s.start = d && d.end), (s.end = c && c.start), (s.hidden = !1), (s.cssClass = null), (s.type = "VerticalBreak"), (s.grid = t), (s.color = null), A.onBeforeGridLineRender(s), s.hidden)) return;
                            }
                            var u = A.itline[e + 1].left - 1,
                                h = l();
                            (h.style.left = u + "px"),
                                (h.style.top = "0px"),
                                (h.style.width = "1px"),
                                (h.style.height = r + "px"),
                                (h.style.fontSize = "1px"),
                                (h.style.lineHeight = "1px"),
                                (h.style.overflow = "hidden"),
                                (h.style.position = "absolute"),
                                h.setAttribute("unselectable", "on"),
                                (h.className = this.ca("_matrix_vertical_break")),
                                s.cssClass && (h.className += " " + s.cssClass),
                                s.color && (h.style.backgroundColor = s.color),
                                i.appendChild(h),
                                this.elements.breaks.push(h),
                                (this.ta.breaks[o] = h);
                        }
                    }),
                    (this.hd = function () {
                        if (A.ta.drawArea) return A.ta.drawArea;
                        if (!this.nav.scroll) return null;
                        var e = A.Rp,
                            t = {},
                            n = null != this.dynamicEventRenderingMarginX ? this.dynamicEventRenderingMarginX : this.dynamicEventRenderingMargin,
                            i = null != this.dynamicEventRenderingMarginY ? this.dynamicEventRenderingMarginY : this.dynamicEventRenderingMargin,
                            a = A.Tp - n - M.Jl,
                            r = a + A.gt + 2 * n,
                            o = 0,
                            s = 0;
                        if (A.itline && A.itline.length > 0) {
                            (o = A.um(a).x), (s = A.um(r, !0).x);
                            var l = this.Sp();
                            (s = Math.min(s, l)), (o = f(o, 0));
                        }
                        var d = e - i,
                            c = e + this.nav.scroll.offsetHeight + 2 * i,
                            u = this.Tn(d).i,
                            h = this.Tn(c).i;
                        h < this.rowlist.length && h++, (t.xStart = o), (t.xEnd = s), (t.yStart = u), (t.yEnd = h);
                        var v = A.nav.scroll;
                        return (
                            0 === v.clientWidth && (v = A.divTimeScroll),
                            (t.pixels = {}),
                            (t.pixels.left = v.scrollLeft - M.Jl),
                            (t.pixels.right = v.scrollLeft - M.Jl + v.clientWidth),
                            (t.pixels.top = v.scrollTop),
                            (t.pixels.bottom = v.scrollTop + v.clientHeight),
                            (t.pixels.width = v.scrollWidth),
                            (t.sw = DayPilot.sw(A.nav.scroll)),
                            (A.ta.drawArea = t),
                            t
                        );
                    }),
                    (this.Sl = function () {
                        var e = 0,
                            t = this.itline[this.itline.length - 1];
                        return (e = t ? t.left + t.width : 0), (e < 0 || isNaN(e)) && (e = 0), e;
                    }),
                    (this.Ku = function (e, t) {
                        t = t || "main";
                        var n = A.Cl[t],
                            i = n.rowlist,
                            a = n.divLines,
                            r = t + "_y_" + e;
                        if (!this.ta.Xk[r]) {
                            var o = i[e],
                                s = {};
                            if ("function" != typeof A.onBeforeGridLineRender || ((s.row = A.xn(o)), (s.hidden = !1), (s.cssClass = null), (s.type = "HorizontalLine"), (s.color = null), A.onBeforeGridLineRender(s), !s.hidden)) {
                                var d = "number" == typeof o.forcedHeight ? o.forcedHeight : o.height,
                                    c = o.top + d - 1,
                                    u = this.Sl(),
                                    h = l(),
                                    f = h.style;
                                (f.left = "0px"),
                                    (f.top = c + "px"),
                                    (f.width = u + "px"),
                                    (f.height = "1px"),
                                    (f.fontSize = "1px"),
                                    (f.lineHeight = "1px"),
                                    (f.overflow = "hidden"),
                                    (f.position = "absolute"),
                                    h.setAttribute("unselectable", "on"),
                                    (h.className = this.ca("_matrix_horizontal_line")),
                                    s.cssClass && (h.className += " " + s.cssClass),
                                    s.color && (f.backgroundColor = s.color),
                                    a.appendChild(h),
                                    (this.ta.Xk[r] = h);
                            }
                        }
                    }),
                    (this.Ju = function (e, t) {
                        var n = this.itline[e];
                        if (n) {
                            t = t || "main";
                            var i = A.Cl[t],
                                a = i.divLines,
                                r = "main" === t,
                                o = r ? A.Tk : i.height,
                                s = t + "_x_" + e;
                            if (!this.ta.Wk[s]) {
                                var d = {};
                                if (
                                    "function" != typeof A.onBeforeGridLineRender ||
                                    ((d.start = n.start), (d.end = n.end), (d.hidden = !1), (d.cssClass = null), (d.type = "VerticalLine"), (d.color = null), A.onBeforeGridLineRender(d), !d.hidden)
                                ) {
                                    var c = n.left + n.width - 1,
                                        u = l(),
                                        h = u.style;
                                    (h.left = c + "px"),
                                        (h.top = "0px"),
                                        (h.width = "1px"),
                                        (h.height = o + "px"),
                                        (h.fontSize = "1px"),
                                        (h.lineHeight = "1px"),
                                        (h.overflow = "hidden"),
                                        (h.position = "absolute"),
                                        u.setAttribute("unselectable", "on"),
                                        (u.className = this.ca("_matrix_vertical_line")),
                                        d.cssClass && (u.className += " " + d.cssClass),
                                        d.color && (h.backgroundColor = d.color),
                                        a.appendChild(u),
                                        this.elements.linesVertical.push(u),
                                        (this.ta.Wk[s] = u);
                                }
                            }
                        }
                    }),
                    (this.Jp = function (e, t) {
                        function n() {
                            var t = A.Nu(e, i.expanded, !1);
                            if (!a)
                                for (var n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    A.kn(r);
                                }
                            A.hr(), A.vb(), A.Uj();
                            var o = A.xn(i, e);
                            a ? A.In(o) : A.Hn(o);
                        }
                        A.zl.gp && (A.zl.skip = !0);
                        var i = this.rowlist[e],
                            a = !i.expanded;
                        if (((i.expanded = a), i.resource && (i.resource.expanded = a), (t = t || {}), A.bl({ includeHidden: !0 }), A.treeAnimation && !t.notAnimated)) {
                            var r = this.Nu(e, i.expanded, !0);
                            A.gr(r, a ? "show" : "hide", function () {
                                n();
                            });
                        } else n();
                    }),
                    (this.hr = function () {
                        A.il(), A.dl(), A.fl(), A.vb(), A.Da(), A.mn(), B.Nm(), A.kl(), A.nl(), A.Rm(), A.zb(), A.Da();
                    }),
                    (this.br = function (e) {
                        var t = {};
                        if (((t.index = e), "function" == typeof this.onLoadNode)) {
                            var n = {},
                                i = this.rowlist[e].resource;
                            (n.resource = i),
                                (n.async = !1),
                                (n.loaded = function () {
                                    this.async && ((i.dynamicChildren = !1), (i.expanded = !0), A.update());
                                }),
                                this.onLoadNode(n),
                                n.async || ((i.dynamicChildren = !1), (i.expanded = !0), this.update());
                        } else this.Ja("LoadNode", t);
                    }),
                    (this.Nu = function (e, t, n) {
                        var i = this.rowlist[e],
                            a = [];
                        if (null === i.children || 0 === i.children.length) return a;
                        for (var r = 0; r < i.children.length; r++) {
                            var o = i.children[r],
                                s = this.rowlist[o],
                                l = t && i.expanded && !s.ls;
                            t && s.hidden && (s.forcedHeight = 0), (n && !t) || (s.hidden = !l), n || delete s.forcedHeight, t === l && a.push(o);
                            var d = this.Nu(o, t && !s.hidden);
                            d.length > 0 && (a = a.concat(d));
                        }
                        return a;
                    }),
                    (this.wg = function (e, t) {
                        this.cb(), this.xg(e, t);
                    }),
                    (this.yg = function (e) {
                        if (!e) return !1;
                        var t = this.nav.scroll,
                            n = t.scrollWidth,
                            i = t.scrollLeft,
                            a = t.clientWidth,
                            r = i + a;
                        return !(e < 0 && i <= 0) && !(e > 0 && r >= n) && ((t.scrollLeft += e), (A.coords.x += e), A.zg(), !0);
                    }),
                    (this.Ag = function (e) {
                        if (!e) return !1;
                        var t = this.nav.scroll,
                            n = t.scrollHeight,
                            i = t.scrollTop,
                            a = t.clientHeight,
                            r = i + a;
                        return !(e < 0 && i <= 0) && !(e > 0 && r >= n) && ((t.scrollTop += e), (A.coords.y += e), A.zg(), !0);
                    }),
                    (this.zg = function () {
                        i.vp && i.vp.event.calendar === A
                            ? A.bu()
                            : i.ym && (i.qp.calendar === A || (i.qp.calendar && i.qp.calendar.dragOutAllowed))
                            ? (i.ym.event || (i.ym.event = i.qp), A.cu())
                            : i.wp && i.wp.calendar === A
                            ? A.du()
                            : i.Zt && V.draw();
                    }),
                    (this.xg = function (e, t) {
                        if (!A.Nt) {
                            if (!(this.yg(e) || this.Ag(t))) return;
                        }
                        var n = function (e, t) {
                            return function () {
                                A.xg(e, t);
                            };
                        };
                        this.Bg = window.setTimeout(n(e, t), 100);
                    }),
                    (this.cb = function () {
                        clearTimeout(A.Bg), clearTimeout(A.ku);
                    }),
                    (this.il = function () {
                        A.Cl.top.enabled() && (A.Cl.top.height = A.Ou(A.Cl.top.rowlist, 0)), A.Cl.bottom.enabled() && (A.Cl.bottom.height = A.Ou(A.Cl.bottom.rowlist, 0)), (A.Tk = A.Ou(A.rowlist, A.Cl.top.height));
                    }),
                    (this.Ou = function (e, t) {
                        for (var n = 0, i = t || 0, t = t || 0, a = 0; a < e.length; a++) {
                            var r = e[a];
                            r.hidden || ((r.top = t), (r.displayY = n), (t += "number" == typeof r.forcedHeight ? r.forcedHeight : r.height), (n += 1)), (r.absTop = i), (i += r.height);
                        }
                        return t;
                    }),
                    (this.kl = function () {
                        "function" == typeof A.onBeforeRowHeaderDomAdd && A.W.reactDOM && A.Pu(),
                            (A.elements.cells = []),
                            (A.elements.breaks = []),
                            (A.ta.cells = []),
                            (A.ta.breaks = []),
                            (A.divBreaks.innerHTML = ""),
                            (A.Cl.top.divBreaks.innerHTML = ""),
                            (A.Cl.bottom.divBreaks.innerHTML = ""),
                            (A.divCells.innerHTML = ""),
                            (A.Cl.top.divCells.innerHTML = ""),
                            (A.Cl.bottom.divCells.innerHTML = ""),
                            A.Pq();
                    }),
                    (this.Pq = function () {
                        (A.divLines.innerHTML = ""), (A.Cl.top.divLines.innerHTML = ""), (A.Cl.bottom.divLines.innerHTML = ""), (A.ta.Wk = {}), (A.ta.Xk = {}), (A.elements.linesVertical = []);
                    }),
                    (this.Pu = function (e) {
                        var t = w();
                        for (var n in A.ta.cells) t.push(A.ta.cells[n]);
                        t.forEach(function (e) {
                            A.ip(e);
                        });
                    }),
                    (this.nn = function (e, t) {
                        t = t || "main";
                        var n = w();
                        for (var i in A.ta.cells) n.push(A.ta.cells[i]);
                        n.filter(function (n) {
                            return n && n.coords && n.coords.y === e && n.coords.grid === t;
                        }).forEach(function (e) {
                            A.ip(e);
                        });
                    }),
                    (this.Qu = 0),
                    (this.Ru = w(["html", "cssClass", "backColor", "backImage", "backRepeat", "areas", "disabled", "fontColor", "text"])),
                    (this.Su = A.Ru.add("business")),
                    (this.Me = function (e, t, n) {
                        if (this.ya) {
                            var i = A.Am(e);
                            if (i) {
                                n = n || "main";
                                var a = this.Cl[n],
                                    r = a.rowlist,
                                    o = a.divCells,
                                    s = "main" === n,
                                    d = n + "_" + e + "_" + t;
                                if (!this.ta.cells[d]) {
                                    var c = this.kp(e, t, n);
                                    if ((A.Zp(e, t, n), !this.drawBlankCells)) {
                                        var h = !1;
                                        if ((s && this.Fp(t) ? (h = !1) : this.Tu(c, A.Ru) || (h = !0), h)) return;
                                    }
                                    var f = l();
                                    (f.style.left = i.left + "px"),
                                        (f.style.top = r[t].top + "px"),
                                        (f.style.width = i.width + "px"),
                                        (f.style.height = r[t].height + "px"),
                                        (f.style.position = "absolute"),
                                        f.setAttribute("unselectable", "on"),
                                        (f.className = this.ca("_cell")),
                                        (f.coords = {}),
                                        (f.coords.x = e),
                                        (f.coords.y = t),
                                        (f.coords.grid = n),
                                        s && A.Fp(t) && u(f, this.ca("_cellparent")),
                                        U.ta[n + "_" + t] && u(f, this.ca("_cell_selected"));
                                    var v = A.cells.findXy(e, t, n)[0];
                                    if (c) {
                                        c.cssClass && u(f, c.cssClass),
                                            (f.innerHTML = A.Ea(c.text, c.html)),
                                            c.backImage && (f.style.backgroundImage = 'url("' + c.backImage + '")'),
                                            c.backRepeat && (f.style.backgroundRepeat = c.backRepeat),
                                            c.business && A.cellsMarkBusiness && u(f, A.ca("_cell_business")),
                                            c.disabled && u(f, A.ca("_cell_disabled")),
                                            c.backColor && (f.style.backgroundColor = c.backColor),
                                            c.fontColor && (f.style.color = c.fontColor);
                                        var g = DayPilot.Areas.resolvePosition(c.areas, A, i.left, i.width);
                                        DayPilot.Areas.attach(f, v, { areas: g });
                                    }
                                    if (
                                        ((function () {
                                            if ("function" == typeof A.onBeforeCellDomAdd || "function" == typeof A.onBeforeCellDomRemove) {
                                                var e = {};
                                                if (((e.control = A), (e.cell = v), (e.element = null), (f.domArgs = e), "function" == typeof A.onBeforeCellDomAdd && A.onBeforeCellDomAdd(e), e.element)) {
                                                    var t = f;
                                                    if (t) {
                                                        e.ze = t;
                                                        if (m(e.element)) {
                                                            if (!A.W.reactDOM) throw new DayPilot.Exception("Can't reach ReactDOM");
                                                            A.W.V(e.element, t);
                                                        } else t.appendChild(e.element);
                                                    }
                                                }
                                            }
                                        })(),
                                        o.appendChild(f),
                                        this.elements.cells.push(f),
                                        (this.ta.cells[d] = f),
                                        "function" == typeof A.onAfterCellRender)
                                    ) {
                                        var y = {};
                                        (y.cell = p(v, {}, ["x", "y", "displayY", "start", "end", "resource", "grid"])), (y.div = f), A.onAfterCellRender(y);
                                    }
                                }
                            }
                        }
                    }),
                    (this.om = {}),
                    (this._o = function () {
                        A.Hr(),
                            A.Uu().forEach(function (e) {
                                A.nn(e.y, e.grid);
                            }),
                            A.nl();
                    }),
                    (this.Hr = function () {
                        function e(e) {
                            A.Cl[e].rowlist.forEach(function (t, n) {
                                t.isNewRow ||
                                    (t.resource.cellsAutoUpdated &&
                                        A.itline.forEach(function (t, i) {
                                            var a = e + "_" + i + "_" + n;
                                            delete A.om[a];
                                        }));
                            });
                        }
                        e("main"), e("top"), e("bottom");
                    }),
                    (this.Uu = function () {
                        function e(e, n, r) {
                            for (var o = 0; o < r; o++)
                                for (var s = n + o, l = A.Cl[e].rowlist[s], d = 0; d <= a; d++) {
                                    var c = i + d;
                                    if (!l.hidden && !A.om[e + "_" + c + "_" + s]) {
                                        t.push({ grid: e, y: s });
                                        break;
                                    }
                                }
                        }
                        var t = w(),
                            n = this.hd(),
                            i = n.xStart,
                            a = n.xEnd - n.xStart;
                        return e("main", n.yStart, n.yEnd - n.yStart), e("top", 0, A.Cl.top.rowlist.length), e("bottom", 0, A.Cl.bottom.rowlist.length), t;
                    }),
                    (this.Zp = function (e, t, n) {
                        if ("function" == typeof this.onBeforeCellRender) {
                            n = n || "main";
                            var i = n + "_" + e + "_" + t;
                            if (A.beforeCellRenderCaching && A.om[i]) return;
                            A.om[i] = !0;
                            var a = A.Am(e);
                            if (!a) return;
                            var r = A.cells.findXy(e, t, n)[0],
                                o = {};
                            return (
                                (o.cell = r),
                                (o.control = A),
                                (o.getPixels = function (e) {
                                    var e = new DayPilot.Date(e);
                                    return A.getPixels(e).left - a.left;
                                }),
                                this.onBeforeCellRender(o),
                                p(o.cell, o.cell.properties, A.Su),
                                o.cell.properties.disabled && (A.om.zq = !0),
                                o
                            );
                        }
                    }),
                    (this.Tu = function (e, t) {
                        if (t) {
                            for (var n = 0; n < t.length; n++) if (!v(e[t[n]])) return !0;
                        } else for (var i in e) if (!v(e[i])) return !0;
                        return !1;
                    }),
                    (this.clearSelection = function () {
                        this.rl(), X.clear();
                    }),
                    (this.cleanSelection = this.clearSelection),
                    (this.zu = function (e, t, n) {
                        (e = new DayPilot.Date(e)), (t = new DayPilot.Date(t));
                        var i = A.Gl(n),
                            a = A.wm(e),
                            r = a.current || a.next;
                        if (!r) throw new DayPilot.Exception("Time range selection 'start' out of timeline");
                        var o = A.wm(new DayPilot.Date(t).addMilliseconds(-1)),
                            s = o.current || o.previous;
                        if (!s) throw new DayPilot.Exception("Time range selection 'end' out of timeline");
                        var l = {};
                        return (l.start = { y: i.index, x: C(A.itline, r), time: e, grid: i.grid }), (l.end = { x: C(A.itline, s), time: t }), (l.calendar = this), l;
                    }),
                    (this.selectTimeRange = function (e, t, n, i) {
                        var a = A.zu(e, t, n);
                        A.tn(a),
                            i ||
                                setTimeout(function () {
                                    A.pn(a, "api");
                                }, 0);
                    }),
                    (this.pc = function () {
                        var e = i.rq && i.rq.source;
                        e && c(e, A.ca(A.Jt.eventMovingSource)), k(i.rq), (i.rq = null), A.Aq(), A.oq.clear(), b.movingLink && (b.movingLink.clear(), (b.movingLink = null));
                    }),
                    (this.rl = function () {
                        A.divShadow && (A.divShadow.innerHTML = ""),
                            A.Cl.top.divShadow && (A.Cl.top.divShadow.innerHTML = ""),
                            A.Cl.bottom.divShadow && (A.Cl.bottom.divShadow.innerHTML = ""),
                            (A.elements.range = []),
                            (A.elements.range2 = null),
                            A.Aq(),
                            (A.sn = null),
                            (A.xu = null);
                    });
                var Z = {};
                (Z.Ak = null),
                    (Z.Wo = !1),
                    (Z.Vu = function (e) {
                        if (!e) return null;
                        var t = {};
                        if ("event" === e.type) t.e = e.event;
                        else if ("cell" === e.type) {
                            var n = Z.Wu(e.x, e.y);
                            (t.cell = {}), (t.cell.start = n.thc.start), (t.cell.end = n.thc.end), (t.cell.resource = n.row.id);
                        }
                        return t;
                    }),
                    (Z.Jn = function (e) {
                        if (!i.Uo && !Z.Wo) {
                            e = e || {};
                            var t = e.dontFocus,
                                n = Z.Ak;
                            if (n) {
                                var a = n.x,
                                    r = n.y;
                                if ("cell" === n.type) {
                                    var o = Z.Wu(a, r),
                                        s = o.row,
                                        l = Z.Xu(a, r);
                                    l && u(l, A.ca("_cell_focus")), "top" === n.line && s.marginTop && u(l, A.ca("_cell_focus_top")), "bottom" === n.line && s.marginBottom && u(l, A.ca("_cell_focus_bottom"));
                                } else {
                                    var l = A.Sg(n.event);
                                    l && u(l, A.ca("_event_focus"));
                                }
                                if (!t) {
                                    var d = A.Un();
                                    if (d.start.x >= a) {
                                        var c = A.itline[a].start;
                                        A.scrollTo(c);
                                    } else if (d.end.x <= a) {
                                        var h = A.itline[a].end;
                                        A.scrollTo(h, !1, "right");
                                    }
                                    if (d.start.y >= r) A.nav.scroll.scrollTop = A.rowlist[r].top - A.Cl.top.height;
                                    else if (d.end.y <= r) {
                                        var s = A.rowlist[r],
                                            f = s.top + s.height;
                                        A.nav.scroll.scrollTop = f - A.nav.scroll.clientHeight + A.Cl.bottom.height;
                                    }
                                }
                            }
                        }
                    }),
                    (Z.Vo = function () {
                        var e = Z.Ak;
                        if (e)
                            if ("cell" === e.type) {
                                var t = Z.Xu(Z.Ak.x, Z.Ak.y);
                                t && (c(t, A.ca("_cell_focus")), c(t, A.ca("_cell_focus_top")), c(t, A.ca("_cell_focus_bottom")));
                            } else {
                                var t = A.Sg(e.event);
                                t && c(t, A.ca("_event_focus"));
                            }
                    }),
                    (Z.Wu = function (e, t) {
                        var n = {},
                            i = A.rowlist[t],
                            a = A.itline[e],
                            r = [],
                            o = i.lines.map(function (e) {
                                var t = e.filter(function (e) {
                                    return d(e.part.start, e.part.end, a.start, a.end);
                                });
                                return (r = r.concat(t)), t;
                            });
                        return (n.lines = o), (n.thc = a), (n.row = i), (n.events = r), n;
                    }),
                    (Z.dn = function () {
                        var e = Z.Ak;
                        e && (Z.Vo(), (Z.Ak = Z.Yu(e.x, e.y, e.pixels, e.line)), Z.Jn({ dontFocus: !0 }));
                    }),
                    (Z.Yu = function (e, t, n, i) {
                        var a = {};
                        (n = n || A.itline[e].left), (i = v(i) ? "top" : i);
                        var r = Z.Wu(e, t),
                            o = r.lines,
                            s = r.row,
                            l = r.events,
                            c = s.marginTop || s.marginBottom,
                            u = !1,
                            h = l.length > 0,
                            f = i,
                            p = null,
                            m = null;
                        if (h)
                            if (s.marginTop && "top" === i) (u = !0), (f = "top");
                            else if (s.marginBottom && "bottom" === i) (u = !0), (f = "bottom");
                            else {
                                if ("top" === i)
                                    if (s.marginBottom) {
                                        var g = r.lines.find(function (e) {
                                            return e.find(function (e) {
                                                return e.part.left <= n && n <= e.part.right;
                                            });
                                        });
                                        if (g) f = r.lines.indexOf(g);
                                        else {
                                            var y = r.lines.find(function (e) {
                                                return e.find(function (e) {
                                                    return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right);
                                                });
                                            });
                                            y ? ((f = r.lines.indexOf(y)), (m = y[0])) : (f = "bottom");
                                        }
                                    } else f = s.marginTop ? "top" : 0;
                                else if ("bottom" === i)
                                    if (c) {
                                        var g = r.lines
                                            .slice()
                                            .reverse()
                                            .find(function (e) {
                                                return e.find(function (e) {
                                                    return e.part.left <= n && n <= e.part.right;
                                                });
                                            });
                                        (f = r.lines.indexOf(g)), f === -1 && (f = Z.Zu(i, s));
                                    } else f = o.length - 1;
                                else f = i;
                                var b = o[f];
                                m ||
                                    (m =
                                        b &&
                                        b.find(function (e) {
                                            return e.part.left <= n && n <= e.part.right;
                                        })),
                                    m || ((u = !0), (f = Z.Zu(f, s))),
                                    (p = m);
                            }
                        else (u = !0), (f = c ? Z.Zu(i, s) : 0);
                        return (a.x = e), (a.y = t), u ? ((a.type = "cell"), (a.pixels = n), (a.line = f), a) : ((a.type = "event"), (a.event = p), (a.pixels = p.part.left), (a.x = A.um(p.part.left).x), (a.line = f), a);
                    }),
                    (Z.$u = function (e) {
                        var t = {},
                            n = Z.Ak,
                            i = A.rowlist[n.y],
                            a = i.lines[n.line],
                            r = Z.Wu(n.x, n.y),
                            o = i.marginTop || i.marginBottom;
                        if ("right" === e) {
                            if ("event" === n.type) {
                                var s = n.event.part.end,
                                    l = n.event.part.right,
                                    c = A.wm(s),
                                    u = c.i,
                                    h = c.current.left + c.current.width,
                                    f = a.indexOf(n.event) + 1,
                                    v = a[f],
                                    p = r.lines[n.line],
                                    m = p[p.indexOf(n.event) + 1];
                                if (v && v.part.left === l) return (t.x = u), (t.y = n.y), (t.type = "event"), (t.line = n.line), (t.pixels = v.part.left), (t.event = v), t;
                                if (m && o) return (t.x = u), (t.y = n.y), (t.type = "event"), (t.line = n.line), (t.pixels = m.part.left), (t.event = m), t;
                                if (h === l) {
                                    var g = Z._u(u);
                                    return g === u ? n : ((t.x = u + 1), (t.y = n.y), (t.type = "cell"), (t.pixels = A.itline[t.x].left), (t.line = 0), i.marginTop ? (t.line = "top") : i.marginBottom && (t.line = "bottom"), t);
                                }
                                return (t.x = u), (t.y = n.y), (t.type = "cell"), (t.line = n.line), (t.pixels = n.event.part.right), o && (t.line = Z.Zu(n.line, i)), t;
                            }
                            var r = Z.Wu(n.x, n.y),
                                a = r.lines[n.line],
                                v =
                                    a &&
                                    a.find(function (e) {
                                        return e.part.left > n.pixels;
                                    });
                            if (v) return (t.x = n.x), (t.y = n.y), (t.type = "event"), (t.event = v), (t.pixels = v.part.left), (t.line = n.line), t;
                            var g = Z._u(n.x);
                            return g === n.x ? n : Z.Yu(g, n.y, null, n.line);
                        }
                        if ("left" === e) {
                            var y = n.x;
                            if ("event" === n.type) {
                                y = A.um(n.event.part.left).x;
                                var c = A.itline[y];
                                if (n.event.part.left !== c.left) {
                                    var f = a.indexOf(n.event) - 1,
                                        v = a[f];
                                    return v && v.part.right === n.event.part.left
                                        ? ((c = A.um(v.part.right, !0)), (t.x = c.x), (t.y = n.y), (t.type = "event"), (t.line = n.line), (t.pixels = v.part.right), (t.event = v), t)
                                        : ((c = A.um(n.event.part.left)), (t.x = c.x), (t.y = n.y), (t.type = "cell"), (t.line = n.line), (t.pixels = n.event.part.left), o && (t.line = Z.Zu(n.line, i)), t);
                                }
                                if (0 === y) return n;
                                t = Z.Yu(y - 1, n.y, c.right, n.line);
                            } else {
                                var r = Z.Wu(n.x, n.y),
                                    a = r.lines[n.line],
                                    v =
                                        a &&
                                        a
                                            .slice()
                                            .reverse()
                                            .find(function (e) {
                                                return e.part.right < n.pixels;
                                            });
                                if (v) return (t.x = n.x), (t.y = n.y), (t.type = "event"), (t.event = v), (t.pixels = v.part.right), (t.line = n.line), t;
                                var g = Z.av(n.x);
                                if (g === n.x) return n;
                                var c = A.itline[y - 1],
                                    h = c.left + c.width;
                                t = Z.Yu(g, n.y, h, n.line);
                            }
                            return t;
                        }
                        if ("down" === e) {
                            var r = Z.Wu(n.x, n.y),
                                b = r.lines.find(function (e) {
                                    return e.find(function (e) {
                                        return e.part.left <= n.pixels && n.pixels <= e.part.right;
                                    });
                                });
                            if ("top" === n.line && i.marginTop) {
                                if (b) {
                                    var w = r.lines.indexOf(b);
                                    return (t = Z.Yu(n.x, n.y, n.pixels, w)), (t.pixels = n.pixels), (t.x = n.x), t;
                                }
                                var x = r.lines.find(function (e) {
                                    return e.find(function (e) {
                                        return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right);
                                    });
                                });
                                if (x) {
                                    var k = x[0];
                                    return (t = Z.Yu(n.x, n.y, k.part.left, r.lines.indexOf(x))), (t.pixels = n.pixels), (t.x = n.x), t;
                                }
                                var C = Z.bv(n.y);
                                return C === n.y ? n : ((t = Z.Yu(n.x, C, n.pixels, "top")), (t.pixels = n.pixels), (t.x = n.x), t);
                            }
                            if ("bottom" === n.line && i.marginBottom) {
                                var C = Z.bv(n.y);
                                return C === n.y ? n : ((t = Z.Yu(n.x, C, n.pixels, "top")), (t.pixels = n.pixels), (t.x = n.x), t);
                            }
                            if (n.line < i.lines.length - 1) {
                                var _ = n.y,
                                    D = n.line + 1;
                                i.marginTop && "top" === n.line && (D = 0);
                                var b = r.lines.slice(D).find(function (e) {
                                    return e.find(function (e) {
                                        return e.part.left <= n.pixels && n.pixels <= e.part.right;
                                    });
                                });
                                if (b) D = r.lines.indexOf(b);
                                else if (i.marginBottom) D = "bottom";
                                else if (i.marginTop) {
                                    var x = r.lines.slice(n.line + 1).find(function (e) {
                                        return e.find(function (e) {
                                            return d(e.part.left, e.part.right, r.thc.left, r.thc.left + r.thc.right);
                                        });
                                    });
                                    if (x) {
                                        var k = x[0];
                                        return (t = Z.Yu(n.x, n.y, k.part.left, r.lines.indexOf(x)));
                                    }
                                    (D = "top"), (_ += 1);
                                } else if (n.event) D = i.lines.length - 1;
                                else {
                                    var C = Z.bv(n.y);
                                    if (C === n.y) return n;
                                    (D = 0), (_ += 1);
                                }
                                return (t = Z.Yu(n.x, _, n.pixels, D)), (t.pixels = n.pixels), (t.x = n.x), t;
                            }
                            if (n.line === i.lines.length - 1 && i.marginBottom) return (t = Z.Yu(n.x, n.y, n.pixels, "bottom")), (t.pixels = n.pixels), (t.x = n.x), t;
                            var C = Z.bv(n.y);
                            return C === n.y ? n : ((t = Z.Yu(n.x, C, n.pixels, "top")), (t.pixels = n.pixels), (t.x = n.x), t);
                        }
                        if ("up" === e) {
                            var r = Z.Wu(n.x, n.y),
                                b = r.lines
                                    .slice()
                                    .reverse()
                                    .find(function (e) {
                                        return e.find(function (e) {
                                            return e.part.left <= n.pixels && n.pixels <= e.part.right;
                                        });
                                    });
                            if ("bottom" === n.line && i.marginBottom && b) {
                                var w = r.lines.indexOf(b);
                                t = Z.Yu(n.x, n.y, n.pixels, w);
                            } else if (0 === n.line && i.marginTop) t = Z.Yu(n.x, n.y, n.pixels, "top");
                            else if (n.line > 0) {
                                var D = "bottom",
                                    _ = n.y,
                                    b = r.lines
                                        .slice(0, n.line)
                                        .reverse()
                                        .find(function (e) {
                                            return e.find(function (e) {
                                                return e.part.left <= n.pixels && n.pixels <= e.part.right;
                                            });
                                        });
                                b ? (D = r.lines.indexOf(b)) : i.marginTop ? (D = "top") : i.marginBottom ? (_ -= 1) : (D = 0);
                                var C = Z.cv(_);
                                if (C === _) return n;
                                t = Z.Yu(n.x, _, n.pixels, D);
                            } else {
                                var C = Z.cv(n.y);
                                if (C === n.y) return n;
                                t = Z.Yu(n.x, C, n.pixels, "bottom");
                            }
                            return (t.x = n.x), (t.pixels = n.pixels), t;
                        }
                        return null;
                    }),
                    (Z.Zu = function (e, t) {
                        var n = ("top" === e && t.marginTop) || ("bottom" === e && t.marginBottom);
                        if ("number" == typeof e || !n) {
                            if (t.marginTop) return "top";
                            if (t.marginBottom) return "bottom";
                        }
                        return e;
                    }),
                    (Z.Xu = function (e, t, n) {
                        n = n || "main";
                        var i = n + "_" + e + "_" + t;
                        return A.ta.cells[i];
                    }),
                    (Z.dv = function () {
                        return Z.Ak;
                    }),
                    (Z.Ih = function () {
                        var e = A.keyboardTarget;
                        switch (e) {
                            case "component":
                                return A.nav.top;
                            case "document":
                                return document;
                        }
                        throw new DayPilot.Exception("Invalid keyboardTarget value: " + e);
                    }),
                    (Z.wp = null),
                    (Z.ev = function (e) {
                        if (16 === e.keyCode) {
                            var t = Z.wp;
                            if (((Z.wp = null), !t || !t.end)) return;
                            var n = t.start.x < t.end.x,
                                i = n ? t.start.x : t.end.x,
                                a = n ? t.end.x : t.start.x;
                            Z.fv(i, t.start.y, a, { forceSnap: !0 });
                        }
                    }),
                    (Z.gv = function (e) {
                        var t = 37,
                            n = 38,
                            a = 39,
                            r = 40,
                            o = 13,
                            s = {};
                        (s["_37"] = "left"), (s["_39"] = "right"), (s["_38"] = "up"), (s["_40"] = "down");
                        var l = [t, n, a, r],
                            d = l.indexOf(e.keyCode) !== -1,
                            c = [t, n, a, r, o],
                            u = c.indexOf(e.keyCode) !== -1;
                        if (!i.Uo) {
                            if ("function" == typeof A.onKeyDown) {
                                var h = {};
                                if (
                                    ((h.originalEvent = e),
                                    (h.preventDefault = function () {
                                        h.preventDefault.value = !0;
                                    }),
                                    A.onKeyDown(h),
                                    h.preventDefault.value)
                                )
                                    return;
                            }
                            if (d && (e.preventDefault(), !Z.Ak)) return void Z.hv();
                            if (u) {
                                var f = e.shiftKey;
                                if (Z.Ak) {
                                    var v = A.Fp(Z.Ak.y),
                                        p = !(v && A.treePreventParentUsage);
                                    f && !Z.Ak.event && !Z.wp && p && (Z.wp = { calendar: A, forceSnap: !0, start: { x: Z.Ak.x, y: Z.Ak.y, time: A.itline[Z.Ak.x].start } });
                                }
                                if (!Z.wp || (e.keyCode !== n && e.keyCode !== r)) {
                                    var m = Z.$u(s["_" + e.keyCode]),
                                        h = {};
                                    if (
                                        ((h.previous = A.keyboard.getFocus()),
                                        (h.focus = Z.Vu(m)),
                                        (h.preventDefault = function () {
                                            h.preventDefault.value = !0;
                                        }),
                                        !d || "function" != typeof A.onKeyboardFocusChange || (A.onKeyboardFocusChange(h), !h.preventDefault.value))
                                    ) {
                                        if (d) Z.Vo(), (Z.Ak = m), Z.Jn();
                                        else
                                            switch (e.keyCode) {
                                                case o:
                                                    if ((e.preventDefault(), Z.Ak && Z.Ak.event)) {
                                                        var g = A.Sg(Z.Ak.event);
                                                        Z.iv(g, e);
                                                    } else p && Z.fv(Z.Ak.x, Z.Ak.y);
                                            }
                                        (d && "function" == typeof A.onKeyboardFocusChanged && (A.onKeyboardFocusChanged(h), h.preventDefault.value)) ||
                                            ((e.keyCode !== t && e.keyCode !== a) || (Z.wp && ((Z.wp.end = { x: Z.Ak.x, y: Z.Ak.y, time: A.itline[Z.Ak.x].start }), A.tn(Z.wp))), Z.wp);
                                    }
                                }
                            }
                        }
                    }),
                    (Z.Zn = function () {
                        var e = Z.Ih();
                        e.removeEventListener("keyup", Z.ev), e.removeEventListener("keydown", Z.gv);
                    }),
                    (Z.jv = function () {
                        var e = Z.Ih();
                        e !== document && A.nav.top.setAttribute("tabindex", "-1"), A.ja() || (e.addEventListener("keyup", Z.ev), e.addEventListener("keydown", Z.gv));
                    }),
                    (Z.iv = function (e, t) {
                        A.Ub(e, t);
                    }),
                    (Z.fv = function (e, t, n) {
                        o = o || {};
                        var i = {};
                        (i.forceSnap = !0), (i.start = { y: t, x: e, time: A.itline[e].start }), (i.end = { x: "undefined" == typeof n ? e : n }), (i.end.time = A.itline[i.end.x].start), (i.calendar = A), (A.sn = i), A.pn(i, "keyboard");
                    }),
                    (Z.hv = function () {
                        var e = A.Un();
                        Z.Vo(), (Z.Ak = Z.Yu(e.start.x, e.start.y)), Z.Jn();
                    }),
                    (Z.kv = function () {
                        var e = "Always" === A.useEventBoxes;
                        (e = e && !A.ja()), e && (Z.jv(), Z.Ih() !== document && A.nav.top.focus());
                    }),
                    (Z.cv = function (e) {
                        if (e <= 0) return e;
                        for (var t = e; t > 0; ) if (((t -= 1), !A.rowlist[t].hidden)) return t;
                        return e;
                    }),
                    (Z.bv = function (e) {
                        var t = A.rowlist.length - 1;
                        if (e >= t) return e;
                        for (var n = e; n < t; ) if (((n += 1), !A.rowlist[n].hidden)) return n;
                        return e;
                    }),
                    (Z._u = function (e) {
                        return e >= A.itline.length - 1 ? e : e + 1;
                    }),
                    (Z.av = function (e) {
                        return e <= 0 ? e : e - 1;
                    }),
                    (Z.Wm = function () {
                        Z.Ak = null;
                    }),
                    (this.Xm = Z),
                    (this.keyboard = {}),
                    (this.keyboard.focusCell = function (e, t) {
                        var n = A._m(e, t);
                        if (!n) throw new DayPilot.Exception("Can't find the specified cell");
                        if ("main" !== n.grid) throw new DayPilot.Exception("Can't focus a cell in a frozen row");
                        Z.Vo(), (Z.Ak = Z.Yu(n.x, n.y)), Z.Jn();
                    }),
                    (this.keyboard.focusEvent = function (e) {
                        e instanceof DayPilot.Event && (e = e.id());
                        var t = A.events.find(e);
                        if (!t) throw new DayPilot.Exception("Event not found");
                        t = A.events.Co(t.data);
                        var n = (A.rowlist[t.part.dayIndex], {});
                        (n.type = "event"), (n.event = t), (n.pixels = t.part.left), (n.x = A.um(t.part.left).x), (n.y = t.part.dayIndex), (n.line = t.part.line), Z.Vo(), (Z.Ak = n), Z.Jn();
                    }),
                    (this.keyboard.resetFocus = function () {
                        Z.hv();
                    }),
                    (this.keyboard.getFocus = function () {
                        return Z.Vu(Z.Ak);
                    }),
                    (this.keyboard.move = function (e, t) {
                        t = t || {};
                        var n = t.dontFireEvent;
                        Z.Vo();
                        var i = Z.$u(e),
                            a = {};
                        return (
                            (a.previous = A.keyboard.getFocus()),
                            (a.focus = Z.Vu(i)),
                            (a.preventDefault = function () {
                                a.preventDefault.value = !0;
                            }),
                            "function" == typeof A.onKeyboardFocusChange && !n && (A.onKeyboardFocusChange(a), a.preventDefault.value)
                                ? void Z.Jn()
                                : ((Z.Ak = i), Z.Jn(), void ("function" != typeof A.onKeyboardFocusChanged || n || A.onKeyboardFocusChanged(a)))
                        );
                    }),
                    (this.Ga = {});
                var K = this.Ga;
                (K.Ug = function () {
                    delete A.ta.eventHeight, delete A.ta.headerHeight;
                }),
                    (K.Fa = function () {
                        return "Disabled" !== A.xssProtection;
                    }),
                    (K.Lc = function () {
                        return DayPilot.Locale.find(A.locale);
                    }),
                    (K.Kc = function () {
                        return "Auto" !== A.timeFormat ? A.timeFormat : K.Lc().timeFormat;
                    }),
                    (K.Id = function () {
                        if ("Auto" === A.weekStarts) {
                            var e = K.Lc();
                            return e ? e.weekStarts : 0;
                        }
                        return A.weekStarts || 0;
                    }),
                    (K.Qq = function () {
                        var e = navigator.userAgent.toLowerCase();
                        return e.indexOf("mobile") !== -1 || e.indexOf("android") != -1;
                    }),
                    (K.rs = function () {
                        var e = /MSIE 6/i.test(navigator.userAgent);
                        return "Auto" === A.layout ? (e ? "TableBased" : "DivBased") : A.layout;
                    }),
                    (K.fc = function () {
                        var e;
                        if ("Immediate" === A.notifyCommit) e = "Notify";
                        else {
                            if ("Queue" !== A.notifyCommit) throw new DayPilot.Exception("Invalid notifyCommit value: " + A.notifyCommit);
                            e = "Queue";
                        }
                        return e;
                    }),
                    (K.jr = function () {
                        return "Days" !== A.viewType;
                    }),
                    (K.Og = function (e) {
                        return "Always" === A.useEventBoxes || ("Never" !== A.useEventBoxes && e < 60 * A.tp() * 1e3);
                    }),
                    (K.$p = function () {
                        return "number" == typeof A.durationBarHeight ? A.durationBarHeight : 4;
                    }),
                    (K.go = function () {
                        if (A.ta.eventHeight) return A.ta.eventHeight;
                        var e = A.Yg("_event_height").height;
                        return e || (e = A.eventHeight), (A.ta.eventHeight = e), e;
                    }),
                    (K.ye = function () {
                        if (A.ta.headerHeight) return A.ta.headerHeight;
                        var e = A.Yg("_header_height").height;
                        return e || (e = A.headerHeight), (A.ta.headerHeight = e), e;
                    }),
                    (K.Ks = function () {
                        if (A.ta.scrollLineHeight) return A.ta.scrollLineHeight;
                        var e = l();
                        (e.style.fontSize = "initial"), (e.style.display = "none"), s().appendChild(e);
                        var t = parseInt(window.getComputedStyle(e).fontSize) || 16;
                        return s().removeChild(e), (A.ta.scrollLineHeight = t), t;
                    }),
                    (K.Wl = function () {
                        return A.rowHeaderScrolling ? A.rowHeaderSplitterWidth : 1;
                    }),
                    (K.Cm = function () {
                        return "string" == typeof A.multiSelectRectangle ? A.multiSelectRectangle : "Disabled" === A.rectangleSelectHandling ? "Disabled" : A.rectangleSelectMode;
                    }),
                    (K.lv = function () {
                        return "string" == typeof A.multiSelectRectangle ? ("Free" === A.multiSelectRectangle || "Row" === A.multiSelectRectangle ? "EventSelect" : "Disabled") : A.rectangleSelectHandling;
                    }),
                    (K.Xp = function () {
                        return w(A.rowHeaderColumns).filter(function (e) {
                            return !e.hidden;
                        });
                    }),
                    (this.mv = {});
                var Q = this.mv;
                (Q._p = function (e) {
                    var t = {};
                    (t.top = 0), (t.height = 0);
                    for (var n = K.ye(), i = 0; i <= e; i++) {
                        var a = A.timeHeaders[i];
                        (t.top += t.height), (t.height = a.height || n);
                    }
                    return t;
                }),
                    (this.kp = function (e, t, n) {
                        n = n || "main";
                        var i = n + "_" + e + "_" + t,
                            a = A.Cl[n],
                            r = a.rowlist;
                        if (A.cellConfig) {
                            i = e + "_" + t;
                            for (var o = 0, s = 0; s < A.resources.length; s++)
                                if (!A.resources[s].hidden) {
                                    if (o === t) {
                                        t = s;
                                        break;
                                    }
                                    o += 1;
                                }
                        }
                        if ((this.cellProperties || (this.cellProperties = {}), this.cellProperties[i])) return this.cellProperties[i];
                        if ((this.Nk && (this.cellProperties[i] = A.nv(e, t)), !this.cellProperties[i])) {
                            var l = r[t],
                                d = l.id,
                                c = l.start.getTime() - A.Ob().getTime(),
                                u = A.Am(e),
                                h = u.start.addTime(c),
                                f = u.end.addTime(c),
                                v = {};
                            (v.start = h), (v.end = f), (v.resource = d);
                            var p = {};
                            (p.business = A.isBusiness(v)), l.cellsDisabled && ((A.om.zq = !0), (p.disabled = !0)), (this.cellProperties[i] = p);
                        }
                        return this.cellProperties[i];
                    }),
                    (this.ov = function (e, t, n) {
                        var i = t + "_" + n;
                        return (this.cellProperties[i] = {}), p(e, this.cellProperties[i], A.Su), this.cellProperties[i];
                    }),
                    (this.nv = function (e, t) {
                        if (!this.cellConfig) return null;
                        var n = this.cellConfig,
                            i = this.cellProperties[e + "_" + t];
                        !i && n.vertical && (i = this.cellProperties[e + "_0"]), !i && n.horizontal && (i = this.cellProperties["0_" + t]), !i && n["default"] && (i = n["default"]);
                        var a = {};
                        return p(i, a, A.Su), a;
                    }),
                    (this.mb = function () {
                        if (!this.Nk && !this.Ok && ((this.Ok = !0), this.cellConfig)) {
                            var e = this.cellConfig;
                            if (e.vertical)
                                for (var t = 0; t < e.x; t++) {
                                    var n = this.cellProperties[t + "_0"];
                                    if (n) for (var i = 1; i < e.y; i++) this.ov(n, t, i);
                                }
                            if (e.horizontal)
                                for (var i = 0; i < e.y; i++) {
                                    var n = this.cellProperties["0_" + i];
                                    if (n) for (var t = 1; t < e.x; t++) this.ov(n, t, i);
                                }
                            if (e["default"]) for (var n = e["default"], i = 0; i < e.y; i++) for (var t = 0; t < e.x; t++) this.cellProperties[t + "_" + i] || this.ov(n, t, i);
                        }
                    }),
                    (this.isBusiness = function (e, t) {
                        var n = e.start,
                            i = e.end,
                            a = (i.getTime() - n.getTime()) / 6e4;
                        if (a <= 1440 && !(A.businessWeekends || t || (0 !== e.start.dayOfWeek() && 6 !== e.start.dayOfWeek()))) return !1;
                        if (a < 720) {
                            var r = n.getHours();
                            (r += n.getMinutes() / 60), (r += n.getSeconds() / 3600), (r += n.getMilliseconds() / 36e5);
                            var o = this.businessBeginsHour,
                                s = this.businessEndsHour;
                            if ((0 === s && (s = 24), o === s)) return !1;
                            if (!(o < s)) return r < s || r >= o;
                            if (r < o) return !1;
                            if (s >= 24) return !0;
                            if (r >= s) return !1;
                        }
                        return !0;
                    }),
                    (this.Pe = function () {
                        switch (A.Aa) {
                            case "aspnet":
                                if (!this.Oa()) throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");
                                break;
                            case "netmvc":
                                if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");
                                break;
                            case "javaxx":
                                if (!this.backendUrl) throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/");
                        }
                    }),
                    (this.D = function () {
                        "hidden" === this.nav.top.style.visibility && (this.nav.top.style.visibility = "visible");
                    }),
                    (this.fg = function () {
                        var e = A.nav.top;
                        return !!e && e.offsetWidth > 0 && e.offsetHeight > 0;
                    }),
                    (this.gg = function () {
                        var e = A.fg;
                        return e()
                            ? void A.hg()
                            : void (
                                  A.Pa ||
                                  (A.Pa = setInterval(function () {
                                      e() && (clearInterval(A.Pa), A.show(), A.Gq(), A.hg());
                                  }, 100))
                              );
                    }),
                    (this.pv = function (e) {
                        "Parent100Pct" !== this.heightSpec && (this.heightSpec = "Fixed"), (this.height = e - (this.Xl() + 2)), this.vb();
                    }),
                    (this.setHeight = this.pv),
                    (this.Gl = function (e) {
                        return A.kr(e).first();
                    }),
                    (this.jh = function () {
                        if (this.id && this.id.tagName) this.nav.top = this.id;
                        else {
                            if ("string" != typeof this.id) throw new DayPilot.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");
                            if (((this.nav.top = document.getElementById(this.id)), !this.nav.top)) throw new DayPilot.Exception("DayPilot.Scheduler: The placeholder element not found: '" + t + "'.");
                        }
                    }),
                    (this.qv = function () {
                        (this.rowHeaderColumnsMode = "Legacy"), this.Vg(), this.al(), this.bl(), this.Zm(), this.Bb(), this.lg(), this.$a(), i.lh(this), this.ib(this.afterRenderData, !1), this.et(), this.Db(), this.Ja("Init");
                    }),
                    (this.init = function () {
                        if (this.ya) throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");
                        if ((this.jh(), this.nav.top.dp)) {
                            if (this.nav.top.dp === A) return A;
                            if (this.Oa()) return A;
                            throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.");
                        }
                        return this._s(), this.rv(), this.gg(), this.sv(), this;
                    }),
                    (this.sv = function () {
                        A.keyboardEnabled && Z.kv();
                    }),
                    (this.tv = function () {
                        A.multiselect.ml(A.selectedEvents);
                    }),
                    (this.rv = function () {
                        if ((this.Um(), this.ih())) return this.qv(), (this.ya = !0), void this.Da();
                        this.lg(), this.$a(), i.lh(this), this.et(), this.tv(), A.zoomLevels && A.zoomLevels[A.zoom.active] && A.zoom.setActive(A.zoom.active), !A.ya && M.nm() && (A.Al || (A.Al = { date: A.startDate })), this.Ad();
                        var angular = A.Tg.scope || A.zl.enabled;
                        A.scrollToDate ? A.scrollTo(A.scrollToDate) : A.scrollX || A.scrollY ? A.setScroll(A.scrollX, A.scrollY) : angular || A.vl(),
                            A.scrollToResourceId && (A.scrollToResource(A.scrollToResourceId), (A.scrollToResourceId = null));
                        var e = function () {
                            A.scrollY && A.setScroll(A.scrollX, A.scrollY);
                        };
                        window.setTimeout(e, 200),
                            this.messageHTML &&
                                window.setTimeout(function () {
                                    A.message(A.messageHTML);
                                }, 0),
                            this.Db(),
                            this.Da(),
                            this.ib(this.afterRenderData, !1),
                            A.initEventEnabled &&
                                setTimeout(function () {
                                    A.Ja("Init");
                                }),
                            this.mh(),
                            (this.ya = !0),
                            (this.uv = !0);
                        var t = A.Al;
                        t ? A.scrollTo(t.date, t.animated, t.position) : A.vl(), (A.Al = null);
                    }),
                    (this.at = function () {
                        A.ja() && delete A.infinite;
                    }),
                    (this.nh = null),
                    (this.Xg = function (e) {
                        if (e) {
                            var t = {
                                resources: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (A.resources = e);
                                    },
                                },
                                events: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (_(e.list) ? (A.events.list = e.list) : (A.events.list = e));
                                    },
                                    postInit: function () {},
                                },
                                links: {
                                    preInit: function () {
                                        var e = this.data;
                                        e && (_(e.list) ? (A.links.list = e.list) : (A.links.list = e));
                                    },
                                    postInit: function () {},
                                },
                                scrollTo: {
                                    preInit: function () {},
                                    postInit: function () {
                                        this.data && A.yl(this.data, e.scrollToAnimated, e.scrollToPosition);
                                    },
                                },
                                scrollX: {
                                    postInit: function () {
                                        this.data && A.El(this.data);
                                    },
                                },
                                scrollY: {
                                    postInit: function () {
                                        this.data && A.Tl(this.data);
                                    },
                                },
                                zoom: {
                                    preInit: function () {
                                        var e = this.data;
                                        if ("string" == typeof e) {
                                            var t = e;
                                            e = A.zoom.ed(t);
                                        }
                                        var n = e !== A.zoom.active,
                                            i = A.zoom.ek();
                                        A.zoom.gd(e, i);
                                        n ? (this.date = i) : (this.date = null);
                                    },
                                    postInit: function () {
                                        this.date && A.yl(this.date, !1, A.zoomPosition);
                                    },
                                },
                            };
                            (A.nh = t),
                                A.zl.scrollToRequested && ((t.scrollTo.data = A.zl.scrollToRequested), (A.zl.scrollToRequested = null)),
                                A.zl.scrollXRequested && ((t.scrollX.data = A.zl.scrollXRequested), (A.zl.scrollXRequested = null)),
                                A.zl.scrollYRequested && ((t.scrollY.data = A.zl.scrollYRequested), (A.zl.scrollYRequested = null));
                            for (var n in e) t[n] || (A[n] = e[n]);
                            for (var n in e)
                                if (t[n]) {
                                    var i = t[n];
                                    (i.data = e[n]), i.preInit && i.preInit();
                                }
                        }
                    }),
                    (this.mh = function () {
                        var e = A.nh;
                        for (var t in e) {
                            var n = e[t];
                            n.postInit && n.postInit();
                        }
                        A.nh = {};
                    }),
                    (this.diag = function () {
                        var e = {};
                        return (
                            (e.dataEvents = A.events.list && A.events.list.length),
                            (e.dataRows = A.rowlist && A.rowlist.length),
                            (e.dataTimeline = A.itline && A.itline.length),
                            (e.dataCells = e.dataTimeline * e.dataRows),
                            (e.renderedEvents = A.elements.events.length),
                            (e.renderedCells = A.elements.cells.length),
                            (e.renderedRows = A.divResScroll.firstChild.childNodes.length - 1),
                            (e.domEvents = A.divEvents.getElementsByTagName("*").length),
                            (e.domCells = A.divCells.getElementsByTagName("*").length),
                            (e.domRows = A.divResScroll.getElementsByTagName("*").length),
                            e
                        );
                    }),
                    (this.temp = {}),
                    (this.temp.allowDuplicateEventIds = !1),
                    (this.internal = {}),
                    (this.internal.initialized = function () {
                        return A.ya;
                    }),
                    (this.internal.dragInProgress = this.sg),
                    (this.internal.startMoving = this.$d),
                    (this.internal.invokeEvent = this.ec),
                    (this.internal.eventMenuClick = this.uc),
                    (this.internal.timeRangeMenuClick = this.vc),
                    (this.internal.resourceHeaderMenuClick = this.vn),
                    (this.internal.linkMenuClick = this.un),
                    (this.internal.bubbleCallBack = this.sc),
                    (this.internal.findEventDiv = this.Sg),
                    (this.internal.rowStartMoving = this.Fn.$d),
                    (this.internal.getNodeChildren = this.gb),
                    (this.internal.callback = function () {
                        A.Ja.apply(A, arguments);
                    }),
                    (this.internal.createRowObject = this.xn),
                    (this.internal.restools = this.Yr),
                    (this.internal.gantt = null),
                    (this.internal.adjustEndIn = A.aj),
                    (this.internal.adjustEndNormalize = A.Aj),
                    (this.internal.xssTextHtml = A.Ea),
                    (this.internal.touch = A.Je),
                    (this.internal.cssNames = A.Jt),
                    (this.internal.enableCellStacking = function (e) {
                        (A.Pk = !0), (A.Qk = e);
                    }),
                    (this.internal.deleteDragSource = function () {
                        A.qc();
                    }),
                    (this.internal.skipUpdate = A.zl.skipUpdate),
                    (this.internal.skipped = A.zl.skipped),
                    (this.internal.loadOptions = A.Xg),
                    (this.internal.postInit = A.mh),
                    (this.internal.enableAngular2 = function () {
                        A.zl.enabled = !0;
                    }),
                    (this.internal.eventsFromAttr = function () {
                        A.zl.$o = !0;
                    }),
                    (this.internal.resourcesFromAttr = function () {
                        A.zl.gp = !0;
                    }),
                    (this.internal.evImmediateRefresh = function () {
                        A.events.on();
                    }),
                    (this.internal.enableReact = function (e, t) {
                        (A.W.react = e), (A.W.reactDOM = t);
                    }),
                    (this.internal.reactRefs = function () {
                        return p(A.W, {}, ["react", "reactDOM"]);
                    }),
                    (this.internal.enableVue = function (e) {
                        A.Y.hp = e;
                    }),
                    (this.internal.vueRef = function () {
                        return A.Y.hp;
                    }),
                    (this.internal.vueRendering = function () {
                        return A.Y.ot;
                    }),
                    (this.Init = this.init),
                    this.Xg(o);
            }),
                (o = "2024.2.5916" === new DayPilot.Scheduler().v),
                (DayPilot.Row = function (e, t) {
                    if (!e) throw new DayPilot.Exception("No row object supplied when creating DayPilot.Row");
                    if (!t) throw new DayPilot.Exception("No parent control supplied when creating DayPilot.Row");
                    this.vv = {};
                    var n = this.vv;
                    (n.id = e.id), (n.name = e.name), (n.data = e.resource), (n.tags = e.tags);
                    var i = this;
                    (i.isRow = !0),
                        (i.menuType = "resource"),
                        (i.start = e.start),
                        (i.name = e.name),
                        (i.value = e.id),
                        (i.id = e.id),
                        (i.tags = e.tags),
                        (i.bubbleHtml = e.bubbleHtml),
                        (i.index = e.index),
                        (i.displayY = e.displayY),
                        (i.level = e.level),
                        (i.calendar = t),
                        (i.data = e.resource),
                        (i.grid = e.grid),
                        (i.kq = e),
                        (i.$ = {}),
                        (i.$.row = e),
                        (i.toJSON = function (e) {
                            var t = {};
                            return (t.start = this.start), (t.name = this.name), (t.value = this.value), (t.id = this.id), (t.index = this.index), t;
                        }),
                        (i.parent = function () {
                            return i.kq.Xr ? t.xn(i.kq.Xr) : null;
                        }),
                        (i.children = function () {
                            var e = w(i.$.row.children).map(function (e) {
                                return t.xn(t.rowlist[e]);
                            });
                            return (
                                (e.add = function (e) {
                                    var t = i.$.row.resource;
                                    t.children || (t.children = []), t.children.push(e);
                                }),
                                e
                            );
                        }),
                        (i.splitParent = function () {
                            return i.kq.split.parent ? t.xn(i.kq.split.parent) : null;
                        }),
                        (i.splitChildren = function () {
                            return (i.kq.split.list || []).map(function (e) {
                                return t.xn(e);
                            });
                        }),
                        (i.loaded = function () {
                            return i.kq.loaded;
                        }),
                        Object.defineProperty(i, "hidden", {
                            get: function () {
                                return i.kq.hidden;
                            },
                        }),
                        Object.defineProperty(i, "hiddenUsingFilter", {
                            get: function () {
                                return i.kq.ls;
                            },
                            set: function (e) {
                                (i.kq.ls = e), e || (i.kq.hidden = !i.kq.ms());
                            },
                        }),
                        (i.cells = {}),
                        (i.cells.all = function () {
                            for (var e = [], n = t.itline.length, a = i.index, r = 0; r < n; r++) {
                                var o = t.cells.findXy(r, a, i.grid);
                                e.push(o[0]);
                            }
                            return t.lp(e);
                        }),
                        (i.cells.forRange = function (e, n) {
                            var a = i,
                                r = a.start.getTime() - t.Ob().getTime();
                            (e = new DayPilot.Date(e)), (n = new DayPilot.Date(n));
                            var o = t.Ob().addTime(r),
                                s = t.Vd().addTime(r);
                            e < o && (e = o), n > s && (n = s);
                            var l = t.cells.find(e, i)[0],
                                d = t.cells.find(n.addTime(-1), i)[0];
                            if (!l) return null;
                            if (!d) return null;
                            if (l.y !== d.y) return null;
                            for (var c = l.y, u = [], h = l.x; h <= d.x; h++) u.push(t.cells.be(h, c, l.grid));
                            return t.lp(u);
                        }),
                        (i.cells.totalDuration = function (e) {
                            var t = i.cells.all();
                            return (
                                "function" == typeof e && (t = t.filter(e)),
                                new DayPilot.Duration(
                                    t
                                        .map(function (e) {
                                            return e.end.getTime() - e.start.getTime();
                                        })
                                        .reduce(function (e, t) {
                                            return e + t;
                                        }, 0)
                                )
                            );
                        }),
                        (i.events = {}),
                        (i.events.all = function () {
                            for (var e = w(), t = 0; t < i.kq.events.length; t++) e.push(i.kq.events[t]);
                            return e;
                        }),
                        (i.events.isEmpty = function () {
                            return 0 === i.kq.events.length;
                        }),
                        (i.events.forRange = function (e, t) {
                            return i.kq.events.forRange(e, t);
                        }),
                        (i.events.totalDuration = function () {
                            var e = 0;
                            return (
                                i.events.all().forEach(function (t) {
                                    e += t.part.end.getTime() - t.part.start.getTime();
                                }),
                                new DayPilot.Duration(e)
                            );
                        }),
                        (i.groups = {}),
                        (i.groups.collapseAll = function () {
                            for (var e = 0; e < i.kq.blocks.length; e++) {
                                new a(i.kq.blocks[e]).wv();
                            }
                            t.Im(), t.Jm([i.kq]), t.vb();
                        }),
                        (i.groups.expandAll = function () {
                            for (var e = 0; e < i.kq.blocks.length; e++) {
                                new a(i.kq.blocks[e]).xv();
                            }
                            t.Im(), t.Jm([i.kq]), t.vb(), t.zb();
                        }),
                        (i.groups.expanded = function () {
                            for (var e = [], n = 0; n < i.kq.blocks.length; n++) {
                                var r = i.kq.blocks[n];
                                r.expanded && r.lines.length > t.groupConcurrentEventsLimit && e.push(new a(r));
                            }
                            return w(e);
                        }),
                        (i.groups.collapsed = function () {
                            for (var e = [], t = 0; t < i.kq.blocks.length; t++) {
                                var n = i.kq.blocks[t];
                                n.expanded || e.push(new a(n));
                            }
                            return w(e);
                        }),
                        (i.groups.all = function () {
                            for (var e = [], t = 0; t < i.kq.blocks.length; t++) {
                                var n = i.kq.blocks[t];
                                e.push(new a(n));
                            }
                            return w(e);
                        }),
                        (i.events.collapseGroups = i.groups.collapseAll),
                        (i.events.expandGroups = i.groups.expandAll),
                        (i.column = function (e) {
                            return new r(i, e);
                        }),
                        (i.toggle = function () {
                            t.Jp(i.index);
                        }),
                        (i.collapse = function () {
                            i.$.row.expanded && i.toggle();
                        }),
                        (i.expand = function () {
                            i.$.row.expanded || i.toggle();
                        }),
                        (i.remove = function () {
                            t.rows.remove(i);
                        }),
                        (i.edit = function () {
                            t.rows.edit(i);
                        }),
                        (i.addClass = function (e) {
                            var n = i,
                                a = t.divHeader,
                                n = a.rows[n.index];
                            if (n) {
                                u(
                                    w(n.cells).map(function (e) {
                                        return e.cellDiv;
                                    }),
                                    e
                                );
                            }
                            (i.$.row.cssClass = DayPilot.Util.addClassToString(i.$.row.cssClass, e)), (i.data.cssClass = e);
                        }),
                        (i.removeClass = function (e) {
                            var n = i,
                                a = t.divHeader,
                                n = a.rows[n.index];
                            if (n) {
                                c(
                                    w(n.cells).map(function (e) {
                                        return e.cellDiv;
                                    }),
                                    e
                                );
                            }
                            (i.$.row.cssClass = DayPilot.Util.removeClassFromString(i.$.row.cssClass, e)), (i.data.cssClass = DayPilot.Util.removeClassFromString(i.data.cssClass, e));
                        });
                    var a = function (e) {
                            var n = function (e) {
                                for (var n = 0; n < t.elements.events.length; n++) {
                                    var i = t.elements.events[n];
                                    if (i.event === e) return i;
                                }
                                return null;
                            };
                            (this.xv = function () {
                                e.expanded = !0;
                                var i = t.or;
                                w(e.events).forEach(function (e) {
                                    i.push(e.id());
                                });
                                var a = n(e);
                                if (a) {
                                    t.pt(a);
                                    var r = C(t.elements.events, a);
                                    r !== -1 && t.elements.events.splice(r, 1);
                                }
                            }),
                                (this.expand = function () {
                                    this.xv(), t.Im(), t.Jm([e.row]), t.vb(), t.zb();
                                }),
                                (this.wv = function () {
                                    if (e.lines.length > t.groupConcurrentEventsLimit) {
                                        e.expanded = !1;
                                        var n = w(e.events).map(function (e) {
                                            return e.id();
                                        });
                                        t.or = t.or.filter(function (e) {
                                            return !x(n, e);
                                        });
                                    }
                                }),
                                (this.collapse = function () {
                                    this.wv(), t.Im(), t.Jm([e.row]), t.vb();
                                });
                        },
                        r = function (e, t) {
                            this.html = function (e) {
                                var n = i.calendar.divHeader,
                                    i = n.rows[i.index];
                                if (!i) throw new DayPilot.Exception("Row not rendered");
                                var a = i.cells[t],
                                    r = a.textDiv;
                                return "undefined" == typeof e ? r.innerHTML : void (r.innerHTML = e);
                            };
                        };
                }),
                (i.ym = null),
                (i.qp = null),
                (i.Kf = null),
                (i.vp = null),
                (i.Np = null),
                (i.xm = !1),
                (i.mg = !1),
                (i.Wt = null),
                (i.yv = null),
                (i.zv = function (e, t, n, a) {
                    DayPilot.us(e);
                    var r = (i.wq = {});
                    return (r.element = e), (r.duration = t), (r.text = a), (r.id = n), (r.data = { id: n, text: a, duration: t, externalHtml: a }), !1;
                }),
                (DayPilot.Scheduler.def = {}),
                (DayPilot.Scheduler.startDragging = function (e) {
                    var e = e || {},
                        t = e.element,
                        n = e.keepElement ? null : t;
                    DayPilot.us(t);
                    var a = (i.wq = {});
                    return (a.element = n), (a.id = e.id), (a.duration = e.duration || 60), (a.text = e.text || ""), (a.data = e), (a.Lf = e), (a.Mf = e.data), !1;
                }),
                (DayPilot.Scheduler.makeDraggable = function (e) {
                    function t() {
                        var t = (i.wq = {});
                        (t.element = a), (t.id = o), (t.duration = l), (t.text = s), (t.data = e), (t.Lf = e), (t.Mf = e.data);
                    }
                    e = e || {};
                    var n = e.element,
                        a = e.keepElement ? null : e.remove || n,
                        r = e.data || {},
                        o = "undefined" != typeof e.id ? e.id : r.id,
                        s = "string" == typeof e.text ? e.text : r.text || "",
                        l = e.duration || r.duration;
                    if ((l instanceof DayPilot.Duration && (l = l.totalSeconds()), l || (l = r.start && r.end ? new DayPilot.Duration(r.start, r.end).totalSeconds() : 60), !n))
                        throw new DayPilot.Exception("makeDraggable(options): options.element must be specified");
                    DayPilot.us(n),
                        DayPilot.re(n, "mousedown", function (e) {
                            if (y(e).left) {
                                t();
                                var n = e.target || e.srcElement;
                                if (n.tagName) {
                                    var i = n.tagName.toLowerCase();
                                    if ("textarea" === i || "select" === i || "input" === i) return !1;
                                }
                                return e.preventDefault(), !1;
                            }
                        }),
                        DayPilot.reNonPassive(n, "touchstart", function (e) {
                            window.setTimeout(function () {
                                t(), i.pg(e), e.preventDefault();
                            }, 0),
                                e.preventDefault();
                        });
                }),
                (DayPilot.Scheduler.stopDragging = function () {
                    if (i.wq && i.wq.iu) {
                        var e = i.wq.iu,
                            t = e.event.calendar;
                        t && c(e, t.ca(n.Jt.eventMovingSource));
                    }
                    if ((i.Av(), i.vp && (k(i.Mp), (i.vp = null), (i.Np = null), (i.Mp = null)), i.ym)) {
                        var n = i.qp.calendar;
                        n && (n.pc(), (n.db = null), c(i.ym, n.ca(n.Jt.eventMovingSource))), k(i.rq), (i.ym = null), (i.qp = null), (i.rq = null);
                    }
                    if (i.wp) {
                        var n = i.wp.calendar;
                        n.clearSelection(), (i.wp = null);
                    }
                    (s().style.cursor = ""),
                        w(i.Hf).forEach(function (e) {
                            e.cb(), e.Aq(), e.Fn.Lr(), e.oq.clear();
                        });
                }),
                (DayPilot.Scheduler.registerDropTarget = function (e) {
                    e = e || {};
                    var t = e.element,
                        n = e.onDragOver,
                        a = "function" == typeof n,
                        r = e.onDrop,
                        o = "function" == typeof r,
                        s = e.onDragLeave,
                        l = "function" == typeof s;
                    if (!t) throw new DayPilot.Exception("registerDropTarget(options): options.element must be specified");
                    t.addEventListener("mousemove", function (e) {
                        if (i.wq) {
                            var t = i.wq.event;
                            if (t && a) {
                                var r = {};
                                (r.e = t), n(r);
                            }
                        }
                    }),
                        t.addEventListener("mouseleave", function (e) {
                            if (i.wq) {
                                var t = i.wq.event;
                                if (t && l) {
                                    var n = {};
                                    (n.e = t), s(n);
                                }
                            }
                        }),
                        t.addEventListener("mouseup", function (e) {
                            if (i.wq) {
                                var t = i.wq.event;
                                if (t && o) {
                                    var n = {};
                                    (n.e = t), r(n);
                                }
                            }
                        });
                }),
                (i.Av = function () {
                    i.hu && (s().removeChild(i.hu), (i.hu = null)), (i.wq = null);
                }),
                (i.Bv = function () {
                    var e = i.wq;
                    if (e) {
                        var t = e && e.Lf,
                            n = t && t.onDrop;
                        if ("function" == typeof n) {
                            var a = {};
                            (a.options = t), n(a);
                        }
                    }
                }),
                (i.lh = function (e) {
                    i.Hf ||
                        ((i.Hf = w()),
                        (i.Hf.out = function () {
                            i.Hf.forEach(function (e) {
                                e.ab();
                            });
                        }));
                    for (var t = 0; t < i.Hf.length; t++) if (i.Hf[t] === e) return;
                    i.Hf.push(e);
                }),
                (i.Za = function (e) {
                    var t = i.Hf;
                    if (t) {
                        var n = C(t, e);
                        n !== -1 && t.splice(n, 1), 0 === t.length && (t = null);
                    }
                    t ||
                        (DayPilot.ue(document, "mousemove", i.ng),
                        DayPilot.ue(document, "mouseup", i.og),
                        DayPilot.ue(document, "mousedown", i.ct),
                        DayPilot.ue(document, "touchmove", i.pg),
                        DayPilot.ue(document, "touchend", i.qg),
                        DayPilot.ue(window, "keyup", i.dt),
                        (i.mg = !1));
                }),
                (i.pg = function (e) {
                    if (i.vp) {
                        var a = i.vp.event.calendar;
                        (a.coords = a.Je.Cg(e)), a.Je.Gg();
                    }
                    if (i.ym && !i.wq) {
                        var a = i.qp.calendar;
                        (a.coords = a.Je.Cg(e)),
                            a.Je.Hg(),
                            (function () {
                                if (a.dragOutAllowed) {
                                    var n = t(e);
                                    if (!n || n !== a) {
                                        var r = i.qp;
                                        i.wq = {};
                                        var o = i.wq;
                                        (o.id = r.id()),
                                            (o.text = r.text()),
                                            (o.iu = i.ym),
                                            (o.element = null),
                                            (o.duration = (r.rawend().getTime() - r.start().getTime()) / 1e3),
                                            (o.text = r.text()),
                                            (o.id = r.id()),
                                            (o.event = p(r, new DayPilot.Event())),
                                            a.Aq(),
                                            k(i.rq),
                                            (i.rq.calendar = null),
                                            (i.rq = null),
                                            (i.up = null),
                                            i.Hf.out();
                                    }
                                }
                            })();
                    }
                    if (i.wq) {
                        var r = n(e),
                            a = t(e);
                        if (a) {
                            if ((i.hu && s().removeChild(i.hu), (i.hu = null), (a.coords = a.Je.Cg(e)), !i.rq && a.rowlist.length > 0)) {
                                if (!i.ym) {
                                    i.ym = {};
                                    var o = i.wq.event;
                                    if (!o) {
                                        var e = a.ju();
                                        (o = new DayPilot.Event(e)), (o.calendar = a), (o.part.duration = 1e3 * i.wq.duration);
                                    }
                                    o.part.external = !0;
                                    var l = i.wq.iu;
                                    l && l.event && l.event.calendar === a && (o.part.external = !1), (i.qp = o);
                                }
                                i.rq = a.Fb(i.qp);
                            }
                            i.ym && a.Je.Hg();
                        } else {
                            k(i.rq);
                            var d = i.ym;
                            (i.ym = null), (i.qp = null), (i.rq = null), i.hu || ((i.hu = i.Cv(i.wq.Lf)), (i.hu.source = d));
                            var c = i.hu;
                            (c.style.left = r.x + "px"), (c.style.top = r.y + "px"), i.Hf.out();
                        }
                    }
                }),
                (i.qg = function (e) {
                    (i.Is = !1), i.og(e);
                }),
                (i.ng = function (e) {
                    if ("undefined" != typeof i && !b.touch.active && !b.touch.start && !(e.insideMainD || (e.srcElement && e.srcElement.inside))) {
                        var t = DayPilot.mc(e);
                        if (i.wq) {
                            if (!i.wq.Dv) {
                                var n = i.wq.Lf || {},
                                    a = n.onDragStart,
                                    r = !1;
                                if ("function" == typeof a) {
                                    var o = {};
                                    (o.options = n),
                                        (o.preventDefault = function () {
                                            o.preventDefault.value = !0;
                                        }),
                                        a(o),
                                        (r = o.preventDefault.value);
                                }
                                if (((i.wq.Dv = !0), r)) return i.Bv(), void (i.wq = null);
                            }
                            (s().style.cursor = "move"), i.hu || (i.hu = i.Cv(i.wq.Lf));
                            var l = i.hu;
                            if (((l.style.left = t.x + "px"), (l.style.top = t.y + "px"), (i.ym = null), (i.qp = null), i.rq)) {
                                var d = i.rq.calendar;
                                d && d.Aq(), (i.rq.calendar = null), k(i.rq), (i.rq = null);
                            }
                        } else if (i.ym && i.qp && i.qp.calendar.dragOutAllowed && !i.wq) {
                            var d = i.qp.calendar,
                                e = i.qp;
                            (s().style.cursor = "move"), i.hu || ((i.hu = i.Cv(e.data)), (i.hu.source = i.ym));
                            var l = i.hu;
                            (l.style.left = t.x + "px"), (l.style.top = t.y + "px"), (i.wq = {});
                            var c = i.wq;
                            (c.iu = i.ym),
                                (c.element = null),
                                (c.duration = (e.rawend().getTime() - e.start().getTime()) / 1e3),
                                (c.text = e.text()),
                                (c.id = e.value()),
                                (c.event = p(e, new DayPilot.Event())),
                                d.Aq(),
                                k(i.rq),
                                (i.rq.calendar = null),
                                (i.rq = null);
                        }
                        if (i.Oq && 0 === e.buttons) {
                            i.Oq.cleanup(), (i.Oq = null);
                        }
                        i.Hf.out();
                    }
                }),
                (i.uh = function (e) {
                    if (i.Hf)
                        for (var t = 0; t < i.Hf.length; t++) {
                            var n = i.Hf[t];
                            i.Za(n);
                        }
                }),
                (i.ct = function (e) {
                    i.Uo && i.Uo.blur();
                }),
                (i.dt = function (e) {
                    if (("Control" === e.key || "Meta" === e.key) && i.Xt) {
                        i.Xt.Au.dispatch();
                    }
                }),
                (i.og = function (e) {
                    if (
                        (w(i.Hf).forEach(function (e) {
                            e.cb(), (e.ym = {}), (e.$t = null);
                        }),
                        i.vp)
                    ) {
                        var t = function () {
                            b.resizingAreaData = null;
                            var e = i.Np,
                                t = e.calendar;
                            (s().style.cursor = ""), (i.vp = null), (i.Np = null), k(i.Mp), (i.Mp = null), t && (t.au = null);
                        };
                        if (
                            (setTimeout(function () {
                                i.xm = !1;
                            }),
                            !i.Mp)
                        )
                            return void t();
                        var n = i.Np,
                            r = n.calendar,
                            o = i.Mp.finalStart,
                            l = i.Mp.finalEnd,
                            d = i.Mp.overlapping,
                            u = !i.Mp.allowed,
                            h = r.bq.isInvalid();
                        r.Aq(), r.bq.clear();
                        var f = "left" === i.vp.dpBorder ? "start" : "end";
                        if ((t(), d || u || h || r.bq.forbidden)) return;
                        r.jc(n, o, l, f);
                    } else if (i.qp) {
                        var t = function () {
                            b.movingAreaData = null;
                            var e = i.rq && i.rq.calendar;
                            i.rq && (k(i.rq), (i.rq.calendar = null)), (s().style.cursor = ""), (i.ym = null), (i.qp = null), i.Bv(), (i.wq = null), e && (e.db = null);
                        };
                        if (
                            (setTimeout(function () {
                                i.xm = !1;
                            }),
                            !i.rq)
                        )
                            return void t();
                        var v = i.wq && i.wq.iu,
                            n = v ? v.event : i.qp,
                            r = i.rq.calendar;
                        if (!r) return void t();
                        if (n.calendar && n.calendar !== r) {
                            var m = n.calendar,
                                g = n,
                                x = p(n.data);
                            (n = new DayPilot.Event(x, m)), (n.part = { external: !0, duration: m.zp(g) });
                        }
                        if (
                            ((i.rq.source = i.ym),
                            (function () {
                                if (i.wq && i.wq.iu) {
                                    var e = i.wq.iu;
                                    if (e && e.event) {
                                        c(e, e.event.calendar.ca(r.Jt.eventMovingSource));
                                    }
                                }
                            })(),
                            !i.rq.row)
                        )
                            return void t();
                        clearTimeout(r.Hp.timeout);
                        var o = i.rq.start,
                            l = i.rq.end,
                            C = "Days" !== r.viewType ? i.rq.row.id : null,
                            _ = n.part.external,
                            E = i.rq.line,
                            d = i.rq.overlapping,
                            u = !i.rq.allowed;
                        if ((i.wq && (r.wl || (r.wl = {}), (r.wl.xl = i.wq.element), i.Bv(), (i.wq = null)), (i.rq.calendar = null), (s().style.cursor = ""), (i.ym = null), (i.qp = null), d || u || r.oq.forbidden || r.oq.invalid))
                            return void r.pc();
                        r.oc(n, o, l, C, _, e, E), (b.movingAreaData = null);
                    } else if (i.wp) {
                        var S = y(e),
                            A = i.wp,
                            H = A.moved,
                            r = A.calendar,
                            t = function () {};
                        r.xu = null;
                        var M = e.ctrlKey || e.metaKey;
                        if (r.allowMultiRange && r.elements.range2) return r.elements.range2.overlapping ? (k(r.elements.range2), (r.elements.range2 = null), r.Aq()) : r.Au.add(A), (i.wp = null), M || (S.left && r.Au.dispatch()), void t();
                        if (i.Wt) return clearTimeout(i.Wt), (i.Wt = null), void t();
                        (r.sn = A), (i.wp = null);
                        var R = function (e) {
                                return function () {
                                    i.Wt = null;
                                    var t = r.elements.range2;
                                    if (t && t.overlapping) return void r.clearSelection();
                                    var n = H ? "drag" : "click";
                                    r.pn(e, n);
                                };
                            },
                            B = r.yu(A);
                        if ((t(), !S.left)) return void (i.Wt = null);
                        if (A.moved || "Disabled" === r.timeRangeDoubleClickHandling) return R(B)(), (e.cancelBubble = !0), !1;
                        i.Wt = setTimeout(R(B), r.doubleClickTimeout);
                    } else if (D.row) {
                        var r = D.calendar;
                        r && r.Kr();
                    } else if (T.source) {
                        var r = T.calendar;
                        r.io.ij(), r.io.$m(), (T.source = null), (T.calendar = null);
                    } else if (i.Oq) {
                        var P = i.Oq;
                        P.cleanup(), (i.Oq = null);
                    } else if (i.Zt) {
                        var N = i.Zt,
                            r = N.calendar;
                        if (!N.moved) {
                            i.Zt = null;
                            var I = r.Ml.Nl(N.start.x, N.start.y, 1, 1).map(function (e) {
                                    return e.event;
                                }),
                                L = I.length > 0;
                            return void (r.Gc(r.coords) || L || r.Bu(e));
                        }
                        var z = N.x,
                            O = N.y,
                            U = N.width,
                            j = N.height,
                            W = !1,
                            I = r.Ml.Nl(z, O, U, j).map(function (e) {
                                return e.event;
                            }),
                            F = function () {
                                setTimeout(function () {
                                    r.lu.clear(), (i.Zt = null), r.cb();
                                }, 0),
                                    r.Aq();
                            };
                        if ("function" == typeof r.onRectangleEventSelect || "function" == typeof r.onRectangleSelect) {
                            var q = r.Tn(O).i,
                                Y = r.Tn(O + j).i,
                                J = { start: { y: q }, end: { y: Y } },
                                G = r.Pn(J),
                                V = {};
                            if (
                                ((V.events = I),
                                (V.append = !1),
                                (V.start = r.getDate(z, !0)),
                                (V.end = r.getDate(z + U, !0)),
                                (V.resources = G),
                                (V.preventDefault = function () {
                                    this.preventDefault.value = !0;
                                }),
                                "function" == typeof r.onRectangleEventSelect && r.onRectangleEventSelect(V),
                                "function" == typeof r.onRectangleSelect && r.onRectangleSelect(V),
                                V.preventDefault.value)
                            )
                                return r.lu.clear(), (i.Zt = null), void F();
                            W = V.append;
                        }
                        if (
                            ("EventSelect" === r.Ga.lv() &&
                                (W || r.multiselect.clear(!0),
                                I.forEach(function (e) {
                                    r.multiselect.add(e, !0);
                                }),
                                r.multiselect.redraw()),
                            F(),
                            "function" == typeof r.onRectangleEventSelected || "function" == typeof r.onRectangleSelected)
                        ) {
                            var V = {};
                            (V.events = I), "function" == typeof r.onRectangleEventSelected && r.onRectangleEventSelected(V), "function" == typeof r.onRectangleSelected && r.onRectangleSelected(V);
                        }
                    }
                    if ((i.wq && (i.wq.event && i.wq.event.part && delete i.wq.event.part.external, i.Bv(), (i.wq = null), (s().style.cursor = "")), i.hu)) {
                        if (i.hu.source) {
                            var v = i.hu.source;
                            if (v.event) {
                                var r = i.hu.source.event.calendar;
                                c(i.hu.source, r.ca(r.Jt.eventMovingSource));
                            } else a();
                        }
                        s().removeChild(i.hu), (i.hu = null);
                    }
                    (i.pp = null), (i.up = null);
                }),
                (i.Cv = function (e) {
                    e = e || {};
                    var t = document.createElement("div");
                    return (
                        t.setAttribute("unselectable", "on"),
                        (t.style.position = "absolute"),
                        (t.style.width = "100px"),
                        (t.style.height = "20px"),
                        (t.style.zIndex = 101),
                        (t.style.pointerEvents = "none"),
                        (t.style.backgroundColor = "#aaaaaa"),
                        (t.style.opacity = 0.5),
                        (t.style.overflow = "hidden"),
                        (t.className = e.externalCssClass),
                        e.externalHtml && (t.innerHTML = e.externalHtml),
                        s().appendChild(t),
                        t
                    );
                });
            var D = {};
            b.rowmoving = D;
            var T = {};
            (b.linking = T),
                "undefined" != typeof jQuery &&
                    !(function (e) {
                        e.fn.daypilotScheduler = function (e) {
                            var t = null,
                                n = this.each(function () {
                                    if (!this.daypilot) {
                                        var n = new DayPilot.Scheduler(this.id || this, e);
                                        n.init(), (this.daypilot = n), t || (t = n);
                                    }
                                });
                            return 1 === this.length ? t : n;
                        };
                    })(jQuery),
                (function () {
                    var e = DayPilot.am();
                    e &&
                        e.directive("daypilotScheduler", [
                            "$parse",
                            function (e) {
                                return {
                                    restrict: "E",
                                    template: "<div id='{{id}}'></div>",
                                    compile: function (t, n) {
                                        return (
                                            t[0].removeAttribute("id"),
                                            (t[0].innerHTML = this["template"].replace("{{id}}", n["id"])),
                                            function (t, n, i) {
                                                var a = new DayPilot.Scheduler(n[0].firstChild);
                                                a.Tg.scope = t;
                                                var r = i["id"];
                                                r && (t[r] = a);
                                                var o = i["publishAs"];
                                                if (o) {
                                                    (0, e(o).assign)(t, a);
                                                }
                                                for (var s in i)
                                                    if (0 === s.indexOf("on")) {
                                                        var l = DayPilot.Util.shouldApply(s);
                                                        l
                                                            ? !(function (n) {
                                                                  a[n] = function (a) {
                                                                      var r = e(i[n]);
                                                                      DayPilot.Util.safeApply(t, function () {
                                                                          r(t, { args: a });
                                                                      });
                                                                  };
                                                              })(s)
                                                            : !(function (n) {
                                                                  a[n] = function (a) {
                                                                      e(i[n])(t, { args: a });
                                                                  };
                                                              })(s);
                                                    }
                                                var d = t["$watch"],
                                                    c = i["config"] || i["daypilotConfig"],
                                                    u = i["events"] || i["daypilotEvents"];
                                                c || a.init(),
                                                    d.call(
                                                        t,
                                                        c,
                                                        function (e, t) {
                                                            a.Xg(e), a.ya ? (a.update(), a.mh()) : a.init();
                                                        },
                                                        !0
                                                    ),
                                                    u &&
                                                        d.call(
                                                            t,
                                                            u,
                                                            function (e) {
                                                                (a.events.list = e), a.Ad({ eventsOnly: !0 });
                                                            },
                                                            !0
                                                        ),
                                                    t.$on("$destroy", function () {
                                                        a.dispose();
                                                    });
                                            }
                                        );
                                    },
                                };
                            },
                        ]);
                })(),
                "undefined" != typeof Sys && Sys.Application && Sys.Application.notifyScriptLoaded && Sys.Application.notifyScriptLoaded();
        }
    })(DayPilot),
    "undefined" == typeof DayPilot)
)
    var DayPilot = {};
"undefined" == typeof DayPilot.Global && (DayPilot.Global = {}),
    (function (DayPilot) {
        "undefined" == typeof DayPilot.Year &&
            (DayPilot.Year = function (e, t) {
                this.v = "2024.2.5916";
                (this.startDate = new DayPilot.Date()),
                    (this.cssOnly = !0),
                    (this.cssClassPrefix = null),
                    (this.columns = 4),
                    (this.cellWidth = 20),
                    (this.showWeekNumbers = !1),
                    (this.Ev = []),
                    (this.Bj = function () {
                        (this.root.dp = this), (this.Yh = new DayPilot.Date(this.startDate.toString("yyyy-01-01", "en-us")));
                    }),
                    (this.ca = function (e) {
                        return this.cssClassPrefix ? this.cssClassPrefix + e : "";
                    }),
                    (this.Dj = function () {
                        return this.showWeekNumbers ? this.cellWidth : 0;
                    }),
                    (this.wo = function () {
                        this.Ev = [];
                        var e = this.columns,
                            t = 12 / e;
                        (this.root.className = this.ca("_main")), (this.root.style.width = e * (7 * this.cellWidth + this.Dj()) + "px");
                        for (var n = 0; n < t; n++) {
                            for (var i = 0; i < e; i++) {
                                var a = n * e + i,
                                    r = r + "_nav_" + a,
                                    o = document.createElement("div");
                                (o.id = r), (o.style.float = "left"), this.root.appendChild(o);
                                var s = new DayPilot.Navigator(r);
                                (s.startDate = this.Yh.addMonths(a)),
                                    (s.cssOnly = this.cssOnly),
                                    (s.cssClassPrefix = this.cssClassPrefix),
                                    (s.cellWidth = this.cellWidth),
                                    (s.showWeekNumbers = this.showWeekNumbers),
                                    (s.internal.showLinks = {}),
                                    (s.selectMode = "none"),
                                    (s.timeRangeSelectedHandling = "JavaScript"),
                                    (s.onTimeRangeSelected = this.Fv),
                                    s.init(),
                                    (s.root.className = ""),
                                    this.Ev.push(s);
                            }
                            var l = document.createElement("div");
                            (l.style.clear = "left"), this.root.appendChild(l);
                        }
                    }),
                    (this.Fv = function (e) {
                        alert("clicked: " + e.day);
                    }),
                    (this.init = function () {
                        if (((this.root = document.getElementById(e)), !this.root.dp)) return this.Bj(), this.wo(), this;
                    });
            });
    })(DayPilot);
!(function () {
    "undefined" != typeof module && (module.exports = { DayPilot: DayPilot });
})();
